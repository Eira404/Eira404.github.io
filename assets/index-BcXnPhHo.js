import{_ as V}from"./index.vue_vue_type_script_setup_true_lang-DGOEfTCQ.js";import{M as O}from"./index-BtPuK6hk.js";import{D as k,I as _,N as t,P as e,W as L,Y as a,Q as l,J as o,ak as H,b as z,ab as j,X as x,d as m,w as U,F as Y,G,K as J,a5 as M,a4 as N,a3 as C,$ as h,al as K,aa as Q,ac as W,am as X,O as E,an as Z,a2 as tt,a1 as S,ao as P,ap as R,aq as q,ar as et,as as lt,at as st,a0 as nt}from"./vendor-Cgv2NQ8W.js";import{u as b,f as A}from"./index-C0BRAMKf.js";import{_ as at}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./katex-S9ZM2IJj.js";import"./typescript-CUSX335q.js";import"./echarts-CyEgZDPw.js";import"./zrender-BMBjG4B0.js";const ot={class:"sticky top-0 z-10 w-full box-content"},rt={class:"h-14"},it={class:"w-[340px] fixed top-0 bottom-0 left-0 h-full"},ct={class:"pl-[340px] block"},ut={class:"flex w-full"},dt={style:{width:"calc(100% - 340px)"}},_t={class:"w-[340px]"},pt={style:{height:"calc(100vh - 56px)"},class:"sticky top-16"},ft=k({__name:"article",setup(g){return(u,y)=>(o(),_("div",null,[t("div",ot,[t("div",rt,[e(V)])]),t("div",it,[L(u.$slots,"left")]),t("main",ct,[t("div",ut,[t("div",dt,[L(u.$slots,"main")]),t("div",_t,[t("div",pt,[e(l(H),{height:"100%"},{default:a(()=>[L(u.$slots,"right")]),_:3})])])]),t("div",null,[e(O)])])]))}}),vt=["href","title"],mt=k({__name:"item",props:{data:{},active:{type:Boolean}},setup(g,{expose:u}){const s=["pl-0","pl-0","pl-4","pl-8","pl-12","pl-16","pl-20"][g.data.l]||"pl-20",d=z(null);return u({top:()=>d.value?d.value.offsetTop:0}),(r,c)=>(o(),_("a",{ref_key:"a",ref:d,href:r.data.a,class:j([[r.active?"text-moonlight-500":"",l(s)],"hover:text-moonlight-500 transition-all duration-150 cursor-pointer truncate py-1"]),title:r.data.n},x(r.data.n),11,vt))}}),ht={class:"flex flex-col relative p-12"},xt=k({__name:"index",setup(g){const i=b().article.rendererMdToc,s=z(""),d=z(-1),n=z([]),r=m(()=>d.value!==-1),c=m(()=>{if(r.value===!1)return 50;const v=n.value[d.value];return v?v.top()+4+2:50}),f=U(i,()=>{setTimeout(()=>{$(),p()},0)});let w=[];const $=()=>{w=Array.from(document.querySelectorAll(".markdown-body :is(h1,h2,h3,h4,h5,h6)[id]")).map(v=>v.childNodes[0]).filter(v=>v instanceof HTMLAnchorElement)},p=()=>{let v=null,I=-1;const T=90;w.forEach((B,F)=>{B.getBoundingClientRect().top<T&&(v=B,I=F)}),s.value=v!==null?v.getAttribute("href"):"",d.value=I};return Y(()=>{$(),p(),window.addEventListener("scroll",p)}),G(()=>{f(),window.removeEventListener("scroll",p)}),(v,I)=>(o(),_("div",ht,[I[0]||(I[0]=t("div",{class:"mb-4"},[t("span",null,"Content")],-1)),t("div",{class:"absolute w-[4px] h-[20px] bg-moonlight-500 transition-all duration-150 rounded-2xl pointer-none left-[30px]",style:J({top:c.value+"px",opacity:r.value?1:0})},null,4),(o(!0),_(M,null,N(l(i),(T,B)=>(o(),C(mt,{ref_for:!0,ref_key:"tocItemRefs",ref:n,key:B,data:T,active:T.a===s.value},null,8,["data","active"]))),128))]))}}),gt={class:"flex flex-col p-12 gap-4 cursor-default pb-0"},yt={class:"text-3xl text-center font-bold font-[kaiti,serif]"},kt={class:"text-lg flex gap-2 items-center justify-center font-bold font-[kaiti,serif]",title:"作者"},wt={class:"flex gap-4 items-center justify-center"},$t={class:"flex gap-1 items-center",title:"创建时间"},bt={class:"flex gap-1 items-center",title:"修改时间"},It=k({__name:"articleHeader",setup(g){const i=b().article.article;if(i.value===null)throw new Error("article is null");const s=m(()=>i.value.title),d=m(()=>i.value.author),n=m(()=>new Date(i.value.created)),r=m(()=>new Date(i.value.modified));return(c,f)=>(o(),_("div",gt,[t("div",yt,[t("span",null,x(s.value),1)]),t("div",kt,[e(l(h),null,{default:a(()=>[e(l(K))]),_:1}),t("span",null,x(d.value),1)]),t("div",wt,[t("div",$t,[e(l(h),null,{default:a(()=>[e(l(Q))]),_:1}),t("span",null,x(l(A)(n.value)),1)]),t("div",bt,[e(l(h),null,{default:a(()=>[e(l(W))]),_:1}),t("span",null,x(l(A)(r.value)),1)])])]))}}),Ct={},jt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 496 512"};function zt(g,u){return o(),_("svg",jt,u[0]||(u[0]=[t("path",{fill:"currentColor",d:"M245.8 214.9l-33.2 17.3c-9.4-19.6-25.2-20-27.4-20-22.2 0-33.3 14.6-33.3 43.9 0 23.5 9.2 43.8 33.3 43.8 14.4 0 24.6-7 30.5-21.3l30.6 15.5a73.2 73.2 0 01-65.1 39c-22.6 0-74-10.3-74-77 0-58.7 43-77 72.6-77 30.8-.1 52.7 11.9 66 35.8zm143 0l-32.7 17.3c-9.5-19.8-25.7-20-27.9-20-22.1 0-33.2 14.6-33.2 43.9 0 23.5 9.2 43.8 33.2 43.8 14.5 0 24.7-7 30.5-21.3l31 15.5c-2 3.8-21.3 39-65 39-22.7 0-74-9.9-74-77 0-58.7 43-77 72.6-77C354 179 376 191 389 214.8zM247.7 8C104.7 8 0 123 0 256c0 138.4 113.6 248 247.6 248C377.5 504 496 403 496 256 496 118 389.4 8 247.6 8zm.8 450.8c-112.5 0-203.7-93-203.7-202.8 0-105.5 85.5-203.3 203.8-203.3A201.7 201.7 0 01451.3 256c0 121.7-99.7 202.9-202.9 202.9z"},null,-1)]))}const Et=at(Ct,[["render",zt]]),Tt={class:"flex flex-col p-12 gap-8 cursor-default pt-0"},Bt={class:"flex flex-col gap-2 p-4 px-8 rounded-r-2xl border-l-4 border-elysia-500 bg-elysia-500/10 relative overflow-hidden"},Mt=["href"],Nt={class:"flex justify-between items-center"},Lt=k({__name:"articleFooter",setup(g){const u=X(),s=b().article.article;if(s.value===null)throw new Error("article is null");const d=m(()=>s.value.title),n=m(()=>s.value.author),r=m(()=>s.value.prev),c=m(()=>s.value.next),f=m(()=>window.location.protocol+"//"+window.location.host+u.path),w=()=>{window.scrollTo(0,0)};return($,p)=>{const v=E("router-link");return o(),_("div",Tt,[t("div",Bt,[t("div",null,[p[0]||(p[0]=t("span",null,"本文作者：",-1)),t("span",null,x(n.value),1)]),t("div",null,[p[1]||(p[1]=t("span",null,"本文题目：",-1)),t("span",null,x(d.value),1)]),t("div",null,[p[2]||(p[2]=t("span",null,"本文链接：",-1)),t("a",{href:f.value,target:"_blank"},x(decodeURIComponent(f.value)),9,Mt)]),p[3]||(p[3]=t("div",null,[t("span",null,"版权声明："),t("span",null,"本博客所有文章除特别声明外，均默认采用 CC BY-NC-SA 许可协议。")],-1)),e(Et,{class:"absolute -z-10 h-[120%] right-[-20px] top-1/2 -translate-y-1/2 text-elysia-500/80"})]),t("div",Nt,[t("div",{class:"flex justify-center items-center",onClick:w},[e(v,{to:{name:"article",params:{articlePath:r.value.path}},title:r.value.title,class:"px-[12px] py-[6px] flex justify-center items-center gap-2 border border-black/40 dark:border-white/40 rounded-lg hover:border-moonlight-500 transition-all duration-150 hover:text-moonlight-500"},{default:a(()=>[e(l(h),null,{default:a(()=>[e(l(Z))]),_:1}),p[4]||(p[4]=t("span",{class:"text-lg"},"Prev",-1))]),_:1,__:[4]},8,["to","title"])]),t("div",{class:"flex justify-center items-center",onClick:w},[e(v,{to:{name:"article",params:{articlePath:c.value.path}},title:c.value.title,class:"px-[12px] py-[6px] flex justify-center items-center gap-2 border border-black/40 dark:border-white/40 rounded-lg hover:border-moonlight-500 transition-all duration-150 hover:text-moonlight-500"},{default:a(()=>[p[5]||(p[5]=t("span",{class:"text-lg"},"Next",-1)),e(l(h),null,{default:a(()=>[e(l(tt))]),_:1})]),_:1,__:[5]},8,["to","title"])])])])}}}),Pt={class:"relative"},St={class:"markdown-body"},At=["innerHTML"],Dt=k({__name:"index",setup(g){const i=b().article.renderedMd;return(s,d)=>(o(),_("div",Pt,[e(It),t("div",St,[t("article",{innerHTML:l(i)},null,8,At)]),e(Lt)]))}}),Ht={class:"mb-4"},Rt={key:0,class:"flex items-center justify-between"},qt={class:"text-gray-600 dark:text-gray-400"},Ft={key:1,class:"flex items-center justify-between"},Vt={class:"text-gray-600 dark:text-gray-400"},Ot={class:"flex flex-col gap-2"},D=k({__name:"links",props:{in:{type:Boolean,default:!0}},setup(g){const u=g,y=b(),i=y.article,s=y.links,d=i.article;if(d.value===null)throw new Error("article is null");const n=m(()=>s.getLinks(d.value.id));if(n.value===void 0)throw new Error("links is undefined");const r=m(()=>n.value.out),c=m(()=>n.value.in),f=()=>{window.scrollTo(0,0)};return(w,$)=>{const p=E("router-link");return o(),_("div",null,[t("div",Ht,[u.in?(o(),_("div",Rt,[$[0]||($[0]=t("span",null,"链接当前笔记",-1)),t("span",qt,x(c.value.length),1)])):(o(),_("div",Ft,[$[1]||($[1]=t("span",null,"当前笔记中的链接",-1)),t("span",Vt,x(r.value.length),1)]))]),t("div",Ot,[(o(!0),_(M,null,N(u.in?c.value:r.value,(v,I)=>(o(),_("div",{key:I,class:"text-sm text-gray-600 dark:text-gray-400 hover:text-moonlight-500 transition-all duration-150",onClick:f},[e(p,{to:v.path,class:"w-full flex items-center gap-2"},{default:a(()=>[e(l(h),null,{default:a(()=>[e(l(P))]),_:1}),S(" "+x(v.title),1)]),_:2},1032,["to"])]))),128))])])}}}),Ut={class:"mb-4"},Yt={class:"flex items-center justify-between"},Gt={class:"text-gray-600 dark:text-gray-400"},Jt={class:"flex flex-col gap-2"},Kt=k({__name:"tags",setup(g){const i=b().article.article;if(i.value===null)throw new Error("article is null");const s=m(()=>i.value.tags);return(d,n)=>{const r=E("router-link");return o(),_("div",null,[t("div",Ut,[t("div",Yt,[n[0]||(n[0]=t("span",null,"当前笔记的标签",-1)),t("span",Gt,x(s.value.length),1)])]),t("div",Jt,[(o(!0),_(M,null,N(s.value,(c,f)=>(o(),_("div",{key:f,class:"text-sm text-gray-600 dark:text-gray-400 hover:text-moonlight-500 transition-all duration-150"},[e(r,{to:{name:"tags",query:{tag:c.tag}},class:"w-full flex items-center gap-2"},{default:a(()=>[e(l(h),null,{default:a(()=>[e(l(R))]),_:1}),S(" "+x(c.tag),1)]),_:2},1032,["to"])]))),128))])])}}}),Qt={class:"mb-4"},Wt={class:"flex items-center justify-between"},Xt={class:"text-gray-600 dark:text-gray-400"},Zt={class:"flex flex-col gap-2"},te=k({__name:"categories",setup(g){const i=b().article.article;if(i.value===null)throw new Error("article is null");const s=m(()=>i.value.categories),d=m(()=>{const n=[];let r="";const c=f=>{r+=f.category+"/",n.push({category:f.category,path:r}),f.child&&c(f.child)};return c(s.value),n[n.length-1].path=n[n.length-1].path.slice(0,-1),n});return(n,r)=>{const c=E("router-link");return o(),_("div",null,[t("div",Qt,[t("div",Wt,[r[0]||(r[0]=t("span",null,"当前笔记的分类",-1)),t("span",Xt,x(d.value.length),1)])]),t("div",Zt,[(o(!0),_(M,null,N(d.value,(f,w)=>(o(),_("div",{key:w,class:"text-sm text-gray-600 dark:text-gray-400 hover:text-moonlight-500 transition-all duration-150"},[e(c,{to:{name:"categories",query:{category:f.path}},class:"w-full flex items-center gap-2"},{default:a(()=>[e(l(h),null,{default:a(()=>[e(l(q))]),_:1}),S(" "+x(f.category),1)]),_:2},1032,["to"])]))),128))])])}}}),ee={class:"pt-18 h-full"},le={class:"h-full"},se={class:"flex w-full items-center justify-center"},ne={class:"w-[24px] h-[24px] relative block"},ae={class:"w-[24px] h-[24px] relative block"},oe={class:"p-12 pt-8"},re=k({__name:"index",setup(g){if(b().article.article.value===null)throw new Error("文章不存在");const s=z("in");return(d,n)=>{const r=E("router-link");return o(),_("div",ee,[t("div",le,[t("div",se,[e(r,{class:"flex cursor-pointer items-center justify-center p-3 hover:text-moonlight-500 transition-all duration-150 ease-in-out",to:{name:"diagram"},title:"文章关系图谱"},{default:a(()=>[e(l(h),{size:24},{default:a(()=>[e(l(et))]),_:1})]),_:1}),t("div",{class:j(["flex cursor-pointer items-center justify-center p-3 hover:text-moonlight-500 transition-all duration-150 ease-in-out",{"text-moonlight-500":s.value==="in"}]),title:"反向链接",onClick:n[0]||(n[0]=c=>s.value="in")},[t("div",ne,[e(l(h),{size:24},{default:a(()=>[e(l(P))]),_:1}),e(l(h),{size:12,class:"!absolute left-[14px] bottom-[-2px]"},{default:a(()=>[e(l(lt))]),_:1})])],2),t("div",{class:j(["flex cursor-pointer relative items-center justify-center p-3 hover:text-moonlight-500 transition-all duration-150 ease-in-out",{"text-moonlight-500":s.value==="out"}]),title:"出链",onClick:n[1]||(n[1]=c=>s.value="out")},[t("div",ae,[e(l(h),{size:24},{default:a(()=>[e(l(P))]),_:1}),e(l(h),{size:12,class:"!absolute left-[14px] bottom-[-2px]"},{default:a(()=>[e(l(st))]),_:1})])],2),t("div",{class:j(["flex cursor-pointer relative items-center justify-center p-3 hover:text-moonlight-500 transition-all duration-150 ease-in-out",{"text-moonlight-500":s.value==="tags"}]),title:"标签",onClick:n[2]||(n[2]=c=>s.value="tags")},[e(l(h),{size:24},{default:a(()=>[e(l(R))]),_:1})],2),t("div",{class:j(["flex cursor-pointer relative items-center justify-center p-3 hover:text-moonlight-500 transition-all duration-150 ease-in-out",{"text-moonlight-500":s.value==="categories"}]),title:"分类",onClick:n[3]||(n[3]=c=>s.value="categories")},[e(l(h),{size:24},{default:a(()=>[e(l(q))]),_:1})],2)]),e(l(H),{height:"100%"},{default:a(()=>[t("div",oe,[s.value==="in"?(o(),C(D,{key:0,in:!0})):s.value==="out"?(o(),C(D,{key:1,in:!1})):s.value==="tags"?(o(),C(Kt,{key:2})):s.value==="categories"?(o(),C(te,{key:3})):nt("",!0)])]),_:1})])])}}}),xe=k({__name:"index",setup(g){return(u,y)=>(o(),C(ft,null,{left:a(()=>[e(re)]),main:a(()=>[e(Dt)]),right:a(()=>[e(xt)]),_:1}))}});export{xe as default};
