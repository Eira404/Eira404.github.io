const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DRdYFhuc.js","assets/index.vue_vue_type_script_setup_true_lang-K0RRpEp2.js","assets/vendor-CaMKibFP.js","assets/katex-BE-lP2O7.js","assets/vendor-DkC2A9Vi.css","assets/index-DiUNCHht.js","assets/index.vue_vue_type_script_setup_true_lang-CIS66YoZ.js","assets/echarts-Bz-baRhQ.js","assets/zrender-D2u50Vyc.js","assets/index-B0G2GZ3O.js","assets/default.vue_vue_type_script_setup_true_lang-BWxNHbdR.js","assets/index-Cdr7H6nI.js","assets/index-DPnDAIql.js","assets/index-C92x8Ojp.js","assets/AboutView-DfOBM_C4.js","assets/index-CpgXCAtE.js"])))=>i.map(i=>d[i]);
import{a as ge,c as _e,o as ye,E as V,b as ke,d as R,w as he,e as N,f as j,g as X,h as ve,i as ie,M as be,j as we,k as Ee,s as Se,l as xe,m as Le,H as I,n as Ce,t as Ae,p as Pe,x as de,q as Ie,u as Te,v as Me,y as De,z as je,A as $e,B as Re,C as Oe,D as Be,F as Ne,N as te,G as Fe,I as ze,J as Ge}from"./vendor-CaMKibFP.js";import{u as Ke,i as He,a as qe,b as Ye,c as Ue,d as Ve,e as We,f as Je}from"./echarts-Bz-baRhQ.js";import{M as Qe}from"./katex-BE-lP2O7.js";import"./zrender-D2u50Vyc.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function t(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(n){if(n.ep)return;n.ep=!0;const r=t(n);fetch(n.href,r)}})();const Xe=(i,e)=>{const t=i.__vccOpts||i;for(const[s,n]of e)t[s]=n;return t},Ze={};function et(i,e){const t=ge("router-view");return ye(),_e(t)}const tt=Xe(Ze,[["render",et]]),st="modulepreload",nt=function(i){return"/"+i},oe={},G=function(e,t,s){let n=Promise.resolve();if(t&&t.length>0){let h=function(u){return Promise.all(u.map(p=>Promise.resolve(p).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=o?.nonce||o?.getAttribute("nonce");n=h(t.map(u=>{if(u=nt(u),u in oe)return;oe[u]=!0;const p=u.endsWith(".css"),y=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${y}`))return;const b=document.createElement("link");if(b.rel=p?"stylesheet":st,p||(b.as="script"),b.crossOrigin="",b.href=u,c&&b.setAttribute("nonce",c),document.head.appendChild(b),p)return new Promise((z,O)=>{b.addEventListener("load",z),b.addEventListener("error",()=>O(new Error(`Unable to preload CSS for ${u}`)))})}))}function r(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return n.then(o=>{for(const c of o||[])c.status==="rejected"&&r(c.reason);return e().catch(r)})};class rt{static getQueryData(e,t){const s=[];return t.forEach(n=>{s.push([n,e.query[n]])}),s}static checkQueryData(e,t,s){return!1}__promises=[];__checkFunctions=[];__precheckFunctions=[];__postcheckFunctions=[];router;constructor(e){this.router=e}addCheck(e,t,s=0){const n={func:e,context:t,level:s};this.__checkFunctions.push(n),this.__checkFunctions.sort((r,o)=>r.level-o.level)}addPrecheck(e,t,s=0){const n={func:e,context:t,level:s};this.__precheckFunctions.push(n),this.__precheckFunctions.sort((r,o)=>r.level-o.level)}addPostcheck(e,t,s=0){const n={func:e,context:t,level:s};this.__postcheckFunctions.push(n),this.__postcheckFunctions.sort((r,o)=>r.level-o.level)}removeCheck(e,t){this.__checkFunctions=this.__checkFunctions.filter(s=>s.func!==e||s.context!==t)}removePrecheck(e,t){this.__precheckFunctions=this.__precheckFunctions.filter(s=>s.func!==e||s.context!==t)}removePostcheck(e,t){this.__postcheckFunctions=this.__postcheckFunctions.filter(s=>s.func!==e||s.context!==t)}addPromise(e){this.__promises.push(e)}async check(e,t,s){this.__checkFunctions.forEach(n=>{this.__promises.push(n.func.call(n.context,e,t))});try{const n=await Promise.all(this.__promises);for(let r=0;r<n.length;r++){const o=n[r];if(o)return this.__promises=[],s(o),!1}}catch(n){throw new Error("Error "+n)}return!0}precheck(e,t,s){const n=[];return this.__precheckFunctions.forEach(r=>{n.push(r.func.call(r.context,e,t))}),this.syncFuncCheck(n,s)}postcheck(e,t){this.__postcheckFunctions.forEach(s=>{s.func.call(s.context,e,t)}),this.__promises=[]}syncFuncCheck(e,t){for(let s=0;s<e.length;s++){const n=e[s];if(n){if(n[0]==="success")continue;if(n[0]==="redirect")return t(n[1]),!1}}return!0}}function se(i,e,t,s){switch(s=s||"default",s=s.toLocaleLowerCase(),e!=null&&window.localStorage.getItem(i)===null&&Y(i,e,s),s){case"default":return window.localStorage.getItem(i);case"json":return JSON.parse(window.localStorage.getItem(i)||"");default:throw new Error(`不可接受的type:${s}`)}}function Y(i,e,t){switch(t=t||"default",t=t.toLocaleLowerCase(),t){case"default":return window.localStorage.setItem(i,e);case"json":return window.localStorage.setItem(i,JSON.stringify(e).toString());default:throw new Error(`不可接受的type:${t}`)}}class it extends Map{capacity;deleteCallback;constructor(e,t){super(),this.capacity=e||100,this.deleteCallback=t||null}set(e,t){return this.has(e)?this.delete(e):this.size>=this.capacity&&this.delete(this.keys().next().value),super.set(e,t)}get(e){if(this.has(e)){const t=super.get(e);return super.delete(e),super.set(e,t),t}else return}delete(e){return this.deleteCallback&&this.has(e)&&this.deleteCallback(e,super.get(e)),super.delete(e)}}const ot={childrenEvent:!1};class ce extends V{selector;element;select;event;trigger;option;onEvent_;constructor(e,t,s,n,r,o){super(),this.selector=e,this.element=t,this.select=s,this.event=n,this.trigger=r,this.option=o||ot,this.onEvent_=this.onEvent.bind(this),this.element.addEventListener(this.event,this.onEvent_)}onEvent(e){e.target!==this.element&&!this.option.childrenEvent||(e.preventDefault(),this.selector.onEvent(this.element,this.event,this.select,e,this.trigger))}destroy(){this.element.removeEventListener(this.event,this.onEvent_)}}class ct extends V{selectList;root;destroyed=!1;map;observer;config;constructor(e,t,s){super();const n=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;this.selectList=e||[],this.root=t||document.body,this.map=new Map,this.observer=new n((r,o)=>{this.reselect(!1)}),this.config=s||{childList:!0,subtree:!0},this.observer.observe(this.root,this.config),this.select()}updateSelectList(e){this.selectList=e,this.reselect(!0)}destroy(){if(this.destroyed)return;this.destroyed=!0,Array.from(this.map.values()).forEach(t=>{t.forEach(s=>{s.destroy()})}),this.observer.disconnect(),this.map.clear(),this.removeAllListeners()}select(){setTimeout(()=>{this.destroyed||this.selectList.forEach(e=>{const t=e[0],s=e[1],n=e[2],r=e[3];Array.from(document.querySelectorAll(s)).forEach(c=>{const h=new ce(this,c,s,t,n,r);this.map.has(c)||this.map.set(c,[]),this.map.get(c)?.push(h)})})},0)}reselect(e=!1){setTimeout(()=>{if(this.destroyed)return;e===!0&&(Array.from(this.map.values()).forEach(o=>{o.forEach(c=>{c.destroy()})}),this.map.clear());const t=new Map,s=new Set;this.selectList.forEach(r=>{const o=r[0],c=r[1],h=r[2],u=r[3];Array.from(document.querySelectorAll(c)).forEach(y=>{if(s.add(y),this.map.has(y))return;const b=new ce(this,y,c,o,h,u);t.has(y)||t.set(y,[]),t.get(y).push(b)})}),this.map=new Map([...this.map,...t]),Array.from(this.map.keys()).forEach(r=>{(!document.contains(r)||!s.has(r))&&((this.map.get(r)||[]).forEach(c=>{c.destroy()}),this.map.delete(r))})},0)}onEvent(e,t,s,n,r){const o={element:e,event:t,select:s,e:n};this.emit(r,o)}}function ae(i,e,t){e=e||"error",t=t||(e==="error"?4e3:3e3),ke({message:i,type:e,duration:t})}function Z(i,e){function t(n){const r={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regExp","[object Undefined]":"undefined","[object Null]":"null","[object Object]":"object"};return n instanceof Element?"element":r[Object.prototype.toString.call(n)]||"unknown"}const s=t(i);if(s==="array"||s==="object"){e||(e=new WeakMap);const n=e.get(i);if(n)return n;if(s==="array"){const r=[];return i.forEach(o=>{r.push(Z(o,e))}),e.set(i,r),r}if(s==="object"){const r={};for(const o in i)if(Object.hasOwnProperty.call(i,o)){const c=i[o];r[o]=Z(c,e)}return e.set(i,r),r}}else return i}function as(i){const e=i.getFullYear(),t=(i.getMonth()+1).toString().padStart(2,"0"),s=i.getDate().toString().padStart(2,"0"),n=i.getHours().toString().padStart(2,"0"),r=i.getMinutes().toString().padStart(2,"0"),o=i.getSeconds().toString().padStart(2,"0");return`${e}-${t}-${s} ${n}:${r}:${o}`}function at(i){const e=new Map;return e.set("",!0),function(t=10){let s="";const n=t,r="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",o=r.length;for(;e.get(s)===!0;)for(let c=0;c<n;c++)s+=r.charAt(Math.floor(Math.random()*o));return e.set(s,!0),s}}class F{__elfland;constructor(e){this.__elfland=e,e.on("logout",this.logoutCallback,this)}is(e,t){return e.name===t}includes(e,t){return e.matched.find(s=>s.name===t)!==void 0}}class U extends F{static KEY="THEME";theme=R("light");constructor(e){super(e);let t=se(U.KEY,"light");t=t==="light"?"light":"dark",Y("THEME",t),this.theme.value=t,t==="dark"&&(document.documentElement.classList.add("dark"),this.__elfland.emit("theme-change","dark")),he(this.theme,s=>{s=s==="light"?"light":"dark",this.__elfland.emit("theme-change",s),s==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),Y(U.KEY,s)})}toggle(){this.theme.value=this.theme.value==="light"?"dark":"light"}logoutCallback(){}}class fe{__promise;__ee;__state=0;get state(){return this.__state}get promise(){return this.__promise}constructor(){this.__ee=new V,this.__promise=new Promise((e,t)=>{this.__ee.on("resolve",()=>{e()}),this.__ee.on("reject",()=>{t()})}),this.__state=1}resolve(){this.__ee.emit("resolve"),this.__state=2}reject(){this.__ee.emit("reject"),this.__state=3}}class lt extends F{__dataIsGotten=!1;__dataPromise=new fe;__data=null;get waitingDataGet(){return this.__dataPromise.promise}get data(){return this.__data}constructor(e){super(e),e.routerPromise.addCheck(this.check,this)}logoutCallback(){}async check(e,t){if(!this.__dataIsGotten)try{const n=await(await fetch("/data/RES.json")).json();this.__data=n,this.__dataPromise.resolve(),this.__dataIsGotten=!0}catch(s){console.error(s)}}}let ut=class me{category;child=null;constructor(e){this.category=e[0]||"未分组",e.shift(),e.length>0&&(this.child=new me(e))}},ht=class{tag;constructor(e){this.tag=e}},dt=class{id;title;path;constructor(e,t,s){this.id=e,this.title=t,this.path=s}},ft=class{id;title;titlePinYin;path;time;author;body;categories;tags;links;created;modified;prev;next;constructor(e,t){e=Z(e),this.id=e.id,this.title=e.title,this.titlePinYin=e.titlePinYin,this.path=e.path,this.time=e.time,this.author=e.author,this.body=e.body,this.created=new Date(e.created),this.modified=new Date(e.modified),this.categories=new ut(e.categories),this.tags=Array.from(new Set(e.tags)).map(n=>new ht(n)),this.links=e.links.map(n=>{const{id:r,path:o}=t.getIdAndPath(n);return new dt(r,n,o)});const s=t.getPrevAndNextById(e.id);this.prev=s.prev,this.next=s.next}};class mt extends F{__articlesIsGotten=!1;__articlesPromise=new fe;__id2article=N(new Map);__id2path=new Map;__path2id=new Map;__id2title=new Map;__title2id=new Map;__articles=j(()=>{const e=Array.from(this.__id2article.values());return e.sort((t,s)=>s.created.getTime()-t.created.getTime()),e});archivesSortMethodSelected=R("ByCreated");archivesSortMethodOptions=j(()=>["ByCreated","ByModified","ByTitlePinYin"]);__sortMethodIsAsc=N({ByCreated:!1,ByModified:!1,ByTitlePinYin:!0});archivesSortMethodIsAsc=j({get:()=>this.__sortMethodIsAsc[this.archivesSortMethodSelected.value],set:e=>{this.__sortMethodIsAsc[this.archivesSortMethodSelected.value]=e}});sortedArchives=j(()=>{const e=Array.from(this.__id2article.values());return e.sort((t,s)=>{switch(this.archivesSortMethodSelected.value){case"ByCreated":return this.archivesSortMethodIsAsc.value?t.created.getTime()-s.created.getTime():s.created.getTime()-t.created.getTime();case"ByModified":return this.archivesSortMethodIsAsc.value?t.modified.getTime()-s.modified.getTime():s.modified.getTime()-t.modified.getTime();case"ByTitlePinYin":return this.archivesSortMethodIsAsc.value?t.titlePinYin.localeCompare(s.titlePinYin):s.titlePinYin.localeCompare(t.titlePinYin)}}),e});get articles(){return this.__articles}get waitingDataGet(){return this.__articlesPromise.promise}constructor(e){super(e),e.routerPromise.addCheck(this.check,this)}logoutCallback(){}async check(e,t){if(!this.__articlesIsGotten)try{await this.__elfland.data.waitingDataGet;const s=this.__elfland.data.data;if(s===null)return;s.docs.forEach(n=>{this.__id2path.set(n.id,n.path),this.__path2id.set(n.path,n.id),this.__id2title.set(n.id,n.title),this.__title2id.set(n.title,n.id)}),s.docs.forEach(n=>{this.__id2article.set(n.id,new ft(n,this))}),this.__articlesIsGotten=!0,this.__articlesPromise.resolve()}catch(s){console.error(s)}}getIdAndPath(e){const t=this.__title2id.get(e)||-1,s=this.__id2path.get(t)||"";return{id:t,path:s}}getPrevAndNextById(e){const t=Array.from(this.__id2path.keys()),s=t.indexOf(e);if(s===-1)return{prev:{path:"",title:""},next:{path:"",title:""}};const n=s-1<0?t.length-1:s-1,r=s+1>=t.length?0:s+1,o=t[n],c=t[r],h={path:this.__id2path.get(o),title:this.__id2title.get(o)},u={path:this.__id2path.get(c),title:this.__id2title.get(c)};return{prev:h,next:u}}getArticleByPath(e){const t=this.__path2id.get(e);if(t===void 0)return null;const s=this.__id2article.get(t);return s===void 0?null:s}}class pt{id;path;title;in=[];out=[];constructor(e,t,s){this.id=e,this.path=t,this.title=s}}Ke([qe,Ye,Ue,Ve,We,Je]);class gt extends F{__linksIsGotten=!1;__linksData=new Map;__linksRenderData={nodes:[],links:[]};__chartElement=null;__myChart=null;__watchHandleTheme=null;__windowResizeFunc;constructor(e){super(e),e.routerPromise.addCheck(this.check,this),this.__windowResizeFunc=this.resize.bind(this)}logoutCallback(){}async check(e,t){if(!this.__linksIsGotten)try{await this.__elfland.articles.waitingDataGet;const s=this.__elfland.articles.articles.value;s.forEach(n=>{const r=new pt(n.id,n.path,n.title);this.__linksData.set(n.id,r),this.__linksRenderData.nodes.push({id:n.id.toString(),name:n.title,path:n.path,category:"A"})}),s.forEach(n=>{const r=this.__linksData.get(n.id);n.links.forEach(o=>{const c=this.__linksData.get(o.id);if(c){c.in.push(r),r.out.push(c);const h=Math.min(r.id,c.id),u=Math.max(r.id,c.id);this.__linksRenderData.links.push({source:h.toString(),target:u.toString()})}})}),this.__linksRenderData.links=this.__linksRenderData.links.filter((n,r,o)=>o.findIndex(c=>c.source===n.source&&c.target===n.target)===r),this.__linksIsGotten=!0}catch(s){console.error(s)}}getLinks(e){return this.__linksData.get(e)}render(e){this.__chartElement=e,this.__watchHandleTheme&&this.__watchHandleTheme.stop(),this.distory();const t=this.renderChart();return this.__watchHandleTheme=he(this.__elfland.theme.theme,s=>{this.__myChart&&(this.__myChart.dispose(),this.__myChart=null),this.renderChart()}),t}distory(){window.removeEventListener("resize",this.__windowResizeFunc),this.__myChart&&(this.__myChart.dispose(),this.__myChart=null),this.__watchHandleTheme&&this.__watchHandleTheme.stop()}renderChart(){if(this.__chartElement===null)return;const e=this.__elfland.theme.theme.value,t=this.__linksRenderData,s={title:{text:"关系图谱",subtext:"点击结点以跳转文章",top:"20px",left:"20px"},tooltip:{show:!1},backgroundColor:"rgba(0, 0, 0, 0)",series:[{type:"graph",layout:"force",symbolSize:20,roam:!0,label:{show:!0,color:e==="dark"?"#fff":"#000",fontSize:12,position:"bottom"},force:{repulsion:5e3},edgeSymbol:["none","none"],edgeSymbolSize:[4,10],edgeLabel:{show:!1},data:t.nodes,links:t.links,categories:[{name:"A",itemStyle:{color:"#4fadff"}}],lineStyle:{opacity:.9,width:2},emphasis:{focus:"adjacency"},draggable:!0}]};return this.__myChart=He(this.__chartElement,e==="light"?void 0:"dark"),this.__myChart.setOption(s),this.__myChart.on("click",n=>{if(n.dataType==="node"&&n.data){const r=n.data;this.__elfland.routerPromise.router.push({name:"article",params:{articlePath:r.path}})}}),window.addEventListener("resize",this.__windowResizeFunc),!0}resize(){this.__myChart&&this.__myChart.resize()}}function _t(i){["warning","tip","info","success"].forEach(t=>{i.use(X,t,{render:function(s,n){return s[n].nesting===1?'<div class="md-c-c md-c-c--'+t+'"><p>'+t.toLocaleUpperCase()+`</p>
`:`</div>
`}})})}function yt(i){_t(i),i.use(X,"details",{validate:function(e){return e.trim().match(/^details\s+(.*)$/)},render:function(e,t){const s=e[t].info.trim().match(/^details\s+(.*)$/);return e[t].nesting===1&&s?"<details><summary>"+i.utils.escapeHtml(s[1])+`</summary>
`:`</details>
`}}),i.use(X,"image",{validate:function(e){return e.trim().match(/^image\s+(.*)$/)},render:function(e,t){const s=e[t].info.trim().match(/^image\s+(.*)$/);return e[t].nesting===1?`<div class="md-c-img">
`:s===null?"</div>":"<span>"+(s[1]==="null"?"":i.utils.escapeHtml(s[1]))+`</span></div>
`}})}const kt=[yt];function vt(i){i.use(ve)}function bt(i){i.use(ie,{permalink:ie.permalink.linkInsideHeader({placement:"before"})})}function wt(i,e){i.use(be,{listType:"ul",level:[1],callback:(t,s)=>{e.renderToc(t,s)}})}function Et(i){i.use(Qe,{throwOnError:!1,errorColor:"#cc0000"})}const St=[vt,bt,wt,Et];function xt(i){i.use(we)}function Lt(i){i.use(Ee)}function Ct(i){i.use(Se)}function At(i){i.use(xe)}function Pt(i){i.use(Le)}const It=[xt,Lt,Ct,At,Pt];function Tt(i,e,t){const s=t&&t.baseUrl||"",n=i.renderer.rules.image;function r(o,c,h,u,p){const y=o[c].attrGet("src")||"";return y.startsWith("http://")||y.startsWith("https://")||y.startsWith("data:image")||y.startsWith("file://")||y.startsWith("blob:")||o[c].attrSet("src",s+"/data/assets/"+y),n===void 0?"":n(o,c,h,u,p)}i.renderer.rules.image=r}const Mt=[Tt];function le(i,e,t){function s(g,A,T,$,k){return g[A].nesting===1&&g[A].attrJoin("class",e),k.renderToken(g,A,T,$,k)}t=t||{};const n="{(",r=")}",o=t.begin||"begin",c=t.end||"end",h=t.indent||!1;t.indentSize;const u=t.className||"",p=t.render||s;function y(g,A,T,$){let k;if(n!==g.src.slice(A,A+2))return!1;let d=!1;for(k=A+2;k<T;k++)if(g.src.slice(k,k+2)===r){d=!0;break}if(!d)return!1;const v=g.src.slice(A+2,k),f=v.split("|").map(m=>m.trim()),E=n+v+r;let a=!1,l;if(f[0]===o)l=1,f[1]===e&&(a=!0);else if(f[0]===c)l=-1;else return!1;return{markerType:l,data:f,markup:E,line:$,self:a}}function b(g,A,T,$){let k=0,d=A,v=null,f=null;for(;d<T;d++){const E=g.bMarks[d]+g.tShift[d],a=g.eMarks[d],l=y(g,E,a,d);if(l)if(l.markerType===1)if(v===null&&l.self){if(v=l,$)return!0}else{if(v===null)return!1;k++}else if(k===0&&v!==null){f=l;break}else k--;else{if(v===null)return!1;continue}}return v&&f?{markerBegin:v,markerEnd:f}:!1}function z(g,A,T){}function O(g,A,T,$){const k=b(g,A,T,$);if(!k)return!1;if(k===!0)return!0;h&&(k.markerBegin.line,k.markerEnd.line,void 0);const d=g.parentType,v=g.lineMax;g.parentType="layout",g.lineMax=k.markerEnd.line;const f=g.push("layout_"+e+"_open","div",1);f.markup=k.markerBegin.markup,f.block=!0,f.meta={data:k.markerBegin.data,className:u},f.map=[k.markerBegin.line,k.markerEnd.line],g.md.block.tokenize(g,A+1,k.markerEnd.line);const E=g.push("layout_"+e+"_close","div",-1);return E.markup=k.markerEnd.markup,E.block=!0,E.meta={data:k.markerEnd.data},g.parentType=d,g.lineMax=v,g.line=k.markerEnd.line+1,!0}i.block.ruler.before("fence","layout_"+e,O,{alt:["paragraph","reference","blockquote","list"]}),i.renderer.rules["layout_"+e+"_open"]=p,i.renderer.rules["layout_"+e+"_close"]=p}function Dt(i){i.use(le,"container",{className:"md-layout-c",render:function(e,t){const s=[["w","width"],["h","height"],["style","style"],["class","class"]];if(e[t].nesting===1){let n="",r=e[t].meta.className+" ";return e[t].meta.data.forEach(o=>{const c=o.split("=")[0],h=o.indexOf("="),u=o.slice(h+1,o.length),p=s.find(y=>y[0]===c);p&&(p[1]==="style"?n+=u:p[1]==="class"?r+=u:n+=p[1]+":"+u+";")}),'<div class="'+(r===" "?"":r)+'" style="'+n+`">
`}else return`</div>
`}}),i.use(le,"item",{className:"md-layout-i",render:function(e,t){const s=[["w","width"],["h","height"],["style","style"],["class","class"]];if(e[t].nesting===1){let n="",r=e[t].meta.className+" ";return e[t].meta.data.forEach(o=>{const c=o.split("=")[0],h=o.indexOf("="),u=o.slice(h+1,o.length),p=s.find(y=>y[0]===c);p&&(p[1]==="style"?n+=u:p[1]==="class"?r+=u:n+=p[1]+":"+u+";")}),'<div class="'+(r===" "?"":r)+'" style="'+n+`">
`}else return`</div>
`}})}const jt=[Dt];function $t(i,e,t){if(typeof e!="string"||e==="")return;const s=Array.isArray(e)?e[0]:e,n=new Set(Array.isArray(e)?e:[e]);function r(a,l,m,x,_){return a[l].nesting===1&&a[l].attrJoin("class",s),_.renderToken(a,l,m)}function o(a,l,m,x,_){return _.renderToken(a,l,m)}t=t||{};const c=t.markerBegin||"{|",h=t.markerEnd||"|}",u=t.dataDivision||"|-",p=t.configDivision||"|";t.useEqual;const y=t.useIndex||!1,b=t.configKeys||[],z=A(b),O=t.render||r,g=t.renderDivision||o;t.init instanceof Function&&t.init(t);function A(a){const l=new Map;return a.forEach(m=>{if(Array.isArray(m)){const x=m[0];m.forEach(_=>{l.set(x,_)})}else l.set(m,m)}),l}function T(a,l){const m=c.length;if(c!==a.src.slice(l,l+m))return{check:!1};const x=a.src.indexOf(p,l+m),_=a.src.slice(l+m,x).trim();return n.has(_)?{check:!0,name:!0,pos:l+m+e.length}:{check:!0,name:!1}}function $(a,l){return h!==a.src.slice(l,l+h.length)?{check:!1}:{check:!0,pos:l}}function k(a,l){return u!==a.src.slice(l,l+u.length)?{check:!1}:{check:!0,pos:l}}function d(a,l,m,x){let _=0,w=l,C=null,P=null,S=-1;const L=[];let M=null;for(;w<m;w++){const B=a.bMarks[w]+a.tShift[w];a.eMarks[w];const D=T(a,B);if(D.check)if(D.name){if(C)_++;else if(C={markup:c,pos:D.pos,line:w},x)return{check:!0,silent:!0}}else _++;else{if(C===null)return{check:!1};if($(a,B).check){if(_===0)return P={markup:h,line:w},S!==-1&&L.push({lineBegin:S+1,lineEnd:w}),{configList:M||[],dataList:L,check:!0,markerBeginData:C,markerEndData:P};_--}else{const re=k(a,B);if(re.check&&_===0)M===null?(M=a.src.slice(C.pos,re.pos).split(p).map(Q=>Q.trim()).filter(Q=>Q!==""),S=w):(w-S<=1||L.push({lineBegin:S+1,lineEnd:w}),S=w);else continue}}}return{check:!1}}function v(a,l,m){const x=new RegExp("(?<!\\\\)=","g"),_=new RegExp("(?<!\\\\),","g"),w=x.exec(a);x.lastIndex=0;const C=w===null?-1:w.index,P=C===-1?m.toString():a.slice(0,C).trim(),S=C===-1?a:a.slice(C+1).trim(),L=[];let M=_.exec(S),B=0;for(;M!==null;)L.push(S.slice(B,M.index).trim()),B=M.index+1,M=_.exec(S);if(L.push(S.slice(B).trim()),_.lastIndex=0,C!==-1&&Number.isNaN(Number(P))){const D=z.get(P);if(D===void 0)return;l[D]=L;return}if(y&&!Number.isNaN(Number(P))){const D=Number(P);b[D]!==void 0?Array.isArray(b[D])?l[b[D][0]]=L:l[b[D]]=L:l[P]=L;return}}function f(a){const l={};return a.forEach((m,x)=>{v(m,l,x)}),l}function E(a,l,m,x){const _=d(a,l,m,x);if(!_.check)return!1;if(_.silent!==void 0)return!0;const w=a.parentType,C=a.lineMax;a.parentType="blockquote",a.lineMax=_.markerEndData.line;const P=a.push("component_"+e+"_open","div",1);P.markup=c,P.block=!0,P.meta={configs:f(_.configList)},P.map=[_.markerBeginData.line,_.markerEndData.line],_.dataList.forEach((L,M)=>{const B=a.bMarks[L.lineBegin]+a.tShift[L.lineBegin],D=a.bMarks[L.lineEnd]+a.tShift[L.lineEnd];if(a.src.slice(B,D),M>0){const J=a.push("component_"+e+"_division","div",0);J.markup=u,J.meta={index:M}}a.md.block.tokenize(a,L.lineBegin,L.lineEnd)});const S=a.push("component_"+e+"_close","div",-1);return S.markup=h,S.block=!0,a.parentType=w,a.lineMax=C,a.line=_.markerEndData.line+1,!0}i.block.ruler.before("fence","component_"+e,E,{alt:["paragraph","reference","blockquote","list"]}),i.renderer.rules["component_"+e+"_open"]=O,i.renderer.rules["component_"+e+"_close"]=O,i.renderer.rules["component_"+e+"_division"]=g}function Rt(i){i.use($t,"classify",{render:function(e,t){const s=e[t];if(s.nesting===1){const n=Math.floor(Math.random()*1e6).toString(),o=s.meta.configs.classifies||[];let c="";return o.forEach((h,u)=>{const p='<div><label><input type="radio" name="'+n+'" value="'+u.toString()+'" hidden '+(u===0?"checked":"")+"> "+h+"</label></div>";c+=p}),`<div class="markdown-it-component-classify-container">
<div class="markdown-it-component-classify">
<div head>
`+c+`
</div>
<div body>
<div>
`}else return`</div>
</div>
</div>
</div>
`},renderDivision:function(e,t){return`</div>
<div>
`},init:function(e){const s="markdown-it-classify-style";let n=`
.markdown-it-component-classify-container {
  border-radius: 8px;
  border: 1px solid var(--bl-color-base-border);
  overflow: hidden;
  margin-bottom: 1rem;
}
.markdown-it-component-classify > div > div {
  position: relative;
}
.markdown-it-component-classify > div[body] > div {
  display: none;
  padding: 0.5rem;
}
.markdown-it-component-classify > div[head] {
  display: flex;
  flex-wrap: wrap;
  background-color: var(--bl-color-light-fill);
}
.markdown-it-component-classify > div[head] > div > label {
  padding: 0.5rem 1rem;
  cursor: pointer;
  transition: color 0.2s;
  box-sizing: border-box;
  display: block;
  font-weight: bold;
  color: var(--bl-color-secondary-text);
}
.markdown-it-component-classify > div[head] > div:nth-child(n + 2)::before {
  content: '';
  position: absolute;
  top: 50%;
  transform: translateY(-50%) translateX(-50%);
  width: 1px;
  height: 40%;
  background-color: var(--bl-color-primary-text);
}
.markdown-it-component-classify > div[head] > div > label:has(input:checked) {
  transition: color 0.2s;
  color: var(--bl-color-primary-text);
}
.markdown-it-component-classify > div[head] > div > label:hover {
  transition: color 0.2s;
  color: var(--bl-color-primary-text);
}
.markdown-it-component-classify > div[body] > div > *:last-child {
  margin-bottom: 0 !important;
}

      `;for(let r=1;r<=10;r++)r>1&&(n+=`,
`),n+=`.markdown-it-component-classify:has( > div[head] > div:nth-child(${r}) > label > input:checked) > div[body] > div:nth-child(${r})`;if(n+=` {
  display: block;
}
      `,!document.getElementById(s)){const r=document.createElement("style");r.setAttribute("id",s),r.setAttribute("type","text/css"),r.innerHTML=n.trim(),(document.head||document.getElementsByTagName("head")[0]).appendChild(r)}},configKeys:["classifies"]})}const Ot=[Rt];function K(i,e,t){function s(d,v,f,E,a){return a.renderToken(d,v,f)}function n(d,v,f,E,a){return a.renderToken(d,v,f)}t=t||{};const r=Array.isArray(e)?e[0]:e,o=new Set(Array.isArray(e)?e:[e]),c=t.tokenizePos||[1],h=t.markerBegin||"{{",u=t.markerEnd||"}}",p=t.markerDivision||"|";t.useEqual;const y=t.useIndex||!1,b=t.configKeys||[],z=A(b),O=t.render||s,g=t.renderDivision||n;function A(d){const v=new Map;return d.forEach(f=>{if(Array.isArray(f)){const E=f[0];f.forEach(a=>{v.set(E,a)})}else v.set(f,f)}),v}function T(d){const v=d.posMax;let f=d.pos+h.length,E=0,a=f;const l=[];for(;f<v;){if(h===d.src.slice(f,f+h.length))E++;else if(u===d.src.slice(f,f+u.length)){if(E===0)return l.push({begin:a,end:f}),{check:!0,pos:f,divisionDataList:l};E--}else p===d.src.slice(f,f+p.length)&&E===0&&(l.push({begin:a,end:f}),a=f+1);f++}return{check:!1}}function $(d,v,f){const E=new RegExp("(?<!\\\\)=","g"),a=new RegExp("(?<!\\\\),","g"),l=E.exec(d);E.lastIndex=0;const m=l===null?-1:l.index,x=m===-1?f.toString():d.slice(0,m).trim(),_=m===-1?d:d.slice(m+1).trim(),w=[];let C=a.exec(_),P=0;for(;C!==null;)w.push(_.slice(P,C.index).trim()),P=C.index+1,C=a.exec(_);if(w.push(_.slice(P).trim()),a.lastIndex=0,m!==-1&&Number.isNaN(Number(x))){const S=z.get(x);if(S===void 0)return;v[S]=w;return}if(y&&!Number.isNaN(Number(x))){const S=Number(x);b[S]!==void 0?Array.isArray(b[S])?v[b[S][0]]=w:v[b[S]]=w:v[x]=w;return}}function k(d,v){const f=d.posMax,E=d.pos;if(h!==d.src.slice(E,E+h.length))return!1;const a=T(d);if(!a.check)return!1;const l=a.pos,m=a.divisionDataList;if(m.length<1||!o.has(d.src.slice(m[0].begin,m[0].end).trim()))return!1;const x=E+h.length,_=l,w={};let C=0;if(!v){d.pos=x,d.posMax=_;const P=d.push("template_"+r+"_open","span",1);let S=0;m.forEach((L,M)=>{M!==0&&(d.pos=L.begin,d.posMax=L.end,c===!0||Array.isArray(c)&&c.indexOf(M)!==-1?(C>0&&d.push("template_"+r+"_division","",0),d.md.inline.tokenize(d),C++):$(d.src.slice(L.begin,L.end),w,S++))}),P.meta={configs:w},d.push("template_"+r+"_close","span",-1)}return d.pos=l+u.length,d.posMax=f,!0}i.inline.ruler.after("emphasis","template_"+r,k),i.renderer.rules["template_"+r+"_open"]=O,i.renderer.rules["template_"+r+"_close"]=O,i.renderer.rules["template_"+r+"_division"]=g}function Bt(i){i.use(K,"und",{useIndex:!0,configKeys:["type"],render:function(e,t){const s=e[t],n={default:"transparent",warning:"#f89898D0",success:"#95d475D0",r:"var(--bl-color-md-plugin-underline-r)",g:"var(--bl-color-md-plugin-underline-g)",b:"var(--bl-color-md-plugin-underline-b)",y:"var(--bl-color-md-plugin-underline-y)"};if(s.nesting===1){const r=s.meta.configs,o=r.type&&r.type[0]||"default";return`<span style="${`background: linear-gradient(transparent 70%, ${n[o.trim()]||o.trim()} 0%);`}">`}else return"</span>"}})}function Nt(i){i.use(K,"bgc",{useIndex:!0,configKeys:["type"],render:function(e,t){const s=e[t],n={default:"transparent",warning:"#f89898D0",success:"#95d475D0",r:"var(--bl-color-md-plugin-underline-r)",g:"var(--bl-color-md-plugin-underline-g)",b:"var(--bl-color-md-plugin-underline-b)",y:"var(--bl-color-md-plugin-underline-y)"};if(s.nesting===1){const r=s.meta.configs,o=r.type&&r.type[0]||"default";return`<span style="${`background-color: ${n[o.trim()]||o.trim()};`}">`}else return"</span>"}})}function Ft(i){i.use(K,"tran",{useIndex:!0,configKeys:["from","to"],render:function(e,t){const s=e[t];if(s.nesting===1){const n=Math.floor(Math.random()*1e6).toString(),r=s.meta.configs,o=r.from&&r.from[0]||"原文:",c=r.to&&r.to[0]||"译文:";return'<span class="md-template-translate">'+`<label data-from="${o}" data-to="${c}" class="md-template-translate__label"><input type="checkbox" name="${n}" hidden ></label>`+"<span>"}else return"</span></span>"},renderDivision:function(e,t){return"</span><span>"},tokenizePos:[1,2]})}function zt(i,e){i.use(K,"link",{useIndex:!0,configKeys:["name"],render:function(t,s){const n=t[s];if(n.nesting===1){const r=n.meta.configs,o=r.name&&r.name[0]||"Error",c=e.article.getPathByTitle(o),h=c===""?"":"cursor-pointer text-moonlight-500 hover:underline",u=c===""?"":window.location.protocol+"//"+window.location.host+"/blog/"+c;return`<span class="${h}" md="obsidian-link" path="${c}" title=${u}>`+o}else return"</span>"},renderDivision:function(t,s){return"</span><span>"},tokenizePos:[]})}const Gt=[Bt,Nt,Ft,zt];function Kt(i,e){i.use(K,"template-name-1",{configKeys:["type"],render:function(t,s){const n=t[s],r={default:"transparent",warning:"#F56C6C",success:"#67C23A"};if(n.nesting===1){const o=n.meta.configs;console.log("template-name-1 configs",o);const c=o.type&&o.type[0]||"default";return`<span style="${`background-color: ${r[c.trim()]||c.trim()};`}">`}else return"</span>"}})}function Ht(i,e){i.use(K,"template-name-2",{configKeys:["chars","color"],render:function(t,s){const n=t[s];if(n.nesting===1){const r=n.meta.configs;console.log("template-name-2 configs",r);const o=r.chars||[],c=r.color||"",h=o.join("-");return`<span style="color: ${c}">${h}`}else return"</span>"}})}function qt(i,e){i.use(K,"template-name-3",{configKeys:["chars","color"],useIndex:!0,render:function(t,s){const n=t[s];if(n.nesting===1){const r=n.meta.configs;console.log("template-name-3 configs",r);const o=r.chars||[],c=r.color||"",h=o.join("-");return`<span style="color: ${c}">${h}`}else return"</span>"}})}function Yt(i,e){i.use(K,"template-name-4",{configKeys:["chars","color"],tokenizePos:[],useIndex:!0,render:function(t,s){const n=t[s];if(n.nesting===1){const r=n.meta.configs;console.log("template-name-4 configs",r);const o=r.chars||[],c=r.color||"",h=o.join("-");return`<span style="color: ${c}">${h}`}else return"</span>"}})}const Ut=[Kt,Ht,qt,Yt],Vt=[...kt,...St,...It,...Mt,...jt,...Ot,...Gt,...Ut];function Wt(i,e,t){Vt.forEach(s=>{s(i,e,t)})}I.registerLanguage("javascript",Ce);I.registerLanguage("typescript",Ae);I.registerLanguage("css",Pe);I.registerLanguage("xml",de);I.registerLanguage("c",Ie);I.registerLanguage("cmake",Te);I.registerLanguage("cpp",Me);I.registerLanguage("markdown",De);I.registerLanguage("json",je);I.registerLanguage("latex",$e);I.registerLanguage("python",Re);I.registerLanguage("yaml",Oe);I.registerLanguage("html",de);I.registerLanguage("vue",i=>({subLanguage:"xml",contains:[i.COMMENT("<!--","-->",{relevance:10}),{begin:/^(\s*)(<script setup>)/gm,end:/^(\s*)(<\/script>)/gm,subLanguage:"javascript",excludeBegin:!0,excludeEnd:!0},{begin:/^(\s*)(<script setup lang=["']ts["']>)/gm,end:/^(\s*)(<\/script>)/gm,subLanguage:"typescript",excludeBegin:!0,excludeEnd:!0},{begin:/^(\s*)(<style(\sscoped)?>)/gm,end:/^(\s*)(<\/style>)/gm,subLanguage:"css",excludeBegin:!0,excludeEnd:!0},{begin:/^(\s*)(<style lang=["'](scss|sass)["'](\sscoped)?>)/gm,end:/^(\s*)(<\/style>)/gm,subLanguage:"scss",excludeBegin:!0,excludeEnd:!0},{begin:/^(\s*)(<style lang=["']stylus["'](\sscoped)?>)/gm,end:/^(\s*)(<\/style>)/gm,subLanguage:"stylus",excludeBegin:!0,excludeEnd:!0}]}));class q{static CODE_SCROLL_KEY="md-code-scroll";md;article;generateRandomString=at();codeScroll=se(q.CODE_SCROLL_KEY,!1)==="true";svg='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" ><path fill="currentColor" d="M128 320v576h576V320zm-32-64h640a32 32 0 0 1 32 32v640a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V288a32 32 0 0 1 32-32M960 96v704a32 32 0 0 1-32 32h-96v-64h64V128H384v64h-64V96a32 32 0 0 1 32-32h576a32 32 0 0 1 32 32M256 672h320v64H256zm0-192h320v64H256z"></path></svg>';svgCodeScroll='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" ><path fill="currentColor" d="M511.552 128c-35.584 0-64.384 28.8-64.384 64.448v516.48L274.048 570.88a94.272 94.272 0 0 0-112.896-3.456 44.416 44.416 0 0 0-8.96 62.208L332.8 870.4A64 64 0 0 0 384 896h512V575.232a64 64 0 0 0-45.632-61.312l-205.952-61.76A96 96 0 0 1 576 360.192V192.448C576 156.8 547.2 128 511.552 128M359.04 556.8l24.128 19.2V192.448a128.448 128.448 0 1 1 256.832 0v167.744a32 32 0 0 0 22.784 30.656l206.016 61.76A128 128 0 0 1 960 575.232V896a64 64 0 0 1-64 64H384a128 128 0 0 1-102.4-51.2L101.056 668.032A108.416 108.416 0 0 1 128 512.512a158.272 158.272 0 0 1 185.984 8.32z"></path></svg>';constructor(e){this.article=e,this.md=new Be({breaks:!0,linkify:!0,highlight:(t,s)=>{s=s.trim();const n=s.indexOf(":"),r=n===-1?"":s.slice(n+1);s=n===-1?s:s.slice(0,n);const o=this.generateRandomString(),c=`<span class="md-code-btn md-copy-btn select-none" title="点击复制" type="button" data-clipboard-action="copy" data-clipboard-target="#copy${o}">${this.svg}</span>`,h=`<span class="md-code-btn select-none" md="codeScroll" title="调整代码块最大高度" ${this.codeScroll?"checked":""}>${this.svgCodeScroll}</span>`,u="<span>"+this.getLang(s)+"</span>",p=`<span>${r}</span>`,y=this.md.utils.escapeHtml(t);let b=y;if(s&&I.getLanguage(s))try{b=I.highlight(t,{language:s,ignoreIllegals:!0}).value}catch{}const z=`<div>${u}${p}</div>`,O=`<div>${h}${c}</div>`,g=`<pre class="hljs">${b}<code></code></pre>`,A=`<div>${z}${O}</div>`,T=`<textarea style="position: absolute;top: -9999px;left: -9999px;z-index: -9999;" id="copy${o}">${y}</textarea>`;return`<div class="hljs-container">${A}${g}${T}</div>`}}),this.init()}render(e){function t(){const s=location.hash.slice(1);s&&requestAnimationFrame(()=>{const n=document.getElementById(s)||document.querySelector(`[id="${s}"]`);n&&n.scrollIntoView({behavior:"smooth"})})}return t(),this.md.render(e)}getLang(e){return e=e||"",e===""?e:{}[e]||e}init(){Wt(this.md,this,{baseUrl:window.location.protocol+"//"+window.location.host})}renderToc(e,t){this.article.mdTocString=JSON.stringify(t)}}class Jt extends F{__path=R("");__articleLRUCache=new it(20);__mdRenderer=new q(this);__mdTocString=R("");__clipboard;__selector;get article(){return j(()=>this.__articleLRUCache.get(this.__path.value)||null)}get renderedMd(){return j(()=>{const e=this.article.value;return e===null?"":this.__mdRenderer.render(e.body)})}get mdTocString(){return this.__mdTocString.value}set mdTocString(e){this.__mdTocString.value=e}get rendererMdToc(){return j(()=>{const e=new Map,t=this.__mdTocString.value,s=JSON.parse(t),n=[],r=o=>{let c=encodeURIComponent(o.n.trim().replace(/\ /g,"-").toLowerCase());e.has(o.n)?(c+=`-${e.get(o.n)}`,e.set(o.n,e.get(o.n)+1)):e.set(o.n,1);const h={l:o.l,n:o.n.trim(),a:"#"+c};n.push(h),o.c.forEach(u=>r(u))};return r(s),n.shift(),n})}constructor(e){super(e),e.routerPromise.addCheck(this.check,this),e.routerPromise.addPostcheck(this.postcheck,this),this.__clipboard=new Ne(".md-copy-btn"),this.__clipboard.on("success",t=>{ae("复制成功","success")}),this.__clipboard.on("error",t=>{ae("复制失败")}),this.__selector=new ct([["click",'.markdown-body span[md="codeScroll"]',"clickCodeScroll",{childrenEvent:!0}],["touchstart",'.markdown-body span[md="codeScroll"]',"clickCodeScroll",{childrenEvent:!0}],["click",'.markdown-body span[md="obsidian-link"]',"clickObsidianLink",{childrenEvent:!0}],["touchstart",'.markdown-body span[md="obsidian-link"]',"clickObsidianLink",{childrenEvent:!0}]]),this.__selector.on("clickCodeScroll",t=>{const s=se(q.CODE_SCROLL_KEY,!1)==="true";Y(q.CODE_SCROLL_KEY,!s);const n=document.querySelectorAll('.markdown-body span[md="codeScroll"]');for(let r=0;r<n.length;r++)s?n[r].removeAttribute("checked"):n[r].setAttribute("checked","")}),this.__selector.on("clickObsidianLink",t=>{const n=t.element.getAttribute("path");n!==""&&(window.scrollTo(0,0),this.__elfland.routerPromise.router.push(n))})}logoutCallback(){}getPathByTitle(e){return this.__elfland.articles.getIdAndPath(e).path}async check(e,t){if(!this.is(e,"article"))return;const s=e.params.articlePath;if(typeof s!="string")return{name:"404"};await this.__elfland.articles.waitingDataGet;const n=this.__elfland.articles.getArticleByPath(s);if(n===null)return{name:"404"};this.__articleLRUCache.set(s,n)}postcheck(e,t){if(!this.is(e,"article"))return;const s=e.params.articlePath;typeof s=="string"&&(this.__path.value=s)}}class Qt{name;category;author;contributors;role;description;notes;url;github;video;arxiv;constructor(e){this.name=e.name,this.category=e.category,this.author=e.author,this.contributors=e.contributors,this.role=e.role,this.description=e.description,this.notes=e.notes,this.url=e.url,this.github=e.github,this.video=e.video,this.arxiv=e.arxiv}}class ue{category;projects=[];constructor(e){this.category=e}addProject(e){this.projects.push(e)}}class Xt extends F{__projectsIsGotten=!1;__projectsCategorySorted=N([]);__pinnedProjects=N([]);pinnedProjects=j(()=>this.__pinnedProjects);projectsCategorySorted=j(()=>this.__projectsCategorySorted);constructor(e){super(e),e.routerPromise.addCheck(this.check,this)}logoutCallback(){}async check(e,t){if(!this.__projectsIsGotten)try{await this.__elfland.data.waitingDataGet;const s=this.__elfland.data.data;if(s===null)return;const n=s.projects.slice(2);s.projects[0].Sorted.forEach(o=>{this.__projectsCategorySorted.push(new ue(o))}),n.forEach(o=>{const c=new Qt(o);o.pinned&&this.__pinnedProjects.push(c);const h=this.__projectsCategorySorted.find(u=>u.category===o.category);if(h)h.addProject(c);else{const u=new ue(o.category);u.addProject(c),this.__projectsCategorySorted.push(u)}}),this.__projectsIsGotten=!0}catch(s){console.error(s)}}}class Zt{tag;articles=[];get size(){return this.articles.length}constructor(e){this.tag=e}addArticle(e){this.articles.push(e)}}class es extends F{__tagsIsGotten=!1;__tags=N(new Map);__selectedTag=R("");sortIsAsc=R(!1);sortedArticels=j(()=>{const e=this.__selectedTag.value;if(e==="")return[];const t=this.__tags.get(e);return t?t.articles.sort((s,n)=>this.sortIsAsc.value?s.created.getTime()-n.created.getTime():n.created.getTime()-s.created.getTime()):[]});tags=j(()=>Array.from(this.__tags.values()));constructor(e){super(e),e.routerPromise.addCheck(this.check,this),e.routerPromise.addPostcheck(this.postcheck,this)}logoutCallback(){}async check(e,t){if(!this.__tagsIsGotten)try{await this.__elfland.articles.waitingDataGet,this.__elfland.articles.articles.value.forEach(n=>{n.tags.forEach(r=>{this.__tags.has(r.tag)||this.__tags.set(r.tag,new Zt(r.tag)),this.__tags.get(r.tag).addArticle(n)})}),this.__tagsIsGotten=!0}catch(s){console.error(s)}}postcheck(e,t){if(!this.is(e,"tags"))return;const s=e.query.tag;this.__selectedTag.value=s?typeof s=="string"?s:s[0]:""}}class ne{category;children=new Map;allArts=[];selfArts=[];parent=null;fold=!0;get categories(){return Array.from(this.children.values())}get path(){return this.category==="ROOT"||this.parent===null?"":this.parent.path+"/"+this.category}constructor(e,t){this.category=e||"ROOT",this.parent=t||null}addArticle(e,t){this.allArts.push(e);const s=t.category;this.children.has(s)||this.children.set(s,new ne(s,this));const n=this.children.get(s);t.child===null?(n.allArts.push(e),n.selfArts.push(e)):n.addArticle(e,t.child)}}class ts extends F{__categoriesIsGotten=!1;__category=N(new ne);__selcetedCategory=R("");__displayArticlesList=j(()=>{if(this.__selcetedCategory.value==="")return[];const e=this.__selcetedCategory.value.split("/").filter(n=>n!=="");let t=[],s=this.__category;for(;e.length>0;){if(s=s.children.get(e.shift()||""),!s)return[];t=s.allArts}return t});get categories(){return this.__category.categories.sort((e,t)=>e.category==="未分组"?1:-1)}sortIsAsc=R(!1);sortedArticels=j(()=>this.__displayArticlesList.value.sort((e,t)=>this.sortIsAsc.value?e.created.getTime()-t.created.getTime():t.created.getTime()-e.created.getTime()));constructor(e){super(e),e.routerPromise.addCheck(this.check,this),e.routerPromise.addPostcheck(this.postcheck,this)}logoutCallback(){}async check(e,t){if(!this.__categoriesIsGotten)try{await this.__elfland.articles.waitingDataGet,this.__elfland.articles.articles.value.forEach(n=>{this.__category.addArticle(n,n.categories)}),this.__categoriesIsGotten=!0}catch(s){console.error(s)}}postcheck(e,t){if(!this.is(e,"categories"))return;const s=e.query.category;if(this.__selcetedCategory.value=s?typeof s=="string"?s:s[0]:"",this.__selcetedCategory.value==="")return;const n=this.__selcetedCategory.value.split("/").filter(o=>o!=="");let r=this.__category;for(;n.length>0;){if(r=r.children.get(n.shift()||""),!r)return;r.fold=!1}}}class ss extends F{__aboutIsGotten=!1;name=R("");position=R("");avater=R("");about=N([]);github=R("");links=N([]);skills=N([]);constructor(e){super(e),e.routerPromise.addCheck(this.check,this)}logoutCallback(){}async check(e,t){if(!this.__aboutIsGotten)try{await this.__elfland.data.waitingDataGet;const s=this.__elfland.data.data;if(s===null)return;const n=s.about;this.name.value=n.name,this.position.value=n.position,this.avater.value=n.avater,n.about.forEach(r=>{this.about.push(r)}),this.github.value=n.github,n.links.forEach(r=>{this.links.push(r)}),n.skills.forEach(r=>{this.skills.push(r)}),this.__aboutIsGotten=!0}catch(s){console.error(s)}}}class H extends V{static instance=null;static getInstance(e){return!H.instance&&e&&(H.instance=new H(e)),H.instance}routerPromise;theme;about;data;articles;article;links;projects;tags;categories;constructor(e){super(),this.routerPromise=new rt(e),this.theme=new U(this),this.about=new ss(this),this.data=new lt(this),this.articles=new mt(this),this.article=new Jt(this),this.links=new gt(this),this.projects=new Xt(this),this.tags=new es(this),this.categories=new ts(this)}}function ds(){return H.getInstance()}te.configure({showSpinner:!1});const W=Fe({history:ze("/"),routes:[{path:"/",name:"home",component:()=>G(()=>import("./index-DRdYFhuc.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8]))},{path:"/archives",name:"archives",component:()=>G(()=>import("./index-B0G2GZ3O.js"),__vite__mapDeps([9,6,2,3,4,10,1,5,7,8]))},{path:"/categories",name:"categories",component:()=>G(()=>import("./index-Cdr7H6nI.js"),__vite__mapDeps([11,2,3,4,6,10,1,5,7,8]))},{path:"/tags",name:"tags",component:()=>G(()=>import("./index-DPnDAIql.js"),__vite__mapDeps([12,2,3,4,6,10,1,5,7,8]))},{path:"/links",name:"links",component:()=>G(()=>import("./index-C92x8Ojp.js"),__vite__mapDeps([13,1,2,3,4,7,8]))},{path:"/search",name:"search",component:()=>G(()=>import("./AboutView-DfOBM_C4.js"),__vite__mapDeps([14,2,3,4,7,8]))},{path:"/blog/:articlePath",name:"article",component:()=>G(()=>import("./index-CpgXCAtE.js"),__vite__mapDeps([15,1,2,3,4,5,7,8]))},{path:"/about",name:"about",component:()=>G(()=>import("./AboutView-DfOBM_C4.js"),__vite__mapDeps([14,2,3,4,7,8]))},{path:"/:pathMatch(.*)*",name:"404",redirect:"/"}]}),ee=H.getInstance(W);W.beforeEach(async(i,e,t)=>{te.start(),ee.routerPromise.precheck(i,e,t)&&await ee.routerPromise.check(i,e,t)&&t()});W.afterEach((i,e,t)=>{ee.routerPromise.postcheck(i,e),te.done()});const pe=Ge(tt);pe.use(W);pe.mount("#app");export{ft as A,ne as C,Qt as P,Zt as T,Xe as _,as as f,ds as u};
