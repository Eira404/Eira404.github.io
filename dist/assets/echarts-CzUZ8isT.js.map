{"version":3,"file":"echarts-CzUZ8isT.js","sources":["../../node_modules/echarts/lib/util/number.js","../../node_modules/echarts/lib/util/log.js","../../node_modules/echarts/lib/util/model.js","../../node_modules/echarts/lib/util/clazz.js","../../node_modules/echarts/lib/model/mixin/makeStyleMapper.js","../../node_modules/echarts/lib/model/mixin/areaStyle.js","../../node_modules/echarts/lib/util/innerStore.js","../../node_modules/echarts/lib/util/states.js","../../node_modules/echarts/lib/animation/basicTransition.js","../../node_modules/echarts/lib/util/graphic.js","../../node_modules/echarts/lib/label/labelStyle.js","../../node_modules/echarts/lib/model/mixin/textStyle.js","../../node_modules/echarts/lib/model/mixin/lineStyle.js","../../node_modules/echarts/lib/model/mixin/itemStyle.js","../../node_modules/echarts/lib/model/Model.js","../../node_modules/echarts/lib/util/component.js","../../node_modules/echarts/lib/i18n/langEN.js","../../node_modules/echarts/lib/i18n/langZH.js","../../node_modules/echarts/lib/core/locale.js","../../node_modules/echarts/lib/scale/break.js","../../node_modules/echarts/lib/util/time.js","../../node_modules/echarts/lib/util/format.js","../../node_modules/echarts/lib/core/CoordinateSystem.js","../../node_modules/echarts/lib/util/layout.js","../../node_modules/echarts/lib/model/Component.js","../../node_modules/echarts/lib/visual/tokens.js","../../node_modules/echarts/lib/model/globalDefault.js","../../node_modules/echarts/lib/util/types.js","../../node_modules/echarts/lib/data/helper/sourceHelper.js","../../node_modules/echarts/lib/model/internalComponentCreator.js","../../node_modules/echarts/lib/model/mixin/palette.js","../../node_modules/echarts/lib/model/Global.js","../../node_modules/echarts/lib/core/ExtensionAPI.js","../../node_modules/echarts/lib/model/OptionManager.js","../../node_modules/echarts/lib/preprocessor/helper/compatStyle.js","../../node_modules/echarts/lib/preprocessor/backwardCompat.js","../../node_modules/echarts/lib/processor/dataStack.js","../../node_modules/echarts/lib/data/Source.js","../../node_modules/echarts/lib/data/helper/dataProvider.js","../../node_modules/echarts/lib/model/mixin/dataFormat.js","../../node_modules/echarts/lib/core/task.js","../../node_modules/echarts/lib/data/helper/dataValueHelper.js","../../node_modules/echarts/lib/data/helper/transform.js","../../node_modules/echarts/lib/data/DataStore.js","../../node_modules/echarts/lib/data/helper/sourceManager.js","../../node_modules/echarts/lib/component/tooltip/tooltipMarkup.js","../../node_modules/echarts/lib/component/tooltip/seriesFormatTooltip.js","../../node_modules/echarts/lib/model/Series.js","../../node_modules/echarts/lib/view/Component.js","../../node_modules/echarts/lib/chart/helper/createRenderPlanner.js","../../node_modules/echarts/lib/view/Chart.js","../../node_modules/echarts/lib/util/throttle.js","../../node_modules/echarts/lib/visual/style.js","../../node_modules/echarts/lib/loading/default.js","../../node_modules/echarts/lib/core/Scheduler.js","../../node_modules/echarts/lib/theme/dark.js","../../node_modules/echarts/lib/util/ECEventProcessor.js","../../node_modules/echarts/lib/visual/symbol.js","../../node_modules/echarts/lib/visual/helper.js","../../node_modules/echarts/lib/legacy/dataSelectAction.js","../../node_modules/echarts/lib/util/event.js","../../node_modules/echarts/lib/util/symbol.js","../../node_modules/echarts/lib/util/decal.js","../../node_modules/echarts/lib/visual/decal.js","../../node_modules/echarts/lib/core/lifecycle.js","../../node_modules/echarts/lib/core/impl.js","../../node_modules/echarts/lib/core/echarts.js","../../node_modules/echarts/lib/data/DataDiffer.js","../../node_modules/echarts/lib/data/helper/dimensionHelper.js","../../node_modules/echarts/lib/data/SeriesDimensionDefine.js","../../node_modules/echarts/lib/data/helper/SeriesDataSchema.js","../../node_modules/echarts/lib/data/SeriesData.js","../../node_modules/echarts/lib/data/helper/createDimensions.js","../../node_modules/echarts/lib/model/referHelper.js","../../node_modules/echarts/lib/data/helper/dataStackHelper.js","../../node_modules/echarts/lib/chart/helper/createSeriesData.js","../../node_modules/echarts/lib/scale/helper.js","../../node_modules/echarts/lib/scale/Scale.js","../../node_modules/echarts/lib/data/OrdinalMeta.js","../../node_modules/echarts/lib/scale/Ordinal.js","../../node_modules/echarts/lib/scale/Interval.js","../../node_modules/echarts/lib/layout/barGrid.js","../../node_modules/echarts/lib/scale/Time.js","../../node_modules/echarts/lib/scale/Log.js","../../node_modules/echarts/lib/coord/scaleRawExtentInfo.js","../../node_modules/echarts/lib/coord/axisHelper.js","../../node_modules/echarts/lib/coord/axisModelCommonMixin.js","../../node_modules/echarts/lib/extension.js","../../node_modules/echarts/lib/coord/axisTickLabelBuilder.js","../../node_modules/echarts/lib/coord/Axis.js","../../node_modules/echarts/lib/label/labelLayoutHelper.js","../../node_modules/echarts/lib/chart/helper/labelHelper.js","../../node_modules/echarts/lib/chart/helper/Symbol.js","../../node_modules/echarts/lib/chart/helper/SymbolDraw.js","../../node_modules/echarts/lib/visual/LegendVisualProvider.js","../../node_modules/echarts/lib/coord/cartesian/GridModel.js","../../node_modules/echarts/lib/coord/cartesian/AxisModel.js","../../node_modules/echarts/lib/coord/axisDefault.js","../../node_modules/echarts/lib/coord/axisCommonTypes.js","../../node_modules/echarts/lib/component/axis/axisBreakHelper.js","../../node_modules/echarts/lib/coord/axisModelCreator.js","../../node_modules/echarts/lib/coord/cartesian/Cartesian.js","../../node_modules/echarts/lib/coord/cartesian/Cartesian2D.js","../../node_modules/echarts/lib/coord/cartesian/Axis2D.js","../../node_modules/echarts/lib/component/axis/axisAction.js","../../node_modules/echarts/lib/component/axis/AxisBuilder.js","../../node_modules/echarts/lib/coord/cartesian/cartesianAxisHelper.js","../../node_modules/echarts/lib/coord/axisAlignTicks.js","../../node_modules/echarts/lib/coord/cartesian/Grid.js","../../node_modules/echarts/lib/component/axisPointer/modelHelper.js","../../node_modules/echarts/lib/component/axis/AxisView.js","../../node_modules/echarts/lib/component/axis/axisSplitHelper.js","../../node_modules/echarts/lib/component/axis/CartesianAxisView.js","../../node_modules/echarts/lib/component/grid/installSimple.js","../../node_modules/echarts/lib/component/helper/interactionMutex.js","../../node_modules/echarts/lib/component/helper/cursorHelper.js","../../node_modules/echarts/lib/component/helper/RoamController.js","../../node_modules/echarts/lib/component/helper/roamHelper.js","../../node_modules/echarts/lib/coord/View.js","../../node_modules/echarts/lib/data/helper/linkSeriesData.js","../../node_modules/echarts/lib/chart/graph/categoryFilter.js","../../node_modules/echarts/lib/chart/graph/categoryVisual.js","../../node_modules/echarts/lib/chart/graph/edgeVisual.js","../../node_modules/echarts/lib/chart/helper/multipleGraphEdgeHelper.js","../../node_modules/echarts/lib/chart/graph/simpleLayoutHelper.js","../../node_modules/echarts/lib/chart/graph/simpleLayout.js","../../node_modules/echarts/lib/chart/graph/graphHelper.js","../../node_modules/echarts/lib/chart/graph/circularLayoutHelper.js","../../node_modules/echarts/lib/chart/graph/circularLayout.js","../../node_modules/echarts/lib/chart/graph/forceHelper.js","../../node_modules/echarts/lib/chart/graph/forceLayout.js","../../node_modules/echarts/lib/chart/graph/createView.js","../../node_modules/echarts/lib/chart/helper/LinePath.js","../../node_modules/echarts/lib/chart/helper/Line.js","../../node_modules/echarts/lib/chart/helper/LineDraw.js","../../node_modules/echarts/lib/chart/graph/adjustEdge.js","../../node_modules/echarts/lib/component/helper/thumbnailBridge.js","../../node_modules/echarts/lib/chart/graph/GraphView.js","../../node_modules/echarts/lib/data/Graph.js","../../node_modules/echarts/lib/chart/helper/createGraphFromNodeEdge.js","../../node_modules/echarts/lib/chart/graph/GraphSeries.js","../../node_modules/echarts/lib/chart/graph/install.js","../../node_modules/echarts/lib/component/axisPointer/BaseAxisPointer.js","../../node_modules/echarts/lib/component/axisPointer/viewHelper.js","../../node_modules/echarts/lib/component/axisPointer/CartesianAxisPointer.js","../../node_modules/echarts/lib/component/axisPointer/AxisPointerModel.js","../../node_modules/echarts/lib/component/axisPointer/globalListener.js","../../node_modules/echarts/lib/component/axisPointer/AxisPointerView.js","../../node_modules/echarts/lib/component/axisPointer/findPointFromSeries.js","../../node_modules/echarts/lib/component/axisPointer/axisTrigger.js","../../node_modules/echarts/lib/component/axisPointer/install.js","../../node_modules/echarts/lib/component/grid/install.js","../../node_modules/echarts/lib/component/helper/listComponent.js","../../node_modules/echarts/lib/component/tooltip/TooltipModel.js","../../node_modules/echarts/lib/component/tooltip/helper.js","../../node_modules/echarts/lib/component/tooltip/TooltipHTMLContent.js","../../node_modules/echarts/lib/component/tooltip/TooltipRichContent.js","../../node_modules/echarts/lib/component/tooltip/TooltipView.js","../../node_modules/echarts/lib/component/tooltip/install.js","../../node_modules/echarts/lib/component/title/install.js","../../node_modules/echarts/lib/component/legend/LegendModel.js","../../node_modules/echarts/lib/component/legend/LegendView.js","../../node_modules/echarts/lib/component/legend/legendFilter.js","../../node_modules/echarts/lib/component/legend/legendAction.js","../../node_modules/echarts/lib/component/legend/installLegendPlain.js","../../node_modules/echarts/lib/component/legend/ScrollableLegendModel.js","../../node_modules/echarts/lib/component/legend/ScrollableLegendView.js","../../node_modules/echarts/lib/component/legend/scrollableLegendAction.js","../../node_modules/echarts/lib/component/legend/installLegendScroll.js","../../node_modules/echarts/lib/component/legend/install.js","../../node_modules/echarts/lib/renderer/installCanvasRenderer.js"],"sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n/*\n* A third-party license is embedded for some of the code in this file:\n* The method \"quantile\" was copied from \"d3.js\".\n* (See more details in the comment of the method below.)\n* The use of the source code of this file is also subject to the terms\n* and consitions of the license of \"d3.js\" (BSD-3Clause, see\n* </licenses/LICENSE-d3>).\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nvar RADIAN_EPSILON = 1e-4;\n// Although chrome already enlarge this number to 100 for `toFixed`, but\n// we sill follow the spec for compatibility.\nvar ROUND_SUPPORTED_PRECISION_MAX = 20;\nfunction _trim(str) {\n  return str.replace(/^\\s+|\\s+$/g, '');\n}\nexport var mathMin = Math.min;\nexport var mathMax = Math.max;\nexport var mathAbs = Math.abs;\n/**\n * Linear mapping a value from domain to range\n * @param  val\n * @param  domain Domain extent domain[0] can be bigger than domain[1]\n * @param  range  Range extent range[0] can be bigger than range[1]\n * @param  clamp Default to be false\n */\nexport function linearMap(val, domain, range, clamp) {\n  var d0 = domain[0];\n  var d1 = domain[1];\n  var r0 = range[0];\n  var r1 = range[1];\n  var subDomain = d1 - d0;\n  var subRange = r1 - r0;\n  if (subDomain === 0) {\n    return subRange === 0 ? r0 : (r0 + r1) / 2;\n  }\n  // Avoid accuracy problem in edge, such as\n  // 146.39 - 62.83 === 83.55999999999999.\n  // See echarts/test/ut/spec/util/number.js#linearMap#accuracyError\n  // It is a little verbose for efficiency considering this method\n  // is a hotspot.\n  if (clamp) {\n    if (subDomain > 0) {\n      if (val <= d0) {\n        return r0;\n      } else if (val >= d1) {\n        return r1;\n      }\n    } else {\n      if (val >= d0) {\n        return r0;\n      } else if (val <= d1) {\n        return r1;\n      }\n    }\n  } else {\n    if (val === d0) {\n      return r0;\n    }\n    if (val === d1) {\n      return r1;\n    }\n  }\n  return (val - d0) / subDomain * subRange + r0;\n}\n/**\n * Preserve the name `parsePercent` for backward compatibility,\n * and it's effectively published as `echarts.number.parsePercent`.\n */\nexport var parsePercent = parsePositionOption;\n/**\n * @see {parsePositionSizeOption} and also accept a string preset.\n * @see {PositionSizeOption}\n */\nexport function parsePositionOption(option, percentBase, percentOffset) {\n  switch (option) {\n    case 'center':\n    case 'middle':\n      option = '50%';\n      break;\n    case 'left':\n    case 'top':\n      option = '0%';\n      break;\n    case 'right':\n    case 'bottom':\n      option = '100%';\n      break;\n  }\n  return parsePositionSizeOption(option, percentBase, percentOffset);\n}\n/**\n * Accept number, or numeric stirng (`'123'`), or percentage ('100%'), as x/y/width/height pixel number.\n * If null/undefined or invalid, return NaN.\n * (But allow JS type coercion (`+option`) due to backward compatibility)\n * @see {PositionSizeOption}\n */\nexport function parsePositionSizeOption(option, percentBase, percentOffset) {\n  if (zrUtil.isString(option)) {\n    if (_trim(option).match(/%$/)) {\n      return parseFloat(option) / 100 * percentBase + (percentOffset || 0);\n    }\n    return parseFloat(option);\n  }\n  // Allow flexible input due to backward compatibility.\n  return option == null ? NaN : +option;\n}\nexport function round(x, precision, returnStr) {\n  if (precision == null) {\n    // FIXME: the default precision should not be provided, since there is no universally adaptable\n    //  precision. The caller need to input a precision according to the scenarios.\n    precision = 10;\n  }\n  // Avoid range error\n  precision = Math.min(Math.max(0, precision), ROUND_SUPPORTED_PRECISION_MAX);\n  // PENDING: 1.005.toFixed(2) is '1.00' rather than '1.01'\n  x = (+x).toFixed(precision);\n  return returnStr ? x : +x;\n}\n/**\n * Inplacd asc sort arr.\n * The input arr will be modified.\n */\nexport function asc(arr) {\n  arr.sort(function (a, b) {\n    return a - b;\n  });\n  return arr;\n}\n/**\n * Get precision.\n */\nexport function getPrecision(val) {\n  val = +val;\n  if (isNaN(val)) {\n    return 0;\n  }\n  // It is much faster than methods converting number to string as follows\n  //      let tmp = val.toString();\n  //      return tmp.length - 1 - tmp.indexOf('.');\n  // especially when precision is low\n  // Notice:\n  // (1) If the loop count is over about 20, it is slower than `getPrecisionSafe`.\n  //     (see https://jsbench.me/2vkpcekkvw/1)\n  // (2) If the val is less than for example 1e-15, the result may be incorrect.\n  //     (see test/ut/spec/util/number.test.ts `getPrecision_equal_random`)\n  if (val > 1e-14) {\n    var e = 1;\n    for (var i = 0; i < 15; i++, e *= 10) {\n      if (Math.round(val * e) / e === val) {\n        return i;\n      }\n    }\n  }\n  return getPrecisionSafe(val);\n}\n/**\n * Get precision with slow but safe method\n */\nexport function getPrecisionSafe(val) {\n  // toLowerCase for: '3.4E-12'\n  var str = val.toString().toLowerCase();\n  // Consider scientific notation: '3.4e-12' '3.4e+12'\n  var eIndex = str.indexOf('e');\n  var exp = eIndex > 0 ? +str.slice(eIndex + 1) : 0;\n  var significandPartLen = eIndex > 0 ? eIndex : str.length;\n  var dotIndex = str.indexOf('.');\n  var decimalPartLen = dotIndex < 0 ? 0 : significandPartLen - 1 - dotIndex;\n  return Math.max(0, decimalPartLen - exp);\n}\n/**\n * Minimal dicernible data precisioin according to a single pixel.\n */\nexport function getPixelPrecision(dataExtent, pixelExtent) {\n  var log = Math.log;\n  var LN10 = Math.LN10;\n  var dataQuantity = Math.floor(log(dataExtent[1] - dataExtent[0]) / LN10);\n  var sizeQuantity = Math.round(log(mathAbs(pixelExtent[1] - pixelExtent[0])) / LN10);\n  // toFixed() digits argument must be between 0 and 20.\n  var precision = Math.min(Math.max(-dataQuantity + sizeQuantity, 0), 20);\n  return !isFinite(precision) ? 20 : precision;\n}\n/**\n * Get a data of given precision, assuring the sum of percentages\n * in valueList is 1.\n * The largest remainder method is used.\n * https://en.wikipedia.org/wiki/Largest_remainder_method\n *\n * @param valueList a list of all data\n * @param idx index of the data to be processed in valueList\n * @param precision integer number showing digits of precision\n * @return percent ranging from 0 to 100\n */\nexport function getPercentWithPrecision(valueList, idx, precision) {\n  if (!valueList[idx]) {\n    return 0;\n  }\n  var seats = getPercentSeats(valueList, precision);\n  return seats[idx] || 0;\n}\n/**\n * Get a data of given precision, assuring the sum of percentages\n * in valueList is 1.\n * The largest remainder method is used.\n * https://en.wikipedia.org/wiki/Largest_remainder_method\n *\n * @param valueList a list of all data\n * @param precision integer number showing digits of precision\n * @return {Array<number>}\n */\nexport function getPercentSeats(valueList, precision) {\n  var sum = zrUtil.reduce(valueList, function (acc, val) {\n    return acc + (isNaN(val) ? 0 : val);\n  }, 0);\n  if (sum === 0) {\n    return [];\n  }\n  var digits = Math.pow(10, precision);\n  var votesPerQuota = zrUtil.map(valueList, function (val) {\n    return (isNaN(val) ? 0 : val) / sum * digits * 100;\n  });\n  var targetSeats = digits * 100;\n  var seats = zrUtil.map(votesPerQuota, function (votes) {\n    // Assign automatic seats.\n    return Math.floor(votes);\n  });\n  var currentSum = zrUtil.reduce(seats, function (acc, val) {\n    return acc + val;\n  }, 0);\n  var remainder = zrUtil.map(votesPerQuota, function (votes, idx) {\n    return votes - seats[idx];\n  });\n  // Has remainding votes.\n  while (currentSum < targetSeats) {\n    // Find next largest remainder.\n    var max = Number.NEGATIVE_INFINITY;\n    var maxId = null;\n    for (var i = 0, len = remainder.length; i < len; ++i) {\n      if (remainder[i] > max) {\n        max = remainder[i];\n        maxId = i;\n      }\n    }\n    // Add a vote to max remainder.\n    ++seats[maxId];\n    remainder[maxId] = 0;\n    ++currentSum;\n  }\n  return zrUtil.map(seats, function (seat) {\n    return seat / digits;\n  });\n}\n/**\n * Solve the floating point adding problem like 0.1 + 0.2 === 0.30000000000000004\n * See <http://0.30000000000000004.com/>\n */\nexport function addSafe(val0, val1) {\n  var maxPrecision = Math.max(getPrecision(val0), getPrecision(val1));\n  // const multiplier = Math.pow(10, maxPrecision);\n  // return (Math.round(val0 * multiplier) + Math.round(val1 * multiplier)) / multiplier;\n  var sum = val0 + val1;\n  // // PENDING: support more?\n  return maxPrecision > ROUND_SUPPORTED_PRECISION_MAX ? sum : round(sum, maxPrecision);\n}\n// Number.MAX_SAFE_INTEGER, ie do not support.\nexport var MAX_SAFE_INTEGER = 9007199254740991;\n/**\n * To 0 - 2 * PI, considering negative radian.\n */\nexport function remRadian(radian) {\n  var pi2 = Math.PI * 2;\n  return (radian % pi2 + pi2) % pi2;\n}\n/**\n * @param {type} radian\n * @return {boolean}\n */\nexport function isRadianAroundZero(val) {\n  return val > -RADIAN_EPSILON && val < RADIAN_EPSILON;\n}\n// eslint-disable-next-line\nvar TIME_REG = /^(?:(\\d{4})(?:[-\\/](\\d{1,2})(?:[-\\/](\\d{1,2})(?:[T ](\\d{1,2})(?::(\\d{1,2})(?::(\\d{1,2})(?:[.,](\\d+))?)?)?(Z|[\\+\\-]\\d\\d:?\\d\\d)?)?)?)?)?$/; // jshint ignore:line\n/**\n * @param value valid type: number | string | Date, otherwise return `new Date(NaN)`\n *   These values can be accepted:\n *   + An instance of Date, represent a time in its own time zone.\n *   + Or string in a subset of ISO 8601, only including:\n *     + only year, month, date: '2012-03', '2012-03-01', '2012-03-01 05', '2012-03-01 05:06',\n *     + separated with T or space: '2012-03-01T12:22:33.123', '2012-03-01 12:22:33.123',\n *     + time zone: '2012-03-01T12:22:33Z', '2012-03-01T12:22:33+8000', '2012-03-01T12:22:33-05:00',\n *     all of which will be treated as local time if time zone is not specified\n *     (see <https://momentjs.com/>).\n *   + Or other string format, including (all of which will be treated as local time):\n *     '2012', '2012-3-1', '2012/3/1', '2012/03/01',\n *     '2009/6/12 2:00', '2009/6/12 2:05:08', '2009/6/12 2:05:08.123'\n *   + a timestamp, which represent a time in UTC.\n * @return date Never be null/undefined. If invalid, return `new Date(NaN)`.\n */\nexport function parseDate(value) {\n  if (value instanceof Date) {\n    return value;\n  } else if (zrUtil.isString(value)) {\n    // Different browsers parse date in different way, so we parse it manually.\n    // Some other issues:\n    // new Date('1970-01-01') is UTC,\n    // new Date('1970/01/01') and new Date('1970-1-01') is local.\n    // See issue #3623\n    var match = TIME_REG.exec(value);\n    if (!match) {\n      // return Invalid Date.\n      return new Date(NaN);\n    }\n    // Use local time when no timezone offset is specified.\n    if (!match[8]) {\n      // match[n] can only be string or undefined.\n      // But take care of '12' + 1 => '121'.\n      return new Date(+match[1], +(match[2] || 1) - 1, +match[3] || 1, +match[4] || 0, +(match[5] || 0), +match[6] || 0, match[7] ? +match[7].substring(0, 3) : 0);\n    }\n    // Timezoneoffset of Javascript Date has considered DST (Daylight Saving Time,\n    // https://tc39.github.io/ecma262/#sec-daylight-saving-time-adjustment).\n    // For example, system timezone is set as \"Time Zone: America/Toronto\",\n    // then these code will get different result:\n    // `new Date(1478411999999).getTimezoneOffset();  // get 240`\n    // `new Date(1478412000000).getTimezoneOffset();  // get 300`\n    // So we should not use `new Date`, but use `Date.UTC`.\n    else {\n      var hour = +match[4] || 0;\n      if (match[8].toUpperCase() !== 'Z') {\n        hour -= +match[8].slice(0, 3);\n      }\n      return new Date(Date.UTC(+match[1], +(match[2] || 1) - 1, +match[3] || 1, hour, +(match[5] || 0), +match[6] || 0, match[7] ? +match[7].substring(0, 3) : 0));\n    }\n  } else if (value == null) {\n    return new Date(NaN);\n  }\n  return new Date(Math.round(value));\n}\n/**\n * Quantity of a number. e.g. 0.1, 1, 10, 100\n *\n * @param val\n * @return\n */\nexport function quantity(val) {\n  return Math.pow(10, quantityExponent(val));\n}\n/**\n * Exponent of the quantity of a number\n * e.g., 1234 equals to 1.234*10^3, so quantityExponent(1234) is 3\n *\n * @param val non-negative value\n * @return\n */\nexport function quantityExponent(val) {\n  if (val === 0) {\n    return 0;\n  }\n  var exp = Math.floor(Math.log(val) / Math.LN10);\n  /**\n   * exp is expected to be the rounded-down result of the base-10 log of val.\n   * But due to the precision loss with Math.log(val), we need to restore it\n   * using 10^exp to make sure we can get val back from exp. #11249\n   */\n  if (val / Math.pow(10, exp) >= 10) {\n    exp++;\n  }\n  return exp;\n}\n/**\n * find a “nice” number approximately equal to x. Round the number if round = true,\n * take ceiling if round = false. The primary observation is that the “nicest”\n * numbers in decimal are 1, 2, and 5, and all power-of-ten multiples of these numbers.\n *\n * See \"Nice Numbers for Graph Labels\" of Graphic Gems.\n *\n * @param  val Non-negative value.\n * @param  round\n * @return Niced number\n */\nexport function nice(val, round) {\n  var exponent = quantityExponent(val);\n  var exp10 = Math.pow(10, exponent);\n  var f = val / exp10; // 1 <= f < 10\n  var nf;\n  if (round) {\n    if (f < 1.5) {\n      nf = 1;\n    } else if (f < 2.5) {\n      nf = 2;\n    } else if (f < 4) {\n      nf = 3;\n    } else if (f < 7) {\n      nf = 5;\n    } else {\n      nf = 10;\n    }\n  } else {\n    if (f < 1) {\n      nf = 1;\n    } else if (f < 2) {\n      nf = 2;\n    } else if (f < 3) {\n      nf = 3;\n    } else if (f < 5) {\n      nf = 5;\n    } else {\n      nf = 10;\n    }\n  }\n  val = nf * exp10;\n  // Fix 3 * 0.1 === 0.30000000000000004 issue (see IEEE 754).\n  // 20 is the uppper bound of toFixed.\n  return exponent >= -20 ? +val.toFixed(exponent < 0 ? -exponent : 0) : val;\n}\n/**\n * This code was copied from \"d3.js\"\n * <https://github.com/d3/d3/blob/9cc9a875e636a1dcf36cc1e07bdf77e1ad6e2c74/src/arrays/quantile.js>.\n * See the license statement at the head of this file.\n * @param ascArr\n */\nexport function quantile(ascArr, p) {\n  var H = (ascArr.length - 1) * p + 1;\n  var h = Math.floor(H);\n  var v = +ascArr[h - 1];\n  var e = H - h;\n  return e ? v + e * (ascArr[h] - v) : v;\n}\n/**\n * Order intervals asc, and split them when overlap.\n * expect(numberUtil.reformIntervals([\n *     {interval: [18, 62], close: [1, 1]},\n *     {interval: [-Infinity, -70], close: [0, 0]},\n *     {interval: [-70, -26], close: [1, 1]},\n *     {interval: [-26, 18], close: [1, 1]},\n *     {interval: [62, 150], close: [1, 1]},\n *     {interval: [106, 150], close: [1, 1]},\n *     {interval: [150, Infinity], close: [0, 0]}\n * ])).toEqual([\n *     {interval: [-Infinity, -70], close: [0, 0]},\n *     {interval: [-70, -26], close: [1, 1]},\n *     {interval: [-26, 18], close: [0, 1]},\n *     {interval: [18, 62], close: [0, 1]},\n *     {interval: [62, 150], close: [0, 1]},\n *     {interval: [150, Infinity], close: [0, 0]}\n * ]);\n * @param list, where `close` mean open or close\n *        of the interval, and Infinity can be used.\n * @return The origin list, which has been reformed.\n */\nexport function reformIntervals(list) {\n  list.sort(function (a, b) {\n    return littleThan(a, b, 0) ? -1 : 1;\n  });\n  var curr = -Infinity;\n  var currClose = 1;\n  for (var i = 0; i < list.length;) {\n    var interval = list[i].interval;\n    var close_1 = list[i].close;\n    for (var lg = 0; lg < 2; lg++) {\n      if (interval[lg] <= curr) {\n        interval[lg] = curr;\n        close_1[lg] = !lg ? 1 - currClose : 1;\n      }\n      curr = interval[lg];\n      currClose = close_1[lg];\n    }\n    if (interval[0] === interval[1] && close_1[0] * close_1[1] !== 1) {\n      list.splice(i, 1);\n    } else {\n      i++;\n    }\n  }\n  return list;\n  function littleThan(a, b, lg) {\n    return a.interval[lg] < b.interval[lg] || a.interval[lg] === b.interval[lg] && (a.close[lg] - b.close[lg] === (!lg ? 1 : -1) || !lg && littleThan(a, b, 1));\n  }\n}\n/**\n * [Numeric is defined as]:\n *     `parseFloat(val) == val`\n * For example:\n * numeric:\n *     typeof number except NaN, '-123', '123', '2e3', '-2e3', '011', 'Infinity', Infinity,\n *     and they rounded by white-spaces or line-terminal like ' -123 \\n ' (see es spec)\n * not-numeric:\n *     null, undefined, [], {}, true, false, 'NaN', NaN, '123ab',\n *     empty string, string with only white-spaces or line-terminal (see es spec),\n *     0x12, '0x12', '-0x12', 012, '012', '-012',\n *     non-string, ...\n *\n * @test See full test cases in `test/ut/spec/util/number.js`.\n * @return Must be a typeof number. If not numeric, return NaN.\n */\nexport function numericToNumber(val) {\n  var valFloat = parseFloat(val);\n  return valFloat == val // eslint-disable-line eqeqeq\n  && (valFloat !== 0 || !zrUtil.isString(val) || val.indexOf('x') <= 0) // For case ' 0x0 '.\n  ? valFloat : NaN;\n}\n/**\n * Definition of \"numeric\": see `numericToNumber`.\n */\nexport function isNumeric(val) {\n  return !isNaN(numericToNumber(val));\n}\n/**\n * Use random base to prevent users hard code depending on\n * this auto generated marker id.\n * @return An positive integer.\n */\nexport function getRandomIdBase() {\n  return Math.round(Math.random() * 9);\n}\n/**\n * Get the greatest common divisor.\n *\n * @param {number} a one number\n * @param {number} b the other number\n */\nexport function getGreatestCommonDividor(a, b) {\n  if (b === 0) {\n    return a;\n  }\n  return getGreatestCommonDividor(b, a % b);\n}\n/**\n * Get the least common multiple.\n *\n * @param {number} a one number\n * @param {number} b the other number\n */\nexport function getLeastCommonMultiple(a, b) {\n  if (a == null) {\n    return b;\n  }\n  if (b == null) {\n    return a;\n  }\n  return a * b / getGreatestCommonDividor(a, b);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { map, isString, isFunction, eqNaN, isRegExp } from 'zrender/lib/core/util.js';\nvar ECHARTS_PREFIX = '[ECharts] ';\nvar storedLogs = {};\nvar hasConsole = typeof console !== 'undefined'\n// eslint-disable-next-line\n&& console.warn && console.log;\nfunction outputLog(type, str, onlyOnce) {\n  if (hasConsole) {\n    if (onlyOnce) {\n      if (storedLogs[str]) {\n        return;\n      }\n      storedLogs[str] = true;\n    }\n    // eslint-disable-next-line\n    console[type](ECHARTS_PREFIX + str);\n  }\n}\nexport function log(str, onlyOnce) {\n  outputLog('log', str, onlyOnce);\n}\nexport function warn(str, onlyOnce) {\n  outputLog('warn', str, onlyOnce);\n}\nexport function error(str, onlyOnce) {\n  outputLog('error', str, onlyOnce);\n}\nexport function deprecateLog(str) {\n  if (process.env.NODE_ENV !== 'production') {\n    // Not display duplicate message.\n    outputLog('warn', 'DEPRECATED: ' + str, true);\n  }\n}\nexport function deprecateReplaceLog(oldOpt, newOpt, scope) {\n  if (process.env.NODE_ENV !== 'production') {\n    deprecateLog((scope ? \"[\" + scope + \"]\" : '') + (oldOpt + \" is deprecated; use \" + newOpt + \" instead.\"));\n  }\n}\n/**\n * If in __DEV__ environment, get console printable message for users hint.\n * Parameters are separated by ' '.\n * @usage\n * makePrintable('This is an error on', someVar, someObj);\n *\n * @param hintInfo anything about the current execution context to hint users.\n * @throws Error\n */\nexport function makePrintable() {\n  var hintInfo = [];\n  for (var _i = 0; _i < arguments.length; _i++) {\n    hintInfo[_i] = arguments[_i];\n  }\n  var msg = '';\n  if (process.env.NODE_ENV !== 'production') {\n    // Fuzzy stringify for print.\n    // This code only exist in dev environment.\n    var makePrintableStringIfPossible_1 = function (val) {\n      return val === void 0 ? 'undefined' : val === Infinity ? 'Infinity' : val === -Infinity ? '-Infinity' : eqNaN(val) ? 'NaN' : val instanceof Date ? 'Date(' + val.toISOString() + ')' : isFunction(val) ? 'function () { ... }' : isRegExp(val) ? val + '' : null;\n    };\n    msg = map(hintInfo, function (arg) {\n      if (isString(arg)) {\n        // Print without quotation mark for some statement.\n        return arg;\n      } else {\n        var printableStr = makePrintableStringIfPossible_1(arg);\n        if (printableStr != null) {\n          return printableStr;\n        } else if (typeof JSON !== 'undefined' && JSON.stringify) {\n          try {\n            return JSON.stringify(arg, function (n, val) {\n              var printableStr = makePrintableStringIfPossible_1(val);\n              return printableStr == null ? val : printableStr;\n            });\n            // In most cases the info object is small, so do not line break.\n          } catch (err) {\n            return '?';\n          }\n        } else {\n          return '?';\n        }\n      }\n    }).join(' ');\n  }\n  return msg;\n}\n/**\n * @throws Error\n */\nexport function throwError(msg) {\n  throw new Error(msg);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { each, isObject, isArray, createHashMap, map, assert, isString, indexOf, isStringSafe, isNumber } from 'zrender/lib/core/util.js';\nimport env from 'zrender/lib/core/env.js';\nimport { isNumeric, getRandomIdBase, getPrecision, round } from './number.js';\nimport { error, warn } from './log.js';\nfunction interpolateNumber(p0, p1, percent) {\n  return (p1 - p0) * percent + p0;\n}\n/**\n * Make the name displayable. But we should\n * make sure it is not duplicated with user\n * specified name, so use '\\0';\n */\nvar DUMMY_COMPONENT_NAME_PREFIX = 'series\\0';\nvar INTERNAL_COMPONENT_ID_PREFIX = '\\0_ec_\\0';\n/**\n * If value is not array, then translate it to array.\n * @param  {*} value\n * @return {Array} [value] or value\n */\nexport function normalizeToArray(value) {\n  return value instanceof Array ? value : value == null ? [] : [value];\n}\n/**\n * Sync default option between normal and emphasis like `position` and `show`\n * In case some one will write code like\n *     label: {\n *          show: false,\n *          position: 'outside',\n *          fontSize: 18\n *     },\n *     emphasis: {\n *          label: { show: true }\n *     }\n */\nexport function defaultEmphasis(opt, key, subOpts) {\n  // Caution: performance sensitive.\n  if (opt) {\n    opt[key] = opt[key] || {};\n    opt.emphasis = opt.emphasis || {};\n    opt.emphasis[key] = opt.emphasis[key] || {};\n    // Default emphasis option from normal\n    for (var i = 0, len = subOpts.length; i < len; i++) {\n      var subOptName = subOpts[i];\n      if (!opt.emphasis[key].hasOwnProperty(subOptName) && opt[key].hasOwnProperty(subOptName)) {\n        opt.emphasis[key][subOptName] = opt[key][subOptName];\n      }\n    }\n  }\n}\nexport var TEXT_STYLE_OPTIONS = ['fontStyle', 'fontWeight', 'fontSize', 'fontFamily', 'rich', 'tag', 'color', 'textBorderColor', 'textBorderWidth', 'width', 'height', 'lineHeight', 'align', 'verticalAlign', 'baseline', 'shadowColor', 'shadowBlur', 'shadowOffsetX', 'shadowOffsetY', 'textShadowColor', 'textShadowBlur', 'textShadowOffsetX', 'textShadowOffsetY', 'backgroundColor', 'borderColor', 'borderWidth', 'borderRadius', 'padding'];\n// modelUtil.LABEL_OPTIONS = modelUtil.TEXT_STYLE_OPTIONS.concat([\n//     'position', 'offset', 'rotate', 'origin', 'show', 'distance', 'formatter',\n//     'fontStyle', 'fontWeight', 'fontSize', 'fontFamily',\n//     // FIXME: deprecated, check and remove it.\n//     'textStyle'\n// ]);\n/**\n * The method does not ensure performance.\n * data could be [12, 2323, {value: 223}, [1221, 23], {value: [2, 23]}]\n * This helper method retrieves value from data.\n */\nexport function getDataItemValue(dataItem) {\n  return isObject(dataItem) && !isArray(dataItem) && !(dataItem instanceof Date) ? dataItem.value : dataItem;\n}\n/**\n * data could be [12, 2323, {value: 223}, [1221, 23], {value: [2, 23]}]\n * This helper method determine if dataItem has extra option besides value\n */\nexport function isDataItemOption(dataItem) {\n  return isObject(dataItem) && !(dataItem instanceof Array);\n  // // markLine data can be array\n  // && !(dataItem[0] && isObject(dataItem[0]) && !(dataItem[0] instanceof Array));\n}\n;\n/**\n * Mapping to existings for merge.\n *\n * Mode \"normalMege\":\n *     The mapping result (merge result) will keep the order of the existing\n *     component, rather than the order of new option. Because we should ensure\n *     some specified index reference (like xAxisIndex) keep work.\n *     And in most cases, \"merge option\" is used to update partial option but not\n *     be expected to change the order.\n *\n * Mode \"replaceMege\":\n *     (1) Only the id mapped components will be merged.\n *     (2) Other existing components (except internal components) will be removed.\n *     (3) Other new options will be used to create new component.\n *     (4) The index of the existing components will not be modified.\n *     That means their might be \"hole\" after the removal.\n *     The new components are created first at those available index.\n *\n * Mode \"replaceAll\":\n *     This mode try to support that reproduce an echarts instance from another\n *     echarts instance (via `getOption`) in some simple cases.\n *     In this scenario, the `result` index are exactly the consistent with the `newCmptOptions`,\n *     which ensures the component index referring (like `xAxisIndex: ?`) corrent. That is,\n *     the \"hole\" in `newCmptOptions` will also be kept.\n *     On the contrary, other modes try best to eliminate holes.\n *     PENDING: This is an experimental mode yet.\n *\n * @return See the comment of <MappingResult>.\n */\nexport function mappingToExists(existings, newCmptOptions, mode) {\n  var isNormalMergeMode = mode === 'normalMerge';\n  var isReplaceMergeMode = mode === 'replaceMerge';\n  var isReplaceAllMode = mode === 'replaceAll';\n  existings = existings || [];\n  newCmptOptions = (newCmptOptions || []).slice();\n  var existingIdIdxMap = createHashMap();\n  // Validate id and name on user input option.\n  each(newCmptOptions, function (cmptOption, index) {\n    if (!isObject(cmptOption)) {\n      newCmptOptions[index] = null;\n      return;\n    }\n    if (process.env.NODE_ENV !== 'production') {\n      // There is some legacy case that name is set as `false`.\n      // But should work normally rather than throw error.\n      if (cmptOption.id != null && !isValidIdOrName(cmptOption.id)) {\n        warnInvalidateIdOrName(cmptOption.id);\n      }\n      if (cmptOption.name != null && !isValidIdOrName(cmptOption.name)) {\n        warnInvalidateIdOrName(cmptOption.name);\n      }\n    }\n  });\n  var result = prepareResult(existings, existingIdIdxMap, mode);\n  if (isNormalMergeMode || isReplaceMergeMode) {\n    mappingById(result, existings, existingIdIdxMap, newCmptOptions);\n  }\n  if (isNormalMergeMode) {\n    mappingByName(result, newCmptOptions);\n  }\n  if (isNormalMergeMode || isReplaceMergeMode) {\n    mappingByIndex(result, newCmptOptions, isReplaceMergeMode);\n  } else if (isReplaceAllMode) {\n    mappingInReplaceAllMode(result, newCmptOptions);\n  }\n  makeIdAndName(result);\n  // The array `result` MUST NOT contain elided items, otherwise the\n  // forEach will omit those items and result in incorrect result.\n  return result;\n}\nfunction prepareResult(existings, existingIdIdxMap, mode) {\n  var result = [];\n  if (mode === 'replaceAll') {\n    return result;\n  }\n  // Do not use native `map` to in case that the array `existings`\n  // contains elided items, which will be omitted.\n  for (var index = 0; index < existings.length; index++) {\n    var existing = existings[index];\n    // Because of replaceMerge, `existing` may be null/undefined.\n    if (existing && existing.id != null) {\n      existingIdIdxMap.set(existing.id, index);\n    }\n    // For non-internal-componnets:\n    //     Mode \"normalMerge\": all existings kept.\n    //     Mode \"replaceMerge\": all existing removed unless mapped by id.\n    // For internal-components:\n    //     go with \"replaceMerge\" approach in both mode.\n    result.push({\n      existing: mode === 'replaceMerge' || isComponentIdInternal(existing) ? null : existing,\n      newOption: null,\n      keyInfo: null,\n      brandNew: null\n    });\n  }\n  return result;\n}\nfunction mappingById(result, existings, existingIdIdxMap, newCmptOptions) {\n  // Mapping by id if specified.\n  each(newCmptOptions, function (cmptOption, index) {\n    if (!cmptOption || cmptOption.id == null) {\n      return;\n    }\n    var optionId = makeComparableKey(cmptOption.id);\n    var existingIdx = existingIdIdxMap.get(optionId);\n    if (existingIdx != null) {\n      var resultItem = result[existingIdx];\n      assert(!resultItem.newOption, 'Duplicated option on id \"' + optionId + '\".');\n      resultItem.newOption = cmptOption;\n      // In both mode, if id matched, new option will be merged to\n      // the existings rather than creating new component model.\n      resultItem.existing = existings[existingIdx];\n      newCmptOptions[index] = null;\n    }\n  });\n}\nfunction mappingByName(result, newCmptOptions) {\n  // Mapping by name if specified.\n  each(newCmptOptions, function (cmptOption, index) {\n    if (!cmptOption || cmptOption.name == null) {\n      return;\n    }\n    for (var i = 0; i < result.length; i++) {\n      var existing = result[i].existing;\n      if (!result[i].newOption // Consider name: two map to one.\n      // Can not match when both ids existing but different.\n      && existing && (existing.id == null || cmptOption.id == null) && !isComponentIdInternal(cmptOption) && !isComponentIdInternal(existing) && keyExistAndEqual('name', existing, cmptOption)) {\n        result[i].newOption = cmptOption;\n        newCmptOptions[index] = null;\n        return;\n      }\n    }\n  });\n}\nfunction mappingByIndex(result, newCmptOptions, brandNew) {\n  each(newCmptOptions, function (cmptOption) {\n    if (!cmptOption) {\n      return;\n    }\n    // Find the first place that not mapped by id and not internal component (consider the \"hole\").\n    var resultItem;\n    var nextIdx = 0;\n    while (\n    // Be `!resultItem` only when `nextIdx >= result.length`.\n    (resultItem = result[nextIdx]\n    // (1) Existing models that already have id should be able to mapped to. Because\n    // after mapping performed, model will always be assigned with an id if user not given.\n    // After that all models have id.\n    // (2) If new option has id, it can only set to a hole or append to the last. It should\n    // not be merged to the existings with different id. Because id should not be overwritten.\n    // (3) Name can be overwritten, because axis use name as 'show label text'.\n    ) && (resultItem.newOption || isComponentIdInternal(resultItem.existing) ||\n    // In mode \"replaceMerge\", here no not-mapped-non-internal-existing.\n    resultItem.existing && cmptOption.id != null && !keyExistAndEqual('id', cmptOption, resultItem.existing))) {\n      nextIdx++;\n    }\n    if (resultItem) {\n      resultItem.newOption = cmptOption;\n      resultItem.brandNew = brandNew;\n    } else {\n      result.push({\n        newOption: cmptOption,\n        brandNew: brandNew,\n        existing: null,\n        keyInfo: null\n      });\n    }\n    nextIdx++;\n  });\n}\nfunction mappingInReplaceAllMode(result, newCmptOptions) {\n  each(newCmptOptions, function (cmptOption) {\n    // The feature \"reproduce\" requires \"hole\" will also reproduced\n    // in case that component index referring are broken.\n    result.push({\n      newOption: cmptOption,\n      brandNew: true,\n      existing: null,\n      keyInfo: null\n    });\n  });\n}\n/**\n * Make id and name for mapping result (result of mappingToExists)\n * into `keyInfo` field.\n */\nfunction makeIdAndName(mapResult) {\n  // We use this id to hash component models and view instances\n  // in echarts. id can be specified by user, or auto generated.\n  // The id generation rule ensures new view instance are able\n  // to mapped to old instance when setOption are called in\n  // no-merge mode. So we generate model id by name and plus\n  // type in view id.\n  // name can be duplicated among components, which is convenient\n  // to specify multi components (like series) by one name.\n  // Ensure that each id is distinct.\n  var idMap = createHashMap();\n  each(mapResult, function (item) {\n    var existing = item.existing;\n    existing && idMap.set(existing.id, item);\n  });\n  each(mapResult, function (item) {\n    var opt = item.newOption;\n    // Force ensure id not duplicated.\n    assert(!opt || opt.id == null || !idMap.get(opt.id) || idMap.get(opt.id) === item, 'id duplicates: ' + (opt && opt.id));\n    opt && opt.id != null && idMap.set(opt.id, item);\n    !item.keyInfo && (item.keyInfo = {});\n  });\n  // Make name and id.\n  each(mapResult, function (item, index) {\n    var existing = item.existing;\n    var opt = item.newOption;\n    var keyInfo = item.keyInfo;\n    if (!isObject(opt)) {\n      return;\n    }\n    // Name can be overwritten. Consider case: axis.name = '20km'.\n    // But id generated by name will not be changed, which affect\n    // only in that case: setOption with 'not merge mode' and view\n    // instance will be recreated, which can be accepted.\n    keyInfo.name = opt.name != null ? makeComparableKey(opt.name) : existing ? existing.name\n    // Avoid that different series has the same name,\n    // because name may be used like in color pallet.\n    : DUMMY_COMPONENT_NAME_PREFIX + index;\n    if (existing) {\n      keyInfo.id = makeComparableKey(existing.id);\n    } else if (opt.id != null) {\n      keyInfo.id = makeComparableKey(opt.id);\n    } else {\n      // Consider this situatoin:\n      //  optionA: [{name: 'a'}, {name: 'a'}, {..}]\n      //  optionB [{..}, {name: 'a'}, {name: 'a'}]\n      // Series with the same name between optionA and optionB\n      // should be mapped.\n      var idNum = 0;\n      do {\n        keyInfo.id = '\\0' + keyInfo.name + '\\0' + idNum++;\n      } while (idMap.get(keyInfo.id));\n    }\n    idMap.set(keyInfo.id, item);\n  });\n}\nfunction keyExistAndEqual(attr, obj1, obj2) {\n  var key1 = convertOptionIdName(obj1[attr], null);\n  var key2 = convertOptionIdName(obj2[attr], null);\n  // See `MappingExistingItem`. `id` and `name` trade string equals to number.\n  return key1 != null && key2 != null && key1 === key2;\n}\n/**\n * @return return null if not exist.\n */\nfunction makeComparableKey(val) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (val == null) {\n      throw new Error();\n    }\n  }\n  return convertOptionIdName(val, '');\n}\nexport function convertOptionIdName(idOrName, defaultValue) {\n  if (idOrName == null) {\n    return defaultValue;\n  }\n  return isString(idOrName) ? idOrName : isNumber(idOrName) || isStringSafe(idOrName) ? idOrName + '' : defaultValue;\n}\nfunction warnInvalidateIdOrName(idOrName) {\n  if (process.env.NODE_ENV !== 'production') {\n    warn('`' + idOrName + '` is invalid id or name. Must be a string or number.');\n  }\n}\nfunction isValidIdOrName(idOrName) {\n  return isStringSafe(idOrName) || isNumeric(idOrName);\n}\nexport function isNameSpecified(componentModel) {\n  var name = componentModel.name;\n  // Is specified when `indexOf` get -1 or > 0.\n  return !!(name && name.indexOf(DUMMY_COMPONENT_NAME_PREFIX));\n}\n/**\n * @public\n * @param {Object} cmptOption\n * @return {boolean}\n */\nexport function isComponentIdInternal(cmptOption) {\n  return cmptOption && cmptOption.id != null && makeComparableKey(cmptOption.id).indexOf(INTERNAL_COMPONENT_ID_PREFIX) === 0;\n}\nexport function makeInternalComponentId(idSuffix) {\n  return INTERNAL_COMPONENT_ID_PREFIX + idSuffix;\n}\nexport function setComponentTypeToKeyInfo(mappingResult, mainType, componentModelCtor) {\n  // Set mainType and complete subType.\n  each(mappingResult, function (item) {\n    var newOption = item.newOption;\n    if (isObject(newOption)) {\n      item.keyInfo.mainType = mainType;\n      item.keyInfo.subType = determineSubType(mainType, newOption, item.existing, componentModelCtor);\n    }\n  });\n}\nfunction determineSubType(mainType, newCmptOption, existComponent, componentModelCtor) {\n  var subType = newCmptOption.type ? newCmptOption.type : existComponent ? existComponent.subType\n  // Use determineSubType only when there is no existComponent.\n  : componentModelCtor.determineSubType(mainType, newCmptOption);\n  // tooltip, markline, markpoint may always has no subType\n  return subType;\n}\n/**\n * A helper for removing duplicate items between batchA and batchB,\n * and in themselves, and categorize by series.\n *\n * @param batchA Like: [{seriesId: 2, dataIndex: [32, 4, 5]}, ...]\n * @param batchB Like: [{seriesId: 2, dataIndex: [32, 4, 5]}, ...]\n * @return result: [resultBatchA, resultBatchB]\n */\nexport function compressBatches(batchA, batchB) {\n  var mapA = {};\n  var mapB = {};\n  makeMap(batchA || [], mapA);\n  makeMap(batchB || [], mapB, mapA);\n  return [mapToArray(mapA), mapToArray(mapB)];\n  function makeMap(sourceBatch, map, otherMap) {\n    for (var i = 0, len = sourceBatch.length; i < len; i++) {\n      var seriesId = convertOptionIdName(sourceBatch[i].seriesId, null);\n      if (seriesId == null) {\n        return;\n      }\n      var dataIndices = normalizeToArray(sourceBatch[i].dataIndex);\n      var otherDataIndices = otherMap && otherMap[seriesId];\n      for (var j = 0, lenj = dataIndices.length; j < lenj; j++) {\n        var dataIndex = dataIndices[j];\n        if (otherDataIndices && otherDataIndices[dataIndex]) {\n          otherDataIndices[dataIndex] = null;\n        } else {\n          (map[seriesId] || (map[seriesId] = {}))[dataIndex] = 1;\n        }\n      }\n    }\n  }\n  function mapToArray(map, isData) {\n    var result = [];\n    for (var i in map) {\n      if (map.hasOwnProperty(i) && map[i] != null) {\n        if (isData) {\n          result.push(+i);\n        } else {\n          var dataIndices = mapToArray(map[i], true);\n          dataIndices.length && result.push({\n            seriesId: i,\n            dataIndex: dataIndices\n          });\n        }\n      }\n    }\n    return result;\n  }\n}\n/**\n * @param payload Contains dataIndex (means rawIndex) / dataIndexInside / name\n *                         each of which can be Array or primary type.\n * @return dataIndex If not found, return undefined/null.\n */\nexport function queryDataIndex(data, payload) {\n  if (payload.dataIndexInside != null) {\n    return payload.dataIndexInside;\n  } else if (payload.dataIndex != null) {\n    return isArray(payload.dataIndex) ? map(payload.dataIndex, function (value) {\n      return data.indexOfRawIndex(value);\n    }) : data.indexOfRawIndex(payload.dataIndex);\n  } else if (payload.name != null) {\n    return isArray(payload.name) ? map(payload.name, function (value) {\n      return data.indexOfName(value);\n    }) : data.indexOfName(payload.name);\n  }\n}\n/**\n * Enable property storage to any host object.\n * Notice: Serialization is not supported.\n *\n * For example:\n * let inner = zrUitl.makeInner();\n *\n * function some1(hostObj) {\n *      inner(hostObj).someProperty = 1212;\n *      ...\n * }\n * function some2() {\n *      let fields = inner(this);\n *      fields.someProperty1 = 1212;\n *      fields.someProperty2 = 'xx';\n *      ...\n * }\n *\n * @return {Function}\n */\nexport function makeInner() {\n  var key = '__ec_inner_' + innerUniqueIndex++;\n  return function (hostObj) {\n    return hostObj[key] || (hostObj[key] = {});\n  };\n}\nvar innerUniqueIndex = getRandomIdBase();\n/**\n * The same behavior as `component.getReferringComponents`.\n */\nexport function parseFinder(ecModel, finderInput, opt) {\n  var _a = preParseFinder(finderInput, opt),\n    mainTypeSpecified = _a.mainTypeSpecified,\n    queryOptionMap = _a.queryOptionMap,\n    others = _a.others;\n  var result = others;\n  var defaultMainType = opt ? opt.defaultMainType : null;\n  if (!mainTypeSpecified && defaultMainType) {\n    queryOptionMap.set(defaultMainType, {});\n  }\n  queryOptionMap.each(function (queryOption, mainType) {\n    var queryResult = queryReferringComponents(ecModel, mainType, queryOption, {\n      useDefault: defaultMainType === mainType,\n      enableAll: opt && opt.enableAll != null ? opt.enableAll : true,\n      enableNone: opt && opt.enableNone != null ? opt.enableNone : true\n    });\n    result[mainType + 'Models'] = queryResult.models;\n    result[mainType + 'Model'] = queryResult.models[0];\n  });\n  return result;\n}\nexport function preParseFinder(finderInput, opt) {\n  var finder;\n  if (isString(finderInput)) {\n    var obj = {};\n    obj[finderInput + 'Index'] = 0;\n    finder = obj;\n  } else {\n    finder = finderInput;\n  }\n  var queryOptionMap = createHashMap();\n  var others = {};\n  var mainTypeSpecified = false;\n  each(finder, function (value, key) {\n    // Exclude 'dataIndex' and other illegal keys.\n    if (key === 'dataIndex' || key === 'dataIndexInside') {\n      others[key] = value;\n      return;\n    }\n    var parsedKey = key.match(/^(\\w+)(Index|Id|Name)$/) || [];\n    var mainType = parsedKey[1];\n    var queryType = (parsedKey[2] || '').toLowerCase();\n    if (!mainType || !queryType || opt && opt.includeMainTypes && indexOf(opt.includeMainTypes, mainType) < 0) {\n      return;\n    }\n    mainTypeSpecified = mainTypeSpecified || !!mainType;\n    var queryOption = queryOptionMap.get(mainType) || queryOptionMap.set(mainType, {});\n    queryOption[queryType] = value;\n  });\n  return {\n    mainTypeSpecified: mainTypeSpecified,\n    queryOptionMap: queryOptionMap,\n    others: others\n  };\n}\nexport var SINGLE_REFERRING = {\n  useDefault: true,\n  enableAll: false,\n  enableNone: false\n};\nexport var MULTIPLE_REFERRING = {\n  useDefault: false,\n  enableAll: true,\n  enableNone: true\n};\nexport function queryReferringComponents(ecModel, mainType, userOption, opt) {\n  opt = opt || SINGLE_REFERRING;\n  var indexOption = userOption.index;\n  var idOption = userOption.id;\n  var nameOption = userOption.name;\n  var result = {\n    models: null,\n    specified: indexOption != null || idOption != null || nameOption != null\n  };\n  if (!result.specified) {\n    // Use the first as default if `useDefault`.\n    var firstCmpt = void 0;\n    result.models = opt.useDefault && (firstCmpt = ecModel.getComponent(mainType)) ? [firstCmpt] : [];\n    return result;\n  }\n  if (indexOption === 'none' || indexOption === false) {\n    if (opt.enableNone) {\n      result.models = [];\n      return result;\n    } else {\n      // Do not throw; consider if some component previously does not use this method,\n      // and start to use it, need to be fault-tolerant for backward compatibility.\n      if (process.env.NODE_ENV !== 'production') {\n        error('`\"none\"` or `false` is not a valid value on index option.');\n      }\n      indexOption = -1; // Can not query by index but may still query by id/name if specified.\n    }\n  }\n  // `queryComponents` will return all components if\n  // both all of index/id/name are null/undefined.\n  if (indexOption === 'all') {\n    if (opt.enableAll) {\n      indexOption = idOption = nameOption = null;\n    } else {\n      if (process.env.NODE_ENV !== 'production') {\n        error('`\"all\"` is not a valid value on index option.');\n      }\n      indexOption = -1;\n    }\n  }\n  result.models = ecModel.queryComponents({\n    mainType: mainType,\n    index: indexOption,\n    id: idOption,\n    name: nameOption\n  });\n  return result;\n}\nexport function setAttribute(dom, key, value) {\n  dom.setAttribute ? dom.setAttribute(key, value) : dom[key] = value;\n}\nexport function getAttribute(dom, key) {\n  return dom.getAttribute ? dom.getAttribute(key) : dom[key];\n}\nexport function getTooltipRenderMode(renderModeOption) {\n  if (renderModeOption === 'auto') {\n    // Using html when `document` exists, use richText otherwise\n    return env.domSupported ? 'html' : 'richText';\n  } else {\n    return renderModeOption || 'html';\n  }\n}\n/**\n * Group a list by key.\n */\nexport function groupData(array, getKey // return key\n) {\n  var buckets = createHashMap();\n  var keys = [];\n  each(array, function (item) {\n    var key = getKey(item);\n    (buckets.get(key) || (keys.push(key), buckets.set(key, []))).push(item);\n  });\n  return {\n    keys: keys,\n    buckets: buckets\n  };\n}\n/**\n * Interpolate raw values of a series with percent\n *\n * @param data         data\n * @param labelModel   label model of the text element\n * @param sourceValue  start value. May be null/undefined when init.\n * @param targetValue  end value\n * @param percent      0~1 percentage; 0 uses start value while 1 uses end value\n * @return             interpolated values\n *                     If `sourceValue` and `targetValue` are `number`, return `number`.\n *                     If `sourceValue` and `targetValue` are `string`, return `string`.\n *                     If `sourceValue` and `targetValue` are `(string | number)[]`, return `(string | number)[]`.\n *                     Other cases do not supported.\n */\nexport function interpolateRawValues(data, precision, sourceValue, targetValue, percent) {\n  var isAutoPrecision = precision == null || precision === 'auto';\n  if (targetValue == null) {\n    return targetValue;\n  }\n  if (isNumber(targetValue)) {\n    var value = interpolateNumber(sourceValue || 0, targetValue, percent);\n    return round(value, isAutoPrecision ? Math.max(getPrecision(sourceValue || 0), getPrecision(targetValue)) : precision);\n  } else if (isString(targetValue)) {\n    return percent < 1 ? sourceValue : targetValue;\n  } else {\n    var interpolated = [];\n    var leftArr = sourceValue;\n    var rightArr = targetValue;\n    var length_1 = Math.max(leftArr ? leftArr.length : 0, rightArr.length);\n    for (var i = 0; i < length_1; ++i) {\n      var info = data.getDimensionInfo(i);\n      // Don't interpolate ordinal dims\n      if (info && info.type === 'ordinal') {\n        // In init, there is no `sourceValue`, but should better not to get undefined result.\n        interpolated[i] = (percent < 1 && leftArr ? leftArr : rightArr)[i];\n      } else {\n        var leftVal = leftArr && leftArr[i] ? leftArr[i] : 0;\n        var rightVal = rightArr[i];\n        var value = interpolateNumber(leftVal, rightVal, percent);\n        interpolated[i] = round(value, isAutoPrecision ? Math.max(getPrecision(leftVal), getPrecision(rightVal)) : precision);\n      }\n    }\n    return interpolated;\n  }\n}\n/**\n * Use an iterator to avoid exposing the internal list or duplicating it\n * for the outside traveller, and no extra heap allocation.\n * @usage\n *  for (const it = resetIterator(); it.next();) {\n *      const item = it.item;\n *      const key = it.key;\n *      const itIdx = it.itIdx;\n *      // ...\n *  }\n * @usage\n *  const it = resetIterator();\n *  while (it.next()) { ... }\n * @usage\n *  for (resetIterator(it); it.next();) { ... }\n */\nvar ListIterator = /** @class */function () {\n  function ListIterator() {}\n  /**\n   * The loop condition is `idx < end` if `step > 0`;\n   * The loop condition is `idx >= end` if `step < 0`.\n   *\n   * @param end By default `list.length` if `step > 0`; `0` if `step < 0`.\n   * @param step By default `1`.\n   */\n  ListIterator.prototype.reset = function (list, start, end, step) {\n    this._list = list;\n    this._step = step = step || 1;\n    this._idx = start;\n    this._end = end != null ? end : step > 0 ? list.length : 0;\n    this.item = null;\n    this.key = NaN;\n    return this;\n  };\n  ListIterator.prototype.next = function () {\n    if (this._step > 0 ? this._idx < this._end : this._idx >= this._end) {\n      this.item = this._list[this._idx];\n      this.key = this._idx = this._idx + this._step;\n      return true;\n    }\n    return false;\n  };\n  return ListIterator;\n}();\nexport { ListIterator };\nexport function clearTmpModel(model) {\n  // Clear to avoid memory leak.\n  model.option = model.parentModel = model.ecModel = null;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nvar TYPE_DELIMITER = '.';\nvar IS_CONTAINER = '___EC__COMPONENT__CONTAINER___';\nvar IS_EXTENDED_CLASS = '___EC__EXTENDED_CLASS___';\n/**\n * Notice, parseClassType('') should returns {main: '', sub: ''}\n * @public\n */\nexport function parseClassType(componentType) {\n  var ret = {\n    main: '',\n    sub: ''\n  };\n  if (componentType) {\n    var typeArr = componentType.split(TYPE_DELIMITER);\n    ret.main = typeArr[0] || '';\n    ret.sub = typeArr[1] || '';\n  }\n  return ret;\n}\n/**\n * @public\n */\nfunction checkClassType(componentType) {\n  zrUtil.assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(componentType), 'componentType \"' + componentType + '\" illegal');\n}\nexport function isExtendedClass(clz) {\n  return !!(clz && clz[IS_EXTENDED_CLASS]);\n}\n/**\n * Implements `ExtendableConstructor` for `rootClz`.\n *\n * @usage\n * ```ts\n * class Xxx {}\n * type XxxConstructor = typeof Xxx & ExtendableConstructor\n * enableClassExtend(Xxx as XxxConstructor);\n * ```\n */\nexport function enableClassExtend(rootClz, mandatoryMethods) {\n  rootClz.$constructor = rootClz; // FIXME: not necessary?\n  rootClz.extend = function (proto) {\n    if (process.env.NODE_ENV !== 'production') {\n      zrUtil.each(mandatoryMethods, function (method) {\n        if (!proto[method]) {\n          console.warn('Method `' + method + '` should be implemented' + (proto.type ? ' in ' + proto.type : '') + '.');\n        }\n      });\n    }\n    var superClass = this;\n    var ExtendedClass;\n    if (isESClass(superClass)) {\n      ExtendedClass = /** @class */function (_super) {\n        __extends(class_1, _super);\n        function class_1() {\n          return _super.apply(this, arguments) || this;\n        }\n        return class_1;\n      }(superClass);\n    } else {\n      // For backward compat, we both support ts class inheritance and this\n      // \"extend\" approach.\n      // The constructor should keep the same behavior as ts class inheritance:\n      // If this constructor/$constructor is not declared, auto invoke the super\n      // constructor.\n      // If this constructor/$constructor is declared, it is responsible for\n      // calling the super constructor.\n      ExtendedClass = function () {\n        (proto.$constructor || superClass).apply(this, arguments);\n      };\n      zrUtil.inherits(ExtendedClass, this);\n    }\n    zrUtil.extend(ExtendedClass.prototype, proto);\n    ExtendedClass[IS_EXTENDED_CLASS] = true;\n    ExtendedClass.extend = this.extend;\n    ExtendedClass.superCall = superCall;\n    ExtendedClass.superApply = superApply;\n    ExtendedClass.superClass = superClass;\n    return ExtendedClass;\n  };\n}\nfunction isESClass(fn) {\n  return zrUtil.isFunction(fn) && /^class\\s/.test(Function.prototype.toString.call(fn));\n}\n/**\n * A work around to both support ts extend and this extend mechanism.\n * on sub-class.\n * @usage\n * ```ts\n * class Component { ... }\n * classUtil.enableClassExtend(Component);\n * classUtil.enableClassManagement(Component, {registerWhenExtend: true});\n *\n * class Series extends Component { ... }\n * // Without calling `markExtend`, `registerWhenExtend` will not work.\n * Component.markExtend(Series);\n * ```\n */\nexport function mountExtend(SubClz, SupperClz) {\n  SubClz.extend = SupperClz.extend;\n}\n// A random offset.\nvar classBase = Math.round(Math.random() * 10);\n/**\n * Implements `CheckableConstructor` for `target`.\n * Can not use instanceof, consider different scope by\n * cross domain or es module import in ec extensions.\n * Mount a method \"isInstance()\" to Clz.\n *\n * @usage\n * ```ts\n * class Xxx {}\n * type XxxConstructor = typeof Xxx & CheckableConstructor;\n * enableClassCheck(Xxx as XxxConstructor)\n * ```\n */\nexport function enableClassCheck(target) {\n  var classAttr = ['__\\0is_clz', classBase++].join('_');\n  target.prototype[classAttr] = true;\n  if (process.env.NODE_ENV !== 'production') {\n    zrUtil.assert(!target.isInstance, 'The method \"is\" can not be defined.');\n  }\n  target.isInstance = function (obj) {\n    return !!(obj && obj[classAttr]);\n  };\n}\n// superCall should have class info, which can not be fetched from 'this'.\n// Consider this case:\n// class A has method f,\n// class B inherits class A, overrides method f, f call superApply('f'),\n// class C inherits class B, does not override method f,\n// then when method of class C is called, dead loop occurred.\nfunction superCall(context, methodName) {\n  var args = [];\n  for (var _i = 2; _i < arguments.length; _i++) {\n    args[_i - 2] = arguments[_i];\n  }\n  return this.superClass.prototype[methodName].apply(context, args);\n}\nfunction superApply(context, methodName, args) {\n  return this.superClass.prototype[methodName].apply(context, args);\n}\n/**\n * Implements `ClassManager` for `target`\n *\n * @usage\n * ```ts\n * class Xxx {}\n * type XxxConstructor = typeof Xxx & ClassManager\n * enableClassManagement(Xxx as XxxConstructor);\n * ```\n */\nexport function enableClassManagement(target) {\n  /**\n   * Component model classes\n   * key: componentType,\n   * value:\n   *     componentClass, when componentType is 'a'\n   *     or Object.<subKey, componentClass>, when componentType is 'a.b'\n   */\n  var storage = {};\n  target.registerClass = function (clz) {\n    // `type` should not be a \"instance member\".\n    // If using TS class, should better declared as `static type = 'series.pie'`.\n    // otherwise users have to mount `type` on prototype manually.\n    // For backward compat and enable instance visit type via `this.type`,\n    // we still support fetch `type` from prototype.\n    var componentFullType = clz.type || clz.prototype.type;\n    if (componentFullType) {\n      checkClassType(componentFullType);\n      // If only static type declared, we assign it to prototype mandatorily.\n      clz.prototype.type = componentFullType;\n      var componentTypeInfo = parseClassType(componentFullType);\n      if (!componentTypeInfo.sub) {\n        if (process.env.NODE_ENV !== 'production') {\n          if (storage[componentTypeInfo.main]) {\n            console.warn(componentTypeInfo.main + ' exists.');\n          }\n        }\n        storage[componentTypeInfo.main] = clz;\n      } else if (componentTypeInfo.sub !== IS_CONTAINER) {\n        var container = makeContainer(componentTypeInfo);\n        container[componentTypeInfo.sub] = clz;\n      }\n    }\n    return clz;\n  };\n  target.getClass = function (mainType, subType, throwWhenNotFound) {\n    var clz = storage[mainType];\n    if (clz && clz[IS_CONTAINER]) {\n      clz = subType ? clz[subType] : null;\n    }\n    if (throwWhenNotFound && !clz) {\n      throw new Error(!subType ? mainType + '.' + 'type should be specified.' : 'Component ' + mainType + '.' + (subType || '') + ' is used but not imported.');\n    }\n    return clz;\n  };\n  target.getClassesByMainType = function (componentType) {\n    var componentTypeInfo = parseClassType(componentType);\n    var result = [];\n    var obj = storage[componentTypeInfo.main];\n    if (obj && obj[IS_CONTAINER]) {\n      zrUtil.each(obj, function (o, type) {\n        type !== IS_CONTAINER && result.push(o);\n      });\n    } else {\n      result.push(obj);\n    }\n    return result;\n  };\n  target.hasClass = function (componentType) {\n    // Just consider componentType.main.\n    var componentTypeInfo = parseClassType(componentType);\n    return !!storage[componentTypeInfo.main];\n  };\n  /**\n   * @return Like ['aa', 'bb'], but can not be ['aa.xx']\n   */\n  target.getAllClassMainTypes = function () {\n    var types = [];\n    zrUtil.each(storage, function (obj, type) {\n      types.push(type);\n    });\n    return types;\n  };\n  /**\n   * If a main type is container and has sub types\n   */\n  target.hasSubTypes = function (componentType) {\n    var componentTypeInfo = parseClassType(componentType);\n    var obj = storage[componentTypeInfo.main];\n    return obj && obj[IS_CONTAINER];\n  };\n  function makeContainer(componentTypeInfo) {\n    var container = storage[componentTypeInfo.main];\n    if (!container || !container[IS_CONTAINER]) {\n      container = storage[componentTypeInfo.main] = {};\n      container[IS_CONTAINER] = true;\n    }\n    return container;\n  }\n}\n// /**\n//  * @param {string|Array.<string>} properties\n//  */\n// export function setReadOnly(obj, properties) {\n// FIXME It seems broken in IE8 simulation of IE11\n// if (!zrUtil.isArray(properties)) {\n//     properties = properties != null ? [properties] : [];\n// }\n// zrUtil.each(properties, function (prop) {\n//     let value = obj[prop];\n//     Object.defineProperty\n//         && Object.defineProperty(obj, prop, {\n//             value: value, writable: false\n//         });\n//     zrUtil.isArray(obj[prop])\n//         && Object.freeze\n//         && Object.freeze(obj[prop]);\n// });\n// }","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// TODO Parse shadow style\n// TODO Only shallow path support\nimport * as zrUtil from 'zrender/lib/core/util.js';\nexport default function makeStyleMapper(properties, ignoreParent) {\n  // Normalize\n  for (var i = 0; i < properties.length; i++) {\n    if (!properties[i][1]) {\n      properties[i][1] = properties[i][0];\n    }\n  }\n  ignoreParent = ignoreParent || false;\n  return function (model, excludes, includes) {\n    var style = {};\n    for (var i = 0; i < properties.length; i++) {\n      var propName = properties[i][1];\n      if (excludes && zrUtil.indexOf(excludes, propName) >= 0 || includes && zrUtil.indexOf(includes, propName) < 0) {\n        continue;\n      }\n      var val = model.getShallow(propName, ignoreParent);\n      if (val != null) {\n        style[properties[i][0]] = val;\n      }\n    }\n    // TODO Text or image?\n    return style;\n  };\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport makeStyleMapper from './makeStyleMapper.js';\nexport var AREA_STYLE_KEY_MAP = [['fill', 'color'], ['shadowBlur'], ['shadowOffsetX'], ['shadowOffsetY'], ['opacity'], ['shadowColor']\n// Option decal is in `DecalObject` but style.decal is in `PatternObject`.\n// So do not transfer decal directly.\n];\nvar getAreaStyle = makeStyleMapper(AREA_STYLE_KEY_MAP);\nvar AreaStyleMixin = /** @class */function () {\n  function AreaStyleMixin() {}\n  AreaStyleMixin.prototype.getAreaStyle = function (excludes, includes) {\n    return getAreaStyle(this, excludes, includes);\n  };\n  return AreaStyleMixin;\n}();\n;\nexport { AreaStyleMixin };","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { makeInner } from './model.js';\nexport var getECData = makeInner();\nexport var setCommonECData = function (seriesIndex, dataType, dataIdx, el) {\n  if (el) {\n    var ecData = getECData(el);\n    // Add data index and series index for indexing the data by element\n    // Useful in tooltip\n    ecData.dataIndex = dataIdx;\n    ecData.dataType = dataType;\n    ecData.seriesIndex = seriesIndex;\n    ecData.ssrType = 'chart';\n    // TODO: not store dataIndex on children.\n    if (el.type === 'group') {\n      el.traverse(function (child) {\n        var childECData = getECData(child);\n        childECData.seriesIndex = seriesIndex;\n        childECData.dataIndex = dataIdx;\n        childECData.dataType = dataType;\n        childECData.ssrType = 'chart';\n      });\n    }\n  }\n};","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { extend, indexOf, isArrayLike, isObject, keys, isArray, each } from 'zrender/lib/core/util.js';\nimport { getECData } from './innerStore.js';\nimport { liftColor } from 'zrender/lib/tool/color.js';\nimport { queryDataIndex, makeInner } from './model.js';\nimport Path from 'zrender/lib/graphic/Path.js';\nimport { error } from './log.js';\n// Reserve 0 as default.\nvar _highlightNextDigit = 1;\nvar _highlightKeyMap = {};\nvar getSavedStates = makeInner();\nvar getComponentStates = makeInner();\nexport var HOVER_STATE_NORMAL = 0;\nexport var HOVER_STATE_BLUR = 1;\nexport var HOVER_STATE_EMPHASIS = 2;\nexport var SPECIAL_STATES = ['emphasis', 'blur', 'select'];\nexport var DISPLAY_STATES = ['normal', 'emphasis', 'blur', 'select'];\nexport var Z2_EMPHASIS_LIFT = 10;\nexport var Z2_SELECT_LIFT = 9;\nexport var HIGHLIGHT_ACTION_TYPE = 'highlight';\nexport var DOWNPLAY_ACTION_TYPE = 'downplay';\nexport var SELECT_ACTION_TYPE = 'select';\nexport var UNSELECT_ACTION_TYPE = 'unselect';\nexport var TOGGLE_SELECT_ACTION_TYPE = 'toggleSelect';\nexport var SELECT_CHANGED_EVENT_TYPE = 'selectchanged';\nfunction hasFillOrStroke(fillOrStroke) {\n  return fillOrStroke != null && fillOrStroke !== 'none';\n}\nfunction doChangeHoverState(el, stateName, hoverStateEnum) {\n  if (el.onHoverStateChange && (el.hoverState || 0) !== hoverStateEnum) {\n    el.onHoverStateChange(stateName);\n  }\n  el.hoverState = hoverStateEnum;\n}\nfunction singleEnterEmphasis(el) {\n  // Only mark the flag.\n  // States will be applied in the echarts.ts in next frame.\n  doChangeHoverState(el, 'emphasis', HOVER_STATE_EMPHASIS);\n}\nfunction singleLeaveEmphasis(el) {\n  // Only mark the flag.\n  // States will be applied in the echarts.ts in next frame.\n  if (el.hoverState === HOVER_STATE_EMPHASIS) {\n    doChangeHoverState(el, 'normal', HOVER_STATE_NORMAL);\n  }\n}\nfunction singleEnterBlur(el) {\n  doChangeHoverState(el, 'blur', HOVER_STATE_BLUR);\n}\nfunction singleLeaveBlur(el) {\n  if (el.hoverState === HOVER_STATE_BLUR) {\n    doChangeHoverState(el, 'normal', HOVER_STATE_NORMAL);\n  }\n}\nfunction singleEnterSelect(el) {\n  el.selected = true;\n}\nfunction singleLeaveSelect(el) {\n  el.selected = false;\n}\nfunction updateElementState(el, updater, commonParam) {\n  updater(el, commonParam);\n}\nfunction traverseUpdateState(el, updater, commonParam) {\n  updateElementState(el, updater, commonParam);\n  el.isGroup && el.traverse(function (child) {\n    updateElementState(child, updater, commonParam);\n  });\n}\nexport function setStatesFlag(el, stateName) {\n  switch (stateName) {\n    case 'emphasis':\n      el.hoverState = HOVER_STATE_EMPHASIS;\n      break;\n    case 'normal':\n      el.hoverState = HOVER_STATE_NORMAL;\n      break;\n    case 'blur':\n      el.hoverState = HOVER_STATE_BLUR;\n      break;\n    case 'select':\n      el.selected = true;\n  }\n}\n/**\n * If we reuse elements when rerender.\n * DON'T forget to clearStates before we update the style and shape.\n * Or we may update on the wrong state instead of normal state.\n */\nexport function clearStates(el) {\n  if (el.isGroup) {\n    el.traverse(function (child) {\n      child.clearStates();\n    });\n  } else {\n    el.clearStates();\n  }\n}\nfunction getFromStateStyle(el, props, toStateName, defaultValue) {\n  var style = el.style;\n  var fromState = {};\n  for (var i = 0; i < props.length; i++) {\n    var propName = props[i];\n    var val = style[propName];\n    fromState[propName] = val == null ? defaultValue && defaultValue[propName] : val;\n  }\n  for (var i = 0; i < el.animators.length; i++) {\n    var animator = el.animators[i];\n    if (animator.__fromStateTransition\n    // Don't consider the animation to emphasis state.\n    && animator.__fromStateTransition.indexOf(toStateName) < 0 && animator.targetName === 'style') {\n      animator.saveTo(fromState, props);\n    }\n  }\n  return fromState;\n}\nfunction createEmphasisDefaultState(el, stateName, targetStates, state) {\n  var hasSelect = targetStates && indexOf(targetStates, 'select') >= 0;\n  var cloned = false;\n  if (el instanceof Path) {\n    var store = getSavedStates(el);\n    var fromFill = hasSelect ? store.selectFill || store.normalFill : store.normalFill;\n    var fromStroke = hasSelect ? store.selectStroke || store.normalStroke : store.normalStroke;\n    if (hasFillOrStroke(fromFill) || hasFillOrStroke(fromStroke)) {\n      state = state || {};\n      var emphasisStyle = state.style || {};\n      // inherit case\n      if (emphasisStyle.fill === 'inherit') {\n        cloned = true;\n        state = extend({}, state);\n        emphasisStyle = extend({}, emphasisStyle);\n        emphasisStyle.fill = fromFill;\n      }\n      // Apply default color lift\n      else if (!hasFillOrStroke(emphasisStyle.fill) && hasFillOrStroke(fromFill)) {\n        cloned = true;\n        // Not modify the original value.\n        state = extend({}, state);\n        emphasisStyle = extend({}, emphasisStyle);\n        // Already being applied 'emphasis'. DON'T lift color multiple times.\n        emphasisStyle.fill = liftColor(fromFill);\n      }\n      // Not highlight stroke if fill has been highlighted.\n      else if (!hasFillOrStroke(emphasisStyle.stroke) && hasFillOrStroke(fromStroke)) {\n        if (!cloned) {\n          state = extend({}, state);\n          emphasisStyle = extend({}, emphasisStyle);\n        }\n        emphasisStyle.stroke = liftColor(fromStroke);\n      }\n      state.style = emphasisStyle;\n    }\n  }\n  if (state) {\n    // TODO Share with textContent?\n    if (state.z2 == null) {\n      if (!cloned) {\n        state = extend({}, state);\n      }\n      var z2EmphasisLift = el.z2EmphasisLift;\n      state.z2 = el.z2 + (z2EmphasisLift != null ? z2EmphasisLift : Z2_EMPHASIS_LIFT);\n    }\n  }\n  return state;\n}\nfunction createSelectDefaultState(el, stateName, state) {\n  // const hasSelect = indexOf(el.currentStates, stateName) >= 0;\n  if (state) {\n    // TODO Share with textContent?\n    if (state.z2 == null) {\n      state = extend({}, state);\n      var z2SelectLift = el.z2SelectLift;\n      state.z2 = el.z2 + (z2SelectLift != null ? z2SelectLift : Z2_SELECT_LIFT);\n    }\n  }\n  return state;\n}\nfunction createBlurDefaultState(el, stateName, state) {\n  var hasBlur = indexOf(el.currentStates, stateName) >= 0;\n  var currentOpacity = el.style.opacity;\n  var fromState = !hasBlur ? getFromStateStyle(el, ['opacity'], stateName, {\n    opacity: 1\n  }) : null;\n  state = state || {};\n  var blurStyle = state.style || {};\n  if (blurStyle.opacity == null) {\n    // clone state\n    state = extend({}, state);\n    blurStyle = extend({\n      // Already being applied 'emphasis'. DON'T mul opacity multiple times.\n      opacity: hasBlur ? currentOpacity : fromState.opacity * 0.1\n    }, blurStyle);\n    state.style = blurStyle;\n  }\n  return state;\n}\nfunction elementStateProxy(stateName, targetStates) {\n  var state = this.states[stateName];\n  if (this.style) {\n    if (stateName === 'emphasis') {\n      return createEmphasisDefaultState(this, stateName, targetStates, state);\n    } else if (stateName === 'blur') {\n      return createBlurDefaultState(this, stateName, state);\n    } else if (stateName === 'select') {\n      return createSelectDefaultState(this, stateName, state);\n    }\n  }\n  return state;\n}\n/**\n * Set hover style (namely \"emphasis style\") of element.\n * @param el Should not be `zrender/graphic/Group`.\n * @param focus 'self' | 'selfInSeries' | 'series'\n */\nexport function setDefaultStateProxy(el) {\n  el.stateProxy = elementStateProxy;\n  var textContent = el.getTextContent();\n  var textGuide = el.getTextGuideLine();\n  if (textContent) {\n    textContent.stateProxy = elementStateProxy;\n  }\n  if (textGuide) {\n    textGuide.stateProxy = elementStateProxy;\n  }\n}\nexport function enterEmphasisWhenMouseOver(el, e) {\n  !shouldSilent(el, e)\n  // \"emphasis\" event highlight has higher priority than mouse highlight.\n  && !el.__highByOuter && traverseUpdateState(el, singleEnterEmphasis);\n}\nexport function leaveEmphasisWhenMouseOut(el, e) {\n  !shouldSilent(el, e)\n  // \"emphasis\" event highlight has higher priority than mouse highlight.\n  && !el.__highByOuter && traverseUpdateState(el, singleLeaveEmphasis);\n}\nexport function enterEmphasis(el, highlightDigit) {\n  el.__highByOuter |= 1 << (highlightDigit || 0);\n  traverseUpdateState(el, singleEnterEmphasis);\n}\nexport function leaveEmphasis(el, highlightDigit) {\n  !(el.__highByOuter &= ~(1 << (highlightDigit || 0))) && traverseUpdateState(el, singleLeaveEmphasis);\n}\nexport function enterBlur(el) {\n  traverseUpdateState(el, singleEnterBlur);\n}\nexport function leaveBlur(el) {\n  traverseUpdateState(el, singleLeaveBlur);\n}\nexport function enterSelect(el) {\n  traverseUpdateState(el, singleEnterSelect);\n}\nexport function leaveSelect(el) {\n  traverseUpdateState(el, singleLeaveSelect);\n}\nfunction shouldSilent(el, e) {\n  return el.__highDownSilentOnTouch && e.zrByTouch;\n}\nexport function allLeaveBlur(api) {\n  var model = api.getModel();\n  var leaveBlurredSeries = [];\n  var allComponentViews = [];\n  model.eachComponent(function (componentType, componentModel) {\n    var componentStates = getComponentStates(componentModel);\n    var isSeries = componentType === 'series';\n    var view = isSeries ? api.getViewOfSeriesModel(componentModel) : api.getViewOfComponentModel(componentModel);\n    !isSeries && allComponentViews.push(view);\n    if (componentStates.isBlured) {\n      // Leave blur anyway\n      view.group.traverse(function (child) {\n        singleLeaveBlur(child);\n      });\n      isSeries && leaveBlurredSeries.push(componentModel);\n    }\n    componentStates.isBlured = false;\n  });\n  each(allComponentViews, function (view) {\n    if (view && view.toggleBlurSeries) {\n      view.toggleBlurSeries(leaveBlurredSeries, false, model);\n    }\n  });\n}\nexport function blurSeries(targetSeriesIndex, focus, blurScope, api) {\n  var ecModel = api.getModel();\n  blurScope = blurScope || 'coordinateSystem';\n  function leaveBlurOfIndices(data, dataIndices) {\n    for (var i = 0; i < dataIndices.length; i++) {\n      var itemEl = data.getItemGraphicEl(dataIndices[i]);\n      itemEl && leaveBlur(itemEl);\n    }\n  }\n  if (targetSeriesIndex == null) {\n    return;\n  }\n  if (!focus || focus === 'none') {\n    return;\n  }\n  var targetSeriesModel = ecModel.getSeriesByIndex(targetSeriesIndex);\n  var targetCoordSys = targetSeriesModel.coordinateSystem;\n  if (targetCoordSys && targetCoordSys.master) {\n    targetCoordSys = targetCoordSys.master;\n  }\n  var blurredSeries = [];\n  ecModel.eachSeries(function (seriesModel) {\n    var sameSeries = targetSeriesModel === seriesModel;\n    var coordSys = seriesModel.coordinateSystem;\n    if (coordSys && coordSys.master) {\n      coordSys = coordSys.master;\n    }\n    var sameCoordSys = coordSys && targetCoordSys ? coordSys === targetCoordSys : sameSeries; // If there is no coordinate system. use sameSeries instead.\n    if (!(\n    // Not blur other series if blurScope series\n    blurScope === 'series' && !sameSeries\n    // Not blur other coordinate system if blurScope is coordinateSystem\n    || blurScope === 'coordinateSystem' && !sameCoordSys\n    // Not blur self series if focus is series.\n    || focus === 'series' && sameSeries\n    // TODO blurScope: coordinate system\n    )) {\n      var view = api.getViewOfSeriesModel(seriesModel);\n      view.group.traverse(function (child) {\n        // For the elements that have been triggered by other components,\n        // and are still required to be highlighted,\n        // because the current is directly forced to blur the element,\n        // it will cause the focus self to be unable to highlight, so skip the blur of this element.\n        if (child.__highByOuter && sameSeries && focus === 'self') {\n          return;\n        }\n        singleEnterBlur(child);\n      });\n      if (isArrayLike(focus)) {\n        leaveBlurOfIndices(seriesModel.getData(), focus);\n      } else if (isObject(focus)) {\n        var dataTypes = keys(focus);\n        for (var d = 0; d < dataTypes.length; d++) {\n          leaveBlurOfIndices(seriesModel.getData(dataTypes[d]), focus[dataTypes[d]]);\n        }\n      }\n      blurredSeries.push(seriesModel);\n      getComponentStates(seriesModel).isBlured = true;\n    }\n  });\n  ecModel.eachComponent(function (componentType, componentModel) {\n    if (componentType === 'series') {\n      return;\n    }\n    var view = api.getViewOfComponentModel(componentModel);\n    if (view && view.toggleBlurSeries) {\n      view.toggleBlurSeries(blurredSeries, true, ecModel);\n    }\n  });\n}\nexport function blurComponent(componentMainType, componentIndex, api) {\n  if (componentMainType == null || componentIndex == null) {\n    return;\n  }\n  var componentModel = api.getModel().getComponent(componentMainType, componentIndex);\n  if (!componentModel) {\n    return;\n  }\n  getComponentStates(componentModel).isBlured = true;\n  var view = api.getViewOfComponentModel(componentModel);\n  if (!view || !view.focusBlurEnabled) {\n    return;\n  }\n  view.group.traverse(function (child) {\n    singleEnterBlur(child);\n  });\n}\nexport function blurSeriesFromHighlightPayload(seriesModel, payload, api) {\n  var seriesIndex = seriesModel.seriesIndex;\n  var data = seriesModel.getData(payload.dataType);\n  if (!data) {\n    if (process.env.NODE_ENV !== 'production') {\n      error(\"Unknown dataType \" + payload.dataType);\n    }\n    return;\n  }\n  var dataIndex = queryDataIndex(data, payload);\n  // Pick the first one if there is multiple/none exists.\n  dataIndex = (isArray(dataIndex) ? dataIndex[0] : dataIndex) || 0;\n  var el = data.getItemGraphicEl(dataIndex);\n  if (!el) {\n    var count = data.count();\n    var current = 0;\n    // If data on dataIndex is NaN.\n    while (!el && current < count) {\n      el = data.getItemGraphicEl(current++);\n    }\n  }\n  if (el) {\n    var ecData = getECData(el);\n    blurSeries(seriesIndex, ecData.focus, ecData.blurScope, api);\n  } else {\n    // If there is no element put on the data. Try getting it from raw option\n    // TODO Should put it on seriesModel?\n    var focus_1 = seriesModel.get(['emphasis', 'focus']);\n    var blurScope = seriesModel.get(['emphasis', 'blurScope']);\n    if (focus_1 != null) {\n      blurSeries(seriesIndex, focus_1, blurScope, api);\n    }\n  }\n}\nexport function findComponentHighDownDispatchers(componentMainType, componentIndex, name, api) {\n  var ret = {\n    focusSelf: false,\n    dispatchers: null\n  };\n  if (componentMainType == null || componentMainType === 'series' || componentIndex == null || name == null) {\n    return ret;\n  }\n  var componentModel = api.getModel().getComponent(componentMainType, componentIndex);\n  if (!componentModel) {\n    return ret;\n  }\n  var view = api.getViewOfComponentModel(componentModel);\n  if (!view || !view.findHighDownDispatchers) {\n    return ret;\n  }\n  var dispatchers = view.findHighDownDispatchers(name);\n  // At presnet, the component (like Geo) only blur inside itself.\n  // So we do not use `blurScope` in component.\n  var focusSelf;\n  for (var i = 0; i < dispatchers.length; i++) {\n    if (process.env.NODE_ENV !== 'production' && !isHighDownDispatcher(dispatchers[i])) {\n      error('param should be highDownDispatcher');\n    }\n    if (getECData(dispatchers[i]).focus === 'self') {\n      focusSelf = true;\n      break;\n    }\n  }\n  return {\n    focusSelf: focusSelf,\n    dispatchers: dispatchers\n  };\n}\nexport function handleGlobalMouseOverForHighDown(dispatcher, e, api) {\n  if (process.env.NODE_ENV !== 'production' && !isHighDownDispatcher(dispatcher)) {\n    error('param should be highDownDispatcher');\n  }\n  var ecData = getECData(dispatcher);\n  var _a = findComponentHighDownDispatchers(ecData.componentMainType, ecData.componentIndex, ecData.componentHighDownName, api),\n    dispatchers = _a.dispatchers,\n    focusSelf = _a.focusSelf;\n  // If `findHighDownDispatchers` is supported on the component,\n  // highlight/downplay elements with the same name.\n  if (dispatchers) {\n    if (focusSelf) {\n      blurComponent(ecData.componentMainType, ecData.componentIndex, api);\n    }\n    each(dispatchers, function (dispatcher) {\n      return enterEmphasisWhenMouseOver(dispatcher, e);\n    });\n  } else {\n    // Try blur all in the related series. Then emphasis the hoverred.\n    // TODO. progressive mode.\n    blurSeries(ecData.seriesIndex, ecData.focus, ecData.blurScope, api);\n    if (ecData.focus === 'self') {\n      blurComponent(ecData.componentMainType, ecData.componentIndex, api);\n    }\n    // Other than series, component that not support `findHighDownDispatcher` will\n    // also use it. But in this case, highlight/downplay are only supported in\n    // mouse hover but not in dispatchAction.\n    enterEmphasisWhenMouseOver(dispatcher, e);\n  }\n}\nexport function handleGlobalMouseOutForHighDown(dispatcher, e, api) {\n  if (process.env.NODE_ENV !== 'production' && !isHighDownDispatcher(dispatcher)) {\n    error('param should be highDownDispatcher');\n  }\n  allLeaveBlur(api);\n  var ecData = getECData(dispatcher);\n  var dispatchers = findComponentHighDownDispatchers(ecData.componentMainType, ecData.componentIndex, ecData.componentHighDownName, api).dispatchers;\n  if (dispatchers) {\n    each(dispatchers, function (dispatcher) {\n      return leaveEmphasisWhenMouseOut(dispatcher, e);\n    });\n  } else {\n    leaveEmphasisWhenMouseOut(dispatcher, e);\n  }\n}\nexport function toggleSelectionFromPayload(seriesModel, payload, api) {\n  if (!isSelectChangePayload(payload)) {\n    return;\n  }\n  var dataType = payload.dataType;\n  var data = seriesModel.getData(dataType);\n  var dataIndex = queryDataIndex(data, payload);\n  if (!isArray(dataIndex)) {\n    dataIndex = [dataIndex];\n  }\n  seriesModel[payload.type === TOGGLE_SELECT_ACTION_TYPE ? 'toggleSelect' : payload.type === SELECT_ACTION_TYPE ? 'select' : 'unselect'](dataIndex, dataType);\n}\nexport function updateSeriesElementSelection(seriesModel) {\n  var allData = seriesModel.getAllData();\n  each(allData, function (_a) {\n    var data = _a.data,\n      type = _a.type;\n    data.eachItemGraphicEl(function (el, idx) {\n      seriesModel.isSelected(idx, type) ? enterSelect(el) : leaveSelect(el);\n    });\n  });\n}\nexport function getAllSelectedIndices(ecModel) {\n  var ret = [];\n  ecModel.eachSeries(function (seriesModel) {\n    var allData = seriesModel.getAllData();\n    each(allData, function (_a) {\n      var data = _a.data,\n        type = _a.type;\n      var dataIndices = seriesModel.getSelectedDataIndices();\n      if (dataIndices.length > 0) {\n        var item = {\n          dataIndex: dataIndices,\n          seriesIndex: seriesModel.seriesIndex\n        };\n        if (type != null) {\n          item.dataType = type;\n        }\n        ret.push(item);\n      }\n    });\n  });\n  return ret;\n}\n/**\n * Enable the function that mouseover will trigger the emphasis state.\n *\n * NOTE:\n * This function should be used on the element with dataIndex, seriesIndex.\n *\n */\nexport function enableHoverEmphasis(el, focus, blurScope) {\n  setAsHighDownDispatcher(el, true);\n  traverseUpdateState(el, setDefaultStateProxy);\n  enableHoverFocus(el, focus, blurScope);\n}\nexport function disableHoverEmphasis(el) {\n  setAsHighDownDispatcher(el, false);\n}\nexport function toggleHoverEmphasis(el, focus, blurScope, isDisabled) {\n  isDisabled ? disableHoverEmphasis(el) : enableHoverEmphasis(el, focus, blurScope);\n}\nexport function enableHoverFocus(el, focus, blurScope) {\n  var ecData = getECData(el);\n  if (focus != null) {\n    // TODO dataIndex may be set after this function. This check is not useful.\n    // if (ecData.dataIndex == null) {\n    //     if (__DEV__) {\n    //         console.warn('focus can only been set on element with dataIndex');\n    //     }\n    // }\n    // else {\n    ecData.focus = focus;\n    ecData.blurScope = blurScope;\n    // }\n  } else if (ecData.focus) {\n    ecData.focus = null;\n  }\n}\nvar OTHER_STATES = ['emphasis', 'blur', 'select'];\nvar defaultStyleGetterMap = {\n  itemStyle: 'getItemStyle',\n  lineStyle: 'getLineStyle',\n  areaStyle: 'getAreaStyle'\n};\n/**\n * Set emphasis/blur/selected states of element.\n */\nexport function setStatesStylesFromModel(el, itemModel, styleType,\n// default itemStyle\ngetter) {\n  styleType = styleType || 'itemStyle';\n  for (var i = 0; i < OTHER_STATES.length; i++) {\n    var stateName = OTHER_STATES[i];\n    var model = itemModel.getModel([stateName, styleType]);\n    var state = el.ensureState(stateName);\n    // Let it throw error if getterType is not found.\n    state.style = getter ? getter(model) : model[defaultStyleGetterMap[styleType]]();\n  }\n}\n/**\n *\n * Set element as highlight / downplay dispatcher.\n * It will be checked when element received mouseover event or from highlight action.\n * It's in change of all highlight/downplay behavior of it's children.\n *\n * @param el\n * @param el.highDownSilentOnTouch\n *        In touch device, mouseover event will be trigger on touchstart event\n *        (see module:zrender/dom/HandlerProxy). By this mechanism, we can\n *        conveniently use hoverStyle when tap on touch screen without additional\n *        code for compatibility.\n *        But if the chart/component has select feature, which usually also use\n *        hoverStyle, there might be conflict between 'select-highlight' and\n *        'hover-highlight' especially when roam is enabled (see geo for example).\n *        In this case, `highDownSilentOnTouch` should be used to disable\n *        hover-highlight on touch device.\n * @param asDispatcher If `false`, do not set as \"highDownDispatcher\".\n */\nexport function setAsHighDownDispatcher(el, asDispatcher) {\n  var disable = asDispatcher === false;\n  var extendedEl = el;\n  // Make `highDownSilentOnTouch` and `onStateChange` only work after\n  // `setAsHighDownDispatcher` called. Avoid it is modified by user unexpectedly.\n  if (el.highDownSilentOnTouch) {\n    extendedEl.__highDownSilentOnTouch = el.highDownSilentOnTouch;\n  }\n  // Simple optimize, since this method might be\n  // called for each elements of a group in some cases.\n  if (!disable || extendedEl.__highDownDispatcher) {\n    // Emphasis, normal can be triggered manually by API or other components like hover link.\n    // el[method]('emphasis', onElementEmphasisEvent)[method]('normal', onElementNormalEvent);\n    // Also keep previous record.\n    extendedEl.__highByOuter = extendedEl.__highByOuter || 0;\n    extendedEl.__highDownDispatcher = !disable;\n  }\n}\nexport function isHighDownDispatcher(el) {\n  return !!(el && el.__highDownDispatcher);\n}\n/**\n * Enable component highlight/downplay features:\n * + hover link (within the same name)\n * + focus blur in component\n */\nexport function enableComponentHighDownFeatures(el, componentModel, componentHighDownName) {\n  var ecData = getECData(el);\n  ecData.componentMainType = componentModel.mainType;\n  ecData.componentIndex = componentModel.componentIndex;\n  ecData.componentHighDownName = componentHighDownName;\n}\n/**\n * Support highlight/downplay record on each elements.\n * For the case: hover highlight/downplay (legend, visualMap, ...) and\n * user triggered highlight/downplay should not conflict.\n * Only all of the highlightDigit cleared, return to normal.\n * @param {string} highlightKey\n * @return {number} highlightDigit\n */\nexport function getHighlightDigit(highlightKey) {\n  var highlightDigit = _highlightKeyMap[highlightKey];\n  if (highlightDigit == null && _highlightNextDigit <= 32) {\n    highlightDigit = _highlightKeyMap[highlightKey] = _highlightNextDigit++;\n  }\n  return highlightDigit;\n}\nexport function isSelectChangePayload(payload) {\n  var payloadType = payload.type;\n  return payloadType === SELECT_ACTION_TYPE || payloadType === UNSELECT_ACTION_TYPE || payloadType === TOGGLE_SELECT_ACTION_TYPE;\n}\nexport function isHighDownPayload(payload) {\n  var payloadType = payload.type;\n  return payloadType === HIGHLIGHT_ACTION_TYPE || payloadType === DOWNPLAY_ACTION_TYPE;\n}\nexport function savePathStates(el) {\n  var store = getSavedStates(el);\n  store.normalFill = el.style.fill;\n  store.normalStroke = el.style.stroke;\n  var selectState = el.states.select || {};\n  store.selectFill = selectState.style && selectState.style.fill || null;\n  store.selectStroke = selectState.style && selectState.style.stroke || null;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { isFunction, isObject, retrieve2 } from 'zrender/lib/core/util.js';\nimport { makeInner } from '../util/model.js';\n// Stored properties for further transition.\nexport var transitionStore = makeInner();\n/**\n * Return null if animation is disabled.\n */\nexport function getAnimationConfig(animationType, animatableModel, dataIndex,\n// Extra opts can override the option in animatable model.\nextraOpts,\n// TODO It's only for pictorial bar now.\nextraDelayParams) {\n  var animationPayload;\n  // Check if there is global animation configuration from dataZoom/resize can override the config in option.\n  // If animation is enabled. Will use this animation config in payload.\n  // If animation is disabled. Just ignore it.\n  if (animatableModel && animatableModel.ecModel) {\n    var updatePayload = animatableModel.ecModel.getUpdatePayload();\n    animationPayload = updatePayload && updatePayload.animation;\n  }\n  var animationEnabled = animatableModel && animatableModel.isAnimationEnabled();\n  var isUpdate = animationType === 'update';\n  if (animationEnabled) {\n    var duration = void 0;\n    var easing = void 0;\n    var delay = void 0;\n    if (extraOpts) {\n      duration = retrieve2(extraOpts.duration, 200);\n      easing = retrieve2(extraOpts.easing, 'cubicOut');\n      delay = 0;\n    } else {\n      duration = animatableModel.getShallow(isUpdate ? 'animationDurationUpdate' : 'animationDuration');\n      easing = animatableModel.getShallow(isUpdate ? 'animationEasingUpdate' : 'animationEasing');\n      delay = animatableModel.getShallow(isUpdate ? 'animationDelayUpdate' : 'animationDelay');\n    }\n    // animation from payload has highest priority.\n    if (animationPayload) {\n      animationPayload.duration != null && (duration = animationPayload.duration);\n      animationPayload.easing != null && (easing = animationPayload.easing);\n      animationPayload.delay != null && (delay = animationPayload.delay);\n    }\n    if (isFunction(delay)) {\n      delay = delay(dataIndex, extraDelayParams);\n    }\n    if (isFunction(duration)) {\n      duration = duration(dataIndex);\n    }\n    var config = {\n      duration: duration || 0,\n      delay: delay,\n      easing: easing\n    };\n    return config;\n  } else {\n    return null;\n  }\n}\nfunction animateOrSetProps(animationType, el, props, animatableModel, dataIndex, cb, during) {\n  var isFrom = false;\n  var removeOpt;\n  if (isFunction(dataIndex)) {\n    during = cb;\n    cb = dataIndex;\n    dataIndex = null;\n  } else if (isObject(dataIndex)) {\n    cb = dataIndex.cb;\n    during = dataIndex.during;\n    isFrom = dataIndex.isFrom;\n    removeOpt = dataIndex.removeOpt;\n    dataIndex = dataIndex.dataIndex;\n  }\n  var isRemove = animationType === 'leave';\n  if (!isRemove) {\n    // Must stop the remove animation.\n    el.stopAnimation('leave');\n  }\n  var animationConfig = getAnimationConfig(animationType, animatableModel, dataIndex, isRemove ? removeOpt || {} : null, animatableModel && animatableModel.getAnimationDelayParams ? animatableModel.getAnimationDelayParams(el, dataIndex) : null);\n  if (animationConfig && animationConfig.duration > 0) {\n    var duration = animationConfig.duration;\n    var animationDelay = animationConfig.delay;\n    var animationEasing = animationConfig.easing;\n    var animateConfig = {\n      duration: duration,\n      delay: animationDelay || 0,\n      easing: animationEasing,\n      done: cb,\n      force: !!cb || !!during,\n      // Set to final state in update/init animation.\n      // So the post processing based on the path shape can be done correctly.\n      setToFinal: !isRemove,\n      scope: animationType,\n      during: during\n    };\n    isFrom ? el.animateFrom(props, animateConfig) : el.animateTo(props, animateConfig);\n  } else {\n    el.stopAnimation();\n    // If `isFrom`, the props is the \"from\" props.\n    !isFrom && el.attr(props);\n    // Call during at least once.\n    during && during(1);\n    cb && cb();\n  }\n}\n/**\n * Update graphic element properties with or without animation according to the\n * configuration in series.\n *\n * Caution: this method will stop previous animation.\n * So do not use this method to one element twice before\n * animation starts, unless you know what you are doing.\n * @example\n *     graphic.updateProps(el, {\n *         position: [100, 100]\n *     }, seriesModel, dataIndex, function () { console.log('Animation done!'); });\n *     // Or\n *     graphic.updateProps(el, {\n *         position: [100, 100]\n *     }, seriesModel, function () { console.log('Animation done!'); });\n */\nfunction updateProps(el, props,\n// TODO: TYPE AnimatableModel\nanimatableModel, dataIndex, cb, during) {\n  animateOrSetProps('update', el, props, animatableModel, dataIndex, cb, during);\n}\nexport { updateProps };\n/**\n * Init graphic element properties with or without animation according to the\n * configuration in series.\n *\n * Caution: this method will stop previous animation.\n * So do not use this method to one element twice before\n * animation starts, unless you know what you are doing.\n */\nexport function initProps(el, props, animatableModel, dataIndex, cb, during) {\n  animateOrSetProps('enter', el, props, animatableModel, dataIndex, cb, during);\n}\n/**\n * If element is removed.\n * It can determine if element is having remove animation.\n */\nexport function isElementRemoved(el) {\n  if (!el.__zr) {\n    return true;\n  }\n  for (var i = 0; i < el.animators.length; i++) {\n    var animator = el.animators[i];\n    if (animator.scope === 'leave') {\n      return true;\n    }\n  }\n  return false;\n}\n/**\n * Remove graphic element\n */\nexport function removeElement(el, props, animatableModel, dataIndex, cb, during) {\n  // Don't do remove animation twice.\n  if (isElementRemoved(el)) {\n    return;\n  }\n  animateOrSetProps('leave', el, props, animatableModel, dataIndex, cb, during);\n}\nfunction fadeOutDisplayable(el, animatableModel, dataIndex, done) {\n  el.removeTextContent();\n  el.removeTextGuideLine();\n  removeElement(el, {\n    style: {\n      opacity: 0\n    }\n  }, animatableModel, dataIndex, done);\n}\nexport function removeElementWithFadeOut(el, animatableModel, dataIndex) {\n  function doRemove() {\n    el.parent && el.parent.remove(el);\n  }\n  // Hide label and labelLine first\n  // TODO Also use fade out animation?\n  if (!el.isGroup) {\n    fadeOutDisplayable(el, animatableModel, dataIndex, doRemove);\n  } else {\n    el.traverse(function (disp) {\n      if (!disp.isGroup) {\n        // Can invoke doRemove multiple times.\n        fadeOutDisplayable(disp, animatableModel, dataIndex, doRemove);\n      }\n    });\n  }\n}\n/**\n * Save old style for style transition in universalTransition module.\n * It's used when element will be reused in each render.\n * For chart like map, heatmap, which will always create new element.\n * We don't need to save this because universalTransition can get old style from the old element\n */\nexport function saveOldStyle(el) {\n  transitionStore(el).oldStyle = el.style;\n}\nexport function getOldStyle(el) {\n  return transitionStore(el).oldStyle;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as pathTool from 'zrender/lib/tool/path.js';\nimport * as matrix from 'zrender/lib/core/matrix.js';\nimport * as vector from 'zrender/lib/core/vector.js';\nimport Path from 'zrender/lib/graphic/Path.js';\nimport Transformable from 'zrender/lib/core/Transformable.js';\nimport ZRImage from 'zrender/lib/graphic/Image.js';\nimport Group from 'zrender/lib/graphic/Group.js';\nimport ZRText from 'zrender/lib/graphic/Text.js';\nimport Circle from 'zrender/lib/graphic/shape/Circle.js';\nimport Ellipse from 'zrender/lib/graphic/shape/Ellipse.js';\nimport Sector from 'zrender/lib/graphic/shape/Sector.js';\nimport Ring from 'zrender/lib/graphic/shape/Ring.js';\nimport Polygon from 'zrender/lib/graphic/shape/Polygon.js';\nimport Polyline from 'zrender/lib/graphic/shape/Polyline.js';\nimport Rect from 'zrender/lib/graphic/shape/Rect.js';\nimport Line from 'zrender/lib/graphic/shape/Line.js';\nimport BezierCurve from 'zrender/lib/graphic/shape/BezierCurve.js';\nimport Arc from 'zrender/lib/graphic/shape/Arc.js';\nimport CompoundPath from 'zrender/lib/graphic/CompoundPath.js';\nimport LinearGradient from 'zrender/lib/graphic/LinearGradient.js';\nimport RadialGradient from 'zrender/lib/graphic/RadialGradient.js';\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\nimport OrientedBoundingRect from 'zrender/lib/core/OrientedBoundingRect.js';\nimport Point from 'zrender/lib/core/Point.js';\nimport IncrementalDisplayable from 'zrender/lib/graphic/IncrementalDisplayable.js';\nimport * as subPixelOptimizeUtil from 'zrender/lib/graphic/helper/subPixelOptimize.js';\nimport { extend, isArrayLike, map, defaults, isString, keys, each, hasOwn, isArray, isNumber, clone, assert } from 'zrender/lib/core/util.js';\nimport { getECData } from './innerStore.js';\nimport { updateProps, initProps, removeElement, removeElementWithFadeOut, isElementRemoved } from '../animation/basicTransition.js';\nimport { mathMin, mathMax, mathAbs } from './number.js';\n/**\n * @deprecated export for compatitable reason\n */\nexport { updateProps, initProps, removeElement, removeElementWithFadeOut, isElementRemoved };\nvar _customShapeMap = {};\nexport var XY = ['x', 'y'];\nexport var WH = ['width', 'height'];\n/**\n * Extend shape with parameters\n */\nexport function extendShape(opts) {\n  return Path.extend(opts);\n}\nvar extendPathFromString = pathTool.extendFromString;\n/**\n * Extend path\n */\nexport function extendPath(pathData, opts) {\n  return extendPathFromString(pathData, opts);\n}\n/**\n * Register a user defined shape.\n * The shape class can be fetched by `getShapeClass`\n * This method will overwrite the registered shapes, including\n * the registered built-in shapes, if using the same `name`.\n * The shape can be used in `custom series` and\n * `graphic component` by declaring `{type: name}`.\n *\n * @param name\n * @param ShapeClass Can be generated by `extendShape`.\n */\nexport function registerShape(name, ShapeClass) {\n  _customShapeMap[name] = ShapeClass;\n}\n/**\n * Find shape class registered by `registerShape`. Usually used in\n * fetching user defined shape.\n *\n * [Caution]:\n * (1) This method **MUST NOT be used inside echarts !!!**, unless it is prepared\n * to use user registered shapes.\n * Because the built-in shape (see `getBuiltInShape`) will be registered by\n * `registerShape` by default. That enables users to get both built-in\n * shapes as well as the shapes belonging to themsleves. But users can overwrite\n * the built-in shapes by using names like 'circle', 'rect' via calling\n * `registerShape`. So the echarts inner featrues should not fetch shapes from here\n * in case that it is overwritten by users, except that some features, like\n * `custom series`, `graphic component`, do it deliberately.\n *\n * (2) In the features like `custom series`, `graphic component`, the user input\n * `{tpye: 'xxx'}` does not only specify shapes but also specify other graphic\n * elements like `'group'`, `'text'`, `'image'` or event `'path'`. Those names\n * are reserved names, that is, if some user registers a shape named `'image'`,\n * the shape will not be used. If we intending to add some more reserved names\n * in feature, that might bring break changes (disable some existing user shape\n * names). But that case probably rarely happens. So we don't make more mechanism\n * to resolve this issue here.\n *\n * @param name\n * @return The shape class. If not found, return nothing.\n */\nexport function getShapeClass(name) {\n  if (_customShapeMap.hasOwnProperty(name)) {\n    return _customShapeMap[name];\n  }\n}\n/**\n * Create a path element from path data string\n * @param pathData\n * @param opts\n * @param rect\n * @param layout 'center' or 'cover' default to be cover\n */\nexport function makePath(pathData, opts, rect, layout) {\n  var path = pathTool.createFromString(pathData, opts);\n  if (rect) {\n    if (layout === 'center') {\n      rect = centerGraphic(rect, path.getBoundingRect());\n    }\n    resizePath(path, rect);\n  }\n  return path;\n}\n/**\n * Create a image element from image url\n * @param imageUrl image url\n * @param opts options\n * @param rect constrain rect\n * @param layout 'center' or 'cover'. Default to be 'cover'\n */\nexport function makeImage(imageUrl, rect, layout) {\n  var zrImg = new ZRImage({\n    style: {\n      image: imageUrl,\n      x: rect.x,\n      y: rect.y,\n      width: rect.width,\n      height: rect.height\n    },\n    onload: function (img) {\n      if (layout === 'center') {\n        var boundingRect = {\n          width: img.width,\n          height: img.height\n        };\n        zrImg.setStyle(centerGraphic(rect, boundingRect));\n      }\n    }\n  });\n  return zrImg;\n}\n/**\n * Get position of centered element in bounding box.\n *\n * @param  rect         element local bounding box\n * @param  boundingRect constraint bounding box\n * @return element position containing x, y, width, and height\n */\nfunction centerGraphic(rect, boundingRect) {\n  // Set rect to center, keep width / height ratio.\n  var aspect = boundingRect.width / boundingRect.height;\n  var width = rect.height * aspect;\n  var height;\n  if (width <= rect.width) {\n    height = rect.height;\n  } else {\n    width = rect.width;\n    height = width / aspect;\n  }\n  var cx = rect.x + rect.width / 2;\n  var cy = rect.y + rect.height / 2;\n  return {\n    x: cx - width / 2,\n    y: cy - height / 2,\n    width: width,\n    height: height\n  };\n}\nexport var mergePath = pathTool.mergePath;\n/**\n * Resize a path to fit the rect\n * @param path\n * @param rect\n */\nexport function resizePath(path, rect) {\n  if (!path.applyTransform) {\n    return;\n  }\n  var pathRect = path.getBoundingRect();\n  var m = pathRect.calculateTransform(rect);\n  path.applyTransform(m);\n}\n/**\n * Sub pixel optimize line for canvas\n */\nexport function subPixelOptimizeLine(shape, lineWidth) {\n  subPixelOptimizeUtil.subPixelOptimizeLine(shape, shape, {\n    lineWidth: lineWidth\n  });\n  return shape;\n}\n/**\n * Sub pixel optimize rect for canvas\n */\nexport function subPixelOptimizeRect(shape, style) {\n  subPixelOptimizeUtil.subPixelOptimizeRect(shape, shape, style);\n  return shape;\n}\n/**\n * Sub pixel optimize for canvas\n *\n * @param position Coordinate, such as x, y\n * @param lineWidth Should be nonnegative integer.\n * @param positiveOrNegative Default false (negative).\n * @return Optimized position.\n */\nexport var subPixelOptimize = subPixelOptimizeUtil.subPixelOptimize;\n/**\n * Get transform matrix of target (param target),\n * in coordinate of its ancestor (param ancestor)\n *\n * @param target\n * @param [ancestor]\n */\nexport function getTransform(target, ancestor) {\n  var mat = matrix.identity([]);\n  while (target && target !== ancestor) {\n    matrix.mul(mat, target.getLocalTransform(), mat);\n    target = target.parent;\n  }\n  return mat;\n}\n/**\n * Apply transform to an vertex.\n * @param target [x, y]\n * @param transform Can be:\n *      + Transform matrix: like [1, 0, 0, 1, 0, 0]\n *      + {position, rotation, scale}, the same as `zrender/Transformable`.\n * @param invert Whether use invert matrix.\n * @return [x, y]\n */\nexport function applyTransform(target, transform, invert) {\n  if (transform && !isArrayLike(transform)) {\n    transform = Transformable.getLocalTransform(transform);\n  }\n  if (invert) {\n    transform = matrix.invert([], transform);\n  }\n  return vector.applyTransform([], target, transform);\n}\n/**\n * @param direction 'left' 'right' 'top' 'bottom'\n * @param transform Transform matrix: like [1, 0, 0, 1, 0, 0]\n * @param invert Whether use invert matrix.\n * @return Transformed direction. 'left' 'right' 'top' 'bottom'\n */\nexport function transformDirection(direction, transform, invert) {\n  // Pick a base, ensure that transform result will not be (0, 0).\n  var hBase = transform[4] === 0 || transform[5] === 0 || transform[0] === 0 ? 1 : mathAbs(2 * transform[4] / transform[0]);\n  var vBase = transform[4] === 0 || transform[5] === 0 || transform[2] === 0 ? 1 : mathAbs(2 * transform[4] / transform[2]);\n  var vertex = [direction === 'left' ? -hBase : direction === 'right' ? hBase : 0, direction === 'top' ? -vBase : direction === 'bottom' ? vBase : 0];\n  vertex = applyTransform(vertex, transform, invert);\n  return mathAbs(vertex[0]) > mathAbs(vertex[1]) ? vertex[0] > 0 ? 'right' : 'left' : vertex[1] > 0 ? 'bottom' : 'top';\n}\nfunction isNotGroup(el) {\n  return !el.isGroup;\n}\nfunction isPath(el) {\n  return el.shape != null;\n}\n/**\n * Apply group transition animation from g1 to g2.\n * If no animatableModel, no animation.\n */\nexport function groupTransition(g1, g2, animatableModel) {\n  if (!g1 || !g2) {\n    return;\n  }\n  function getElMap(g) {\n    var elMap = {};\n    g.traverse(function (el) {\n      if (isNotGroup(el) && el.anid) {\n        elMap[el.anid] = el;\n      }\n    });\n    return elMap;\n  }\n  function getAnimatableProps(el) {\n    var obj = {\n      x: el.x,\n      y: el.y,\n      rotation: el.rotation\n    };\n    if (isPath(el)) {\n      obj.shape = clone(el.shape);\n    }\n    return obj;\n  }\n  var elMap1 = getElMap(g1);\n  g2.traverse(function (el) {\n    if (isNotGroup(el) && el.anid) {\n      var oldEl = elMap1[el.anid];\n      if (oldEl) {\n        var newProp = getAnimatableProps(el);\n        el.attr(getAnimatableProps(oldEl));\n        updateProps(el, newProp, animatableModel, getECData(el).dataIndex);\n      }\n    }\n  });\n}\nexport function clipPointsByRect(points, rect) {\n  // FIXME: This way might be incorrect when graphic clipped by a corner\n  // and when element has a border.\n  return map(points, function (point) {\n    var x = point[0];\n    x = mathMax(x, rect.x);\n    x = mathMin(x, rect.x + rect.width);\n    var y = point[1];\n    y = mathMax(y, rect.y);\n    y = mathMin(y, rect.y + rect.height);\n    return [x, y];\n  });\n}\n/**\n * Return a new clipped rect. If rect size are negative, return undefined.\n */\nexport function clipRectByRect(targetRect, rect) {\n  var x = mathMax(targetRect.x, rect.x);\n  var x2 = mathMin(targetRect.x + targetRect.width, rect.x + rect.width);\n  var y = mathMax(targetRect.y, rect.y);\n  var y2 = mathMin(targetRect.y + targetRect.height, rect.y + rect.height);\n  // If the total rect is cliped, nothing, including the border,\n  // should be painted. So return undefined.\n  if (x2 >= x && y2 >= y) {\n    return {\n      x: x,\n      y: y,\n      width: x2 - x,\n      height: y2 - y\n    };\n  }\n}\nexport function createIcon(iconStr,\n// Support 'image://' or 'path://' or direct svg path.\nopt, rect) {\n  var innerOpts = extend({\n    rectHover: true\n  }, opt);\n  var style = innerOpts.style = {\n    strokeNoScale: true\n  };\n  rect = rect || {\n    x: -1,\n    y: -1,\n    width: 2,\n    height: 2\n  };\n  if (iconStr) {\n    return iconStr.indexOf('image://') === 0 ? (style.image = iconStr.slice(8), defaults(style, rect), new ZRImage(innerOpts)) : makePath(iconStr.replace('path://', ''), innerOpts, rect, 'center');\n  }\n}\n/**\n * Return `true` if the given line (line `a`) and the given polygon\n * are intersect.\n * Note that we do not count colinear as intersect here because no\n * requirement for that. We could do that if required in future.\n */\nexport function linePolygonIntersect(a1x, a1y, a2x, a2y, points) {\n  for (var i = 0, p2 = points[points.length - 1]; i < points.length; i++) {\n    var p = points[i];\n    if (lineLineIntersect(a1x, a1y, a2x, a2y, p[0], p[1], p2[0], p2[1])) {\n      return true;\n    }\n    p2 = p;\n  }\n}\n/**\n * Return `true` if the given two lines (line `a` and line `b`)\n * are intersect.\n * Note that we do not count colinear as intersect here because no\n * requirement for that. We could do that if required in future.\n */\nexport function lineLineIntersect(a1x, a1y, a2x, a2y, b1x, b1y, b2x, b2y) {\n  // let `vec_m` to be `vec_a2 - vec_a1` and `vec_n` to be `vec_b2 - vec_b1`.\n  var mx = a2x - a1x;\n  var my = a2y - a1y;\n  var nx = b2x - b1x;\n  var ny = b2y - b1y;\n  // `vec_m` and `vec_n` are parallel iff\n  //     existing `k` such that `vec_m = k · vec_n`, equivalent to `vec_m X vec_n = 0`.\n  var nmCrossProduct = crossProduct2d(nx, ny, mx, my);\n  if (nearZero(nmCrossProduct)) {\n    return false;\n  }\n  // `vec_m` and `vec_n` are intersect iff\n  //     existing `p` and `q` in [0, 1] such that `vec_a1 + p * vec_m = vec_b1 + q * vec_n`,\n  //     such that `q = ((vec_a1 - vec_b1) X vec_m) / (vec_n X vec_m)`\n  //           and `p = ((vec_a1 - vec_b1) X vec_n) / (vec_n X vec_m)`.\n  var b1a1x = a1x - b1x;\n  var b1a1y = a1y - b1y;\n  var q = crossProduct2d(b1a1x, b1a1y, mx, my) / nmCrossProduct;\n  if (q < 0 || q > 1) {\n    return false;\n  }\n  var p = crossProduct2d(b1a1x, b1a1y, nx, ny) / nmCrossProduct;\n  if (p < 0 || p > 1) {\n    return false;\n  }\n  return true;\n}\n/**\n * Cross product of 2-dimension vector.\n */\nfunction crossProduct2d(x1, y1, x2, y2) {\n  return x1 * y2 - x2 * y1;\n}\nfunction nearZero(val) {\n  return val <= 1e-6 && val >= -1e-6;\n}\n/**\n * NOTE:\n *  A negative-width/height rect (due to negative margins) is not supported;\n *  it will be clampped to zero width/height.\n *  Although negative-width/height rects can be defined reasonably following the\n *  similar sense in CSS, but they are rarely used, hard to understand and complicated.\n *\n * @param rect Assume its width/height >= 0 if existing.\n *  x/y/width/height is allowed to be NaN,\n *  for the case that only x/width or y/height is intended to be computed.\n * @param delta\n *  If be `number[]`, should be `[top, right, bottom, left]`,\n *      which can be used in padding or margin case.\n *      @see `normalizeCssArray` in `util/format.ts`\n *  If be `number`, it means [delta, delta, delta, delta],\n *      which can be used in lineWidth (borderWith) case,\n *      [NOTICE]: commonly pass lineWidth / 2, following the convention that border is\n *      half inside half outside of the rect.\n * @param shrinkOrExpand\n *  `true` - shrink if `delta[i]` is positive, commmonly used in `padding` case.\n *  `false` - expand if `delta[i]` is positive, commmonly used in `margin` case. (default)\n * @param noNegative\n *  `true` - negative `delta[i]` will be clampped to 0.\n *  `false` - No clamp to `delta`. (default).\n * @return The input `rect`.\n */\nexport function expandOrShrinkRect(rect, delta, shrinkOrExpand, noNegative, minSize // by default [0, 0].\n) {\n  if (delta == null) {\n    return rect;\n  } else if (isNumber(delta)) {\n    _tmpExpandRectDelta[0] = _tmpExpandRectDelta[1] = _tmpExpandRectDelta[2] = _tmpExpandRectDelta[3] = delta;\n  } else {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(delta.length === 4);\n    }\n    _tmpExpandRectDelta[0] = delta[0];\n    _tmpExpandRectDelta[1] = delta[1];\n    _tmpExpandRectDelta[2] = delta[2];\n    _tmpExpandRectDelta[3] = delta[3];\n  }\n  if (noNegative) {\n    _tmpExpandRectDelta[0] = mathMax(0, _tmpExpandRectDelta[0]);\n    _tmpExpandRectDelta[1] = mathMax(0, _tmpExpandRectDelta[1]);\n    _tmpExpandRectDelta[2] = mathMax(0, _tmpExpandRectDelta[2]);\n    _tmpExpandRectDelta[3] = mathMax(0, _tmpExpandRectDelta[3]);\n  }\n  if (shrinkOrExpand) {\n    _tmpExpandRectDelta[0] = -_tmpExpandRectDelta[0];\n    _tmpExpandRectDelta[1] = -_tmpExpandRectDelta[1];\n    _tmpExpandRectDelta[2] = -_tmpExpandRectDelta[2];\n    _tmpExpandRectDelta[3] = -_tmpExpandRectDelta[3];\n  }\n  expandRectOnOneDimension(rect, _tmpExpandRectDelta, 'x', 'width', 3, 1, minSize && minSize[0] || 0);\n  expandRectOnOneDimension(rect, _tmpExpandRectDelta, 'y', 'height', 0, 2, minSize && minSize[1] || 0);\n  return rect;\n}\nvar _tmpExpandRectDelta = [0, 0, 0, 0];\nfunction expandRectOnOneDimension(rect, delta, xy, wh, ltIdx, rbIdx, minSize) {\n  var deltaSum = delta[rbIdx] + delta[ltIdx];\n  var oldSize = rect[wh];\n  rect[wh] += deltaSum;\n  minSize = mathMax(0, mathMin(minSize, oldSize));\n  if (rect[wh] < minSize) {\n    rect[wh] = minSize;\n    // Try to make the position of the zero rect reasonable in most visual cases.\n    rect[xy] += delta[ltIdx] >= 0 ? -delta[ltIdx] : delta[rbIdx] >= 0 ? oldSize + delta[rbIdx] : mathAbs(deltaSum) > 1e-8 ? (oldSize - minSize) * delta[ltIdx] / deltaSum : 0;\n  } else {\n    rect[xy] -= delta[ltIdx];\n  }\n}\nexport function setTooltipConfig(opt) {\n  var itemTooltipOption = opt.itemTooltipOption;\n  var componentModel = opt.componentModel;\n  var itemName = opt.itemName;\n  var itemTooltipOptionObj = isString(itemTooltipOption) ? {\n    formatter: itemTooltipOption\n  } : itemTooltipOption;\n  var mainType = componentModel.mainType;\n  var componentIndex = componentModel.componentIndex;\n  var formatterParams = {\n    componentType: mainType,\n    name: itemName,\n    $vars: ['name']\n  };\n  formatterParams[mainType + 'Index'] = componentIndex;\n  var formatterParamsExtra = opt.formatterParamsExtra;\n  if (formatterParamsExtra) {\n    each(keys(formatterParamsExtra), function (key) {\n      if (!hasOwn(formatterParams, key)) {\n        formatterParams[key] = formatterParamsExtra[key];\n        formatterParams.$vars.push(key);\n      }\n    });\n  }\n  var ecData = getECData(opt.el);\n  ecData.componentMainType = mainType;\n  ecData.componentIndex = componentIndex;\n  ecData.tooltipConfig = {\n    name: itemName,\n    option: defaults({\n      content: itemName,\n      encodeHTMLContent: true,\n      formatterParams: formatterParams\n    }, itemTooltipOptionObj)\n  };\n}\nfunction traverseElement(el, cb) {\n  var stopped;\n  // TODO\n  // Polyfill for fixing zrender group traverse don't visit it's root issue.\n  if (el.isGroup) {\n    stopped = cb(el);\n  }\n  if (!stopped) {\n    el.traverse(cb);\n  }\n}\nexport function traverseElements(els, cb) {\n  if (els) {\n    if (isArray(els)) {\n      for (var i = 0; i < els.length; i++) {\n        traverseElement(els[i], cb);\n      }\n    } else {\n      traverseElement(els, cb);\n    }\n  }\n}\n/**\n * After a boundingRect applying a `transform`, whether to be still parallel screen X and Y.\n */\nexport function isBoundingRectAxisAligned(transform) {\n  return !transform || mathAbs(transform[1]) < AXIS_ALIGN_EPSILON && mathAbs(transform[2]) < AXIS_ALIGN_EPSILON || mathAbs(transform[0]) < AXIS_ALIGN_EPSILON && mathAbs(transform[3]) < AXIS_ALIGN_EPSILON;\n}\nvar AXIS_ALIGN_EPSILON = 1e-5;\n/**\n * Create or copy to the existing bounding rect to avoid modifying `source`.\n *\n * @usage\n *  out.rect = ensureCopyRect(out.rect, sourceRect);\n */\nexport function ensureCopyRect(target, source) {\n  return target ? BoundingRect.copy(target, source) : source.clone();\n}\n/**\n * Create or copy to the existing transform to avoid modifying `source`.\n *\n * [CAUTION]: transform is `NullUndefined` if no transform, following convention of zrender,\n *  and enable to bypass some unnecessary calculation, since in most cases there is no transform.\n *\n * @usage\n *  out.transform = ensureCopyTransform(out.transform, sourceTransform);\n */\nexport function ensureCopyTransform(target, source) {\n  return source ? matrix.copy(target || matrix.create(), source) : undefined;\n}\nexport function retrieveZInfo(model) {\n  return {\n    z: model.get('z') || 0,\n    zlevel: model.get('zlevel') || 0\n  };\n}\n/**\n * Assume all of the elements has the same `z` and `zlevel`.\n */\nexport function calcZ2Range(el) {\n  var max = -Infinity;\n  var min = Infinity;\n  traverseElement(el, function (el) {\n    visitEl(el);\n    visitEl(el.getTextContent());\n    visitEl(el.getTextGuideLine());\n  });\n  function visitEl(el) {\n    if (!el || el.isGroup) {\n      return;\n    }\n    var currentStates = el.currentStates;\n    if (currentStates.length) {\n      for (var idx = 0; idx < currentStates.length; idx++) {\n        calcZ2(el.states[currentStates[idx]]);\n      }\n    }\n    calcZ2(el);\n  }\n  function calcZ2(entity) {\n    if (entity) {\n      var z2 = entity.z2;\n      // Consider z2 may be NullUndefined\n      if (z2 > max) {\n        max = z2;\n      }\n      if (z2 < min) {\n        min = z2;\n      }\n    }\n  }\n  if (min > max) {\n    min = max = 0;\n  }\n  return {\n    min: min,\n    max: max\n  };\n}\nexport function traverseUpdateZ(el, z, zlevel) {\n  doUpdateZ(el, z, zlevel, -Infinity);\n}\nfunction doUpdateZ(el, z, zlevel,\n// FIXME: Ideally all the labels should be above all the glyphs by default,\n//  e.g. in graph, edge labels should be above node elements.\n//  Currently impl does not guarantee that.\nmaxZ2) {\n  // `ignoreModelZ` is used to intentionally lift elements to cover other elements,\n  // where maxZ2 (for label.z2) should also not be counted for its parents.\n  if (el.ignoreModelZ) {\n    return maxZ2;\n  }\n  // Group may also have textContent\n  var label = el.getTextContent();\n  var labelLine = el.getTextGuideLine();\n  var isGroup = el.isGroup;\n  if (isGroup) {\n    // set z & zlevel of children elements of Group\n    var children = el.childrenRef();\n    for (var i = 0; i < children.length; i++) {\n      maxZ2 = mathMax(doUpdateZ(children[i], z, zlevel, maxZ2), maxZ2);\n    }\n  } else {\n    // not Group\n    el.z = z;\n    el.zlevel = zlevel;\n    maxZ2 = mathMax(el.z2 || 0, maxZ2);\n  }\n  // always set z and zlevel if label/labelLine exists\n  if (label) {\n    label.z = z;\n    label.zlevel = zlevel;\n    // lift z2 of text content\n    // TODO if el.emphasis.z2 is spcefied, what about textContent.\n    isFinite(maxZ2) && (label.z2 = maxZ2 + 2);\n  }\n  if (labelLine) {\n    var textGuideLineConfig = el.textGuideLineConfig;\n    labelLine.z = z;\n    labelLine.zlevel = zlevel;\n    isFinite(maxZ2) && (labelLine.z2 = maxZ2 + (textGuideLineConfig && textGuideLineConfig.showAbove ? 1 : -1));\n  }\n  return maxZ2;\n}\n// Register built-in shapes. These shapes might be overwritten\n// by users, although we do not recommend that.\nregisterShape('circle', Circle);\nregisterShape('ellipse', Ellipse);\nregisterShape('sector', Sector);\nregisterShape('ring', Ring);\nregisterShape('polygon', Polygon);\nregisterShape('polyline', Polyline);\nregisterShape('rect', Rect);\nregisterShape('line', Line);\nregisterShape('bezierCurve', BezierCurve);\nregisterShape('arc', Arc);\nexport { Group, ZRImage as Image, ZRText as Text, Circle, Ellipse, Sector, Ring, Polygon, Polyline, Rect, Line, BezierCurve, Arc, IncrementalDisplayable, CompoundPath, LinearGradient, RadialGradient, BoundingRect, OrientedBoundingRect, Point, Path };","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport ZRText from 'zrender/lib/graphic/Text.js';\nimport { isFunction, retrieve2, extend, keys, trim, retrieve3, isNumber, normalizeCssArray } from 'zrender/lib/core/util.js';\nimport { SPECIAL_STATES, DISPLAY_STATES } from '../util/states.js';\nimport { deprecateReplaceLog } from '../util/log.js';\nimport { makeInner, interpolateRawValues } from '../util/model.js';\nimport { initProps, updateProps } from '../util/graphic.js';\nvar EMPTY_OBJ = {};\nexport function setLabelText(label, labelTexts) {\n  for (var i = 0; i < SPECIAL_STATES.length; i++) {\n    var stateName = SPECIAL_STATES[i];\n    var text = labelTexts[stateName];\n    var state = label.ensureState(stateName);\n    state.style = state.style || {};\n    state.style.text = text;\n  }\n  var oldStates = label.currentStates.slice();\n  label.clearStates(true);\n  label.setStyle({\n    text: labelTexts.normal\n  });\n  label.useStates(oldStates, true);\n}\nfunction getLabelText(opt, stateModels, interpolatedValue) {\n  var labelFetcher = opt.labelFetcher;\n  var labelDataIndex = opt.labelDataIndex;\n  var labelDimIndex = opt.labelDimIndex;\n  var normalModel = stateModels.normal;\n  var baseText;\n  if (labelFetcher) {\n    baseText = labelFetcher.getFormattedLabel(labelDataIndex, 'normal', null, labelDimIndex, normalModel && normalModel.get('formatter'), interpolatedValue != null ? {\n      interpolatedValue: interpolatedValue\n    } : null);\n  }\n  if (baseText == null) {\n    baseText = isFunction(opt.defaultText) ? opt.defaultText(labelDataIndex, opt, interpolatedValue) : opt.defaultText;\n  }\n  var statesText = {\n    normal: baseText\n  };\n  for (var i = 0; i < SPECIAL_STATES.length; i++) {\n    var stateName = SPECIAL_STATES[i];\n    var stateModel = stateModels[stateName];\n    statesText[stateName] = retrieve2(labelFetcher ? labelFetcher.getFormattedLabel(labelDataIndex, stateName, null, labelDimIndex, stateModel && stateModel.get('formatter')) : null, baseText);\n  }\n  return statesText;\n}\nfunction setLabelStyle(targetEl, labelStatesModels, opt, stateSpecified\n// TODO specified position?\n) {\n  opt = opt || EMPTY_OBJ;\n  var isSetOnText = targetEl instanceof ZRText;\n  var needsCreateText = false;\n  for (var i = 0; i < DISPLAY_STATES.length; i++) {\n    var stateModel = labelStatesModels[DISPLAY_STATES[i]];\n    if (stateModel && stateModel.getShallow('show')) {\n      needsCreateText = true;\n      break;\n    }\n  }\n  var textContent = isSetOnText ? targetEl : targetEl.getTextContent();\n  if (needsCreateText) {\n    if (!isSetOnText) {\n      // Reuse the previous\n      if (!textContent) {\n        textContent = new ZRText();\n        targetEl.setTextContent(textContent);\n      }\n      // Use same state proxy\n      if (targetEl.stateProxy) {\n        textContent.stateProxy = targetEl.stateProxy;\n      }\n    }\n    var labelStatesTexts = getLabelText(opt, labelStatesModels);\n    var normalModel = labelStatesModels.normal;\n    var showNormal = !!normalModel.getShallow('show');\n    var normalStyle = createTextStyle(normalModel, stateSpecified && stateSpecified.normal, opt, false, !isSetOnText);\n    normalStyle.text = labelStatesTexts.normal;\n    if (!isSetOnText) {\n      // Always create new\n      targetEl.setTextConfig(createTextConfig(normalModel, opt, false));\n    }\n    for (var i = 0; i < SPECIAL_STATES.length; i++) {\n      var stateName = SPECIAL_STATES[i];\n      var stateModel = labelStatesModels[stateName];\n      if (stateModel) {\n        var stateObj = textContent.ensureState(stateName);\n        var stateShow = !!retrieve2(stateModel.getShallow('show'), showNormal);\n        if (stateShow !== showNormal) {\n          stateObj.ignore = !stateShow;\n        }\n        stateObj.style = createTextStyle(stateModel, stateSpecified && stateSpecified[stateName], opt, true, !isSetOnText);\n        stateObj.style.text = labelStatesTexts[stateName];\n        if (!isSetOnText) {\n          var targetElEmphasisState = targetEl.ensureState(stateName);\n          targetElEmphasisState.textConfig = createTextConfig(stateModel, opt, true);\n        }\n      }\n    }\n    // PENDING: if there is many requirements that emphasis position\n    // need to be different from normal position, we might consider\n    // auto silent is those cases.\n    textContent.silent = !!normalModel.getShallow('silent');\n    // Keep x and y\n    if (textContent.style.x != null) {\n      normalStyle.x = textContent.style.x;\n    }\n    if (textContent.style.y != null) {\n      normalStyle.y = textContent.style.y;\n    }\n    textContent.ignore = !showNormal;\n    // Always create new style.\n    textContent.useStyle(normalStyle);\n    textContent.dirty();\n    if (opt.enableTextSetter) {\n      labelInner(textContent).setLabelText = function (interpolatedValue) {\n        var labelStatesTexts = getLabelText(opt, labelStatesModels, interpolatedValue);\n        setLabelText(textContent, labelStatesTexts);\n      };\n    }\n  } else if (textContent) {\n    // Not display rich text.\n    textContent.ignore = true;\n  }\n  targetEl.dirty();\n}\nexport { setLabelStyle };\nexport function getLabelStatesModels(itemModel, labelName) {\n  labelName = labelName || 'label';\n  var statesModels = {\n    normal: itemModel.getModel(labelName)\n  };\n  for (var i = 0; i < SPECIAL_STATES.length; i++) {\n    var stateName = SPECIAL_STATES[i];\n    statesModels[stateName] = itemModel.getModel([stateName, labelName]);\n  }\n  return statesModels;\n}\n/**\n * Set basic textStyle properties.\n */\nexport function createTextStyle(textStyleModel, specifiedTextStyle,\n// Fixed style in the code. Can't be set by model.\nopt, isNotNormal, isAttached // If text is attached on an element. If so, auto color will handling in zrender.\n) {\n  var textStyle = {};\n  setTextStyleCommon(textStyle, textStyleModel, opt, isNotNormal, isAttached);\n  specifiedTextStyle && extend(textStyle, specifiedTextStyle);\n  // textStyle.host && textStyle.host.dirty && textStyle.host.dirty(false);\n  return textStyle;\n}\nexport function createTextConfig(textStyleModel, opt, isNotNormal) {\n  opt = opt || {};\n  var textConfig = {};\n  var labelPosition;\n  var labelRotate = textStyleModel.getShallow('rotate');\n  var labelDistance = retrieve2(textStyleModel.getShallow('distance'), isNotNormal ? null : 5);\n  var labelOffset = textStyleModel.getShallow('offset');\n  labelPosition = textStyleModel.getShallow('position') || (isNotNormal ? null : 'inside');\n  // 'outside' is not a valid zr textPostion value, but used\n  // in bar series, and magic type should be considered.\n  labelPosition === 'outside' && (labelPosition = opt.defaultOutsidePosition || 'top');\n  if (labelPosition != null) {\n    textConfig.position = labelPosition;\n  }\n  if (labelOffset != null) {\n    textConfig.offset = labelOffset;\n  }\n  if (labelRotate != null) {\n    labelRotate *= Math.PI / 180;\n    textConfig.rotation = labelRotate;\n  }\n  if (labelDistance != null) {\n    textConfig.distance = labelDistance;\n  }\n  // fill and auto is determined by the color of path fill if it's not specified by developers.\n  textConfig.outsideFill = textStyleModel.get('color') === 'inherit' ? opt.inheritColor || null : 'auto';\n  if (opt.autoOverflowArea != null) {\n    textConfig.autoOverflowArea = opt.autoOverflowArea;\n  }\n  if (opt.layoutRect != null) {\n    textConfig.layoutRect = opt.layoutRect;\n  }\n  return textConfig;\n}\n/**\n * The uniform entry of set text style, that is, retrieve style definitions\n * from `model` and set to `textStyle` object.\n *\n * Never in merge mode, but in overwrite mode, that is, all of the text style\n * properties will be set. (Consider the states of normal and emphasis and\n * default value can be adopted, merge would make the logic too complicated\n * to manage.)\n */\nfunction setTextStyleCommon(textStyle, textStyleModel, opt, isNotNormal, isAttached) {\n  // Consider there will be abnormal when merge hover style to normal style if given default value.\n  opt = opt || EMPTY_OBJ;\n  var ecModel = textStyleModel.ecModel;\n  var globalTextStyle = ecModel && ecModel.option.textStyle;\n  // Consider case:\n  // {\n  //     data: [{\n  //         value: 12,\n  //         label: {\n  //             rich: {\n  //                 // no 'a' here but using parent 'a'.\n  //             }\n  //         }\n  //     }],\n  //     rich: {\n  //         a: { ... }\n  //     }\n  // }\n  var richItemNames = getRichItemNames(textStyleModel);\n  var richResult;\n  if (richItemNames) {\n    richResult = {};\n    var richInheritPlainLabelOptionName = 'richInheritPlainLabel';\n    var richInheritPlainLabel = retrieve2(textStyleModel.get(richInheritPlainLabelOptionName), ecModel ? ecModel.get(richInheritPlainLabelOptionName) : undefined);\n    for (var name_1 in richItemNames) {\n      if (richItemNames.hasOwnProperty(name_1)) {\n        // Cascade is supported in rich.\n        var richTextStyle = textStyleModel.getModel(['rich', name_1]);\n        // In rich, never `disableBox`.\n        // consider `label: {formatter: '{a|xx}', color: 'blue', rich: {a: {}}}`,\n        // the default color `'blue'` will not be adopted if no color declared in `rich`.\n        // That might confuses users. So probably we should put `textStyleModel` as the\n        // root ancestor of the `richTextStyle`. But that would be a break change.\n        // Since v6, the rich style inherits plain label by default\n        // but this behavior can be disabled by setting `richInheritPlainLabel` to `false`.\n        setTokenTextStyle(richResult[name_1] = {}, richTextStyle, globalTextStyle, textStyleModel, richInheritPlainLabel, opt, isNotNormal, isAttached, false, true);\n      }\n    }\n  }\n  if (richResult) {\n    textStyle.rich = richResult;\n  }\n  var overflow = textStyleModel.get('overflow');\n  if (overflow) {\n    textStyle.overflow = overflow;\n  }\n  var lineOverflow = textStyleModel.get('lineOverflow');\n  if (lineOverflow) {\n    textStyle.lineOverflow = lineOverflow;\n  }\n  var labelTextStyle = textStyle;\n  // `minMargin` has a higher precedence than `textMargin`, because `textMargin` is allowed\n  // to be set in `defaultOption`.\n  var minMargin = textStyleModel.get('minMargin');\n  if (minMargin != null) {\n    // `minMargin` only support number value.\n    minMargin = !isNumber(minMargin) ? 0 : minMargin / 2;\n    labelTextStyle.margin = [minMargin, minMargin, minMargin, minMargin];\n    labelTextStyle.__marginType = LabelMarginType.minMargin;\n  } else {\n    var textMargin = textStyleModel.get('textMargin');\n    if (textMargin != null) {\n      labelTextStyle.margin = normalizeCssArray(textMargin);\n      labelTextStyle.__marginType = LabelMarginType.textMargin;\n    }\n  }\n  setTokenTextStyle(textStyle, textStyleModel, globalTextStyle, null, null, opt, isNotNormal, isAttached, true, false);\n}\n// Consider case:\n// {\n//     data: [{\n//         value: 12,\n//         label: {\n//             rich: {\n//                 // no 'a' here but using parent 'a'.\n//             }\n//         }\n//     }],\n//     rich: {\n//         a: { ... }\n//     }\n// }\n// TODO TextStyleModel\nfunction getRichItemNames(textStyleModel) {\n  // Use object to remove duplicated names.\n  var richItemNameMap;\n  while (textStyleModel && textStyleModel !== textStyleModel.ecModel) {\n    var rich = (textStyleModel.option || EMPTY_OBJ).rich;\n    if (rich) {\n      richItemNameMap = richItemNameMap || {};\n      var richKeys = keys(rich);\n      for (var i = 0; i < richKeys.length; i++) {\n        var richKey = richKeys[i];\n        richItemNameMap[richKey] = 1;\n      }\n    }\n    textStyleModel = textStyleModel.parentModel;\n  }\n  return richItemNameMap;\n}\nvar TEXT_PROPS_WITH_GLOBAL = ['fontStyle', 'fontWeight', 'fontSize', 'fontFamily', 'textShadowColor', 'textShadowBlur', 'textShadowOffsetX', 'textShadowOffsetY'];\nvar TEXT_PROPS_SELF = ['align', 'lineHeight', 'width', 'height', 'tag', 'verticalAlign', 'ellipsis'];\nvar TEXT_PROPS_BOX = ['padding', 'borderWidth', 'borderRadius', 'borderDashOffset', 'backgroundColor', 'borderColor', 'shadowColor', 'shadowBlur', 'shadowOffsetX', 'shadowOffsetY'];\nfunction setTokenTextStyle(textStyle,\n// FIXME: check/refactor for ellipsis handling of rich text.\ntextStyleModel, globalTextStyle, plainTextModel, richInheritPlainLabel, opt, isNotNormal, isAttached, isBlock, inRich) {\n  // In merge mode, default value should not be given.\n  globalTextStyle = !isNotNormal && globalTextStyle || EMPTY_OBJ;\n  var inheritColor = opt && opt.inheritColor;\n  var fillColor = textStyleModel.getShallow('color');\n  var strokeColor = textStyleModel.getShallow('textBorderColor');\n  var opacity = retrieve2(textStyleModel.getShallow('opacity'), globalTextStyle.opacity);\n  if (fillColor === 'inherit' || fillColor === 'auto') {\n    if (process.env.NODE_ENV !== 'production') {\n      if (fillColor === 'auto') {\n        deprecateReplaceLog('color: \\'auto\\'', 'color: \\'inherit\\'');\n      }\n    }\n    if (inheritColor) {\n      fillColor = inheritColor;\n    } else {\n      fillColor = null;\n    }\n  }\n  if (strokeColor === 'inherit' || strokeColor === 'auto') {\n    if (process.env.NODE_ENV !== 'production') {\n      if (strokeColor === 'auto') {\n        deprecateReplaceLog('color: \\'auto\\'', 'color: \\'inherit\\'');\n      }\n    }\n    if (inheritColor) {\n      strokeColor = inheritColor;\n    } else {\n      strokeColor = null;\n    }\n  }\n  if (!isAttached) {\n    // Only use default global textStyle.color if text is individual.\n    // Otherwise it will use the strategy of attached text color because text may be on a path.\n    fillColor = fillColor || globalTextStyle.color;\n    strokeColor = strokeColor || globalTextStyle.textBorderColor;\n  }\n  if (fillColor != null) {\n    // Might not be a string, e.g, it's a function in axisLabel case; but assume that it will\n    // be erased by a correct value outside.\n    textStyle.fill = fillColor;\n  }\n  if (strokeColor != null) {\n    textStyle.stroke = strokeColor;\n  }\n  var textBorderWidth = retrieve2(textStyleModel.getShallow('textBorderWidth'), globalTextStyle.textBorderWidth);\n  if (textBorderWidth != null) {\n    textStyle.lineWidth = textBorderWidth;\n  }\n  var textBorderType = retrieve2(textStyleModel.getShallow('textBorderType'), globalTextStyle.textBorderType);\n  if (textBorderType != null) {\n    textStyle.lineDash = textBorderType;\n  }\n  var textBorderDashOffset = retrieve2(textStyleModel.getShallow('textBorderDashOffset'), globalTextStyle.textBorderDashOffset);\n  if (textBorderDashOffset != null) {\n    textStyle.lineDashOffset = textBorderDashOffset;\n  }\n  if (!isNotNormal && opacity == null && !inRich) {\n    opacity = opt && opt.defaultOpacity;\n  }\n  if (opacity != null) {\n    textStyle.opacity = opacity;\n  }\n  // TODO\n  if (!isNotNormal && !isAttached) {\n    // Set default finally.\n    if (textStyle.fill == null && opt.inheritColor) {\n      textStyle.fill = opt.inheritColor;\n    }\n  }\n  // Do not use `getFont` here, because merge should be supported, where\n  // part of these properties may be changed in emphasis style, and the\n  // others should remain their original value got from normal style.\n  for (var i = 0; i < TEXT_PROPS_WITH_GLOBAL.length; i++) {\n    var key = TEXT_PROPS_WITH_GLOBAL[i];\n    // props width, height, padding, margin, tag, backgroundColor, borderColor,\n    // borderWidth, borderRadius, shadowColor, shadowBlur, shadowOffsetX, shadowOffsetY\n    // may inappropriate to inherit from plainTextStyle.\n    // And if some props is specified in default options, users may have to reset them one by one.\n    // Therefore, we only allow these props to inherit from plainTextStyle.\n    // `richInheritPlainLabel` is switch for backward compatibility\n    var val = richInheritPlainLabel !== false && plainTextModel ? retrieve3(textStyleModel.getShallow(key), plainTextModel.getShallow(key), globalTextStyle[key]) : retrieve2(textStyleModel.getShallow(key), globalTextStyle[key]);\n    if (val != null) {\n      textStyle[key] = val;\n    }\n  }\n  for (var i = 0; i < TEXT_PROPS_SELF.length; i++) {\n    var key = TEXT_PROPS_SELF[i];\n    var val = textStyleModel.getShallow(key);\n    if (val != null) {\n      textStyle[key] = val;\n    }\n  }\n  if (textStyle.verticalAlign == null) {\n    var baseline = textStyleModel.getShallow('baseline');\n    if (baseline != null) {\n      textStyle.verticalAlign = baseline;\n    }\n  }\n  if (!isBlock || !opt.disableBox) {\n    for (var i = 0; i < TEXT_PROPS_BOX.length; i++) {\n      var key = TEXT_PROPS_BOX[i];\n      var val = textStyleModel.getShallow(key);\n      if (val != null) {\n        textStyle[key] = val;\n      }\n    }\n    var borderType = textStyleModel.getShallow('borderType');\n    if (borderType != null) {\n      textStyle.borderDash = borderType;\n    }\n    if ((textStyle.backgroundColor === 'auto' || textStyle.backgroundColor === 'inherit') && inheritColor) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (textStyle.backgroundColor === 'auto') {\n          deprecateReplaceLog('backgroundColor: \\'auto\\'', 'backgroundColor: \\'inherit\\'');\n        }\n      }\n      textStyle.backgroundColor = inheritColor;\n    }\n    if ((textStyle.borderColor === 'auto' || textStyle.borderColor === 'inherit') && inheritColor) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (textStyle.borderColor === 'auto') {\n          deprecateReplaceLog('borderColor: \\'auto\\'', 'borderColor: \\'inherit\\'');\n        }\n      }\n      textStyle.borderColor = inheritColor;\n    }\n  }\n}\nexport function getFont(opt, ecModel) {\n  var gTextStyleModel = ecModel && ecModel.getModel('textStyle');\n  return trim([\n  // FIXME in node-canvas fontWeight is before fontStyle\n  opt.fontStyle || gTextStyleModel && gTextStyleModel.getShallow('fontStyle') || '', opt.fontWeight || gTextStyleModel && gTextStyleModel.getShallow('fontWeight') || '', (opt.fontSize || gTextStyleModel && gTextStyleModel.getShallow('fontSize') || 12) + 'px', opt.fontFamily || gTextStyleModel && gTextStyleModel.getShallow('fontFamily') || 'sans-serif'].join(' '));\n}\nexport var labelInner = makeInner();\nexport function setLabelValueAnimation(label, labelStatesModels, value, getDefaultText) {\n  if (!label) {\n    return;\n  }\n  var obj = labelInner(label);\n  obj.prevValue = obj.value;\n  obj.value = value;\n  var normalLabelModel = labelStatesModels.normal;\n  obj.valueAnimation = normalLabelModel.get('valueAnimation');\n  if (obj.valueAnimation) {\n    obj.precision = normalLabelModel.get('precision');\n    obj.defaultInterpolatedText = getDefaultText;\n    obj.statesModels = labelStatesModels;\n  }\n}\nexport function animateLabelValue(textEl, dataIndex, data, animatableModel, labelFetcher) {\n  var labelInnerStore = labelInner(textEl);\n  if (!labelInnerStore.valueAnimation || labelInnerStore.prevValue === labelInnerStore.value) {\n    // Value not changed, no new label animation\n    return;\n  }\n  var defaultInterpolatedText = labelInnerStore.defaultInterpolatedText;\n  // Consider the case that being animating, do not use the `obj.value`,\n  // Otherwise it will jump to the `obj.value` when this new animation started.\n  var currValue = retrieve2(labelInnerStore.interpolatedValue, labelInnerStore.prevValue);\n  var targetValue = labelInnerStore.value;\n  function during(percent) {\n    var interpolated = interpolateRawValues(data, labelInnerStore.precision, currValue, targetValue, percent);\n    labelInnerStore.interpolatedValue = percent === 1 ? null : interpolated;\n    var labelText = getLabelText({\n      labelDataIndex: dataIndex,\n      labelFetcher: labelFetcher,\n      defaultText: defaultInterpolatedText ? defaultInterpolatedText(interpolated) : interpolated + ''\n    }, labelInnerStore.statesModels, interpolated);\n    setLabelText(textEl, labelText);\n  }\n  textEl.percent = 0;\n  (labelInnerStore.prevValue == null ? initProps : updateProps)(textEl, {\n    // percent is used to prevent animation from being aborted #15916\n    percent: 1\n  }, animatableModel, dataIndex, null, during);\n}\n/**\n * PENDING: Temporary impl. unify them?\n * @see {LabelCommonOption['textMargin']}\n * @see {LabelCommonOption['minMargin']}\n */\nexport var LabelMarginType = {\n  minMargin: 1,\n  textMargin: 2\n};","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { getFont } from '../../label/labelStyle.js';\nimport ZRText from 'zrender/lib/graphic/Text.js';\nvar PATH_COLOR = ['textStyle', 'color'];\nvar textStyleParams = ['fontStyle', 'fontWeight', 'fontSize', 'fontFamily', 'padding', 'lineHeight', 'rich', 'width', 'height', 'overflow'];\n// TODO Performance improvement?\nvar tmpText = new ZRText();\nvar TextStyleMixin = /** @class */function () {\n  function TextStyleMixin() {}\n  /**\n   * Get color property or get color from option.textStyle.color\n   */\n  // TODO Callback\n  TextStyleMixin.prototype.getTextColor = function (isEmphasis) {\n    var ecModel = this.ecModel;\n    return this.getShallow('color') || (!isEmphasis && ecModel ? ecModel.get(PATH_COLOR) : null);\n  };\n  /**\n   * Create font string from fontStyle, fontWeight, fontSize, fontFamily\n   * @return {string}\n   */\n  TextStyleMixin.prototype.getFont = function () {\n    return getFont({\n      fontStyle: this.getShallow('fontStyle'),\n      fontWeight: this.getShallow('fontWeight'),\n      fontSize: this.getShallow('fontSize'),\n      fontFamily: this.getShallow('fontFamily')\n    }, this.ecModel);\n  };\n  TextStyleMixin.prototype.getTextRect = function (text) {\n    var style = {\n      text: text,\n      verticalAlign: this.getShallow('verticalAlign') || this.getShallow('baseline')\n    };\n    for (var i = 0; i < textStyleParams.length; i++) {\n      style[textStyleParams[i]] = this.getShallow(textStyleParams[i]);\n    }\n    tmpText.useStyle(style);\n    tmpText.update();\n    return tmpText.getBoundingRect();\n  };\n  return TextStyleMixin;\n}();\n;\nexport default TextStyleMixin;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport makeStyleMapper from './makeStyleMapper.js';\nexport var LINE_STYLE_KEY_MAP = [['lineWidth', 'width'], ['stroke', 'color'], ['opacity'], ['shadowBlur'], ['shadowOffsetX'], ['shadowOffsetY'], ['shadowColor'], ['lineDash', 'type'], ['lineDashOffset', 'dashOffset'], ['lineCap', 'cap'], ['lineJoin', 'join'], ['miterLimit']\n// Option decal is in `DecalObject` but style.decal is in `PatternObject`.\n// So do not transfer decal directly.\n];\nvar getLineStyle = makeStyleMapper(LINE_STYLE_KEY_MAP);\nvar LineStyleMixin = /** @class */function () {\n  function LineStyleMixin() {}\n  LineStyleMixin.prototype.getLineStyle = function (excludes) {\n    return getLineStyle(this, excludes);\n  };\n  return LineStyleMixin;\n}();\n;\nexport { LineStyleMixin };","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport makeStyleMapper from './makeStyleMapper.js';\nexport var ITEM_STYLE_KEY_MAP = [['fill', 'color'], ['stroke', 'borderColor'], ['lineWidth', 'borderWidth'], ['opacity'], ['shadowBlur'], ['shadowOffsetX'], ['shadowOffsetY'], ['shadowColor'], ['lineDash', 'borderType'], ['lineDashOffset', 'borderDashOffset'], ['lineCap', 'borderCap'], ['lineJoin', 'borderJoin'], ['miterLimit', 'borderMiterLimit']\n// Option decal is in `DecalObject` but style.decal is in `PatternObject`.\n// So do not transfer decal directly.\n];\nvar getItemStyle = makeStyleMapper(ITEM_STYLE_KEY_MAP);\nvar ItemStyleMixin = /** @class */function () {\n  function ItemStyleMixin() {}\n  ItemStyleMixin.prototype.getItemStyle = function (excludes, includes) {\n    return getItemStyle(this, excludes, includes);\n  };\n  return ItemStyleMixin;\n}();\nexport { ItemStyleMixin };","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport env from 'zrender/lib/core/env.js';\nimport { enableClassExtend, enableClassCheck } from '../util/clazz.js';\nimport { AreaStyleMixin } from './mixin/areaStyle.js';\nimport TextStyleMixin from './mixin/textStyle.js';\nimport { LineStyleMixin } from './mixin/lineStyle.js';\nimport { ItemStyleMixin } from './mixin/itemStyle.js';\nimport { mixin, clone, merge } from 'zrender/lib/core/util.js';\nvar Model = /** @class */function () {\n  function Model(option, parentModel, ecModel) {\n    this.parentModel = parentModel;\n    this.ecModel = ecModel;\n    this.option = option;\n    // Simple optimization\n    // if (this.init) {\n    //     if (arguments.length <= 4) {\n    //         this.init(option, parentModel, ecModel, extraOpt);\n    //     }\n    //     else {\n    //         this.init.apply(this, arguments);\n    //     }\n    // }\n  }\n  Model.prototype.init = function (option, parentModel, ecModel) {\n    var rest = [];\n    for (var _i = 3; _i < arguments.length; _i++) {\n      rest[_i - 3] = arguments[_i];\n    }\n  };\n  /**\n   * Merge the input option to me.\n   */\n  Model.prototype.mergeOption = function (option, ecModel) {\n    merge(this.option, option, true);\n  };\n  // `path` can be 'a.b.c', so the return value type have to be `ModelOption`\n  // TODO: TYPE strict key check?\n  // get(path: string | string[], ignoreParent?: boolean): ModelOption;\n  Model.prototype.get = function (path, ignoreParent) {\n    if (path == null) {\n      return this.option;\n    }\n    return this._doGet(this.parsePath(path), !ignoreParent && this.parentModel);\n  };\n  Model.prototype.getShallow = function (key, ignoreParent) {\n    var option = this.option;\n    var val = option == null ? option : option[key];\n    if (val == null && !ignoreParent) {\n      var parentModel = this.parentModel;\n      if (parentModel) {\n        // FIXME:TS do not know how to make it works\n        val = parentModel.getShallow(key);\n      }\n    }\n    return val;\n  };\n  // `path` can be 'a.b.c', so the return value type have to be `Model<ModelOption>`\n  // getModel(path: string | string[], parentModel?: Model): Model;\n  // TODO 'a.b.c' is deprecated\n  Model.prototype.getModel = function (path, parentModel) {\n    var hasPath = path != null;\n    var pathFinal = hasPath ? this.parsePath(path) : null;\n    var obj = hasPath ? this._doGet(pathFinal) : this.option;\n    parentModel = parentModel || this.parentModel && this.parentModel.getModel(this.resolveParentPath(pathFinal));\n    return new Model(obj, parentModel, this.ecModel);\n  };\n  /**\n   * If model has option\n   */\n  Model.prototype.isEmpty = function () {\n    return this.option == null;\n  };\n  Model.prototype.restoreData = function () {};\n  // Pending\n  Model.prototype.clone = function () {\n    var Ctor = this.constructor;\n    return new Ctor(clone(this.option));\n  };\n  // setReadOnly(properties): void {\n  // clazzUtil.setReadOnly(this, properties);\n  // }\n  // If path is null/undefined, return null/undefined.\n  Model.prototype.parsePath = function (path) {\n    if (typeof path === 'string') {\n      return path.split('.');\n    }\n    return path;\n  };\n  // Resolve path for parent. Perhaps useful when parent use a different property.\n  // Default to be a identity resolver.\n  // Can be modified to a different resolver.\n  Model.prototype.resolveParentPath = function (path) {\n    return path;\n  };\n  // FIXME:TS check whether put this method here\n  Model.prototype.isAnimationEnabled = function () {\n    if (!env.node && this.option) {\n      if (this.option.animation != null) {\n        return !!this.option.animation;\n      } else if (this.parentModel) {\n        return this.parentModel.isAnimationEnabled();\n      }\n    }\n  };\n  Model.prototype._doGet = function (pathArr, parentModel) {\n    var obj = this.option;\n    if (!pathArr) {\n      return obj;\n    }\n    for (var i = 0; i < pathArr.length; i++) {\n      // Ignore empty\n      if (!pathArr[i]) {\n        continue;\n      }\n      // obj could be number/string/... (like 0)\n      obj = obj && typeof obj === 'object' ? obj[pathArr[i]] : null;\n      if (obj == null) {\n        break;\n      }\n    }\n    if (obj == null && parentModel) {\n      obj = parentModel._doGet(this.resolveParentPath(pathArr), parentModel.parentModel);\n    }\n    return obj;\n  };\n  return Model;\n}();\n;\n// Enable Model.extend.\nenableClassExtend(Model);\nenableClassCheck(Model);\nmixin(Model, LineStyleMixin);\nmixin(Model, ItemStyleMixin);\nmixin(Model, AreaStyleMixin);\nmixin(Model, TextStyleMixin);\nexport default Model;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { parseClassType } from './clazz.js';\nimport { makePrintable } from './log.js';\n// A random offset\nvar base = Math.round(Math.random() * 10);\n/**\n * @public\n * @param {string} type\n * @return {string}\n */\nexport function getUID(type) {\n  // Considering the case of crossing js context,\n  // use Math.random to make id as unique as possible.\n  return [type || '', base++].join('_');\n}\n/**\n * Implements `SubTypeDefaulterManager` for `target`.\n */\nexport function enableSubTypeDefaulter(target) {\n  var subTypeDefaulters = {};\n  target.registerSubTypeDefaulter = function (componentType, defaulter) {\n    var componentTypeInfo = parseClassType(componentType);\n    subTypeDefaulters[componentTypeInfo.main] = defaulter;\n  };\n  target.determineSubType = function (componentType, option) {\n    var type = option.type;\n    if (!type) {\n      var componentTypeMain = parseClassType(componentType).main;\n      if (target.hasSubTypes(componentType) && subTypeDefaulters[componentTypeMain]) {\n        type = subTypeDefaulters[componentTypeMain](option);\n      }\n    }\n    return type;\n  };\n}\n/**\n * Implements `TopologicalTravelable<any>` for `entity`.\n *\n * Topological travel on Activity Network (Activity On Vertices).\n * Dependencies is defined in Model.prototype.dependencies, like ['xAxis', 'yAxis'].\n * If 'xAxis' or 'yAxis' is absent in componentTypeList, just ignore it in topology.\n * If there is circular dependencey, Error will be thrown.\n */\nexport function enableTopologicalTravel(entity, dependencyGetter) {\n  /**\n   * @param targetNameList Target Component type list.\n   *                       Can be ['aa', 'bb', 'aa.xx']\n   * @param fullNameList By which we can build dependency graph.\n   * @param callback Params: componentType, dependencies.\n   * @param context Scope of callback.\n   */\n  entity.topologicalTravel = function (targetNameList, fullNameList, callback, context) {\n    if (!targetNameList.length) {\n      return;\n    }\n    var result = makeDepndencyGraph(fullNameList);\n    var graph = result.graph;\n    var noEntryList = result.noEntryList;\n    var targetNameSet = {};\n    zrUtil.each(targetNameList, function (name) {\n      targetNameSet[name] = true;\n    });\n    while (noEntryList.length) {\n      var currComponentType = noEntryList.pop();\n      var currVertex = graph[currComponentType];\n      var isInTargetNameSet = !!targetNameSet[currComponentType];\n      if (isInTargetNameSet) {\n        callback.call(context, currComponentType, currVertex.originalDeps.slice());\n        delete targetNameSet[currComponentType];\n      }\n      zrUtil.each(currVertex.successor, isInTargetNameSet ? removeEdgeAndAdd : removeEdge);\n    }\n    zrUtil.each(targetNameSet, function () {\n      var errMsg = '';\n      if (process.env.NODE_ENV !== 'production') {\n        errMsg = makePrintable('Circular dependency may exists: ', targetNameSet, targetNameList, fullNameList);\n      }\n      throw new Error(errMsg);\n    });\n    function removeEdge(succComponentType) {\n      graph[succComponentType].entryCount--;\n      if (graph[succComponentType].entryCount === 0) {\n        noEntryList.push(succComponentType);\n      }\n    }\n    // Consider this case: legend depends on series, and we call\n    // chart.setOption({series: [...]}), where only series is in option.\n    // If we do not have 'removeEdgeAndAdd', legendModel.mergeOption will\n    // not be called, but only sereis.mergeOption is called. Thus legend\n    // have no chance to update its local record about series (like which\n    // name of series is available in legend).\n    function removeEdgeAndAdd(succComponentType) {\n      targetNameSet[succComponentType] = true;\n      removeEdge(succComponentType);\n    }\n  };\n  function makeDepndencyGraph(fullNameList) {\n    var graph = {};\n    var noEntryList = [];\n    zrUtil.each(fullNameList, function (name) {\n      var thisItem = createDependencyGraphItem(graph, name);\n      var originalDeps = thisItem.originalDeps = dependencyGetter(name);\n      var availableDeps = getAvailableDependencies(originalDeps, fullNameList);\n      thisItem.entryCount = availableDeps.length;\n      if (thisItem.entryCount === 0) {\n        noEntryList.push(name);\n      }\n      zrUtil.each(availableDeps, function (dependentName) {\n        if (zrUtil.indexOf(thisItem.predecessor, dependentName) < 0) {\n          thisItem.predecessor.push(dependentName);\n        }\n        var thatItem = createDependencyGraphItem(graph, dependentName);\n        if (zrUtil.indexOf(thatItem.successor, dependentName) < 0) {\n          thatItem.successor.push(name);\n        }\n      });\n    });\n    return {\n      graph: graph,\n      noEntryList: noEntryList\n    };\n  }\n  function createDependencyGraphItem(graph, name) {\n    if (!graph[name]) {\n      graph[name] = {\n        predecessor: [],\n        successor: []\n      };\n    }\n    return graph[name];\n  }\n  function getAvailableDependencies(originalDeps, fullNameList) {\n    var availableDeps = [];\n    zrUtil.each(originalDeps, function (dep) {\n      zrUtil.indexOf(fullNameList, dep) >= 0 && availableDeps.push(dep);\n    });\n    return availableDeps;\n  }\n}\nexport function inheritDefaultOption(superOption, subOption) {\n  // See also `model/Component.ts#getDefaultOption`\n  return zrUtil.merge(zrUtil.merge({}, superOption, true), subOption, true);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n/**\n * Language: English.\n */\nexport default {\n  time: {\n    month: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],\n    monthAbbr: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n    dayOfWeek: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\n    dayOfWeekAbbr: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat']\n  },\n  legend: {\n    selector: {\n      all: 'All',\n      inverse: 'Inv'\n    }\n  },\n  toolbox: {\n    brush: {\n      title: {\n        rect: 'Box Select',\n        polygon: 'Lasso Select',\n        lineX: 'Horizontally Select',\n        lineY: 'Vertically Select',\n        keep: 'Keep Selections',\n        clear: 'Clear Selections'\n      }\n    },\n    dataView: {\n      title: 'Data View',\n      lang: ['Data View', 'Close', 'Refresh']\n    },\n    dataZoom: {\n      title: {\n        zoom: 'Zoom',\n        back: 'Zoom Reset'\n      }\n    },\n    magicType: {\n      title: {\n        line: 'Switch to Line Chart',\n        bar: 'Switch to Bar Chart',\n        stack: 'Stack',\n        tiled: 'Tile'\n      }\n    },\n    restore: {\n      title: 'Restore'\n    },\n    saveAsImage: {\n      title: 'Save as Image',\n      lang: ['Right Click to Save Image']\n    }\n  },\n  series: {\n    typeNames: {\n      pie: 'Pie chart',\n      bar: 'Bar chart',\n      line: 'Line chart',\n      scatter: 'Scatter plot',\n      effectScatter: 'Ripple scatter plot',\n      radar: 'Radar chart',\n      tree: 'Tree',\n      treemap: 'Treemap',\n      boxplot: 'Boxplot',\n      candlestick: 'Candlestick',\n      k: 'K line chart',\n      heatmap: 'Heat map',\n      map: 'Map',\n      parallel: 'Parallel coordinate map',\n      lines: 'Line graph',\n      graph: 'Relationship graph',\n      sankey: 'Sankey diagram',\n      funnel: 'Funnel chart',\n      gauge: 'Gauge',\n      pictorialBar: 'Pictorial bar',\n      themeRiver: 'Theme River Map',\n      sunburst: 'Sunburst',\n      custom: 'Custom chart',\n      chart: 'Chart'\n    }\n  },\n  aria: {\n    general: {\n      withTitle: 'This is a chart about \"{title}\"',\n      withoutTitle: 'This is a chart'\n    },\n    series: {\n      single: {\n        prefix: '',\n        withName: ' with type {seriesType} named {seriesName}.',\n        withoutName: ' with type {seriesType}.'\n      },\n      multiple: {\n        prefix: '. It consists of {seriesCount} series count.',\n        withName: ' The {seriesId} series is a {seriesType} representing {seriesName}.',\n        withoutName: ' The {seriesId} series is a {seriesType}.',\n        separator: {\n          middle: '',\n          end: ''\n        }\n      }\n    },\n    data: {\n      allData: 'The data is as follows: ',\n      partialData: 'The first {displayCnt} items are: ',\n      withName: 'the data for {name} is {value}',\n      withoutName: '{value}',\n      separator: {\n        middle: ', ',\n        end: '. '\n      }\n    }\n  }\n};","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nexport default {\n  time: {\n    month: ['一月', '二月', '三月', '四月', '五月', '六月', '七月', '八月', '九月', '十月', '十一月', '十二月'],\n    monthAbbr: ['1月', '2月', '3月', '4月', '5月', '6月', '7月', '8月', '9月', '10月', '11月', '12月'],\n    dayOfWeek: ['星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六'],\n    dayOfWeekAbbr: ['日', '一', '二', '三', '四', '五', '六']\n  },\n  legend: {\n    selector: {\n      all: '全选',\n      inverse: '反选'\n    }\n  },\n  toolbox: {\n    brush: {\n      title: {\n        rect: '矩形选择',\n        polygon: '圈选',\n        lineX: '横向选择',\n        lineY: '纵向选择',\n        keep: '保持选择',\n        clear: '清除选择'\n      }\n    },\n    dataView: {\n      title: '数据视图',\n      lang: ['数据视图', '关闭', '刷新']\n    },\n    dataZoom: {\n      title: {\n        zoom: '区域缩放',\n        back: '区域缩放还原'\n      }\n    },\n    magicType: {\n      title: {\n        line: '切换为折线图',\n        bar: '切换为柱状图',\n        stack: '切换为堆叠',\n        tiled: '切换为平铺'\n      }\n    },\n    restore: {\n      title: '还原'\n    },\n    saveAsImage: {\n      title: '保存为图片',\n      lang: ['右键另存为图片']\n    }\n  },\n  series: {\n    typeNames: {\n      pie: '饼图',\n      bar: '柱状图',\n      line: '折线图',\n      scatter: '散点图',\n      effectScatter: '涟漪散点图',\n      radar: '雷达图',\n      tree: '树图',\n      treemap: '矩形树图',\n      boxplot: '箱型图',\n      candlestick: 'K线图',\n      k: 'K线图',\n      heatmap: '热力图',\n      map: '地图',\n      parallel: '平行坐标图',\n      lines: '线图',\n      graph: '关系图',\n      sankey: '桑基图',\n      funnel: '漏斗图',\n      gauge: '仪表盘图',\n      pictorialBar: '象形柱图',\n      themeRiver: '主题河流图',\n      sunburst: '旭日图',\n      custom: '自定义图表',\n      chart: '图表'\n    }\n  },\n  aria: {\n    general: {\n      withTitle: '这是一个关于“{title}”的图表。',\n      withoutTitle: '这是一个图表，'\n    },\n    series: {\n      single: {\n        prefix: '',\n        withName: '图表类型是{seriesType}，表示{seriesName}。',\n        withoutName: '图表类型是{seriesType}。'\n      },\n      multiple: {\n        prefix: '它由{seriesCount}个图表系列组成。',\n        withName: '第{seriesId}个系列是一个表示{seriesName}的{seriesType}，',\n        withoutName: '第{seriesId}个系列是一个{seriesType}，',\n        separator: {\n          middle: '；',\n          end: '。'\n        }\n      }\n    },\n    data: {\n      allData: '其数据是——',\n      partialData: '其中，前{displayCnt}项是——',\n      withName: '{name}的数据是{value}',\n      withoutName: '{value}',\n      separator: {\n        middle: '，',\n        end: ''\n      }\n    }\n  }\n};","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport Model from '../model/Model.js';\nimport env from 'zrender/lib/core/env.js';\n// default import ZH and EN lang\nimport langEN from '../i18n/langEN.js';\nimport langZH from '../i18n/langZH.js';\nimport { isString, clone, merge } from 'zrender/lib/core/util.js';\nvar LOCALE_ZH = 'ZH';\nvar LOCALE_EN = 'EN';\nvar DEFAULT_LOCALE = LOCALE_EN;\nvar localeStorage = {};\nvar localeModels = {};\nexport var SYSTEM_LANG = !env.domSupported ? DEFAULT_LOCALE : function () {\n  var langStr = (/* eslint-disable-next-line */\n  document.documentElement.lang || navigator.language || navigator.browserLanguage || DEFAULT_LOCALE).toUpperCase();\n  return langStr.indexOf(LOCALE_ZH) > -1 ? LOCALE_ZH : DEFAULT_LOCALE;\n}();\nexport function registerLocale(locale, localeObj) {\n  locale = locale.toUpperCase();\n  localeModels[locale] = new Model(localeObj);\n  localeStorage[locale] = localeObj;\n}\n// export function getLocale(locale: string) {\n//     return localeStorage[locale];\n// }\nexport function createLocaleObject(locale) {\n  if (isString(locale)) {\n    var localeObj = localeStorage[locale.toUpperCase()] || {};\n    if (locale === LOCALE_ZH || locale === LOCALE_EN) {\n      return clone(localeObj);\n    } else {\n      return merge(clone(localeObj), clone(localeStorage[DEFAULT_LOCALE]), false);\n    }\n  } else {\n    return merge(clone(locale), clone(localeStorage[DEFAULT_LOCALE]), false);\n  }\n}\nexport function getLocaleModel(lang) {\n  return localeModels[lang];\n}\nexport function getDefaultLocaleModel() {\n  return localeModels[DEFAULT_LOCALE];\n}\n// Default locale\nregisterLocale(LOCALE_EN, langEN);\nregisterLocale(LOCALE_ZH, langZH);","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n;\nvar _impl = null;\nexport function registerScaleBreakHelperImpl(impl) {\n  if (!_impl) {\n    _impl = impl;\n  }\n}\nexport function getScaleBreakHelper() {\n  return _impl;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as numberUtil from './number.js';\nimport { getDefaultLocaleModel, getLocaleModel, SYSTEM_LANG } from '../core/locale.js';\nimport Model from '../model/Model.js';\nimport { getScaleBreakHelper } from '../scale/break.js';\nexport var ONE_SECOND = 1000;\nexport var ONE_MINUTE = ONE_SECOND * 60;\nexport var ONE_HOUR = ONE_MINUTE * 60;\nexport var ONE_DAY = ONE_HOUR * 24;\nexport var ONE_YEAR = ONE_DAY * 365;\nvar primaryTimeUnitFormatterMatchers = {\n  year: /({yyyy}|{yy})/,\n  month: /({MMMM}|{MMM}|{MM}|{M})/,\n  day: /({dd}|{d})/,\n  hour: /({HH}|{H}|{hh}|{h})/,\n  minute: /({mm}|{m})/,\n  second: /({ss}|{s})/,\n  millisecond: /({SSS}|{S})/\n};\nvar defaultFormatterSeed = {\n  year: '{yyyy}',\n  month: '{MMM}',\n  day: '{d}',\n  hour: '{HH}:{mm}',\n  minute: '{HH}:{mm}',\n  second: '{HH}:{mm}:{ss}',\n  millisecond: '{HH}:{mm}:{ss} {SSS}'\n};\nvar defaultFullFormatter = '{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}';\nvar fullDayFormatter = '{yyyy}-{MM}-{dd}';\nexport var fullLeveledFormatter = {\n  year: '{yyyy}',\n  month: '{yyyy}-{MM}',\n  day: fullDayFormatter,\n  hour: fullDayFormatter + ' ' + defaultFormatterSeed.hour,\n  minute: fullDayFormatter + ' ' + defaultFormatterSeed.minute,\n  second: fullDayFormatter + ' ' + defaultFormatterSeed.second,\n  millisecond: defaultFullFormatter\n};\n// Order must be ensured from big to small.\nexport var primaryTimeUnits = ['year', 'month', 'day', 'hour', 'minute', 'second', 'millisecond'];\nexport var timeUnits = ['year', 'half-year', 'quarter', 'month', 'week', 'half-week', 'day', 'half-day', 'quarter-day', 'hour', 'minute', 'second', 'millisecond'];\nexport function parseTimeAxisLabelFormatter(formatter) {\n  // Keep the logic the same with function `leveledFormat`.\n  return !zrUtil.isString(formatter) && !zrUtil.isFunction(formatter) ? parseTimeAxisLabelFormatterDictionary(formatter) : formatter;\n}\n/**\n * The final generated dictionary is like:\n *  generated_dict = {\n *      year: {\n *          year: ['{yyyy}', ...<higher_levels_if_any>]\n *      },\n *      month: {\n *          year: ['{yyyy} {MMM}', ...<higher_levels_if_any>],\n *          month: ['{MMM}', ...<higher_levels_if_any>]\n *      },\n *      day: {\n *          year: ['{yyyy} {MMM} {d}', ...<higher_levels_if_any>],\n *          month: ['{MMM} {d}', ...<higher_levels_if_any>],\n *          day: ['{d}', ...<higher_levels_if_any>]\n *      },\n *      ...\n *  }\n *\n * In echarts option, users can specify the entire dictionary or typically just:\n *  {formatter: {\n *      year: '{yyyy}', // Or an array of leveled templates: `['{yyyy}', '{bold1|{yyyy}}', ...]`,\n *                      // corresponding to `[level0, level1, level2, ...]`.\n *      month: '{MMM}',\n *      day: '{d}',\n *      hour: '{HH}:{mm}',\n *      second: '{HH}:{mm}',\n *      ...\n *  }}\n *  If any time unit is not specified in echarts option, the default template is used,\n *  such as `['{yyyy}', {primary|{yyyy}']`.\n *\n * The `tick.level` is only used to read string from each array, meaning the style type.\n *\n * Let `lowerUnit = getUnitFromValue(tick.value)`.\n * The non-break axis ticks only use `generated_dict[lowerUnit][lowerUnit][level]`.\n * The break axis ticks may use `generated_dict[lowerUnit][upperUnit][level]`, because:\n *  Consider the case: the non-break ticks are `16th, 23th, Feb, 7th, ...`, where `Feb` is in the break\n *  range and pruned by breaks, and the break ends might be in lower time unit than day. e.g., break start\n *  is `Jan 25th 18:00`(in unit `hour`) and break end is `Feb 6th 18:30` (in unit `minute`). Thus the break\n *  label prefers `Jan 25th 18:00` and `Feb 6th 18:30` rather than only `18:00` and `18:30`, otherwise it\n *  causes misleading.\n *  In this case, the tick of the break start and end will both be:\n *      `{level: 1, lowerTimeUnit: 'minute', upperTimeUnit: 'month'}`\n *  And get the final template by `generated_dict[lowerTimeUnit][upperTimeUnit][level]`.\n *  Note that the time unit can not be calculated directly by a single tick value, since the two breaks have\n *  to be at the same time unit to avoid awkward appearance. i.e., `Jan 25th 18:00` is in the time unit \"hour\"\n *  but we need it to be \"minute\", following `Feb 6th 18:30`.\n */\nfunction parseTimeAxisLabelFormatterDictionary(dictOption) {\n  dictOption = dictOption || {};\n  var dict = {};\n  // Currently if any template is specified by user, it may contain rich text tag,\n  // such as `'{my_bold|{YYYY}}'`, thus we do add highlight style to it.\n  // (Note that nested tag (`'{some|{some2|xxx}}'`) in rich text is not supported yet.)\n  var canAddHighlight = true;\n  zrUtil.each(primaryTimeUnits, function (lowestUnit) {\n    canAddHighlight && (canAddHighlight = dictOption[lowestUnit] == null);\n  });\n  zrUtil.each(primaryTimeUnits, function (lowestUnit, lowestUnitIdx) {\n    var upperDictOption = dictOption[lowestUnit];\n    dict[lowestUnit] = {};\n    var lowerTpl = null;\n    for (var upperUnitIdx = lowestUnitIdx; upperUnitIdx >= 0; upperUnitIdx--) {\n      var upperUnit = primaryTimeUnits[upperUnitIdx];\n      var upperDictItemOption = zrUtil.isObject(upperDictOption) && !zrUtil.isArray(upperDictOption) ? upperDictOption[upperUnit] : upperDictOption;\n      var tplArr = void 0;\n      if (zrUtil.isArray(upperDictItemOption)) {\n        tplArr = upperDictItemOption.slice();\n        lowerTpl = tplArr[0] || '';\n      } else if (zrUtil.isString(upperDictItemOption)) {\n        lowerTpl = upperDictItemOption;\n        tplArr = [lowerTpl];\n      } else {\n        if (lowerTpl == null) {\n          lowerTpl = defaultFormatterSeed[lowestUnit];\n        }\n        // Generate the dict by the rule as follows:\n        // If the user specify (or by default):\n        //  {formatter: {\n        //      year: '{yyyy}',\n        //      month: '{MMM}',\n        //      day: '{d}',\n        //      ...\n        //  }}\n        // Concat them to make the final dictionary:\n        //  {formatter: {\n        //      year: {year: ['{yyyy}']},\n        //      month: {year: ['{yyyy} {MMM}'], month: ['{MMM}']},\n        //      day: {year: ['{yyyy} {MMM} {d}'], month: ['{MMM} {d}'], day: ['{d}']}\n        //      ...\n        //  }}\n        // And then add `{primary|...}` to each array if from default template.\n        // This strategy is convinient for user configurating and works for most cases.\n        // If bad cases encountered, users can specify the entire dictionary themselves\n        // instead of going through this logic.\n        else if (!primaryTimeUnitFormatterMatchers[upperUnit].test(lowerTpl)) {\n          lowerTpl = dict[upperUnit][upperUnit][0] + \" \" + lowerTpl;\n        }\n        tplArr = [lowerTpl];\n        if (canAddHighlight) {\n          tplArr[1] = \"{primary|\" + lowerTpl + \"}\";\n        }\n      }\n      dict[lowestUnit][upperUnit] = tplArr;\n    }\n  });\n  return dict;\n}\nexport function pad(str, len) {\n  str += '';\n  return '0000'.substr(0, len - str.length) + str;\n}\nexport function getPrimaryTimeUnit(timeUnit) {\n  switch (timeUnit) {\n    case 'half-year':\n    case 'quarter':\n      return 'month';\n    case 'week':\n    case 'half-week':\n      return 'day';\n    case 'half-day':\n    case 'quarter-day':\n      return 'hour';\n    default:\n      // year, minutes, second, milliseconds\n      return timeUnit;\n  }\n}\nexport function isPrimaryTimeUnit(timeUnit) {\n  return timeUnit === getPrimaryTimeUnit(timeUnit);\n}\nexport function getDefaultFormatPrecisionOfInterval(timeUnit) {\n  switch (timeUnit) {\n    case 'year':\n    case 'month':\n      return 'day';\n    case 'millisecond':\n      return 'millisecond';\n    default:\n      // Also for day, hour, minute, second\n      return 'second';\n  }\n}\nexport function format(\n// Note: The result based on `isUTC` are totally different, which can not be just simply\n// substituted by the result without `isUTC`. So we make the param `isUTC` mandatory.\ntime, template, isUTC, lang) {\n  var date = numberUtil.parseDate(time);\n  var y = date[fullYearGetterName(isUTC)]();\n  var M = date[monthGetterName(isUTC)]() + 1;\n  var q = Math.floor((M - 1) / 3) + 1;\n  var d = date[dateGetterName(isUTC)]();\n  var e = date['get' + (isUTC ? 'UTC' : '') + 'Day']();\n  var H = date[hoursGetterName(isUTC)]();\n  var h = (H - 1) % 12 + 1;\n  var m = date[minutesGetterName(isUTC)]();\n  var s = date[secondsGetterName(isUTC)]();\n  var S = date[millisecondsGetterName(isUTC)]();\n  var a = H >= 12 ? 'pm' : 'am';\n  var A = a.toUpperCase();\n  var localeModel = lang instanceof Model ? lang : getLocaleModel(lang || SYSTEM_LANG) || getDefaultLocaleModel();\n  var timeModel = localeModel.getModel('time');\n  var month = timeModel.get('month');\n  var monthAbbr = timeModel.get('monthAbbr');\n  var dayOfWeek = timeModel.get('dayOfWeek');\n  var dayOfWeekAbbr = timeModel.get('dayOfWeekAbbr');\n  return (template || '').replace(/{a}/g, a + '').replace(/{A}/g, A + '').replace(/{yyyy}/g, y + '').replace(/{yy}/g, pad(y % 100 + '', 2)).replace(/{Q}/g, q + '').replace(/{MMMM}/g, month[M - 1]).replace(/{MMM}/g, monthAbbr[M - 1]).replace(/{MM}/g, pad(M, 2)).replace(/{M}/g, M + '').replace(/{dd}/g, pad(d, 2)).replace(/{d}/g, d + '').replace(/{eeee}/g, dayOfWeek[e]).replace(/{ee}/g, dayOfWeekAbbr[e]).replace(/{e}/g, e + '').replace(/{HH}/g, pad(H, 2)).replace(/{H}/g, H + '').replace(/{hh}/g, pad(h + '', 2)).replace(/{h}/g, h + '').replace(/{mm}/g, pad(m, 2)).replace(/{m}/g, m + '').replace(/{ss}/g, pad(s, 2)).replace(/{s}/g, s + '').replace(/{SSS}/g, pad(S, 3)).replace(/{S}/g, S + '');\n}\nexport function leveledFormat(tick, idx, formatter, lang, isUTC) {\n  var template = null;\n  if (zrUtil.isString(formatter)) {\n    // Single formatter for all units at all levels\n    template = formatter;\n  } else if (zrUtil.isFunction(formatter)) {\n    var extra = {\n      time: tick.time,\n      level: tick.time.level\n    };\n    var scaleBreakHelper = getScaleBreakHelper();\n    if (scaleBreakHelper) {\n      scaleBreakHelper.makeAxisLabelFormatterParamBreak(extra, tick[\"break\"]);\n    }\n    template = formatter(tick.value, idx, extra);\n  } else {\n    var tickTime = tick.time;\n    if (tickTime) {\n      var leveledTplArr = formatter[tickTime.lowerTimeUnit][tickTime.upperTimeUnit];\n      template = leveledTplArr[Math.min(tickTime.level, leveledTplArr.length - 1)] || '';\n    } else {\n      // tick may be from customTicks or timeline therefore no tick.time.\n      var unit = getUnitFromValue(tick.value, isUTC);\n      template = formatter[unit][unit][0];\n    }\n  }\n  return format(new Date(tick.value), template, isUTC, lang);\n}\nexport function getUnitFromValue(value, isUTC) {\n  var date = numberUtil.parseDate(value);\n  var M = date[monthGetterName(isUTC)]() + 1;\n  var d = date[dateGetterName(isUTC)]();\n  var h = date[hoursGetterName(isUTC)]();\n  var m = date[minutesGetterName(isUTC)]();\n  var s = date[secondsGetterName(isUTC)]();\n  var S = date[millisecondsGetterName(isUTC)]();\n  var isSecond = S === 0;\n  var isMinute = isSecond && s === 0;\n  var isHour = isMinute && m === 0;\n  var isDay = isHour && h === 0;\n  var isMonth = isDay && d === 1;\n  var isYear = isMonth && M === 1;\n  if (isYear) {\n    return 'year';\n  } else if (isMonth) {\n    return 'month';\n  } else if (isDay) {\n    return 'day';\n  } else if (isHour) {\n    return 'hour';\n  } else if (isMinute) {\n    return 'minute';\n  } else if (isSecond) {\n    return 'second';\n  } else {\n    return 'millisecond';\n  }\n}\n// export function getUnitValue(\n//     value: number | Date,\n//     unit: TimeUnit,\n//     isUTC: boolean\n// ) : number {\n//     const date = zrUtil.isNumber(value)\n//         ? numberUtil.parseDate(value)\n//         : value;\n//     unit = unit || getUnitFromValue(value, isUTC);\n//     switch (unit) {\n//         case 'year':\n//             return date[fullYearGetterName(isUTC)]();\n//         case 'half-year':\n//             return date[monthGetterName(isUTC)]() >= 6 ? 1 : 0;\n//         case 'quarter':\n//             return Math.floor((date[monthGetterName(isUTC)]() + 1) / 4);\n//         case 'month':\n//             return date[monthGetterName(isUTC)]();\n//         case 'day':\n//             return date[dateGetterName(isUTC)]();\n//         case 'half-day':\n//             return date[hoursGetterName(isUTC)]() / 24;\n//         case 'hour':\n//             return date[hoursGetterName(isUTC)]();\n//         case 'minute':\n//             return date[minutesGetterName(isUTC)]();\n//         case 'second':\n//             return date[secondsGetterName(isUTC)]();\n//         case 'millisecond':\n//             return date[millisecondsGetterName(isUTC)]();\n//     }\n// }\n/**\n * e.g.,\n * If timeUnit is 'year', return the Jan 1st 00:00:00 000 of that year.\n * If timeUnit is 'day', return the 00:00:00 000 of that day.\n *\n * @return The input date.\n */\nexport function roundTime(date, timeUnit, isUTC) {\n  switch (timeUnit) {\n    case 'year':\n      date[monthSetterName(isUTC)](0);\n    case 'month':\n      date[dateSetterName(isUTC)](1);\n    case 'day':\n      date[hoursSetterName(isUTC)](0);\n    case 'hour':\n      date[minutesSetterName(isUTC)](0);\n    case 'minute':\n      date[secondsSetterName(isUTC)](0);\n    case 'second':\n      date[millisecondsSetterName(isUTC)](0);\n  }\n  return date;\n}\nexport function fullYearGetterName(isUTC) {\n  return isUTC ? 'getUTCFullYear' : 'getFullYear';\n}\nexport function monthGetterName(isUTC) {\n  return isUTC ? 'getUTCMonth' : 'getMonth';\n}\nexport function dateGetterName(isUTC) {\n  return isUTC ? 'getUTCDate' : 'getDate';\n}\nexport function hoursGetterName(isUTC) {\n  return isUTC ? 'getUTCHours' : 'getHours';\n}\nexport function minutesGetterName(isUTC) {\n  return isUTC ? 'getUTCMinutes' : 'getMinutes';\n}\nexport function secondsGetterName(isUTC) {\n  return isUTC ? 'getUTCSeconds' : 'getSeconds';\n}\nexport function millisecondsGetterName(isUTC) {\n  return isUTC ? 'getUTCMilliseconds' : 'getMilliseconds';\n}\nexport function fullYearSetterName(isUTC) {\n  return isUTC ? 'setUTCFullYear' : 'setFullYear';\n}\nexport function monthSetterName(isUTC) {\n  return isUTC ? 'setUTCMonth' : 'setMonth';\n}\nexport function dateSetterName(isUTC) {\n  return isUTC ? 'setUTCDate' : 'setDate';\n}\nexport function hoursSetterName(isUTC) {\n  return isUTC ? 'setUTCHours' : 'setHours';\n}\nexport function minutesSetterName(isUTC) {\n  return isUTC ? 'setUTCMinutes' : 'setMinutes';\n}\nexport function secondsSetterName(isUTC) {\n  return isUTC ? 'setUTCSeconds' : 'setSeconds';\n}\nexport function millisecondsSetterName(isUTC) {\n  return isUTC ? 'setUTCMilliseconds' : 'setMilliseconds';\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { encodeHTML } from 'zrender/lib/core/dom.js';\nimport { parseDate, isNumeric, numericToNumber } from './number.js';\nimport { format as timeFormat, pad } from './time.js';\nimport { deprecateReplaceLog } from './log.js';\n/**\n * Add a comma each three digit.\n */\nexport function addCommas(x) {\n  if (!isNumeric(x)) {\n    return zrUtil.isString(x) ? x : '-';\n  }\n  var parts = (x + '').split('.');\n  return parts[0].replace(/(\\d{1,3})(?=(?:\\d{3})+(?!\\d))/g, '$1,') + (parts.length > 1 ? '.' + parts[1] : '');\n}\nexport function toCamelCase(str, upperCaseFirst) {\n  str = (str || '').toLowerCase().replace(/-(.)/g, function (match, group1) {\n    return group1.toUpperCase();\n  });\n  if (upperCaseFirst && str) {\n    str = str.charAt(0).toUpperCase() + str.slice(1);\n  }\n  return str;\n}\nexport var normalizeCssArray = zrUtil.normalizeCssArray;\nexport { encodeHTML };\n/**\n * Make value user readable for tooltip and label.\n * \"User readable\":\n *     Try to not print programmer-specific text like NaN, Infinity, null, undefined.\n *     Avoid to display an empty string, which users can not recognize there is\n *     a value and it might look like a bug.\n */\nexport function makeValueReadable(value, valueType, useUTC) {\n  var USER_READABLE_DEFUALT_TIME_PATTERN = '{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}';\n  function stringToUserReadable(str) {\n    return str && zrUtil.trim(str) ? str : '-';\n  }\n  function isNumberUserReadable(num) {\n    return !!(num != null && !isNaN(num) && isFinite(num));\n  }\n  var isTypeTime = valueType === 'time';\n  var isValueDate = value instanceof Date;\n  if (isTypeTime || isValueDate) {\n    var date = isTypeTime ? parseDate(value) : value;\n    if (!isNaN(+date)) {\n      return timeFormat(date, USER_READABLE_DEFUALT_TIME_PATTERN, useUTC);\n    } else if (isValueDate) {\n      return '-';\n    }\n    // In other cases, continue to try to display the value in the following code.\n  }\n  if (valueType === 'ordinal') {\n    return zrUtil.isStringSafe(value) ? stringToUserReadable(value) : zrUtil.isNumber(value) ? isNumberUserReadable(value) ? value + '' : '-' : '-';\n  }\n  // By default.\n  var numericResult = numericToNumber(value);\n  return isNumberUserReadable(numericResult) ? addCommas(numericResult) : zrUtil.isStringSafe(value) ? stringToUserReadable(value) : typeof value === 'boolean' ? value + '' : '-';\n}\nvar TPL_VAR_ALIAS = ['a', 'b', 'c', 'd', 'e', 'f', 'g'];\nvar wrapVar = function (varName, seriesIdx) {\n  return '{' + varName + (seriesIdx == null ? '' : seriesIdx) + '}';\n};\n/**\n * Template formatter\n * @param {Array.<Object>|Object} paramsList\n */\nexport function formatTpl(tpl, paramsList, encode) {\n  if (!zrUtil.isArray(paramsList)) {\n    paramsList = [paramsList];\n  }\n  var seriesLen = paramsList.length;\n  if (!seriesLen) {\n    return '';\n  }\n  var $vars = paramsList[0].$vars || [];\n  for (var i = 0; i < $vars.length; i++) {\n    var alias = TPL_VAR_ALIAS[i];\n    tpl = tpl.replace(wrapVar(alias), wrapVar(alias, 0));\n  }\n  for (var seriesIdx = 0; seriesIdx < seriesLen; seriesIdx++) {\n    for (var k = 0; k < $vars.length; k++) {\n      var val = paramsList[seriesIdx][$vars[k]];\n      tpl = tpl.replace(wrapVar(TPL_VAR_ALIAS[k], seriesIdx), encode ? encodeHTML(val) : val);\n    }\n  }\n  return tpl;\n}\n/**\n * simple Template formatter\n */\nexport function formatTplSimple(tpl, param, encode) {\n  zrUtil.each(param, function (value, key) {\n    tpl = tpl.replace('{' + key + '}', encode ? encodeHTML(value) : value);\n  });\n  return tpl;\n}\nexport function getTooltipMarker(inOpt, extraCssText) {\n  var opt = zrUtil.isString(inOpt) ? {\n    color: inOpt,\n    extraCssText: extraCssText\n  } : inOpt || {};\n  var color = opt.color;\n  var type = opt.type;\n  extraCssText = opt.extraCssText;\n  var renderMode = opt.renderMode || 'html';\n  if (!color) {\n    return '';\n  }\n  if (renderMode === 'html') {\n    return type === 'subItem' ? '<span style=\"display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;' + 'border-radius:4px;width:4px;height:4px;background-color:'\n    // Only support string\n    + encodeHTML(color) + ';' + (extraCssText || '') + '\"></span>' : '<span style=\"display:inline-block;margin-right:4px;' + 'border-radius:10px;width:10px;height:10px;background-color:' + encodeHTML(color) + ';' + (extraCssText || '') + '\"></span>';\n  } else {\n    // Should better not to auto generate style name by auto-increment number here.\n    // Because this util is usually called in tooltip formatter, which is probably\n    // called repeatedly when mouse move and the auto-increment number increases fast.\n    // Users can make their own style name by theirselves, make it unique and readable.\n    var markerId = opt.markerId || 'markerX';\n    return {\n      renderMode: renderMode,\n      content: '{' + markerId + '|}  ',\n      style: type === 'subItem' ? {\n        width: 4,\n        height: 4,\n        borderRadius: 2,\n        backgroundColor: color\n      } : {\n        width: 10,\n        height: 10,\n        borderRadius: 5,\n        backgroundColor: color\n      }\n    };\n  }\n}\n/**\n * @deprecated Use `time/format` instead.\n * ISO Date format\n * @param {string} tpl\n * @param {number} value\n * @param {boolean} [isUTC=false] Default in local time.\n *           see `module:echarts/scale/Time`\n *           and `module:echarts/util/number#parseDate`.\n * @inner\n */\nexport function formatTime(tpl, value, isUTC) {\n  if (process.env.NODE_ENV !== 'production') {\n    deprecateReplaceLog('echarts.format.formatTime', 'echarts.time.format');\n  }\n  if (tpl === 'week' || tpl === 'month' || tpl === 'quarter' || tpl === 'half-year' || tpl === 'year') {\n    tpl = 'MM-dd\\nyyyy';\n  }\n  var date = parseDate(value);\n  var getUTC = isUTC ? 'getUTC' : 'get';\n  var y = date[getUTC + 'FullYear']();\n  var M = date[getUTC + 'Month']() + 1;\n  var d = date[getUTC + 'Date']();\n  var h = date[getUTC + 'Hours']();\n  var m = date[getUTC + 'Minutes']();\n  var s = date[getUTC + 'Seconds']();\n  var S = date[getUTC + 'Milliseconds']();\n  tpl = tpl.replace('MM', pad(M, 2)).replace('M', M).replace('yyyy', y).replace('yy', pad(y % 100 + '', 2)).replace('dd', pad(d, 2)).replace('d', d).replace('hh', pad(h, 2)).replace('h', h).replace('mm', pad(m, 2)).replace('m', m).replace('ss', pad(s, 2)).replace('s', s).replace('SSS', pad(S, 3));\n  return tpl;\n}\n/**\n * Capital first\n * @param {string} str\n * @return {string}\n */\nexport function capitalFirst(str) {\n  return str ? str.charAt(0).toUpperCase() + str.substr(1) : str;\n}\n/**\n * @return Never be null/undefined.\n */\nexport function convertToColorString(color, defaultColor) {\n  defaultColor = defaultColor || 'transparent';\n  return zrUtil.isString(color) ? color : zrUtil.isObject(color) ? color.colorStops && (color.colorStops[0] || {}).color || defaultColor : defaultColor;\n}\nexport { truncateText } from 'zrender/lib/graphic/helper/parseText.js';\n/**\n * open new tab\n * @param link url\n * @param target blank or self\n */\nexport function windowOpen(link, target) {\n  /* global window */\n  if (target === '_blank' || target === 'blank') {\n    var blank = window.open();\n    blank.opener = null;\n    blank.location.href = link;\n  } else {\n    window.open(link, target);\n  }\n}\nexport { getTextRect } from '../legacy/getTextRect.js';","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { SINGLE_REFERRING } from '../util/model.js';\nimport { error } from '../util/log.js';\n/**\n * FIXME:\n * `nonSeriesBoxCoordSysCreators` and `_nonSeriesBoxMasterList` are hardcoded implementations.\n * Regarding \"coord sys layout based on another coord sys\", currently we only exprimentally support one level\n * dpendency, such as, \"grid(cartesian)s can be laid out based on matrix/calendar coord sys.\"\n * But a comprehensive implementation may need to support:\n *  - Recursive dependencies. e.g., a matrix coord sys lays out based on another matrix coord sys.\n *    That requires in the implementation `create` and `update` of coord sys are called by a dependency graph.\n *    (@see enableTopologicalTravel in `util/component.ts`)\n */\nvar nonSeriesBoxCoordSysCreators = {};\nvar normalCoordSysCreators = {};\nvar CoordinateSystemManager = /** @class */function () {\n  function CoordinateSystemManager() {\n    this._normalMasterList = [];\n    this._nonSeriesBoxMasterList = [];\n  }\n  /**\n   * Typically,\n   *  - in `create`, a coord sys lays out based on a given rect;\n   *  - in `update`, update the pixel and data extent of there axes (if any) based on processed `series.data`.\n   * After that, a coord sys can serve (typically by `dataToPoint`/`dataToLayout`/`pointToData`).\n   * If the coordinate system do not lay out based on `series.data`, `update` is not needed.\n   */\n  CoordinateSystemManager.prototype.create = function (ecModel, api) {\n    this._nonSeriesBoxMasterList = dealCreate(nonSeriesBoxCoordSysCreators, true);\n    this._normalMasterList = dealCreate(normalCoordSysCreators, false);\n    function dealCreate(creatorMap, canBeNonSeriesBox) {\n      var coordinateSystems = [];\n      zrUtil.each(creatorMap, function (creator, type) {\n        var list = creator.create(ecModel, api);\n        coordinateSystems = coordinateSystems.concat(list || []);\n        if (process.env.NODE_ENV !== 'production') {\n          if (canBeNonSeriesBox) {\n            // Disallow `update` is a brutal way to ensure `_nonSeriesBoxMasterList`s are ready to\n            // serve after `create`. But if `update` has to be involved in `_nonSeriesBoxMasterList`\n            // for some future case, more complicated mechanisms need to be introduced.\n            zrUtil.each(list, function (master) {\n              return zrUtil.assert(!master.update);\n            });\n          }\n        }\n      });\n      return coordinateSystems;\n    }\n  };\n  /**\n   * @see CoordinateSystem['create']\n   */\n  CoordinateSystemManager.prototype.update = function (ecModel, api) {\n    zrUtil.each(this._normalMasterList, function (coordSys) {\n      coordSys.update && coordSys.update(ecModel, api);\n    });\n  };\n  CoordinateSystemManager.prototype.getCoordinateSystems = function () {\n    return this._normalMasterList.concat(this._nonSeriesBoxMasterList);\n  };\n  CoordinateSystemManager.register = function (type, creator) {\n    if (type === 'matrix' || type === 'calendar') {\n      // FIXME: hardcode, @see nonSeriesBoxCoordSysCreators\n      nonSeriesBoxCoordSysCreators[type] = creator;\n      return;\n    }\n    normalCoordSysCreators[type] = creator;\n  };\n  CoordinateSystemManager.get = function (type) {\n    return normalCoordSysCreators[type] || nonSeriesBoxCoordSysCreators[type];\n  };\n  return CoordinateSystemManager;\n}();\nfunction canBeNonSeriesBoxCoordSys(coordSysType) {\n  return !!nonSeriesBoxCoordSysCreators[coordSysType];\n}\nexport var BoxCoordinateSystemCoordFrom = {\n  // By default fetch coord from `model.get('coord')`.\n  coord: 1,\n  // Some model/series, such as pie, is allowed to also get coord from `model.get('center')`,\n  // if cannot get from `model.get('coord')`. But historically pie use `center` option, but\n  // geo use `layoutCenter` option to specify layout center; they are not able to be unified.\n  // Therefor it is not recommended.\n  coord2: 2\n};\n/**\n * @see_also `createBoxLayoutReference`\n * @see_also `injectCoordSysByOption`\n */\nexport function registerLayOutOnCoordSysUsage(opt) {\n  if (process.env.NODE_ENV !== 'production') {\n    zrUtil.assert(!coordSysUseMap.get(opt.fullType));\n  }\n  coordSysUseMap.set(opt.fullType, {\n    getCoord2: undefined\n  }).getCoord2 = opt.getCoord2;\n}\nvar coordSysUseMap = zrUtil.createHashMap();\n/**\n * @return Be an object, but never be NullUndefined.\n */\nexport function getCoordForBoxCoordSys(model) {\n  var coord = model.getShallow('coord', true);\n  var from = BoxCoordinateSystemCoordFrom.coord;\n  if (coord == null) {\n    var store = coordSysUseMap.get(model.type);\n    if (store && store.getCoord2) {\n      from = BoxCoordinateSystemCoordFrom.coord2;\n      coord = store.getCoord2(model);\n    }\n  }\n  return {\n    coord: coord,\n    from: from\n  };\n}\n/**\n * - \"dataCoordSys\": each data item is laid out based on a coord sys.\n * - \"boxCoordSys\": the overall bounding rect or anchor point is calculated based on a coord sys.\n *   e.g.,\n *      grid rect (cartesian rect) is calculate based on matrix/calendar coord sys;\n *      pie center is calculated based on calendar/cartesian;\n *\n * The default value (if not declared in option `coordinateSystemUsage`):\n *  For series, use `dataCoordSys`, since this is the most case and backward compatible.\n *  For non-series components, use `boxCoordSys`, since `dataCoordSys` is not applicable.\n */\nexport var CoordinateSystemUsageKind = {\n  none: 0,\n  dataCoordSys: 1,\n  boxCoordSys: 2\n};\nexport function decideCoordSysUsageKind(\n// Component or series\nmodel, printError) {\n  // For backward compat, still not use `true` in model.get.\n  var coordSysType = model.getShallow('coordinateSystem');\n  var coordSysUsageOption = model.getShallow('coordinateSystemUsage', true);\n  var isDeclaredExplicitly = coordSysUsageOption != null;\n  var kind = CoordinateSystemUsageKind.none;\n  if (coordSysType) {\n    var isSeries = model.mainType === 'series';\n    if (coordSysUsageOption == null) {\n      coordSysUsageOption = isSeries ? 'data' : 'box';\n    }\n    if (coordSysUsageOption === 'data') {\n      kind = CoordinateSystemUsageKind.dataCoordSys;\n      if (!isSeries) {\n        if (process.env.NODE_ENV !== 'production') {\n          if (isDeclaredExplicitly && printError) {\n            error('coordinateSystemUsage \"data\" is not supported in non-series components.');\n          }\n        }\n        kind = CoordinateSystemUsageKind.none;\n      }\n    } else if (coordSysUsageOption === 'box') {\n      kind = CoordinateSystemUsageKind.boxCoordSys;\n      if (!isSeries && !canBeNonSeriesBoxCoordSys(coordSysType)) {\n        if (process.env.NODE_ENV !== 'production') {\n          if (isDeclaredExplicitly && printError) {\n            error(\"coordinateSystem \\\"\" + coordSysType + \"\\\" cannot be used\" + (\" as coordinateSystemUsage \\\"box\\\" for \\\"\" + model.type + \"\\\" yet.\"));\n          }\n        }\n        kind = CoordinateSystemUsageKind.none;\n      }\n    }\n  }\n  return {\n    coordSysType: coordSysType,\n    kind: kind\n  };\n}\n/**\n * These cases are considered:\n *  (A) Most series can use only \"dataCoordSys\", but \"boxCoordSys\" is not applicable:\n *    - e.g., series.heatmap, series.line, series.bar, series.scatter, ...\n *  (B) Some series and most components can use only \"boxCoordSys\", but \"dataCoordSys\" is not applicable:\n *    - e.g., series.pie, series.funnel, ...\n *    - e.g., grid, polar, geo, title, ...\n *  (C) Several series can use both \"boxCoordSys\" and \"dataCoordSys\", even at the same time:\n *    - e.g., series.graph, series.map\n *      - If graph or map series use a \"boxCoordSys\", it creates a internal \"dataCoordSys\" to lay out its data.\n *      - Graph series can use matrix coord sys as either the \"dataCoordSys\" (each item layout on one cell)\n *        or \"boxCoordSys\" (the entire series are layout within one cell).\n *    - To achieve this effect,\n *      `series.coordinateSystemUsage: 'box'` needs to be specified explicitly.\n *\n * Check these echarts option settings:\n *  - If `series: {type: 'bar'}`:\n *      dataCoordSys: \"cartesian2d\", boxCoordSys: \"none\".\n *      (since `coordinateSystem: 'cartesian2d'` is the default option in bar.)\n *  - If `grid: {coordinateSystem: 'matrix'}`\n *      dataCoordSys: \"none\", boxCoordSys: \"matrix\".\n *  - If `series: {type: 'pie', coordinateSystem: 'matrix'}`:\n *      dataCoordSys: \"none\", boxCoordSys: \"matrix\".\n *      (since `coordinateSystemUsage: 'box'` is the default option in pie.)\n *  - If `series: {type: 'graph', coordinateSystem: 'matrix'}`:\n *      dataCoordSys: \"matrix\", boxCoordSys: \"none\"\n *  - If `series: {type: 'graph', coordinateSystem: 'matrix', coordinateSystemUsage: 'box'}`:\n *      dataCoordSys: \"an internal view\", boxCoordSys: \"the internal view is laid out on a matrix\"\n *  - If `series: {type: 'map'}`:\n *      dataCoordSys: \"a internal geo\", boxCoordSys: \"none\"\n *  - If `series: {type: 'map', coordinateSystem: 'geo', geoIndex: 0}`:\n *      dataCoordSys: \"a geo\", boxCoordSys: \"none\"\n *  - If `series: {type: 'map', coordinateSystem: 'matrix'}`:\n *      not_applicable\n *  - If `series: {type: 'map', coordinateSystem: 'matrix', coordinateSystemUsage: 'box'}`:\n *      dataCoordSys: \"an internal geo\", boxCoordSys: \"the internal geo is laid out on a matrix\"\n *\n * @usage\n * For case (A) & (B),\n *  call `injectCoordSysByOption({coordSysType: 'aaa', ...})` once for each series/components.\n * For case (C),\n *  call `injectCoordSysByOption({coordSysType: 'aaa', ...})` once for each series/components,\n *  and then call `injectCoordSysByOption({coordSysType: 'bbb', ..., isDefaultDataCoordSys: true})`\n *  once for each series/components.\n *\n * @return Whether injected.\n */\nexport function injectCoordSysByOption(opt) {\n  var targetModel = opt.targetModel,\n    coordSysType = opt.coordSysType,\n    coordSysProvider = opt.coordSysProvider,\n    isDefaultDataCoordSys = opt.isDefaultDataCoordSys,\n    allowNotFound = opt.allowNotFound;\n  if (process.env.NODE_ENV !== 'production') {\n    zrUtil.assert(!!coordSysType);\n  }\n  var _a = decideCoordSysUsageKind(targetModel, true),\n    kind = _a.kind,\n    declaredType = _a.coordSysType;\n  if (isDefaultDataCoordSys && kind !== CoordinateSystemUsageKind.dataCoordSys) {\n    // If both dataCoordSys and boxCoordSys declared in one model.\n    // There is the only case in series-graph, and no other cases yet.\n    kind = CoordinateSystemUsageKind.dataCoordSys;\n    declaredType = coordSysType;\n  }\n  if (kind === CoordinateSystemUsageKind.none || declaredType !== coordSysType) {\n    return false;\n  }\n  var coordSys = coordSysProvider(coordSysType, targetModel);\n  if (!coordSys) {\n    if (process.env.NODE_ENV !== 'production') {\n      if (!allowNotFound) {\n        error(coordSysType + \" cannot be found for\" + (\" \" + targetModel.type + \" (index: \" + targetModel.componentIndex + \").\"));\n      }\n    }\n    return false;\n  }\n  if (kind === CoordinateSystemUsageKind.dataCoordSys) {\n    if (process.env.NODE_ENV !== 'production') {\n      zrUtil.assert(targetModel.mainType === 'series');\n    }\n    targetModel.coordinateSystem = coordSys;\n  } else {\n    // kind === 'boxCoordSys'\n    targetModel.boxCoordinateSystem = coordSys;\n  }\n  return true;\n}\nexport var simpleCoordSysInjectionProvider = function (coordSysType, injectTargetModel) {\n  var coordSysModel = injectTargetModel.getReferringComponents(coordSysType, SINGLE_REFERRING).models[0];\n  return coordSysModel && coordSysModel.coordinateSystem;\n};\nexport default CoordinateSystemManager;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Layout helpers for each component positioning\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\nimport { parsePercent } from './number.js';\nimport * as formatUtil from './format.js';\nimport { error } from './log.js';\nimport { BoxCoordinateSystemCoordFrom, getCoordForBoxCoordSys } from '../core/CoordinateSystem.js';\nvar each = zrUtil.each;\n/**\n * @public\n */\nexport var LOCATION_PARAMS = ['left', 'right', 'top', 'bottom', 'width', 'height'];\n/**\n * @public\n */\nexport var HV_NAMES = [['width', 'left', 'right'], ['height', 'top', 'bottom']];\nfunction boxLayout(orient, group, gap, maxWidth, maxHeight) {\n  var x = 0;\n  var y = 0;\n  if (maxWidth == null) {\n    maxWidth = Infinity;\n  }\n  if (maxHeight == null) {\n    maxHeight = Infinity;\n  }\n  var currentLineMaxSize = 0;\n  group.eachChild(function (child, idx) {\n    var rect = child.getBoundingRect();\n    var nextChild = group.childAt(idx + 1);\n    var nextChildRect = nextChild && nextChild.getBoundingRect();\n    var nextX;\n    var nextY;\n    if (orient === 'horizontal') {\n      var moveX = rect.width + (nextChildRect ? -nextChildRect.x + rect.x : 0);\n      nextX = x + moveX;\n      // Wrap when width exceeds maxWidth or meet a `newline` group\n      // FIXME compare before adding gap?\n      if (nextX > maxWidth || child.newline) {\n        x = 0;\n        nextX = moveX;\n        y += currentLineMaxSize + gap;\n        currentLineMaxSize = rect.height;\n      } else {\n        // FIXME: consider rect.y is not `0`?\n        currentLineMaxSize = Math.max(currentLineMaxSize, rect.height);\n      }\n    } else {\n      var moveY = rect.height + (nextChildRect ? -nextChildRect.y + rect.y : 0);\n      nextY = y + moveY;\n      // Wrap when width exceeds maxHeight or meet a `newline` group\n      if (nextY > maxHeight || child.newline) {\n        x += currentLineMaxSize + gap;\n        y = 0;\n        nextY = moveY;\n        currentLineMaxSize = rect.width;\n      } else {\n        currentLineMaxSize = Math.max(currentLineMaxSize, rect.width);\n      }\n    }\n    if (child.newline) {\n      return;\n    }\n    child.x = x;\n    child.y = y;\n    child.markRedraw();\n    orient === 'horizontal' ? x = nextX + gap : y = nextY + gap;\n  });\n}\n/**\n * VBox or HBox layouting\n * @param {string} orient\n * @param {module:zrender/graphic/Group} group\n * @param {number} gap\n * @param {number} [width=Infinity]\n * @param {number} [height=Infinity]\n */\nexport var box = boxLayout;\n/**\n * VBox layouting\n * @param {module:zrender/graphic/Group} group\n * @param {number} gap\n * @param {number} [width=Infinity]\n * @param {number} [height=Infinity]\n */\nexport var vbox = zrUtil.curry(boxLayout, 'vertical');\n/**\n * HBox layouting\n * @param {module:zrender/graphic/Group} group\n * @param {number} gap\n * @param {number} [width=Infinity]\n * @param {number} [height=Infinity]\n */\nexport var hbox = zrUtil.curry(boxLayout, 'horizontal');\nexport function getBoxLayoutParams(boxLayoutModel, ignoreParent) {\n  return {\n    left: boxLayoutModel.getShallow('left', ignoreParent),\n    top: boxLayoutModel.getShallow('top', ignoreParent),\n    right: boxLayoutModel.getShallow('right', ignoreParent),\n    bottom: boxLayoutModel.getShallow('bottom', ignoreParent),\n    width: boxLayoutModel.getShallow('width', ignoreParent),\n    height: boxLayoutModel.getShallow('height', ignoreParent)\n  };\n}\nfunction getViewRectAndCenterForCircleLayout(seriesModel, api) {\n  var layoutRef = createBoxLayoutReference(seriesModel, api, {\n    enableLayoutOnlyByCenter: true\n  });\n  var boxLayoutParams = seriesModel.getBoxLayoutParams();\n  var viewRect;\n  var center;\n  if (layoutRef.type === BoxLayoutReferenceType.point) {\n    center = layoutRef.refPoint;\n    // `viewRect` is required in `pie/labelLayout.ts`.\n    viewRect = getLayoutRect(boxLayoutParams, {\n      width: api.getWidth(),\n      height: api.getHeight()\n    });\n  } else {\n    // layoutRef.type === layout.BoxLayoutReferenceType.rect\n    var centerOption = seriesModel.get('center');\n    var centerOptionArr = zrUtil.isArray(centerOption) ? centerOption : [centerOption, centerOption];\n    viewRect = getLayoutRect(boxLayoutParams, layoutRef.refContainer);\n    center = layoutRef.boxCoordFrom === BoxCoordinateSystemCoordFrom.coord2 ? layoutRef.refPoint // option `series.center` has been used as coord.\n    : [parsePercent(centerOptionArr[0], viewRect.width) + viewRect.x, parsePercent(centerOptionArr[1], viewRect.height) + viewRect.y];\n  }\n  return {\n    viewRect: viewRect,\n    center: center\n  };\n}\nexport function getCircleLayout(seriesModel, api) {\n  // center can be string or number when coordinateSystem is specified\n  var _a = getViewRectAndCenterForCircleLayout(seriesModel, api),\n    viewRect = _a.viewRect,\n    center = _a.center;\n  var radius = seriesModel.get('radius');\n  if (!zrUtil.isArray(radius)) {\n    radius = [0, radius];\n  }\n  var width = parsePercent(viewRect.width, api.getWidth());\n  var height = parsePercent(viewRect.height, api.getHeight());\n  var size = Math.min(width, height);\n  var r0 = parsePercent(radius[0], size / 2);\n  var r = parsePercent(radius[1], size / 2);\n  return {\n    cx: center[0],\n    cy: center[1],\n    r0: r0,\n    r: r,\n    viewRect: viewRect\n  };\n}\n/**\n * Parse position info.\n */\nexport function getLayoutRect(positionInfo, containerRect,\n// This is the space from the `containerRect` to the returned bounding rect.\n// Commonly used in option `legend.padding`, `timeline.padding`, `title.padding`,\n//  `visualMap.padding`, ...\n// [NOTICE]:\n//  It's named `margin`, because it's the space that outside the bounding rect. But from\n//  the perspective of the the caller, it's commonly used as the `padding` of a component,\n//  because conventionally background color covers this space.\n// [BEHAVIOR]:\n//  - If width/height is specified, `margin` does not effect them.\n//  - Otherwise, they are calculated based on the rect that `containerRect` shrinked by `margin`.\n//  - left/right/top/bottom are based on the rect that `containerRect` shrinked by `margin`.\nmargin) {\n  margin = formatUtil.normalizeCssArray(margin || 0);\n  var containerWidth = containerRect.width;\n  var containerHeight = containerRect.height;\n  var left = parsePercent(positionInfo.left, containerWidth);\n  var top = parsePercent(positionInfo.top, containerHeight);\n  var right = parsePercent(positionInfo.right, containerWidth);\n  var bottom = parsePercent(positionInfo.bottom, containerHeight);\n  var width = parsePercent(positionInfo.width, containerWidth);\n  var height = parsePercent(positionInfo.height, containerHeight);\n  var verticalMargin = margin[2] + margin[0];\n  var horizontalMargin = margin[1] + margin[3];\n  var aspect = positionInfo.aspect;\n  // If width is not specified, calculate width from left and right\n  if (isNaN(width)) {\n    width = containerWidth - right - horizontalMargin - left;\n  }\n  if (isNaN(height)) {\n    height = containerHeight - bottom - verticalMargin - top;\n  }\n  if (aspect != null) {\n    // If width and height are not given\n    // 1. Graph should not exceeds the container\n    // 2. Aspect must be keeped\n    // 3. Graph should take the space as more as possible\n    // FIXME\n    // Margin is not considered, because there is no case that both\n    // using margin and aspect so far.\n    if (isNaN(width) && isNaN(height)) {\n      // PENDING: if only `left` or `right` is defined, perhaps it's more preferable to\n      // calculate size based on `containerWidth - left` or `containerWidth - left` here,\n      // but for backward compatibility we do not change it.\n      if (aspect > containerWidth / containerHeight) {\n        width = containerWidth * 0.8;\n      } else {\n        height = containerHeight * 0.8;\n      }\n    }\n    // Calculate width or height with given aspect\n    if (isNaN(width)) {\n      width = aspect * height;\n    }\n    if (isNaN(height)) {\n      height = width / aspect;\n    }\n  }\n  // If left is not specified, calculate left from right and width\n  if (isNaN(left)) {\n    left = containerWidth - right - width - horizontalMargin;\n  }\n  if (isNaN(top)) {\n    top = containerHeight - bottom - height - verticalMargin;\n  }\n  // Align left and top\n  switch (positionInfo.left || positionInfo.right) {\n    case 'center':\n      left = containerWidth / 2 - width / 2 - margin[3];\n      break;\n    case 'right':\n      left = containerWidth - width - horizontalMargin;\n      break;\n  }\n  switch (positionInfo.top || positionInfo.bottom) {\n    case 'middle':\n    case 'center':\n      top = containerHeight / 2 - height / 2 - margin[0];\n      break;\n    case 'bottom':\n      top = containerHeight - height - verticalMargin;\n      break;\n  }\n  // If something is wrong and left, top, width, height are calculated as NaN\n  left = left || 0;\n  top = top || 0;\n  if (isNaN(width)) {\n    // Width may be NaN if only one value is given except width\n    width = containerWidth - horizontalMargin - left - (right || 0);\n  }\n  if (isNaN(height)) {\n    // Height may be NaN if only one value is given except height\n    height = containerHeight - verticalMargin - top - (bottom || 0);\n  }\n  var rect = new BoundingRect((containerRect.x || 0) + left + margin[3], (containerRect.y || 0) + top + margin[0], width, height);\n  rect.margin = margin;\n  return rect;\n}\n/**\n * PENDING:\n *  when preserveAspect: 'cover' and aspect is near Infinity\n *  or when preserveAspect: 'contain' and aspect is near 0,\n *  the result width or height is near Inifity. It's logically correct,\n *  Therefore currently we do not handle it, until bad cases arise.\n */\nexport function applyPreserveAspect(component, layoutRect,\n// That is, `width / height`.\n// Assume `aspect` is positive.\naspect) {\n  var preserveAspect = component.getShallow('preserveAspect', true);\n  if (!preserveAspect) {\n    return layoutRect;\n  }\n  var actualAspect = layoutRect.width / layoutRect.height;\n  if (Math.abs(Math.atan(aspect) - Math.atan(actualAspect)) < 1e-9) {\n    return layoutRect;\n  }\n  var preserveAspectAlign = component.getShallow('preserveAspectAlign', true);\n  var preserveAspectVerticalAlign = component.getShallow('preserveAspectVerticalAlign', true);\n  var layoutOptInner = {\n    width: layoutRect.width,\n    height: layoutRect.height\n  };\n  var isCover = preserveAspect === 'cover';\n  if (actualAspect > aspect && !isCover || actualAspect < aspect && isCover) {\n    layoutOptInner.width = layoutRect.height * aspect;\n    preserveAspectAlign === 'left' ? layoutOptInner.left = 0 : preserveAspectAlign === 'right' ? layoutOptInner.right = 0 : layoutOptInner.left = 'center';\n  } else {\n    layoutOptInner.height = layoutRect.width / aspect;\n    preserveAspectVerticalAlign === 'top' ? layoutOptInner.top = 0 : preserveAspectVerticalAlign === 'bottom' ? layoutOptInner.bottom = 0 : layoutOptInner.top = 'middle';\n  }\n  return getLayoutRect(layoutOptInner, layoutRect);\n}\nexport var BoxLayoutReferenceType = {\n  rect: 1,\n  point: 2\n};\n/**\n * Uniformly calculate layout reference (rect or center) based on either:\n *  - viewport:\n *      - Get `refContainer` as `{x: 0, y: 0, width: api.getWidth(), height: api.getHeight()}`\n *  - coordinate system, which can serve in several ways:\n *      - Use `dataToPoint` to get the `refPoint`, such as, in cartesian2d coord sys.\n *      - Use `dataToLayout` to get the `refContainer`, such as, in matrix coord sys.\n */\nexport function createBoxLayoutReference(model, api, opt) {\n  var refContainer;\n  var refPoint;\n  var layoutRefType;\n  var boxCoordSys = model.boxCoordinateSystem;\n  var boxCoordFrom;\n  if (boxCoordSys) {\n    var _a = getCoordForBoxCoordSys(model),\n      coord = _a.coord,\n      from = _a.from;\n    // Do not use `clamp` in `dataToLayout` and `dataToPoint`, because:\n    //  1. Should support overflow (such as, by dataZoom), where NaN should be in the result.\n    //  2. Be consistent with the way used in `series.data`\n    if (boxCoordSys.dataToLayout) {\n      layoutRefType = BoxLayoutReferenceType.rect;\n      boxCoordFrom = from;\n      var result = boxCoordSys.dataToLayout(coord);\n      refContainer = result.contentRect || result.rect;\n    } else if (opt && opt.enableLayoutOnlyByCenter && boxCoordSys.dataToPoint) {\n      layoutRefType = BoxLayoutReferenceType.point;\n      boxCoordFrom = from;\n      refPoint = boxCoordSys.dataToPoint(coord);\n    } else {\n      if (process.env.NODE_ENV !== 'production') {\n        error(model.type + \"[\" + model.componentIndex + \"]\" + (\" layout based on \" + boxCoordSys.type + \" is not supported.\"));\n      }\n    }\n  }\n  if (layoutRefType == null) {\n    layoutRefType = BoxLayoutReferenceType.rect;\n  }\n  if (layoutRefType === BoxLayoutReferenceType.rect) {\n    if (!refContainer) {\n      refContainer = {\n        x: 0,\n        y: 0,\n        width: api.getWidth(),\n        height: api.getHeight()\n      };\n    }\n    refPoint = [refContainer.x + refContainer.width / 2, refContainer.y + refContainer.height / 2];\n  }\n  return {\n    type: layoutRefType,\n    refContainer: refContainer,\n    refPoint: refPoint,\n    boxCoordFrom: boxCoordFrom\n  };\n}\n/**\n * Position a zr element in viewport\n *  Group position is specified by either\n *  {left, top}, {right, bottom}\n *  If all properties exists, right and bottom will be igonred.\n *\n * Logic:\n *     1. Scale (against origin point in parent coord)\n *     2. Rotate (against origin point in parent coord)\n *     3. Translate (with el.position by this method)\n * So this method only fixes the last step 'Translate', which does not affect\n * scaling and rotating.\n *\n * If be called repeatedly with the same input el, the same result will be gotten.\n *\n * Return true if the layout happened.\n *\n * @param el Should have `getBoundingRect` method.\n * @param positionInfo\n * @param positionInfo.left\n * @param positionInfo.top\n * @param positionInfo.right\n * @param positionInfo.bottom\n * @param positionInfo.width Only for opt.boundingModel: 'raw'\n * @param positionInfo.height Only for opt.boundingModel: 'raw'\n * @param containerRect\n * @param margin\n * @param opt\n * @param opt.hv Only horizontal or only vertical. Default to be [1, 1]\n * @param opt.boundingMode\n *        Specify how to calculate boundingRect when locating.\n *        'all': Position the boundingRect that is transformed and uioned\n *               both itself and its descendants.\n *               This mode simplies confine the elements in the bounding\n *               of their container (e.g., using 'right: 0').\n *        'raw': Position the boundingRect that is not transformed and only itself.\n *               This mode is useful when you want a element can overflow its\n *               container. (Consider a rotated circle needs to be located in a corner.)\n *               In this mode positionInfo.width/height can only be number.\n */\nexport function positionElement(el, positionInfo, containerRect, margin, opt, out) {\n  var h = !opt || !opt.hv || opt.hv[0];\n  var v = !opt || !opt.hv || opt.hv[1];\n  var boundingMode = opt && opt.boundingMode || 'all';\n  out = out || el;\n  out.x = el.x;\n  out.y = el.y;\n  if (!h && !v) {\n    return false;\n  }\n  var rect;\n  if (boundingMode === 'raw') {\n    rect = el.type === 'group' ? new BoundingRect(0, 0, +positionInfo.width || 0, +positionInfo.height || 0) : el.getBoundingRect();\n  } else {\n    rect = el.getBoundingRect();\n    if (el.needLocalTransform()) {\n      var transform = el.getLocalTransform();\n      // Notice: raw rect may be inner object of el,\n      // which should not be modified.\n      rect = rect.clone();\n      rect.applyTransform(transform);\n    }\n  }\n  // The real width and height can not be specified but calculated by the given el.\n  var layoutRect = getLayoutRect(zrUtil.defaults({\n    width: rect.width,\n    height: rect.height\n  }, positionInfo), containerRect, margin);\n  // Because 'tranlate' is the last step in transform\n  // (see zrender/core/Transformable#getLocalTransform),\n  // we can just only modify el.position to get final result.\n  var dx = h ? layoutRect.x - rect.x : 0;\n  var dy = v ? layoutRect.y - rect.y : 0;\n  if (boundingMode === 'raw') {\n    out.x = dx;\n    out.y = dy;\n  } else {\n    out.x += dx;\n    out.y += dy;\n  }\n  if (out === el) {\n    el.markRedraw();\n  }\n  return true;\n}\n/**\n * @param option Contains some of the properties in HV_NAMES.\n * @param hvIdx 0: horizontal; 1: vertical.\n */\nexport function sizeCalculable(option, hvIdx) {\n  return option[HV_NAMES[hvIdx][0]] != null || option[HV_NAMES[hvIdx][1]] != null && option[HV_NAMES[hvIdx][2]] != null;\n}\nexport function fetchLayoutMode(ins) {\n  var layoutMode = ins.layoutMode || ins.constructor.layoutMode;\n  return zrUtil.isObject(layoutMode) ? layoutMode : layoutMode ? {\n    type: layoutMode\n  } : null;\n}\n/**\n * Consider Case:\n * When default option has {left: 0, width: 100}, and we set {right: 0}\n * through setOption or media query, using normal zrUtil.merge will cause\n * {right: 0} does not take effect.\n *\n * @example\n * ComponentModel.extend({\n *     init: function () {\n *         ...\n *         let inputPositionParams = layout.getLayoutParams(option);\n *         this.mergeOption(inputPositionParams);\n *     },\n *     mergeOption: function (newOption) {\n *         newOption && zrUtil.merge(thisOption, newOption, true);\n *         layout.mergeLayoutParam(thisOption, newOption);\n *     }\n * });\n *\n * @param targetOption\n * @param newOption\n * @param opt\n */\nexport function mergeLayoutParam(targetOption, newOption, opt) {\n  var ignoreSize = opt && opt.ignoreSize;\n  !zrUtil.isArray(ignoreSize) && (ignoreSize = [ignoreSize, ignoreSize]);\n  var hResult = merge(HV_NAMES[0], 0);\n  var vResult = merge(HV_NAMES[1], 1);\n  copy(HV_NAMES[0], targetOption, hResult);\n  copy(HV_NAMES[1], targetOption, vResult);\n  function merge(names, hvIdx) {\n    var newParams = {};\n    var newValueCount = 0;\n    var merged = {};\n    var mergedValueCount = 0;\n    var enoughParamNumber = 2;\n    each(names, function (name) {\n      merged[name] = targetOption[name];\n    });\n    each(names, function (name) {\n      // Consider case: newOption.width is null, which is\n      // set by user for removing width setting.\n      zrUtil.hasOwn(newOption, name) && (newParams[name] = merged[name] = newOption[name]);\n      hasValue(newParams, name) && newValueCount++;\n      hasValue(merged, name) && mergedValueCount++;\n    });\n    if (ignoreSize[hvIdx]) {\n      // Only one of left/right is premitted to exist.\n      if (hasValue(newOption, names[1])) {\n        merged[names[2]] = null;\n      } else if (hasValue(newOption, names[2])) {\n        merged[names[1]] = null;\n      }\n      return merged;\n    }\n    // Case: newOption: {width: ..., right: ...},\n    // or targetOption: {right: ...} and newOption: {width: ...},\n    // There is no conflict when merged only has params count\n    // little than enoughParamNumber.\n    if (mergedValueCount === enoughParamNumber || !newValueCount) {\n      return merged;\n    }\n    // Case: newOption: {width: ..., right: ...},\n    // Than we can make sure user only want those two, and ignore\n    // all origin params in targetOption.\n    else if (newValueCount >= enoughParamNumber) {\n      return newParams;\n    } else {\n      // Chose another param from targetOption by priority.\n      for (var i = 0; i < names.length; i++) {\n        var name_1 = names[i];\n        if (!zrUtil.hasOwn(newParams, name_1) && zrUtil.hasOwn(targetOption, name_1)) {\n          newParams[name_1] = targetOption[name_1];\n          break;\n        }\n      }\n      return newParams;\n    }\n  }\n  function hasValue(obj, name) {\n    return obj[name] != null && obj[name] !== 'auto';\n  }\n  function copy(names, target, source) {\n    each(names, function (name) {\n      target[name] = source[name];\n    });\n  }\n}\n/**\n * Retrieve 'left', 'right', 'top', 'bottom', 'width', 'height' from object.\n */\nexport function getLayoutParams(source) {\n  return copyLayoutParams({}, source);\n}\n/**\n * Retrieve 'left', 'right', 'top', 'bottom', 'width', 'height' from object.\n * @param {Object} source\n * @return {Object} Result contains those props.\n */\nexport function copyLayoutParams(target, source) {\n  source && target && each(LOCATION_PARAMS, function (name) {\n    zrUtil.hasOwn(source, name) && (target[name] = source[name]);\n  });\n  return target;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport Model from './Model.js';\nimport * as componentUtil from '../util/component.js';\nimport { enableClassManagement, parseClassType, isExtendedClass, mountExtend } from '../util/clazz.js';\nimport { makeInner, queryReferringComponents } from '../util/model.js';\nimport * as layout from '../util/layout.js';\nvar inner = makeInner();\nvar ComponentModel = /** @class */function (_super) {\n  __extends(ComponentModel, _super);\n  function ComponentModel(option, parentModel, ecModel) {\n    var _this = _super.call(this, option, parentModel, ecModel) || this;\n    _this.uid = componentUtil.getUID('ec_cpt_model');\n    return _this;\n  }\n  ComponentModel.prototype.init = function (option, parentModel, ecModel) {\n    this.mergeDefaultAndTheme(option, ecModel);\n  };\n  ComponentModel.prototype.mergeDefaultAndTheme = function (option, ecModel) {\n    var layoutMode = layout.fetchLayoutMode(this);\n    var inputPositionParams = layoutMode ? layout.getLayoutParams(option) : {};\n    var themeModel = ecModel.getTheme();\n    zrUtil.merge(option, themeModel.get(this.mainType));\n    zrUtil.merge(option, this.getDefaultOption());\n    if (layoutMode) {\n      layout.mergeLayoutParam(option, inputPositionParams, layoutMode);\n    }\n  };\n  ComponentModel.prototype.mergeOption = function (option, ecModel) {\n    zrUtil.merge(this.option, option, true);\n    var layoutMode = layout.fetchLayoutMode(this);\n    if (layoutMode) {\n      layout.mergeLayoutParam(this.option, option, layoutMode);\n    }\n  };\n  /**\n   * Called immediately after `init` or `mergeOption` of this instance called.\n   */\n  ComponentModel.prototype.optionUpdated = function (newCptOption, isInit) {};\n  /**\n   * [How to declare defaultOption]:\n   *\n   * (A) If using class declaration in typescript (since echarts 5):\n   * ```ts\n   * import {ComponentOption} from '../model/option.js';\n   * export interface XxxOption extends ComponentOption {\n   *     aaa: number\n   * }\n   * export class XxxModel extends Component {\n   *     static type = 'xxx';\n   *     static defaultOption: XxxOption = {\n   *         aaa: 123\n   *     }\n   * }\n   * Component.registerClass(XxxModel);\n   * ```\n   * ```ts\n   * import {inheritDefaultOption} from '../util/component.js';\n   * import {XxxModel, XxxOption} from './XxxModel.js';\n   * export interface XxxSubOption extends XxxOption {\n   *     bbb: number\n   * }\n   * class XxxSubModel extends XxxModel {\n   *     static defaultOption: XxxSubOption = inheritDefaultOption(XxxModel.defaultOption, {\n   *         bbb: 456\n   *     })\n   *     fn() {\n   *         let opt = this.getDefaultOption();\n   *         // opt is {aaa: 123, bbb: 456}\n   *     }\n   * }\n   * ```\n   *\n   * (B) If using class extend (previous approach in echarts 3 & 4):\n   * ```js\n   * let XxxComponent = Component.extend({\n   *     defaultOption: {\n   *         xx: 123\n   *     }\n   * })\n   * ```\n   * ```js\n   * let XxxSubComponent = XxxComponent.extend({\n   *     defaultOption: {\n   *         yy: 456\n   *     },\n   *     fn: function () {\n   *         let opt = this.getDefaultOption();\n   *         // opt is {xx: 123, yy: 456}\n   *     }\n   * })\n   * ```\n   */\n  ComponentModel.prototype.getDefaultOption = function () {\n    var ctor = this.constructor;\n    if (!isExtendedClass(ctor)) {\n      // When using ES class declaration, defaultOption must be declared as static.\n      // And manually inherit the defaultOption from its parent class if needed, such as,\n      //  ```ts\n      //  static defaultOption = inheritDefaultOption(ParentModel.defaultOption, {...});\n      //  ```\n      return ctor.defaultOption;\n    }\n    // FIXME: remove this approach?\n    // Legacy: auto merge defaultOption from ancestor classes if using ParentClass.extend(subProto)\n    var fields = inner(this);\n    if (!fields.defaultOption) {\n      var optList = [];\n      var clz = ctor;\n      while (clz) {\n        var opt = clz.prototype.defaultOption;\n        opt && optList.push(opt);\n        clz = clz.superClass;\n      }\n      var defaultOption = {};\n      for (var i = optList.length - 1; i >= 0; i--) {\n        defaultOption = zrUtil.merge(defaultOption, optList[i], true);\n      }\n      fields.defaultOption = defaultOption;\n    }\n    return fields.defaultOption;\n  };\n  /**\n   * Notice: always force to input param `useDefault` in case that forget to consider it.\n   * The same behavior as `modelUtil.parseFinder`.\n   *\n   * @param useDefault In many cases like series refer axis and axis refer grid,\n   *        If axis index / axis id not specified, use the first target as default.\n   *        In other cases like dataZoom refer axis, if not specified, measn no refer.\n   */\n  ComponentModel.prototype.getReferringComponents = function (mainType, opt) {\n    var indexKey = mainType + 'Index';\n    var idKey = mainType + 'Id';\n    return queryReferringComponents(this.ecModel, mainType, {\n      index: this.get(indexKey, true),\n      id: this.get(idKey, true)\n    }, opt);\n  };\n  ComponentModel.prototype.getBoxLayoutParams = function () {\n    // Consider itself having box layout configs.\n    // For backward compatibility, by default do not `ignoreParent`.\n    return layout.getBoxLayoutParams(this, false);\n  };\n  /**\n   * Get key for zlevel.\n   * If developers don't configure zlevel. We will assign zlevel to series based on the key.\n   * For example, lines with trail effect and progressive series will in an individual zlevel.\n   */\n  ComponentModel.prototype.getZLevelKey = function () {\n    return '';\n  };\n  ComponentModel.prototype.setZLevel = function (zlevel) {\n    this.option.zlevel = zlevel;\n  };\n  ComponentModel.protoInitialize = function () {\n    var proto = ComponentModel.prototype;\n    proto.type = 'component';\n    proto.id = '';\n    proto.name = '';\n    proto.mainType = '';\n    proto.subType = '';\n    proto.componentIndex = 0;\n  }();\n  return ComponentModel;\n}(Model);\nmountExtend(ComponentModel, Model);\nenableClassManagement(ComponentModel);\ncomponentUtil.enableSubTypeDefaulter(ComponentModel);\ncomponentUtil.enableTopologicalTravel(ComponentModel, getDependencies);\nfunction getDependencies(componentType) {\n  var deps = [];\n  zrUtil.each(ComponentModel.getClassesByMainType(componentType), function (clz) {\n    deps = deps.concat(clz.dependencies || clz.prototype.dependencies || []);\n  });\n  // Ensure main type.\n  deps = zrUtil.map(deps, function (type) {\n    return parseClassType(type).main;\n  });\n  // Hack dataset for convenience.\n  if (componentType !== 'dataset' && zrUtil.indexOf(deps, 'dataset') <= 0) {\n    deps.unshift('dataset');\n  }\n  return deps;\n}\nexport default ComponentModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { extend } from 'zrender/lib/core/util.js';\nimport { modifyHSL } from 'zrender/lib/tool/color.js';\nvar tokens = {\n  color: {},\n  darkColor: {},\n  size: {}\n};\nvar color = tokens.color = {\n  theme: ['#5070dd', '#b6d634', '#505372', '#ff994d', '#0ca8df', '#ffd10a', '#fb628b', '#785db0', '#3fbe95'],\n  neutral00: '#fff',\n  neutral05: '#f4f7fd',\n  neutral10: '#e8ebf0',\n  neutral15: '#dbdee4',\n  neutral20: '#cfd2d7',\n  neutral25: '#c3c5cb',\n  neutral30: '#b7b9be',\n  neutral35: '#aaacb2',\n  neutral40: '#9ea0a5',\n  neutral45: '#929399',\n  neutral50: '#86878c',\n  neutral55: '#797b7f',\n  neutral60: '#6d6e73',\n  neutral65: '#616266',\n  neutral70: '#54555a',\n  neutral75: '#48494d',\n  neutral80: '#3c3c41',\n  neutral85: '#303034',\n  neutral90: '#232328',\n  neutral95: '#17171b',\n  neutral99: '#000',\n  accent05: '#eff1f9',\n  accent10: '#e0e4f2',\n  accent15: '#d0d6ec',\n  accent20: '#c0c9e6',\n  accent25: '#b1bbdf',\n  accent30: '#a1aed9',\n  accent35: '#91a0d3',\n  accent40: '#8292cc',\n  accent45: '#7285c6',\n  accent50: '#6578ba',\n  accent55: '#5c6da9',\n  accent60: '#536298',\n  accent65: '#4a5787',\n  accent70: '#404c76',\n  accent75: '#374165',\n  accent80: '#2e3654',\n  accent85: '#252b43',\n  accent90: '#1b2032',\n  accent95: '#121521',\n  transparent: 'rgba(0,0,0,0)',\n  highlight: 'rgba(255,231,130,0.8)'\n};\nextend(color, {\n  primary: color.neutral80,\n  secondary: color.neutral70,\n  tertiary: color.neutral60,\n  quaternary: color.neutral50,\n  disabled: color.neutral20,\n  border: color.neutral30,\n  borderTint: color.neutral20,\n  borderShade: color.neutral40,\n  background: color.neutral05,\n  backgroundTint: 'rgba(234,237,245,0.5)',\n  backgroundTransparent: 'rgba(255,255,255,0)',\n  backgroundShade: color.neutral10,\n  shadow: 'rgba(0,0,0,0.2)',\n  shadowTint: 'rgba(129,130,136,0.2)',\n  axisLine: color.neutral70,\n  axisLineTint: color.neutral40,\n  axisTick: color.neutral70,\n  axisTickMinor: color.neutral60,\n  axisLabel: color.neutral70,\n  axisSplitLine: color.neutral15,\n  axisMinorSplitLine: color.neutral05\n});\nfor (var key in color) {\n  if (color.hasOwnProperty(key)) {\n    var hex = color[key];\n    if (key === 'theme') {\n      // Don't modify theme colors.\n      tokens.darkColor.theme = color.theme.slice();\n    } else if (key === 'highlight') {\n      tokens.darkColor.highlight = 'rgba(255,231,130,0.4)';\n    } else if (key.indexOf('accent') === 0) {\n      // Desaturate and lighten accent colors.\n      tokens.darkColor[key] = modifyHSL(hex, null, function (s) {\n        return s * 0.5;\n      }, function (l) {\n        return Math.min(1, 1.3 - l);\n      });\n    } else {\n      tokens.darkColor[key] = modifyHSL(hex, null, function (s) {\n        return s * 0.9;\n      }, function (l) {\n        return 1 - Math.pow(l, 1.5);\n      });\n    }\n  }\n}\ntokens.size = {\n  xxs: 2,\n  xs: 5,\n  s: 10,\n  m: 15,\n  l: 20,\n  xl: 30,\n  xxl: 40,\n  xxxl: 50\n};\nexport default tokens;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { modifyHSL } from 'zrender/lib/tool/color.js';\nimport tokens from '../visual/tokens.js';\nvar platform = '';\n// Navigator not exists in node\nif (typeof navigator !== 'undefined') {\n  /* global navigator */\n  platform = navigator.platform || '';\n}\nvar decalColor = 'rgba(0, 0, 0, 0.2)';\nvar themeColor = tokens.color.theme[0];\nvar lightThemeColor = modifyHSL(themeColor, null, null, 0.9);\nexport default {\n  darkMode: 'auto',\n  // backgroundColor: 'rgba(0,0,0,0)',\n  colorBy: 'series',\n  color: tokens.color.theme,\n  gradientColor: [lightThemeColor, themeColor],\n  aria: {\n    decal: {\n      decals: [{\n        color: decalColor,\n        dashArrayX: [1, 0],\n        dashArrayY: [2, 5],\n        symbolSize: 1,\n        rotation: Math.PI / 6\n      }, {\n        color: decalColor,\n        symbol: 'circle',\n        dashArrayX: [[8, 8], [0, 8, 8, 0]],\n        dashArrayY: [6, 0],\n        symbolSize: 0.8\n      }, {\n        color: decalColor,\n        dashArrayX: [1, 0],\n        dashArrayY: [4, 3],\n        rotation: -Math.PI / 4\n      }, {\n        color: decalColor,\n        dashArrayX: [[6, 6], [0, 6, 6, 0]],\n        dashArrayY: [6, 0]\n      }, {\n        color: decalColor,\n        dashArrayX: [[1, 0], [1, 6]],\n        dashArrayY: [1, 0, 6, 0],\n        rotation: Math.PI / 4\n      }, {\n        color: decalColor,\n        symbol: 'triangle',\n        dashArrayX: [[9, 9], [0, 9, 9, 0]],\n        dashArrayY: [7, 2],\n        symbolSize: 0.75\n      }]\n    }\n  },\n  // If xAxis and yAxis declared, grid is created by default.\n  // grid: {},\n  textStyle: {\n    // color: '#000',\n    // decoration: 'none',\n    // PENDING\n    fontFamily: platform.match(/^Win/) ? 'Microsoft YaHei' : 'sans-serif',\n    // fontFamily: 'Arial, Verdana, sans-serif',\n    fontSize: 12,\n    fontStyle: 'normal',\n    fontWeight: 'normal'\n  },\n  // http://blogs.adobe.com/webplatform/2014/02/24/using-blend-modes-in-html-canvas/\n  // https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/globalCompositeOperation\n  // Default is source-over\n  blendMode: null,\n  stateAnimation: {\n    duration: 300,\n    easing: 'cubicOut'\n  },\n  animation: 'auto',\n  animationDuration: 1000,\n  animationDurationUpdate: 500,\n  animationEasing: 'cubicInOut',\n  animationEasingUpdate: 'cubicInOut',\n  animationThreshold: 2000,\n  // Configuration for progressive/incremental rendering\n  progressiveThreshold: 3000,\n  progressive: 400,\n  // Threshold of if use single hover layer to optimize.\n  // It is recommended that `hoverLayerThreshold` is equivalent to or less than\n  // `progressiveThreshold`, otherwise hover will cause restart of progressive,\n  // which is unexpected.\n  // see example <echarts/test/heatmap-large.html>.\n  hoverLayerThreshold: 3000,\n  // See: module:echarts/scale/Time\n  useUTC: false\n};","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { createHashMap } from 'zrender/lib/core/util.js';\n;\n;\n;\nexport var VISUAL_DIMENSIONS = createHashMap(['tooltip', 'label', 'itemName', 'itemId', 'itemGroupId', 'itemChildGroupId', 'seriesName']);\nexport var SOURCE_FORMAT_ORIGINAL = 'original';\nexport var SOURCE_FORMAT_ARRAY_ROWS = 'arrayRows';\nexport var SOURCE_FORMAT_OBJECT_ROWS = 'objectRows';\nexport var SOURCE_FORMAT_KEYED_COLUMNS = 'keyedColumns';\nexport var SOURCE_FORMAT_TYPED_ARRAY = 'typedArray';\nexport var SOURCE_FORMAT_UNKNOWN = 'unknown';\nexport var SERIES_LAYOUT_BY_COLUMN = 'column';\nexport var SERIES_LAYOUT_BY_ROW = 'row';\n;\n;\n;\n;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { makeInner, getDataItemValue, queryReferringComponents, SINGLE_REFERRING } from '../../util/model.js';\nimport { createHashMap, each, isArray, isString, isObject, isTypedArray } from 'zrender/lib/core/util.js';\nimport { SOURCE_FORMAT_ORIGINAL, SOURCE_FORMAT_ARRAY_ROWS, SOURCE_FORMAT_OBJECT_ROWS, SERIES_LAYOUT_BY_ROW, SOURCE_FORMAT_KEYED_COLUMNS } from '../../util/types.js';\n// The result of `guessOrdinal`.\nexport var BE_ORDINAL = {\n  Must: 1,\n  Might: 2,\n  Not: 3 // Other cases\n};\nvar innerGlobalModel = makeInner();\n/**\n * MUST be called before mergeOption of all series.\n */\nexport function resetSourceDefaulter(ecModel) {\n  // `datasetMap` is used to make default encode.\n  innerGlobalModel(ecModel).datasetMap = createHashMap();\n}\n/**\n * [The strategy of the arrengment of data dimensions for dataset]:\n * \"value way\": all axes are non-category axes. So series one by one take\n *     several (the number is coordSysDims.length) dimensions from dataset.\n *     The result of data arrengment of data dimensions like:\n *     | ser0_x | ser0_y | ser1_x | ser1_y | ser2_x | ser2_y |\n * \"category way\": at least one axis is category axis. So the the first data\n *     dimension is always mapped to the first category axis and shared by\n *     all of the series. The other data dimensions are taken by series like\n *     \"value way\" does.\n *     The result of data arrengment of data dimensions like:\n *     | ser_shared_x | ser0_y | ser1_y | ser2_y |\n *\n * @return encode Never be `null/undefined`.\n */\nexport function makeSeriesEncodeForAxisCoordSys(coordDimensions, seriesModel, source) {\n  var encode = {};\n  var datasetModel = querySeriesUpstreamDatasetModel(seriesModel);\n  // Currently only make default when using dataset, util more reqirements occur.\n  if (!datasetModel || !coordDimensions) {\n    return encode;\n  }\n  var encodeItemName = [];\n  var encodeSeriesName = [];\n  var ecModel = seriesModel.ecModel;\n  var datasetMap = innerGlobalModel(ecModel).datasetMap;\n  var key = datasetModel.uid + '_' + source.seriesLayoutBy;\n  var baseCategoryDimIndex;\n  var categoryWayValueDimStart;\n  coordDimensions = coordDimensions.slice();\n  each(coordDimensions, function (coordDimInfoLoose, coordDimIdx) {\n    var coordDimInfo = isObject(coordDimInfoLoose) ? coordDimInfoLoose : coordDimensions[coordDimIdx] = {\n      name: coordDimInfoLoose\n    };\n    if (coordDimInfo.type === 'ordinal' && baseCategoryDimIndex == null) {\n      baseCategoryDimIndex = coordDimIdx;\n      categoryWayValueDimStart = getDataDimCountOnCoordDim(coordDimInfo);\n    }\n    encode[coordDimInfo.name] = [];\n  });\n  var datasetRecord = datasetMap.get(key) || datasetMap.set(key, {\n    categoryWayDim: categoryWayValueDimStart,\n    valueWayDim: 0\n  });\n  // TODO\n  // Auto detect first time axis and do arrangement.\n  each(coordDimensions, function (coordDimInfo, coordDimIdx) {\n    var coordDimName = coordDimInfo.name;\n    var count = getDataDimCountOnCoordDim(coordDimInfo);\n    // In value way.\n    if (baseCategoryDimIndex == null) {\n      var start = datasetRecord.valueWayDim;\n      pushDim(encode[coordDimName], start, count);\n      pushDim(encodeSeriesName, start, count);\n      datasetRecord.valueWayDim += count;\n      // ??? TODO give a better default series name rule?\n      // especially when encode x y specified.\n      // consider: when multiple series share one dimension\n      // category axis, series name should better use\n      // the other dimension name. On the other hand, use\n      // both dimensions name.\n    }\n    // In category way, the first category axis.\n    else if (baseCategoryDimIndex === coordDimIdx) {\n      pushDim(encode[coordDimName], 0, count);\n      pushDim(encodeItemName, 0, count);\n    }\n    // In category way, the other axis.\n    else {\n      var start = datasetRecord.categoryWayDim;\n      pushDim(encode[coordDimName], start, count);\n      pushDim(encodeSeriesName, start, count);\n      datasetRecord.categoryWayDim += count;\n    }\n  });\n  function pushDim(dimIdxArr, idxFrom, idxCount) {\n    for (var i = 0; i < idxCount; i++) {\n      dimIdxArr.push(idxFrom + i);\n    }\n  }\n  function getDataDimCountOnCoordDim(coordDimInfo) {\n    var dimsDef = coordDimInfo.dimsDef;\n    return dimsDef ? dimsDef.length : 1;\n  }\n  encodeItemName.length && (encode.itemName = encodeItemName);\n  encodeSeriesName.length && (encode.seriesName = encodeSeriesName);\n  return encode;\n}\n/**\n * Work for data like [{name: ..., value: ...}, ...].\n *\n * @return encode Never be `null/undefined`.\n */\nexport function makeSeriesEncodeForNameBased(seriesModel, source, dimCount) {\n  var encode = {};\n  var datasetModel = querySeriesUpstreamDatasetModel(seriesModel);\n  // Currently only make default when using dataset, util more reqirements occur.\n  if (!datasetModel) {\n    return encode;\n  }\n  var sourceFormat = source.sourceFormat;\n  var dimensionsDefine = source.dimensionsDefine;\n  var potentialNameDimIndex;\n  if (sourceFormat === SOURCE_FORMAT_OBJECT_ROWS || sourceFormat === SOURCE_FORMAT_KEYED_COLUMNS) {\n    each(dimensionsDefine, function (dim, idx) {\n      if ((isObject(dim) ? dim.name : dim) === 'name') {\n        potentialNameDimIndex = idx;\n      }\n    });\n  }\n  var idxResult = function () {\n    var idxRes0 = {};\n    var idxRes1 = {};\n    var guessRecords = [];\n    // 5 is an experience value.\n    for (var i = 0, len = Math.min(5, dimCount); i < len; i++) {\n      var guessResult = doGuessOrdinal(source.data, sourceFormat, source.seriesLayoutBy, dimensionsDefine, source.startIndex, i);\n      guessRecords.push(guessResult);\n      var isPureNumber = guessResult === BE_ORDINAL.Not;\n      // [Strategy of idxRes0]: find the first BE_ORDINAL.Not as the value dim,\n      // and then find a name dim with the priority:\n      // \"BE_ORDINAL.Might|BE_ORDINAL.Must\" > \"other dim\" > \"the value dim itself\".\n      if (isPureNumber && idxRes0.v == null && i !== potentialNameDimIndex) {\n        idxRes0.v = i;\n      }\n      if (idxRes0.n == null || idxRes0.n === idxRes0.v || !isPureNumber && guessRecords[idxRes0.n] === BE_ORDINAL.Not) {\n        idxRes0.n = i;\n      }\n      if (fulfilled(idxRes0) && guessRecords[idxRes0.n] !== BE_ORDINAL.Not) {\n        return idxRes0;\n      }\n      // [Strategy of idxRes1]: if idxRes0 not satisfied (that is, no BE_ORDINAL.Not),\n      // find the first BE_ORDINAL.Might as the value dim,\n      // and then find a name dim with the priority:\n      // \"other dim\" > \"the value dim itself\".\n      // That is for backward compat: number-like (e.g., `'3'`, `'55'`) can be\n      // treated as number.\n      if (!isPureNumber) {\n        if (guessResult === BE_ORDINAL.Might && idxRes1.v == null && i !== potentialNameDimIndex) {\n          idxRes1.v = i;\n        }\n        if (idxRes1.n == null || idxRes1.n === idxRes1.v) {\n          idxRes1.n = i;\n        }\n      }\n    }\n    function fulfilled(idxResult) {\n      return idxResult.v != null && idxResult.n != null;\n    }\n    return fulfilled(idxRes0) ? idxRes0 : fulfilled(idxRes1) ? idxRes1 : null;\n  }();\n  if (idxResult) {\n    encode.value = [idxResult.v];\n    // `potentialNameDimIndex` has highest priority.\n    var nameDimIndex = potentialNameDimIndex != null ? potentialNameDimIndex : idxResult.n;\n    // By default, label uses itemName in charts.\n    // So we don't set encodeLabel here.\n    encode.itemName = [nameDimIndex];\n    encode.seriesName = [nameDimIndex];\n  }\n  return encode;\n}\n/**\n * @return If return null/undefined, indicate that should not use datasetModel.\n */\nexport function querySeriesUpstreamDatasetModel(seriesModel) {\n  // Caution: consider the scenario:\n  // A dataset is declared and a series is not expected to use the dataset,\n  // and at the beginning `setOption({series: { noData })` (just prepare other\n  // option but no data), then `setOption({series: {data: [...]}); In this case,\n  // the user should set an empty array to avoid that dataset is used by default.\n  var thisData = seriesModel.get('data', true);\n  if (!thisData) {\n    return queryReferringComponents(seriesModel.ecModel, 'dataset', {\n      index: seriesModel.get('datasetIndex', true),\n      id: seriesModel.get('datasetId', true)\n    }, SINGLE_REFERRING).models[0];\n  }\n}\n/**\n * @return Always return an array event empty.\n */\nexport function queryDatasetUpstreamDatasetModels(datasetModel) {\n  // Only these attributes declared, we by default reference to `datasetIndex: 0`.\n  // Otherwise, no reference.\n  if (!datasetModel.get('transform', true) && !datasetModel.get('fromTransformResult', true)) {\n    return [];\n  }\n  return queryReferringComponents(datasetModel.ecModel, 'dataset', {\n    index: datasetModel.get('fromDatasetIndex', true),\n    id: datasetModel.get('fromDatasetId', true)\n  }, SINGLE_REFERRING).models;\n}\n/**\n * The rule should not be complex, otherwise user might not\n * be able to known where the data is wrong.\n * The code is ugly, but how to make it neat?\n */\nexport function guessOrdinal(source, dimIndex) {\n  return doGuessOrdinal(source.data, source.sourceFormat, source.seriesLayoutBy, source.dimensionsDefine, source.startIndex, dimIndex);\n}\n// dimIndex may be overflow source data.\n// return {BE_ORDINAL}\nfunction doGuessOrdinal(data, sourceFormat, seriesLayoutBy, dimensionsDefine, startIndex, dimIndex) {\n  var result;\n  // Experience value.\n  var maxLoop = 5;\n  if (isTypedArray(data)) {\n    return BE_ORDINAL.Not;\n  }\n  // When sourceType is 'objectRows' or 'keyedColumns', dimensionsDefine\n  // always exists in source.\n  var dimName;\n  var dimType;\n  if (dimensionsDefine) {\n    var dimDefItem = dimensionsDefine[dimIndex];\n    if (isObject(dimDefItem)) {\n      dimName = dimDefItem.name;\n      dimType = dimDefItem.type;\n    } else if (isString(dimDefItem)) {\n      dimName = dimDefItem;\n    }\n  }\n  if (dimType != null) {\n    return dimType === 'ordinal' ? BE_ORDINAL.Must : BE_ORDINAL.Not;\n  }\n  if (sourceFormat === SOURCE_FORMAT_ARRAY_ROWS) {\n    var dataArrayRows = data;\n    if (seriesLayoutBy === SERIES_LAYOUT_BY_ROW) {\n      var sample = dataArrayRows[dimIndex];\n      for (var i = 0; i < (sample || []).length && i < maxLoop; i++) {\n        if ((result = detectValue(sample[startIndex + i])) != null) {\n          return result;\n        }\n      }\n    } else {\n      for (var i = 0; i < dataArrayRows.length && i < maxLoop; i++) {\n        var row = dataArrayRows[startIndex + i];\n        if (row && (result = detectValue(row[dimIndex])) != null) {\n          return result;\n        }\n      }\n    }\n  } else if (sourceFormat === SOURCE_FORMAT_OBJECT_ROWS) {\n    var dataObjectRows = data;\n    if (!dimName) {\n      return BE_ORDINAL.Not;\n    }\n    for (var i = 0; i < dataObjectRows.length && i < maxLoop; i++) {\n      var item = dataObjectRows[i];\n      if (item && (result = detectValue(item[dimName])) != null) {\n        return result;\n      }\n    }\n  } else if (sourceFormat === SOURCE_FORMAT_KEYED_COLUMNS) {\n    var dataKeyedColumns = data;\n    if (!dimName) {\n      return BE_ORDINAL.Not;\n    }\n    var sample = dataKeyedColumns[dimName];\n    if (!sample || isTypedArray(sample)) {\n      return BE_ORDINAL.Not;\n    }\n    for (var i = 0; i < sample.length && i < maxLoop; i++) {\n      if ((result = detectValue(sample[i])) != null) {\n        return result;\n      }\n    }\n  } else if (sourceFormat === SOURCE_FORMAT_ORIGINAL) {\n    var dataOriginal = data;\n    for (var i = 0; i < dataOriginal.length && i < maxLoop; i++) {\n      var item = dataOriginal[i];\n      var val = getDataItemValue(item);\n      if (!isArray(val)) {\n        return BE_ORDINAL.Not;\n      }\n      if ((result = detectValue(val[dimIndex])) != null) {\n        return result;\n      }\n    }\n  }\n  function detectValue(val) {\n    var beStr = isString(val);\n    // Consider usage convenience, '1', '2' will be treated as \"number\".\n    // `Number('')` (or any whitespace) is `0`.\n    if (val != null && Number.isFinite(Number(val)) && val !== '') {\n      return beStr ? BE_ORDINAL.Might : BE_ORDINAL.Not;\n    } else if (beStr && val !== '-') {\n      return BE_ORDINAL.Must;\n    }\n  }\n  return BE_ORDINAL.Not;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { createHashMap, assert } from 'zrender/lib/core/util.js';\nimport { isComponentIdInternal } from '../util/model.js';\nvar internalOptionCreatorMap = createHashMap();\nexport function registerInternalOptionCreator(mainType, creator) {\n  assert(internalOptionCreatorMap.get(mainType) == null && creator);\n  internalOptionCreatorMap.set(mainType, creator);\n}\nexport function concatInternalOptions(ecModel, mainType, newCmptOptionList) {\n  var internalOptionCreator = internalOptionCreatorMap.get(mainType);\n  if (!internalOptionCreator) {\n    return newCmptOptionList;\n  }\n  var internalOptions = internalOptionCreator(ecModel);\n  if (!internalOptions) {\n    return newCmptOptionList;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    for (var i = 0; i < internalOptions.length; i++) {\n      assert(isComponentIdInternal(internalOptions[i]));\n    }\n  }\n  return newCmptOptionList.concat(internalOptions);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { makeInner, normalizeToArray } from '../../util/model.js';\nvar innerColor = makeInner();\nvar innerDecal = makeInner();\nvar PaletteMixin = /** @class */function () {\n  function PaletteMixin() {}\n  PaletteMixin.prototype.getColorFromPalette = function (name, scope, requestNum) {\n    var defaultPalette = normalizeToArray(this.get('color', true));\n    var layeredPalette = this.get('colorLayer', true);\n    return getFromPalette(this, innerColor, defaultPalette, layeredPalette, name, scope, requestNum);\n  };\n  PaletteMixin.prototype.clearColorPalette = function () {\n    clearPalette(this, innerColor);\n  };\n  return PaletteMixin;\n}();\nexport function getDecalFromPalette(ecModel, name, scope, requestNum) {\n  var defaultDecals = normalizeToArray(ecModel.get(['aria', 'decal', 'decals']));\n  return getFromPalette(ecModel, innerDecal, defaultDecals, null, name, scope, requestNum);\n}\nfunction getNearestPalette(palettes, requestColorNum) {\n  var paletteNum = palettes.length;\n  // TODO palettes must be in order\n  for (var i = 0; i < paletteNum; i++) {\n    if (palettes[i].length > requestColorNum) {\n      return palettes[i];\n    }\n  }\n  return palettes[paletteNum - 1];\n}\n/**\n * @param name MUST NOT be null/undefined. Otherwise call this function\n *             twise with the same parameters will get different result.\n * @param scope default this.\n * @return Can be null/undefined\n */\nfunction getFromPalette(that, inner, defaultPalette, layeredPalette, name, scope, requestNum) {\n  scope = scope || that;\n  var scopeFields = inner(scope);\n  var paletteIdx = scopeFields.paletteIdx || 0;\n  var paletteNameMap = scopeFields.paletteNameMap = scopeFields.paletteNameMap || {};\n  // Use `hasOwnProperty` to avoid conflict with Object.prototype.\n  if (paletteNameMap.hasOwnProperty(name)) {\n    return paletteNameMap[name];\n  }\n  var palette = requestNum == null || !layeredPalette ? defaultPalette : getNearestPalette(layeredPalette, requestNum);\n  // In case can't find in layered color palette.\n  palette = palette || defaultPalette;\n  if (!palette || !palette.length) {\n    return;\n  }\n  var pickedPaletteItem = palette[paletteIdx];\n  if (name) {\n    paletteNameMap[name] = pickedPaletteItem;\n  }\n  scopeFields.paletteIdx = (paletteIdx + 1) % palette.length;\n  return pickedPaletteItem;\n}\nfunction clearPalette(that, inner) {\n  inner(that).paletteIdx = 0;\n  inner(that).paletteNameMap = {};\n}\nexport { PaletteMixin };","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n/**\n * Caution: If the mechanism should be changed some day, these cases\n * should be considered:\n *\n * (1) In `merge option` mode, if using the same option to call `setOption`\n * many times, the result should be the same (try our best to ensure that).\n * (2) In `merge option` mode, if a component has no id/name specified, it\n * will be merged by index, and the result sequence of the components is\n * consistent to the original sequence.\n * (3) In `replaceMerge` mode, keep the result sequence of the components is\n * consistent to the original sequence, even though there might result in \"hole\".\n * (4) `reset` feature (in toolbox). Find detailed info in comments about\n * `mergeOption` in module:echarts/model/OptionManager.\n */\nimport { each, filter, isArray, isObject, isString, createHashMap, assert, clone, merge, extend, mixin, isFunction } from 'zrender/lib/core/util.js';\nimport * as modelUtil from '../util/model.js';\nimport Model from './Model.js';\nimport ComponentModel from './Component.js';\nimport globalDefault from './globalDefault.js';\nimport { resetSourceDefaulter } from '../data/helper/sourceHelper.js';\nimport { concatInternalOptions } from './internalComponentCreator.js';\nimport { PaletteMixin } from './mixin/palette.js';\nimport { error, warn } from '../util/log.js';\n// -----------------------\n// Internal method names:\n// -----------------------\nvar reCreateSeriesIndices;\nvar assertSeriesInitialized;\nvar initBase;\nvar OPTION_INNER_KEY = '\\0_ec_inner';\nvar OPTION_INNER_VALUE = 1;\nvar BUITIN_COMPONENTS_MAP = {\n  grid: 'GridComponent',\n  polar: 'PolarComponent',\n  geo: 'GeoComponent',\n  singleAxis: 'SingleAxisComponent',\n  parallel: 'ParallelComponent',\n  calendar: 'CalendarComponent',\n  matrix: 'MatrixComponent',\n  graphic: 'GraphicComponent',\n  toolbox: 'ToolboxComponent',\n  tooltip: 'TooltipComponent',\n  axisPointer: 'AxisPointerComponent',\n  brush: 'BrushComponent',\n  title: 'TitleComponent',\n  timeline: 'TimelineComponent',\n  markPoint: 'MarkPointComponent',\n  markLine: 'MarkLineComponent',\n  markArea: 'MarkAreaComponent',\n  legend: 'LegendComponent',\n  dataZoom: 'DataZoomComponent',\n  visualMap: 'VisualMapComponent',\n  // aria: 'AriaComponent',\n  // dataset: 'DatasetComponent',\n  // Dependencies\n  xAxis: 'GridComponent',\n  yAxis: 'GridComponent',\n  angleAxis: 'PolarComponent',\n  radiusAxis: 'PolarComponent'\n};\nvar BUILTIN_CHARTS_MAP = {\n  line: 'LineChart',\n  bar: 'BarChart',\n  pie: 'PieChart',\n  scatter: 'ScatterChart',\n  radar: 'RadarChart',\n  map: 'MapChart',\n  tree: 'TreeChart',\n  treemap: 'TreemapChart',\n  graph: 'GraphChart',\n  chord: 'ChordChart',\n  gauge: 'GaugeChart',\n  funnel: 'FunnelChart',\n  parallel: 'ParallelChart',\n  sankey: 'SankeyChart',\n  boxplot: 'BoxplotChart',\n  candlestick: 'CandlestickChart',\n  effectScatter: 'EffectScatterChart',\n  lines: 'LinesChart',\n  heatmap: 'HeatmapChart',\n  pictorialBar: 'PictorialBarChart',\n  themeRiver: 'ThemeRiverChart',\n  sunburst: 'SunburstChart',\n  custom: 'CustomChart'\n};\nvar componetsMissingLogPrinted = {};\nfunction checkMissingComponents(option) {\n  each(option, function (componentOption, mainType) {\n    if (!ComponentModel.hasClass(mainType)) {\n      var componentImportName = BUITIN_COMPONENTS_MAP[mainType];\n      if (componentImportName && !componetsMissingLogPrinted[componentImportName]) {\n        error(\"Component \" + mainType + \" is used but not imported.\\nimport { \" + componentImportName + \" } from 'echarts/components';\\necharts.use([\" + componentImportName + \"]);\");\n        componetsMissingLogPrinted[componentImportName] = true;\n      }\n    }\n  });\n}\nvar GlobalModel = /** @class */function (_super) {\n  __extends(GlobalModel, _super);\n  function GlobalModel() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  GlobalModel.prototype.init = function (option, parentModel, ecModel, theme, locale, optionManager) {\n    theme = theme || {};\n    this.option = null; // Mark as not initialized.\n    this._theme = new Model(theme);\n    this._locale = new Model(locale);\n    this._optionManager = optionManager;\n  };\n  GlobalModel.prototype.setOption = function (option, opts, optionPreprocessorFuncs) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(option != null, 'option is null/undefined');\n      assert(option[OPTION_INNER_KEY] !== OPTION_INNER_VALUE, 'please use chart.getOption()');\n    }\n    var innerOpt = normalizeSetOptionInput(opts);\n    this._optionManager.setOption(option, optionPreprocessorFuncs, innerOpt);\n    this._resetOption(null, innerOpt);\n  };\n  /**\n   * @param type null/undefined: reset all.\n   *        'recreate': force recreate all.\n   *        'timeline': only reset timeline option\n   *        'media': only reset media query option\n   * @return Whether option changed.\n   */\n  GlobalModel.prototype.resetOption = function (type, opt) {\n    return this._resetOption(type, normalizeSetOptionInput(opt));\n  };\n  GlobalModel.prototype._resetOption = function (type, opt) {\n    var optionChanged = false;\n    var optionManager = this._optionManager;\n    if (!type || type === 'recreate') {\n      var baseOption = optionManager.mountOption(type === 'recreate');\n      if (process.env.NODE_ENV !== 'production') {\n        checkMissingComponents(baseOption);\n      }\n      if (!this.option || type === 'recreate') {\n        initBase(this, baseOption);\n      } else {\n        this.restoreData();\n        this._mergeOption(baseOption, opt);\n      }\n      optionChanged = true;\n    }\n    if (type === 'timeline' || type === 'media') {\n      this.restoreData();\n    }\n    // By design, if `setOption(option2)` at the second time, and `option2` is a `ECUnitOption`,\n    // it should better not have the same props with `MediaUnit['option']`.\n    // Because either `option2` or `MediaUnit['option']` will be always merged to \"current option\"\n    // rather than original \"baseOption\". If they both override a prop, the result might be\n    // unexpected when media state changed after `setOption` called.\n    // If we really need to modify a props in each `MediaUnit['option']`, use the full version\n    // (`{baseOption, media}`) in `setOption`.\n    // For `timeline`, the case is the same.\n    if (!type || type === 'recreate' || type === 'timeline') {\n      var timelineOption = optionManager.getTimelineOption(this);\n      if (timelineOption) {\n        optionChanged = true;\n        this._mergeOption(timelineOption, opt);\n      }\n    }\n    if (!type || type === 'recreate' || type === 'media') {\n      var mediaOptions = optionManager.getMediaOption(this);\n      if (mediaOptions.length) {\n        each(mediaOptions, function (mediaOption) {\n          optionChanged = true;\n          this._mergeOption(mediaOption, opt);\n        }, this);\n      }\n    }\n    return optionChanged;\n  };\n  GlobalModel.prototype.mergeOption = function (option) {\n    this._mergeOption(option, null);\n  };\n  GlobalModel.prototype._mergeOption = function (newOption, opt) {\n    var option = this.option;\n    var componentsMap = this._componentsMap;\n    var componentsCount = this._componentsCount;\n    var newCmptTypes = [];\n    var newCmptTypeMap = createHashMap();\n    var replaceMergeMainTypeMap = opt && opt.replaceMergeMainTypeMap;\n    resetSourceDefaulter(this);\n    // If no component class, merge directly.\n    // For example: color, animaiton options, etc.\n    each(newOption, function (componentOption, mainType) {\n      if (componentOption == null) {\n        return;\n      }\n      if (!ComponentModel.hasClass(mainType)) {\n        // globalSettingTask.dirty();\n        option[mainType] = option[mainType] == null ? clone(componentOption) : merge(option[mainType], componentOption, true);\n      } else if (mainType) {\n        newCmptTypes.push(mainType);\n        newCmptTypeMap.set(mainType, true);\n      }\n    });\n    if (replaceMergeMainTypeMap) {\n      // If there is a mainType `xxx` in `replaceMerge` but not declared in option,\n      // we trade it as it is declared in option as `{xxx: []}`. Because:\n      // (1) for normal merge, `{xxx: null/undefined}` are the same meaning as `{xxx: []}`.\n      // (2) some preprocessor may convert some of `{xxx: null/undefined}` to `{xxx: []}`.\n      replaceMergeMainTypeMap.each(function (val, mainTypeInReplaceMerge) {\n        if (ComponentModel.hasClass(mainTypeInReplaceMerge) && !newCmptTypeMap.get(mainTypeInReplaceMerge)) {\n          newCmptTypes.push(mainTypeInReplaceMerge);\n          newCmptTypeMap.set(mainTypeInReplaceMerge, true);\n        }\n      });\n    }\n    ComponentModel.topologicalTravel(newCmptTypes, ComponentModel.getAllClassMainTypes(), visitComponent, this);\n    function visitComponent(mainType) {\n      var newCmptOptionList = concatInternalOptions(this, mainType, modelUtil.normalizeToArray(newOption[mainType]));\n      var oldCmptList = componentsMap.get(mainType);\n      var mergeMode =\n      // `!oldCmptList` means init. See the comment in `mappingToExists`\n      !oldCmptList ? 'replaceAll' : replaceMergeMainTypeMap && replaceMergeMainTypeMap.get(mainType) ? 'replaceMerge' : 'normalMerge';\n      var mappingResult = modelUtil.mappingToExists(oldCmptList, newCmptOptionList, mergeMode);\n      // Set mainType and complete subType.\n      modelUtil.setComponentTypeToKeyInfo(mappingResult, mainType, ComponentModel);\n      // Empty it before the travel, in order to prevent `this._componentsMap`\n      // from being used in the `init`/`mergeOption`/`optionUpdated` of some\n      // components, which is probably incorrect logic.\n      option[mainType] = null;\n      componentsMap.set(mainType, null);\n      componentsCount.set(mainType, 0);\n      var optionsByMainType = [];\n      var cmptsByMainType = [];\n      var cmptsCountByMainType = 0;\n      var tooltipExists;\n      var tooltipWarningLogged;\n      each(mappingResult, function (resultItem, index) {\n        var componentModel = resultItem.existing;\n        var newCmptOption = resultItem.newOption;\n        if (!newCmptOption) {\n          if (componentModel) {\n            // Consider where is no new option and should be merged using {},\n            // see removeEdgeAndAdd in topologicalTravel and\n            // ComponentModel.getAllClassMainTypes.\n            componentModel.mergeOption({}, this);\n            componentModel.optionUpdated({}, false);\n          }\n          // If no both `resultItem.exist` and `resultItem.option`,\n          // either it is in `replaceMerge` and not matched by any id,\n          // or it has been removed in previous `replaceMerge` and left a \"hole\" in this component index.\n        } else {\n          var isSeriesType = mainType === 'series';\n          var ComponentModelClass = ComponentModel.getClass(mainType, resultItem.keyInfo.subType, !isSeriesType // Give a more detailed warn later if series don't exists\n          );\n          if (!ComponentModelClass) {\n            if (process.env.NODE_ENV !== 'production') {\n              var subType = resultItem.keyInfo.subType;\n              var seriesImportName = BUILTIN_CHARTS_MAP[subType];\n              if (!componetsMissingLogPrinted[subType]) {\n                componetsMissingLogPrinted[subType] = true;\n                if (seriesImportName) {\n                  error(\"Series \" + subType + \" is used but not imported.\\nimport { \" + seriesImportName + \" } from 'echarts/charts';\\necharts.use([\" + seriesImportName + \"]);\");\n                } else {\n                  error(\"Unknown series \" + subType);\n                }\n              }\n            }\n            return;\n          }\n          // TODO Before multiple tooltips get supported, we do this check to avoid unexpected exception.\n          if (mainType === 'tooltip') {\n            if (tooltipExists) {\n              if (process.env.NODE_ENV !== 'production') {\n                if (!tooltipWarningLogged) {\n                  warn('Currently only one tooltip component is allowed.');\n                  tooltipWarningLogged = true;\n                }\n              }\n              return;\n            }\n            tooltipExists = true;\n          }\n          if (componentModel && componentModel.constructor === ComponentModelClass) {\n            componentModel.name = resultItem.keyInfo.name;\n            // componentModel.settingTask && componentModel.settingTask.dirty();\n            componentModel.mergeOption(newCmptOption, this);\n            componentModel.optionUpdated(newCmptOption, false);\n          } else {\n            // PENDING Global as parent ?\n            var extraOpt = extend({\n              componentIndex: index\n            }, resultItem.keyInfo);\n            componentModel = new ComponentModelClass(newCmptOption, this, this, extraOpt);\n            // Assign `keyInfo`\n            extend(componentModel, extraOpt);\n            if (resultItem.brandNew) {\n              componentModel.__requireNewView = true;\n            }\n            componentModel.init(newCmptOption, this, this);\n            // Call optionUpdated after init.\n            // newCmptOption has been used as componentModel.option\n            // and may be merged with theme and default, so pass null\n            // to avoid confusion.\n            componentModel.optionUpdated(null, true);\n          }\n        }\n        if (componentModel) {\n          optionsByMainType.push(componentModel.option);\n          cmptsByMainType.push(componentModel);\n          cmptsCountByMainType++;\n        } else {\n          // Always do assign to avoid elided item in array.\n          optionsByMainType.push(void 0);\n          cmptsByMainType.push(void 0);\n        }\n      }, this);\n      option[mainType] = optionsByMainType;\n      componentsMap.set(mainType, cmptsByMainType);\n      componentsCount.set(mainType, cmptsCountByMainType);\n      // Backup series for filtering.\n      if (mainType === 'series') {\n        reCreateSeriesIndices(this);\n      }\n    }\n    // If no series declared, ensure `_seriesIndices` initialized.\n    if (!this._seriesIndices) {\n      reCreateSeriesIndices(this);\n    }\n  };\n  /**\n   * Get option for output (cloned option and inner info removed)\n   */\n  GlobalModel.prototype.getOption = function () {\n    var option = clone(this.option);\n    each(option, function (optInMainType, mainType) {\n      if (ComponentModel.hasClass(mainType)) {\n        var opts = modelUtil.normalizeToArray(optInMainType);\n        // Inner cmpts need to be removed.\n        // Inner cmpts might not be at last since ec5.0, but still\n        // compatible for users: if inner cmpt at last, splice the returned array.\n        var realLen = opts.length;\n        var metNonInner = false;\n        for (var i = realLen - 1; i >= 0; i--) {\n          // Remove options with inner id.\n          if (opts[i] && !modelUtil.isComponentIdInternal(opts[i])) {\n            metNonInner = true;\n          } else {\n            opts[i] = null;\n            !metNonInner && realLen--;\n          }\n        }\n        opts.length = realLen;\n        option[mainType] = opts;\n      }\n    });\n    delete option[OPTION_INNER_KEY];\n    return option;\n  };\n  GlobalModel.prototype.setTheme = function (theme) {\n    this._theme = new Model(theme);\n    this._resetOption('recreate', null);\n  };\n  GlobalModel.prototype.getTheme = function () {\n    return this._theme;\n  };\n  GlobalModel.prototype.getLocaleModel = function () {\n    return this._locale;\n  };\n  GlobalModel.prototype.setUpdatePayload = function (payload) {\n    this._payload = payload;\n  };\n  GlobalModel.prototype.getUpdatePayload = function () {\n    return this._payload;\n  };\n  /**\n   * @param idx If not specified, return the first one.\n   */\n  GlobalModel.prototype.getComponent = function (mainType, idx) {\n    var list = this._componentsMap.get(mainType);\n    if (list) {\n      var cmpt = list[idx || 0];\n      if (cmpt) {\n        return cmpt;\n      } else if (idx == null) {\n        for (var i = 0; i < list.length; i++) {\n          if (list[i]) {\n            return list[i];\n          }\n        }\n      }\n    }\n  };\n  /**\n   * @return Never be null/undefined.\n   */\n  GlobalModel.prototype.queryComponents = function (condition) {\n    var mainType = condition.mainType;\n    if (!mainType) {\n      return [];\n    }\n    var index = condition.index;\n    var id = condition.id;\n    var name = condition.name;\n    var cmpts = this._componentsMap.get(mainType);\n    if (!cmpts || !cmpts.length) {\n      return [];\n    }\n    var result;\n    if (index != null) {\n      result = [];\n      each(modelUtil.normalizeToArray(index), function (idx) {\n        cmpts[idx] && result.push(cmpts[idx]);\n      });\n    } else if (id != null) {\n      result = queryByIdOrName('id', id, cmpts);\n    } else if (name != null) {\n      result = queryByIdOrName('name', name, cmpts);\n    } else {\n      // Return all non-empty components in that mainType\n      result = filter(cmpts, function (cmpt) {\n        return !!cmpt;\n      });\n    }\n    return filterBySubType(result, condition);\n  };\n  /**\n   * The interface is different from queryComponents,\n   * which is convenient for inner usage.\n   *\n   * @usage\n   * let result = findComponents(\n   *     {mainType: 'dataZoom', query: {dataZoomId: 'abc'}}\n   * );\n   * let result = findComponents(\n   *     {mainType: 'series', subType: 'pie', query: {seriesName: 'uio'}}\n   * );\n   * let result = findComponents(\n   *     {mainType: 'series',\n   *     filter: function (model, index) {...}}\n   * );\n   * // result like [component0, componnet1, ...]\n   */\n  GlobalModel.prototype.findComponents = function (condition) {\n    var query = condition.query;\n    var mainType = condition.mainType;\n    var queryCond = getQueryCond(query);\n    var result = queryCond ? this.queryComponents(queryCond)\n    // Retrieve all non-empty components.\n    : filter(this._componentsMap.get(mainType), function (cmpt) {\n      return !!cmpt;\n    });\n    return doFilter(filterBySubType(result, condition));\n    function getQueryCond(q) {\n      var indexAttr = mainType + 'Index';\n      var idAttr = mainType + 'Id';\n      var nameAttr = mainType + 'Name';\n      return q && (q[indexAttr] != null || q[idAttr] != null || q[nameAttr] != null) ? {\n        mainType: mainType,\n        // subType will be filtered finally.\n        index: q[indexAttr],\n        id: q[idAttr],\n        name: q[nameAttr]\n      } : null;\n    }\n    function doFilter(res) {\n      return condition.filter ? filter(res, condition.filter) : res;\n    }\n  };\n  GlobalModel.prototype.eachComponent = function (mainType, cb, context) {\n    var componentsMap = this._componentsMap;\n    if (isFunction(mainType)) {\n      var ctxForAll_1 = cb;\n      var cbForAll_1 = mainType;\n      componentsMap.each(function (cmpts, componentType) {\n        for (var i = 0; cmpts && i < cmpts.length; i++) {\n          var cmpt = cmpts[i];\n          cmpt && cbForAll_1.call(ctxForAll_1, componentType, cmpt, cmpt.componentIndex);\n        }\n      });\n    } else {\n      var cmpts = isString(mainType) ? componentsMap.get(mainType) : isObject(mainType) ? this.findComponents(mainType) : null;\n      for (var i = 0; cmpts && i < cmpts.length; i++) {\n        var cmpt = cmpts[i];\n        cmpt && cb.call(context, cmpt, cmpt.componentIndex);\n      }\n    }\n  };\n  /**\n   * Get series list before filtered by name.\n   */\n  GlobalModel.prototype.getSeriesByName = function (name) {\n    var nameStr = modelUtil.convertOptionIdName(name, null);\n    return filter(this._componentsMap.get('series'), function (oneSeries) {\n      return !!oneSeries && nameStr != null && oneSeries.name === nameStr;\n    });\n  };\n  /**\n   * Get series list before filtered by index.\n   */\n  GlobalModel.prototype.getSeriesByIndex = function (seriesIndex) {\n    return this._componentsMap.get('series')[seriesIndex];\n  };\n  /**\n   * Get series list before filtered by type.\n   * FIXME: rename to getRawSeriesByType?\n   */\n  GlobalModel.prototype.getSeriesByType = function (subType) {\n    return filter(this._componentsMap.get('series'), function (oneSeries) {\n      return !!oneSeries && oneSeries.subType === subType;\n    });\n  };\n  /**\n   * Get all series before filtered.\n   */\n  GlobalModel.prototype.getSeries = function () {\n    return filter(this._componentsMap.get('series'), function (oneSeries) {\n      return !!oneSeries;\n    });\n  };\n  /**\n   * Count series before filtered.\n   */\n  GlobalModel.prototype.getSeriesCount = function () {\n    return this._componentsCount.get('series');\n  };\n  /**\n   * After filtering, series may be different\n   * from raw series.\n   */\n  GlobalModel.prototype.eachSeries = function (cb, context) {\n    assertSeriesInitialized(this);\n    each(this._seriesIndices, function (rawSeriesIndex) {\n      var series = this._componentsMap.get('series')[rawSeriesIndex];\n      cb.call(context, series, rawSeriesIndex);\n    }, this);\n  };\n  /**\n   * Iterate raw series before filtered.\n   *\n   * @param {Function} cb\n   * @param {*} context\n   */\n  GlobalModel.prototype.eachRawSeries = function (cb, context) {\n    each(this._componentsMap.get('series'), function (series) {\n      series && cb.call(context, series, series.componentIndex);\n    });\n  };\n  /**\n   * After filtering, series may be different.\n   * from raw series.\n   */\n  GlobalModel.prototype.eachSeriesByType = function (subType, cb, context) {\n    assertSeriesInitialized(this);\n    each(this._seriesIndices, function (rawSeriesIndex) {\n      var series = this._componentsMap.get('series')[rawSeriesIndex];\n      if (series.subType === subType) {\n        cb.call(context, series, rawSeriesIndex);\n      }\n    }, this);\n  };\n  /**\n   * Iterate raw series before filtered of given type.\n   */\n  GlobalModel.prototype.eachRawSeriesByType = function (subType, cb, context) {\n    return each(this.getSeriesByType(subType), cb, context);\n  };\n  GlobalModel.prototype.isSeriesFiltered = function (seriesModel) {\n    assertSeriesInitialized(this);\n    return this._seriesIndicesMap.get(seriesModel.componentIndex) == null;\n  };\n  GlobalModel.prototype.getCurrentSeriesIndices = function () {\n    return (this._seriesIndices || []).slice();\n  };\n  GlobalModel.prototype.filterSeries = function (cb, context) {\n    assertSeriesInitialized(this);\n    var newSeriesIndices = [];\n    each(this._seriesIndices, function (seriesRawIdx) {\n      var series = this._componentsMap.get('series')[seriesRawIdx];\n      cb.call(context, series, seriesRawIdx) && newSeriesIndices.push(seriesRawIdx);\n    }, this);\n    this._seriesIndices = newSeriesIndices;\n    this._seriesIndicesMap = createHashMap(newSeriesIndices);\n  };\n  GlobalModel.prototype.restoreData = function (payload) {\n    reCreateSeriesIndices(this);\n    var componentsMap = this._componentsMap;\n    var componentTypes = [];\n    componentsMap.each(function (components, componentType) {\n      if (ComponentModel.hasClass(componentType)) {\n        componentTypes.push(componentType);\n      }\n    });\n    ComponentModel.topologicalTravel(componentTypes, ComponentModel.getAllClassMainTypes(), function (componentType) {\n      each(componentsMap.get(componentType), function (component) {\n        if (component && (componentType !== 'series' || !isNotTargetSeries(component, payload))) {\n          component.restoreData();\n        }\n      });\n    });\n  };\n  GlobalModel.internalField = function () {\n    reCreateSeriesIndices = function (ecModel) {\n      var seriesIndices = ecModel._seriesIndices = [];\n      each(ecModel._componentsMap.get('series'), function (series) {\n        // series may have been removed by `replaceMerge`.\n        series && seriesIndices.push(series.componentIndex);\n      });\n      ecModel._seriesIndicesMap = createHashMap(seriesIndices);\n    };\n    assertSeriesInitialized = function (ecModel) {\n      // Components that use _seriesIndices should depends on series component,\n      // which make sure that their initialization is after series.\n      if (process.env.NODE_ENV !== 'production') {\n        if (!ecModel._seriesIndices) {\n          throw new Error('Option should contains series.');\n        }\n      }\n    };\n    initBase = function (ecModel, baseOption) {\n      // Using OPTION_INNER_KEY to mark that this option cannot be used outside,\n      // i.e. `chart.setOption(chart.getModel().option);` is forbidden.\n      ecModel.option = {};\n      ecModel.option[OPTION_INNER_KEY] = OPTION_INNER_VALUE;\n      // Init with series: [], in case of calling findSeries method\n      // before series initialized.\n      ecModel._componentsMap = createHashMap({\n        series: []\n      });\n      ecModel._componentsCount = createHashMap();\n      // If user spefied `option.aria`, aria will be enable. This detection should be\n      // performed before theme and globalDefault merge.\n      var airaOption = baseOption.aria;\n      if (isObject(airaOption) && airaOption.enabled == null) {\n        airaOption.enabled = true;\n      }\n      mergeTheme(baseOption, ecModel._theme.option);\n      // TODO Needs clone when merging to the unexisted property\n      merge(baseOption, globalDefault, false);\n      ecModel._mergeOption(baseOption, null);\n    };\n  }();\n  return GlobalModel;\n}(Model);\nfunction isNotTargetSeries(seriesModel, payload) {\n  if (payload) {\n    var index = payload.seriesIndex;\n    var id = payload.seriesId;\n    var name_1 = payload.seriesName;\n    return index != null && seriesModel.componentIndex !== index || id != null && seriesModel.id !== id || name_1 != null && seriesModel.name !== name_1;\n  }\n}\nfunction mergeTheme(option, theme) {\n  // PENDING\n  // NOT use `colorLayer` in theme if option has `color`\n  var notMergeColorLayer = option.color && !option.colorLayer;\n  each(theme, function (themeItem, name) {\n    if (name === 'colorLayer' && notMergeColorLayer || name === 'color' && option.color) {\n      return;\n    }\n    // If it is component model mainType, the model handles that merge later.\n    // otherwise, merge them here.\n    if (!ComponentModel.hasClass(name)) {\n      if (typeof themeItem === 'object') {\n        option[name] = !option[name] ? clone(themeItem) : merge(option[name], themeItem, false);\n      } else {\n        if (option[name] == null) {\n          option[name] = themeItem;\n        }\n      }\n    }\n  });\n}\nfunction queryByIdOrName(attr, idOrName, cmpts) {\n  // Here is a break from echarts4: string and number are\n  // treated as equal.\n  if (isArray(idOrName)) {\n    var keyMap_1 = createHashMap();\n    each(idOrName, function (idOrNameItem) {\n      if (idOrNameItem != null) {\n        var idName = modelUtil.convertOptionIdName(idOrNameItem, null);\n        idName != null && keyMap_1.set(idOrNameItem, true);\n      }\n    });\n    return filter(cmpts, function (cmpt) {\n      return cmpt && keyMap_1.get(cmpt[attr]);\n    });\n  } else {\n    var idName_1 = modelUtil.convertOptionIdName(idOrName, null);\n    return filter(cmpts, function (cmpt) {\n      return cmpt && idName_1 != null && cmpt[attr] === idName_1;\n    });\n  }\n}\nfunction filterBySubType(components, condition) {\n  // Using hasOwnProperty for restrict. Consider\n  // subType is undefined in user payload.\n  return condition.hasOwnProperty('subType') ? filter(components, function (cmpt) {\n    return cmpt && cmpt.subType === condition.subType;\n  }) : components;\n}\nfunction normalizeSetOptionInput(opts) {\n  var replaceMergeMainTypeMap = createHashMap();\n  opts && each(modelUtil.normalizeToArray(opts.replaceMerge), function (mainType) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(ComponentModel.hasClass(mainType), '\"' + mainType + '\" is not valid component main type in \"replaceMerge\"');\n    }\n    replaceMergeMainTypeMap.set(mainType, true);\n  });\n  return {\n    replaceMergeMainTypeMap: replaceMergeMainTypeMap\n  };\n}\nmixin(GlobalModel, PaletteMixin);\nexport default GlobalModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nvar availableMethods = ['getDom', 'getZr', 'getWidth', 'getHeight', 'getDevicePixelRatio', 'dispatchAction', 'isSSR', 'isDisposed', 'on', 'off', 'getDataURL', 'getConnectedDataURL',\n// 'getModel',\n'getOption',\n// 'getViewOfComponentModel',\n// 'getViewOfSeriesModel',\n'getId', 'updateLabelLayout'];\nvar ExtensionAPI = /** @class */function () {\n  function ExtensionAPI(ecInstance) {\n    zrUtil.each(availableMethods, function (methodName) {\n      this[methodName] = zrUtil.bind(ecInstance[methodName], ecInstance);\n    }, this);\n  }\n  return ExtensionAPI;\n}();\nexport default ExtensionAPI;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { normalizeToArray\n// , MappingExistingItem, setComponentTypeToKeyInfo, mappingToExists\n} from '../util/model.js';\nimport { each, clone, map, isTypedArray, setAsPrimitive, isArray, isObject\n// , HashMap , createHashMap, extend, merge,\n} from 'zrender/lib/core/util.js';\nimport { error } from '../util/log.js';\nvar QUERY_REG = /^(min|max)?(.+)$/;\n// Key: mainType\n// type FakeComponentsMap = HashMap<(MappingExistingItem & { subType: string })[]>;\n/**\n * TERM EXPLANATIONS:\n * See `ECOption` and `ECUnitOption` in `src/util/types.ts`.\n */\nvar OptionManager = /** @class */function () {\n  // timeline.notMerge is not supported in ec3. Firstly there is rearly\n  // case that notMerge is needed. Secondly supporting 'notMerge' requires\n  // rawOption cloned and backuped when timeline changed, which does no\n  // good to performance. What's more, that both timeline and setOption\n  // method supply 'notMerge' brings complex and some problems.\n  // Consider this case:\n  // (step1) chart.setOption({timeline: {notMerge: false}, ...}, false);\n  // (step2) chart.setOption({timeline: {notMerge: true}, ...}, false);\n  function OptionManager(api) {\n    this._timelineOptions = [];\n    this._mediaList = [];\n    /**\n     * -1, means default.\n     * empty means no media.\n     */\n    this._currentMediaIndices = [];\n    this._api = api;\n  }\n  OptionManager.prototype.setOption = function (rawOption, optionPreprocessorFuncs, opt) {\n    if (rawOption) {\n      // That set dat primitive is dangerous if user reuse the data when setOption again.\n      each(normalizeToArray(rawOption.series), function (series) {\n        series && series.data && isTypedArray(series.data) && setAsPrimitive(series.data);\n      });\n      each(normalizeToArray(rawOption.dataset), function (dataset) {\n        dataset && dataset.source && isTypedArray(dataset.source) && setAsPrimitive(dataset.source);\n      });\n    }\n    // Caution: some series modify option data, if do not clone,\n    // it should ensure that the repeat modify correctly\n    // (create a new object when modify itself).\n    rawOption = clone(rawOption);\n    // FIXME\n    // If some property is set in timeline options or media option but\n    // not set in baseOption, a warning should be given.\n    var optionBackup = this._optionBackup;\n    var newParsedOption = parseRawOption(rawOption, optionPreprocessorFuncs, !optionBackup);\n    this._newBaseOption = newParsedOption.baseOption;\n    // For setOption at second time (using merge mode);\n    if (optionBackup) {\n      // FIXME\n      // the restore merge solution is essentially incorrect.\n      // the mapping can not be 100% consistent with ecModel, which probably brings\n      // potential bug!\n      // The first merge is delayed, because in most cases, users do not call `setOption` twice.\n      // let fakeCmptsMap = this._fakeCmptsMap;\n      // if (!fakeCmptsMap) {\n      //     fakeCmptsMap = this._fakeCmptsMap = createHashMap();\n      //     mergeToBackupOption(fakeCmptsMap, null, optionBackup.baseOption, null);\n      // }\n      // mergeToBackupOption(\n      //     fakeCmptsMap, optionBackup.baseOption, newParsedOption.baseOption, opt\n      // );\n      // For simplicity, timeline options and media options do not support merge,\n      // that is, if you `setOption` twice and both has timeline options, the latter\n      // timeline options will not be merged to the former, but just substitute them.\n      if (newParsedOption.timelineOptions.length) {\n        optionBackup.timelineOptions = newParsedOption.timelineOptions;\n      }\n      if (newParsedOption.mediaList.length) {\n        optionBackup.mediaList = newParsedOption.mediaList;\n      }\n      if (newParsedOption.mediaDefault) {\n        optionBackup.mediaDefault = newParsedOption.mediaDefault;\n      }\n    } else {\n      this._optionBackup = newParsedOption;\n    }\n  };\n  OptionManager.prototype.mountOption = function (isRecreate) {\n    var optionBackup = this._optionBackup;\n    this._timelineOptions = optionBackup.timelineOptions;\n    this._mediaList = optionBackup.mediaList;\n    this._mediaDefault = optionBackup.mediaDefault;\n    this._currentMediaIndices = [];\n    return clone(isRecreate\n    // this._optionBackup.baseOption, which is created at the first `setOption`\n    // called, and is merged into every new option by inner method `mergeToBackupOption`\n    // each time `setOption` called, can be only used in `isRecreate`, because\n    // its reliability is under suspicion. In other cases option merge is\n    // performed by `model.mergeOption`.\n    ? optionBackup.baseOption : this._newBaseOption);\n  };\n  OptionManager.prototype.getTimelineOption = function (ecModel) {\n    var option;\n    var timelineOptions = this._timelineOptions;\n    if (timelineOptions.length) {\n      // getTimelineOption can only be called after ecModel inited,\n      // so we can get currentIndex from timelineModel.\n      var timelineModel = ecModel.getComponent('timeline');\n      if (timelineModel) {\n        option = clone(\n        // FIXME:TS as TimelineModel or quivlant interface\n        timelineOptions[timelineModel.getCurrentIndex()]);\n      }\n    }\n    return option;\n  };\n  OptionManager.prototype.getMediaOption = function (ecModel) {\n    var ecWidth = this._api.getWidth();\n    var ecHeight = this._api.getHeight();\n    var mediaList = this._mediaList;\n    var mediaDefault = this._mediaDefault;\n    var indices = [];\n    var result = [];\n    // No media defined.\n    if (!mediaList.length && !mediaDefault) {\n      return result;\n    }\n    // Multi media may be applied, the latter defined media has higher priority.\n    for (var i = 0, len = mediaList.length; i < len; i++) {\n      if (applyMediaQuery(mediaList[i].query, ecWidth, ecHeight)) {\n        indices.push(i);\n      }\n    }\n    // FIXME\n    // Whether mediaDefault should force users to provide? Otherwise\n    // the change by media query can not be recorvered.\n    if (!indices.length && mediaDefault) {\n      indices = [-1];\n    }\n    if (indices.length && !indicesEquals(indices, this._currentMediaIndices)) {\n      result = map(indices, function (index) {\n        return clone(index === -1 ? mediaDefault.option : mediaList[index].option);\n      });\n    }\n    // Otherwise return nothing.\n    this._currentMediaIndices = indices;\n    return result;\n  };\n  return OptionManager;\n}();\n/**\n * [RAW_OPTION_PATTERNS]\n * (Note: \"series: []\" represents all other props in `ECUnitOption`)\n *\n * (1) No prop \"baseOption\" declared:\n * Root option is used as \"baseOption\" (except prop \"options\" and \"media\").\n * ```js\n * option = {\n *     series: [],\n *     timeline: {},\n *     options: [],\n * };\n * option = {\n *     series: [],\n *     media: {},\n * };\n * option = {\n *     series: [],\n *     timeline: {},\n *     options: [],\n *     media: {},\n * }\n * ```\n *\n * (2) Prop \"baseOption\" declared:\n * If \"baseOption\" declared, `ECUnitOption` props can only be declared\n * inside \"baseOption\" except prop \"timeline\" (compat ec2).\n * ```js\n * option = {\n *     baseOption: {\n *         timeline: {},\n *         series: [],\n *     },\n *     options: []\n * };\n * option = {\n *     baseOption: {\n *         series: [],\n *     },\n *     media: []\n * };\n * option = {\n *     baseOption: {\n *         timeline: {},\n *         series: [],\n *     },\n *     options: []\n *     media: []\n * };\n * option = {\n *     // ec3 compat ec2: allow (only) `timeline` declared\n *     // outside baseOption. Keep this setting for compat.\n *     timeline: {},\n *     baseOption: {\n *         series: [],\n *     },\n *     options: [],\n *     media: []\n * };\n * ```\n */\nfunction parseRawOption(\n// `rawOption` May be modified\nrawOption, optionPreprocessorFuncs, isNew) {\n  var mediaList = [];\n  var mediaDefault;\n  var baseOption;\n  var declaredBaseOption = rawOption.baseOption;\n  // Compatible with ec2, [RAW_OPTION_PATTERNS] above.\n  var timelineOnRoot = rawOption.timeline;\n  var timelineOptionsOnRoot = rawOption.options;\n  var mediaOnRoot = rawOption.media;\n  var hasMedia = !!rawOption.media;\n  var hasTimeline = !!(timelineOptionsOnRoot || timelineOnRoot || declaredBaseOption && declaredBaseOption.timeline);\n  if (declaredBaseOption) {\n    baseOption = declaredBaseOption;\n    // For merge option.\n    if (!baseOption.timeline) {\n      baseOption.timeline = timelineOnRoot;\n    }\n  }\n  // For convenience, enable to use the root option as the `baseOption`:\n  // `{ ...normalOptionProps, media: [{ ... }, { ... }] }`\n  else {\n    if (hasTimeline || hasMedia) {\n      rawOption.options = rawOption.media = null;\n    }\n    baseOption = rawOption;\n  }\n  if (hasMedia) {\n    if (isArray(mediaOnRoot)) {\n      each(mediaOnRoot, function (singleMedia) {\n        if (process.env.NODE_ENV !== 'production') {\n          // Real case of wrong config.\n          if (singleMedia && !singleMedia.option && isObject(singleMedia.query) && isObject(singleMedia.query.option)) {\n            error('Illegal media option. Must be like { media: [ { query: {}, option: {} } ] }');\n          }\n        }\n        if (singleMedia && singleMedia.option) {\n          if (singleMedia.query) {\n            mediaList.push(singleMedia);\n          } else if (!mediaDefault) {\n            // Use the first media default.\n            mediaDefault = singleMedia;\n          }\n        }\n      });\n    } else {\n      if (process.env.NODE_ENV !== 'production') {\n        // Real case of wrong config.\n        error('Illegal media option. Must be an array. Like { media: [ {...}, {...} ] }');\n      }\n    }\n  }\n  doPreprocess(baseOption);\n  each(timelineOptionsOnRoot, function (option) {\n    return doPreprocess(option);\n  });\n  each(mediaList, function (media) {\n    return doPreprocess(media.option);\n  });\n  function doPreprocess(option) {\n    each(optionPreprocessorFuncs, function (preProcess) {\n      preProcess(option, isNew);\n    });\n  }\n  return {\n    baseOption: baseOption,\n    timelineOptions: timelineOptionsOnRoot || [],\n    mediaDefault: mediaDefault,\n    mediaList: mediaList\n  };\n}\n/**\n * @see <http://www.w3.org/TR/css3-mediaqueries/#media1>\n * Support: width, height, aspectRatio\n * Can use max or min as prefix.\n */\nfunction applyMediaQuery(query, ecWidth, ecHeight) {\n  var realMap = {\n    width: ecWidth,\n    height: ecHeight,\n    aspectratio: ecWidth / ecHeight // lower case for convenience.\n  };\n  var applicable = true;\n  each(query, function (value, attr) {\n    var matched = attr.match(QUERY_REG);\n    if (!matched || !matched[1] || !matched[2]) {\n      return;\n    }\n    var operator = matched[1];\n    var realAttr = matched[2].toLowerCase();\n    if (!compare(realMap[realAttr], value, operator)) {\n      applicable = false;\n    }\n  });\n  return applicable;\n}\nfunction compare(real, expect, operator) {\n  if (operator === 'min') {\n    return real >= expect;\n  } else if (operator === 'max') {\n    return real <= expect;\n  } else {\n    // Equals\n    return real === expect;\n  }\n}\nfunction indicesEquals(indices1, indices2) {\n  // indices is always order by asc and has only finite number.\n  return indices1.join(',') === indices2.join(',');\n}\n/**\n * Consider case:\n * `chart.setOption(opt1);`\n * Then user do some interaction like dataZoom, dataView changing.\n * `chart.setOption(opt2);`\n * Then user press 'reset button' in toolbox.\n *\n * After doing that all of the interaction effects should be reset, the\n * chart should be the same as the result of invoke\n * `chart.setOption(opt1); chart.setOption(opt2);`.\n *\n * Although it is not able ensure that\n * `chart.setOption(opt1); chart.setOption(opt2);` is equivalents to\n * `chart.setOption(merge(opt1, opt2));` exactly,\n * this might be the only simple way to implement that feature.\n *\n * MEMO: We've considered some other approaches:\n * 1. Each model handles its self restoration but not uniform treatment.\n *     (Too complex in logic and error-prone)\n * 2. Use a shadow ecModel. (Performance expensive)\n *\n * FIXME: A possible solution:\n * Add a extra level of model for each component model. The inheritance chain would be:\n * ecModel <- componentModel <- componentActionModel <- dataItemModel\n * And all of the actions can only modify the `componentActionModel` rather than\n * `componentModel`. `setOption` will only modify the `ecModel` and `componentModel`.\n * When \"resotre\" action triggered, model from `componentActionModel` will be discarded\n * instead of recreating the \"ecModel\" from the \"_optionBackup\".\n */\n// function mergeToBackupOption(\n//     fakeCmptsMap: FakeComponentsMap,\n//     // `tarOption` Can be null/undefined, means init\n//     tarOption: ECUnitOption,\n//     newOption: ECUnitOption,\n//     // Can be null/undefined\n//     opt: InnerSetOptionOpts\n// ): void {\n//     newOption = newOption || {} as ECUnitOption;\n//     const notInit = !!tarOption;\n//     each(newOption, function (newOptsInMainType, mainType) {\n//         if (newOptsInMainType == null) {\n//             return;\n//         }\n//         if (!ComponentModel.hasClass(mainType)) {\n//             if (tarOption) {\n//                 tarOption[mainType] = merge(tarOption[mainType], newOptsInMainType, true);\n//             }\n//         }\n//         else {\n//             const oldTarOptsInMainType = notInit ? normalizeToArray(tarOption[mainType]) : null;\n//             const oldFakeCmptsInMainType = fakeCmptsMap.get(mainType) || [];\n//             const resultTarOptsInMainType = notInit ? (tarOption[mainType] = [] as ComponentOption[]) : null;\n//             const resultFakeCmptsInMainType = fakeCmptsMap.set(mainType, []);\n//             const mappingResult = mappingToExists(\n//                 oldFakeCmptsInMainType,\n//                 normalizeToArray(newOptsInMainType),\n//                 (opt && opt.replaceMergeMainTypeMap.get(mainType)) ? 'replaceMerge' : 'normalMerge'\n//             );\n//             setComponentTypeToKeyInfo(mappingResult, mainType, ComponentModel as ComponentModelConstructor);\n//             each(mappingResult, function (resultItem, index) {\n//                 // The same logic as `Global.ts#_mergeOption`.\n//                 let fakeCmpt = resultItem.existing;\n//                 const newOption = resultItem.newOption;\n//                 const keyInfo = resultItem.keyInfo;\n//                 let fakeCmptOpt;\n//                 if (!newOption) {\n//                     fakeCmptOpt = oldTarOptsInMainType[index];\n//                 }\n//                 else {\n//                     if (fakeCmpt && fakeCmpt.subType === keyInfo.subType) {\n//                         fakeCmpt.name = keyInfo.name;\n//                         if (notInit) {\n//                             fakeCmptOpt = merge(oldTarOptsInMainType[index], newOption, true);\n//                         }\n//                     }\n//                     else {\n//                         fakeCmpt = extend({}, keyInfo);\n//                         if (notInit) {\n//                             fakeCmptOpt = clone(newOption);\n//                         }\n//                     }\n//                 }\n//                 if (fakeCmpt) {\n//                     notInit && resultTarOptsInMainType.push(fakeCmptOpt);\n//                     resultFakeCmptsInMainType.push(fakeCmpt);\n//                 }\n//                 else {\n//                     notInit && resultTarOptsInMainType.push(void 0);\n//                     resultFakeCmptsInMainType.push(void 0);\n//                 }\n//             });\n//         }\n//     });\n// }\nexport default OptionManager;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as modelUtil from '../../util/model.js';\nimport { deprecateLog, deprecateReplaceLog } from '../../util/log.js';\nvar each = zrUtil.each;\nvar isObject = zrUtil.isObject;\nvar POSSIBLE_STYLES = ['areaStyle', 'lineStyle', 'nodeStyle', 'linkStyle', 'chordStyle', 'label', 'labelLine'];\nfunction compatEC2ItemStyle(opt) {\n  var itemStyleOpt = opt && opt.itemStyle;\n  if (!itemStyleOpt) {\n    return;\n  }\n  for (var i = 0, len = POSSIBLE_STYLES.length; i < len; i++) {\n    var styleName = POSSIBLE_STYLES[i];\n    var normalItemStyleOpt = itemStyleOpt.normal;\n    var emphasisItemStyleOpt = itemStyleOpt.emphasis;\n    if (normalItemStyleOpt && normalItemStyleOpt[styleName]) {\n      if (process.env.NODE_ENV !== 'production') {\n        deprecateReplaceLog(\"itemStyle.normal.\" + styleName, styleName);\n      }\n      opt[styleName] = opt[styleName] || {};\n      if (!opt[styleName].normal) {\n        opt[styleName].normal = normalItemStyleOpt[styleName];\n      } else {\n        zrUtil.merge(opt[styleName].normal, normalItemStyleOpt[styleName]);\n      }\n      normalItemStyleOpt[styleName] = null;\n    }\n    if (emphasisItemStyleOpt && emphasisItemStyleOpt[styleName]) {\n      if (process.env.NODE_ENV !== 'production') {\n        deprecateReplaceLog(\"itemStyle.emphasis.\" + styleName, \"emphasis.\" + styleName);\n      }\n      opt[styleName] = opt[styleName] || {};\n      if (!opt[styleName].emphasis) {\n        opt[styleName].emphasis = emphasisItemStyleOpt[styleName];\n      } else {\n        zrUtil.merge(opt[styleName].emphasis, emphasisItemStyleOpt[styleName]);\n      }\n      emphasisItemStyleOpt[styleName] = null;\n    }\n  }\n}\nfunction convertNormalEmphasis(opt, optType, useExtend) {\n  if (opt && opt[optType] && (opt[optType].normal || opt[optType].emphasis)) {\n    var normalOpt = opt[optType].normal;\n    var emphasisOpt = opt[optType].emphasis;\n    if (normalOpt) {\n      if (process.env.NODE_ENV !== 'production') {\n        // eslint-disable-next-line max-len\n        deprecateLog(\"'normal' hierarchy in \" + optType + \" has been removed since 4.0. All style properties are configured in \" + optType + \" directly now.\");\n      }\n      // Timeline controlStyle has other properties besides normal and emphasis\n      if (useExtend) {\n        opt[optType].normal = opt[optType].emphasis = null;\n        zrUtil.defaults(opt[optType], normalOpt);\n      } else {\n        opt[optType] = normalOpt;\n      }\n    }\n    if (emphasisOpt) {\n      if (process.env.NODE_ENV !== 'production') {\n        deprecateLog(optType + \".emphasis has been changed to emphasis.\" + optType + \" since 4.0\");\n      }\n      opt.emphasis = opt.emphasis || {};\n      opt.emphasis[optType] = emphasisOpt;\n      // Also compat the case user mix the style and focus together in ec3 style\n      // for example: { itemStyle: { normal: {}, emphasis: {focus, shadowBlur} } }\n      if (emphasisOpt.focus) {\n        opt.emphasis.focus = emphasisOpt.focus;\n      }\n      if (emphasisOpt.blurScope) {\n        opt.emphasis.blurScope = emphasisOpt.blurScope;\n      }\n    }\n  }\n}\nfunction removeEC3NormalStatus(opt) {\n  convertNormalEmphasis(opt, 'itemStyle');\n  convertNormalEmphasis(opt, 'lineStyle');\n  convertNormalEmphasis(opt, 'areaStyle');\n  convertNormalEmphasis(opt, 'label');\n  convertNormalEmphasis(opt, 'labelLine');\n  // treemap\n  convertNormalEmphasis(opt, 'upperLabel');\n  // graph\n  convertNormalEmphasis(opt, 'edgeLabel');\n}\nfunction compatTextStyle(opt, propName) {\n  // Check whether is not object (string\\null\\undefined ...)\n  var labelOptSingle = isObject(opt) && opt[propName];\n  var textStyle = isObject(labelOptSingle) && labelOptSingle.textStyle;\n  if (textStyle) {\n    if (process.env.NODE_ENV !== 'production') {\n      // eslint-disable-next-line max-len\n      deprecateLog(\"textStyle hierarchy in \" + propName + \" has been removed since 4.0. All textStyle properties are configured in \" + propName + \" directly now.\");\n    }\n    for (var i = 0, len = modelUtil.TEXT_STYLE_OPTIONS.length; i < len; i++) {\n      var textPropName = modelUtil.TEXT_STYLE_OPTIONS[i];\n      if (textStyle.hasOwnProperty(textPropName)) {\n        labelOptSingle[textPropName] = textStyle[textPropName];\n      }\n    }\n  }\n}\nfunction compatEC3CommonStyles(opt) {\n  if (opt) {\n    removeEC3NormalStatus(opt);\n    compatTextStyle(opt, 'label');\n    opt.emphasis && compatTextStyle(opt.emphasis, 'label');\n  }\n}\nfunction processSeries(seriesOpt) {\n  if (!isObject(seriesOpt)) {\n    return;\n  }\n  compatEC2ItemStyle(seriesOpt);\n  removeEC3NormalStatus(seriesOpt);\n  compatTextStyle(seriesOpt, 'label');\n  // treemap\n  compatTextStyle(seriesOpt, 'upperLabel');\n  // graph\n  compatTextStyle(seriesOpt, 'edgeLabel');\n  if (seriesOpt.emphasis) {\n    compatTextStyle(seriesOpt.emphasis, 'label');\n    // treemap\n    compatTextStyle(seriesOpt.emphasis, 'upperLabel');\n    // graph\n    compatTextStyle(seriesOpt.emphasis, 'edgeLabel');\n  }\n  var markPoint = seriesOpt.markPoint;\n  if (markPoint) {\n    compatEC2ItemStyle(markPoint);\n    compatEC3CommonStyles(markPoint);\n  }\n  var markLine = seriesOpt.markLine;\n  if (markLine) {\n    compatEC2ItemStyle(markLine);\n    compatEC3CommonStyles(markLine);\n  }\n  var markArea = seriesOpt.markArea;\n  if (markArea) {\n    compatEC3CommonStyles(markArea);\n  }\n  var data = seriesOpt.data;\n  // Break with ec3: if `setOption` again, there may be no `type` in option,\n  // then the backward compat based on option type will not be performed.\n  if (seriesOpt.type === 'graph') {\n    data = data || seriesOpt.nodes;\n    var edgeData = seriesOpt.links || seriesOpt.edges;\n    if (edgeData && !zrUtil.isTypedArray(edgeData)) {\n      for (var i = 0; i < edgeData.length; i++) {\n        compatEC3CommonStyles(edgeData[i]);\n      }\n    }\n    zrUtil.each(seriesOpt.categories, function (opt) {\n      removeEC3NormalStatus(opt);\n    });\n  }\n  if (data && !zrUtil.isTypedArray(data)) {\n    for (var i = 0; i < data.length; i++) {\n      compatEC3CommonStyles(data[i]);\n    }\n  }\n  // mark point data\n  markPoint = seriesOpt.markPoint;\n  if (markPoint && markPoint.data) {\n    var mpData = markPoint.data;\n    for (var i = 0; i < mpData.length; i++) {\n      compatEC3CommonStyles(mpData[i]);\n    }\n  }\n  // mark line data\n  markLine = seriesOpt.markLine;\n  if (markLine && markLine.data) {\n    var mlData = markLine.data;\n    for (var i = 0; i < mlData.length; i++) {\n      if (zrUtil.isArray(mlData[i])) {\n        compatEC3CommonStyles(mlData[i][0]);\n        compatEC3CommonStyles(mlData[i][1]);\n      } else {\n        compatEC3CommonStyles(mlData[i]);\n      }\n    }\n  }\n  // Series\n  if (seriesOpt.type === 'gauge') {\n    compatTextStyle(seriesOpt, 'axisLabel');\n    compatTextStyle(seriesOpt, 'title');\n    compatTextStyle(seriesOpt, 'detail');\n  } else if (seriesOpt.type === 'treemap') {\n    convertNormalEmphasis(seriesOpt.breadcrumb, 'itemStyle');\n    zrUtil.each(seriesOpt.levels, function (opt) {\n      removeEC3NormalStatus(opt);\n    });\n  } else if (seriesOpt.type === 'tree') {\n    removeEC3NormalStatus(seriesOpt.leaves);\n  }\n  // sunburst starts from ec4, so it does not need to compat levels.\n}\nfunction toArr(o) {\n  return zrUtil.isArray(o) ? o : o ? [o] : [];\n}\nfunction toObj(o) {\n  return (zrUtil.isArray(o) ? o[0] : o) || {};\n}\nexport default function globalCompatStyle(option, isTheme) {\n  each(toArr(option.series), function (seriesOpt) {\n    isObject(seriesOpt) && processSeries(seriesOpt);\n  });\n  var axes = ['xAxis', 'yAxis', 'radiusAxis', 'angleAxis', 'singleAxis', 'parallelAxis', 'radar'];\n  isTheme && axes.push('valueAxis', 'categoryAxis', 'logAxis', 'timeAxis');\n  each(axes, function (axisName) {\n    each(toArr(option[axisName]), function (axisOpt) {\n      if (axisOpt) {\n        compatTextStyle(axisOpt, 'axisLabel');\n        compatTextStyle(axisOpt.axisPointer, 'label');\n      }\n    });\n  });\n  each(toArr(option.parallel), function (parallelOpt) {\n    var parallelAxisDefault = parallelOpt && parallelOpt.parallelAxisDefault;\n    compatTextStyle(parallelAxisDefault, 'axisLabel');\n    compatTextStyle(parallelAxisDefault && parallelAxisDefault.axisPointer, 'label');\n  });\n  each(toArr(option.calendar), function (calendarOpt) {\n    convertNormalEmphasis(calendarOpt, 'itemStyle');\n    compatTextStyle(calendarOpt, 'dayLabel');\n    compatTextStyle(calendarOpt, 'monthLabel');\n    compatTextStyle(calendarOpt, 'yearLabel');\n  });\n  // radar.name.textStyle\n  each(toArr(option.radar), function (radarOpt) {\n    compatTextStyle(radarOpt, 'name');\n    // Use axisName instead of name because component has name property\n    if (radarOpt.name && radarOpt.axisName == null) {\n      radarOpt.axisName = radarOpt.name;\n      delete radarOpt.name;\n      if (process.env.NODE_ENV !== 'production') {\n        deprecateLog('name property in radar component has been changed to axisName');\n      }\n    }\n    if (radarOpt.nameGap != null && radarOpt.axisNameGap == null) {\n      radarOpt.axisNameGap = radarOpt.nameGap;\n      delete radarOpt.nameGap;\n      if (process.env.NODE_ENV !== 'production') {\n        deprecateLog('nameGap property in radar component has been changed to axisNameGap');\n      }\n    }\n    if (process.env.NODE_ENV !== 'production') {\n      each(radarOpt.indicator, function (indicatorOpt) {\n        if (indicatorOpt.text) {\n          deprecateReplaceLog('text', 'name', 'radar.indicator');\n        }\n      });\n    }\n  });\n  each(toArr(option.geo), function (geoOpt) {\n    if (isObject(geoOpt)) {\n      compatEC3CommonStyles(geoOpt);\n      each(toArr(geoOpt.regions), function (regionObj) {\n        compatEC3CommonStyles(regionObj);\n      });\n    }\n  });\n  each(toArr(option.timeline), function (timelineOpt) {\n    compatEC3CommonStyles(timelineOpt);\n    convertNormalEmphasis(timelineOpt, 'label');\n    convertNormalEmphasis(timelineOpt, 'itemStyle');\n    convertNormalEmphasis(timelineOpt, 'controlStyle', true);\n    var data = timelineOpt.data;\n    zrUtil.isArray(data) && zrUtil.each(data, function (item) {\n      if (zrUtil.isObject(item)) {\n        convertNormalEmphasis(item, 'label');\n        convertNormalEmphasis(item, 'itemStyle');\n      }\n    });\n  });\n  each(toArr(option.toolbox), function (toolboxOpt) {\n    convertNormalEmphasis(toolboxOpt, 'iconStyle');\n    each(toolboxOpt.feature, function (featureOpt) {\n      convertNormalEmphasis(featureOpt, 'iconStyle');\n    });\n  });\n  compatTextStyle(toObj(option.axisPointer), 'label');\n  compatTextStyle(toObj(option.tooltip).axisPointer, 'label');\n  // Clean logs\n  // storedLogs = {};\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { each, isArray, isObject, isTypedArray, defaults } from 'zrender/lib/core/util.js';\nimport compatStyle from './helper/compatStyle.js';\nimport { normalizeToArray } from '../util/model.js';\nimport { deprecateLog, deprecateReplaceLog } from '../util/log.js';\nfunction get(opt, path) {\n  var pathArr = path.split(',');\n  var obj = opt;\n  for (var i = 0; i < pathArr.length; i++) {\n    obj = obj && obj[pathArr[i]];\n    if (obj == null) {\n      break;\n    }\n  }\n  return obj;\n}\nfunction set(opt, path, val, overwrite) {\n  var pathArr = path.split(',');\n  var obj = opt;\n  var key;\n  var i = 0;\n  for (; i < pathArr.length - 1; i++) {\n    key = pathArr[i];\n    if (obj[key] == null) {\n      obj[key] = {};\n    }\n    obj = obj[key];\n  }\n  if (overwrite || obj[pathArr[i]] == null) {\n    obj[pathArr[i]] = val;\n  }\n}\nfunction compatLayoutProperties(option) {\n  option && each(LAYOUT_PROPERTIES, function (prop) {\n    if (prop[0] in option && !(prop[1] in option)) {\n      option[prop[1]] = option[prop[0]];\n    }\n  });\n}\nvar LAYOUT_PROPERTIES = [['x', 'left'], ['y', 'top'], ['x2', 'right'], ['y2', 'bottom']];\nvar COMPATITABLE_COMPONENTS = ['grid', 'geo', 'parallel', 'legend', 'toolbox', 'title', 'visualMap', 'dataZoom', 'timeline'];\nvar BAR_ITEM_STYLE_MAP = [['borderRadius', 'barBorderRadius'], ['borderColor', 'barBorderColor'], ['borderWidth', 'barBorderWidth']];\nfunction compatBarItemStyle(option) {\n  var itemStyle = option && option.itemStyle;\n  if (itemStyle) {\n    for (var i = 0; i < BAR_ITEM_STYLE_MAP.length; i++) {\n      var oldName = BAR_ITEM_STYLE_MAP[i][1];\n      var newName = BAR_ITEM_STYLE_MAP[i][0];\n      if (itemStyle[oldName] != null) {\n        itemStyle[newName] = itemStyle[oldName];\n        if (process.env.NODE_ENV !== 'production') {\n          deprecateReplaceLog(oldName, newName);\n        }\n      }\n    }\n  }\n}\nfunction compatPieLabel(option) {\n  if (!option) {\n    return;\n  }\n  if (option.alignTo === 'edge' && option.margin != null && option.edgeDistance == null) {\n    if (process.env.NODE_ENV !== 'production') {\n      deprecateReplaceLog('label.margin', 'label.edgeDistance', 'pie');\n    }\n    option.edgeDistance = option.margin;\n  }\n}\nfunction compatSunburstState(option) {\n  if (!option) {\n    return;\n  }\n  if (option.downplay && !option.blur) {\n    option.blur = option.downplay;\n    if (process.env.NODE_ENV !== 'production') {\n      deprecateReplaceLog('downplay', 'blur', 'sunburst');\n    }\n  }\n}\nfunction compatGraphFocus(option) {\n  if (!option) {\n    return;\n  }\n  if (option.focusNodeAdjacency != null) {\n    option.emphasis = option.emphasis || {};\n    if (option.emphasis.focus == null) {\n      if (process.env.NODE_ENV !== 'production') {\n        deprecateReplaceLog('focusNodeAdjacency', 'emphasis: { focus: \\'adjacency\\'}', 'graph/sankey');\n      }\n      option.emphasis.focus = 'adjacency';\n    }\n  }\n}\nfunction traverseTree(data, cb) {\n  if (data) {\n    for (var i = 0; i < data.length; i++) {\n      cb(data[i]);\n      data[i] && traverseTree(data[i].children, cb);\n    }\n  }\n}\nexport default function globalBackwardCompat(option, isTheme) {\n  compatStyle(option, isTheme);\n  // Make sure series array for model initialization.\n  option.series = normalizeToArray(option.series);\n  each(option.series, function (seriesOpt) {\n    if (!isObject(seriesOpt)) {\n      return;\n    }\n    var seriesType = seriesOpt.type;\n    if (seriesType === 'line') {\n      if (seriesOpt.clipOverflow != null) {\n        seriesOpt.clip = seriesOpt.clipOverflow;\n        if (process.env.NODE_ENV !== 'production') {\n          deprecateReplaceLog('clipOverflow', 'clip', 'line');\n        }\n      }\n    } else if (seriesType === 'pie' || seriesType === 'gauge') {\n      if (seriesOpt.clockWise != null) {\n        seriesOpt.clockwise = seriesOpt.clockWise;\n        if (process.env.NODE_ENV !== 'production') {\n          deprecateReplaceLog('clockWise', 'clockwise');\n        }\n      }\n      compatPieLabel(seriesOpt.label);\n      var data = seriesOpt.data;\n      if (data && !isTypedArray(data)) {\n        for (var i = 0; i < data.length; i++) {\n          compatPieLabel(data[i]);\n        }\n      }\n      if (seriesOpt.hoverOffset != null) {\n        seriesOpt.emphasis = seriesOpt.emphasis || {};\n        if (seriesOpt.emphasis.scaleSize = null) {\n          if (process.env.NODE_ENV !== 'production') {\n            deprecateReplaceLog('hoverOffset', 'emphasis.scaleSize');\n          }\n          seriesOpt.emphasis.scaleSize = seriesOpt.hoverOffset;\n        }\n      }\n    } else if (seriesType === 'gauge') {\n      var pointerColor = get(seriesOpt, 'pointer.color');\n      pointerColor != null && set(seriesOpt, 'itemStyle.color', pointerColor);\n    } else if (seriesType === 'bar') {\n      compatBarItemStyle(seriesOpt);\n      compatBarItemStyle(seriesOpt.backgroundStyle);\n      compatBarItemStyle(seriesOpt.emphasis);\n      var data = seriesOpt.data;\n      if (data && !isTypedArray(data)) {\n        for (var i = 0; i < data.length; i++) {\n          if (typeof data[i] === 'object') {\n            compatBarItemStyle(data[i]);\n            compatBarItemStyle(data[i] && data[i].emphasis);\n          }\n        }\n      }\n    } else if (seriesType === 'sunburst') {\n      var highlightPolicy = seriesOpt.highlightPolicy;\n      if (highlightPolicy) {\n        seriesOpt.emphasis = seriesOpt.emphasis || {};\n        if (!seriesOpt.emphasis.focus) {\n          seriesOpt.emphasis.focus = highlightPolicy;\n          if (process.env.NODE_ENV !== 'production') {\n            deprecateReplaceLog('highlightPolicy', 'emphasis.focus', 'sunburst');\n          }\n        }\n      }\n      compatSunburstState(seriesOpt);\n      traverseTree(seriesOpt.data, compatSunburstState);\n    } else if (seriesType === 'graph' || seriesType === 'sankey') {\n      compatGraphFocus(seriesOpt);\n      // TODO nodes, edges?\n    } else if (seriesType === 'map') {\n      if (seriesOpt.mapType && !seriesOpt.map) {\n        if (process.env.NODE_ENV !== 'production') {\n          deprecateReplaceLog('mapType', 'map', 'map');\n        }\n        seriesOpt.map = seriesOpt.mapType;\n      }\n      if (seriesOpt.mapLocation) {\n        if (process.env.NODE_ENV !== 'production') {\n          deprecateLog('`mapLocation` is not used anymore.');\n        }\n        defaults(seriesOpt, seriesOpt.mapLocation);\n      }\n    }\n    if (seriesOpt.hoverAnimation != null) {\n      seriesOpt.emphasis = seriesOpt.emphasis || {};\n      if (seriesOpt.emphasis && seriesOpt.emphasis.scale == null) {\n        if (process.env.NODE_ENV !== 'production') {\n          deprecateReplaceLog('hoverAnimation', 'emphasis.scale');\n        }\n        seriesOpt.emphasis.scale = seriesOpt.hoverAnimation;\n      }\n    }\n    compatLayoutProperties(seriesOpt);\n  });\n  // dataRange has changed to visualMap\n  if (option.dataRange) {\n    option.visualMap = option.dataRange;\n  }\n  each(COMPATITABLE_COMPONENTS, function (componentName) {\n    var options = option[componentName];\n    if (options) {\n      if (!isArray(options)) {\n        options = [options];\n      }\n      each(options, function (option) {\n        compatLayoutProperties(option);\n      });\n    }\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { createHashMap, each } from 'zrender/lib/core/util.js';\nimport { addSafe } from '../util/number.js';\n// (1) [Caution]: the logic is correct based on the premises:\n//     data processing stage is blocked in stream.\n//     See <module:echarts/stream/Scheduler#performDataProcessorTasks>\n// (2) Only register once when import repeatedly.\n//     Should be executed after series is filtered and before stack calculation.\nexport default function dataStack(ecModel) {\n  var stackInfoMap = createHashMap();\n  ecModel.eachSeries(function (seriesModel) {\n    var stack = seriesModel.get('stack');\n    // Compatible: when `stack` is set as '', do not stack.\n    if (stack) {\n      var stackInfoList = stackInfoMap.get(stack) || stackInfoMap.set(stack, []);\n      var data = seriesModel.getData();\n      var stackInfo = {\n        // Used for calculate axis extent automatically.\n        // TODO: Type getCalculationInfo return more specific type?\n        stackResultDimension: data.getCalculationInfo('stackResultDimension'),\n        stackedOverDimension: data.getCalculationInfo('stackedOverDimension'),\n        stackedDimension: data.getCalculationInfo('stackedDimension'),\n        stackedByDimension: data.getCalculationInfo('stackedByDimension'),\n        isStackedByIndex: data.getCalculationInfo('isStackedByIndex'),\n        data: data,\n        seriesModel: seriesModel\n      };\n      // If stacked on axis that do not support data stack.\n      if (!stackInfo.stackedDimension || !(stackInfo.isStackedByIndex || stackInfo.stackedByDimension)) {\n        return;\n      }\n      stackInfoList.push(stackInfo);\n    }\n  });\n  // Process each stack group\n  stackInfoMap.each(function (stackInfoList) {\n    if (stackInfoList.length === 0) {\n      return;\n    }\n    // Check if stack order needs to be reversed\n    var firstSeries = stackInfoList[0].seriesModel;\n    var stackOrder = firstSeries.get('stackOrder') || 'seriesAsc';\n    if (stackOrder === 'seriesDesc') {\n      stackInfoList.reverse();\n    }\n    // Set stackedOnSeries for each series in the final order\n    each(stackInfoList, function (stackInfo, index) {\n      stackInfo.data.setCalculationInfo('stackedOnSeries', index > 0 ? stackInfoList[index - 1].seriesModel : null);\n    });\n    // Calculate stack values\n    calculateStack(stackInfoList);\n  });\n}\nfunction calculateStack(stackInfoList) {\n  each(stackInfoList, function (targetStackInfo, idxInStack) {\n    var resultVal = [];\n    var resultNaN = [NaN, NaN];\n    var dims = [targetStackInfo.stackResultDimension, targetStackInfo.stackedOverDimension];\n    var targetData = targetStackInfo.data;\n    var isStackedByIndex = targetStackInfo.isStackedByIndex;\n    var stackStrategy = targetStackInfo.seriesModel.get('stackStrategy') || 'samesign';\n    // Should not write on raw data, because stack series model list changes\n    // depending on legend selection.\n    targetData.modify(dims, function (v0, v1, dataIndex) {\n      var sum = targetData.get(targetStackInfo.stackedDimension, dataIndex);\n      // Consider `connectNulls` of line area, if value is NaN, stackedOver\n      // should also be NaN, to draw a appropriate belt area.\n      if (isNaN(sum)) {\n        return resultNaN;\n      }\n      var byValue;\n      var stackedDataRawIndex;\n      if (isStackedByIndex) {\n        stackedDataRawIndex = targetData.getRawIndex(dataIndex);\n      } else {\n        byValue = targetData.get(targetStackInfo.stackedByDimension, dataIndex);\n      }\n      // If stackOver is NaN, chart view will render point on value start.\n      var stackedOver = NaN;\n      for (var j = idxInStack - 1; j >= 0; j--) {\n        var stackInfo = stackInfoList[j];\n        // Has been optimized by inverted indices on `stackedByDimension`.\n        if (!isStackedByIndex) {\n          stackedDataRawIndex = stackInfo.data.rawIndexOf(stackInfo.stackedByDimension, byValue);\n        }\n        if (stackedDataRawIndex >= 0) {\n          var val = stackInfo.data.getByRawIndex(stackInfo.stackResultDimension, stackedDataRawIndex);\n          // Considering positive stack, negative stack and empty data\n          if (stackStrategy === 'all' // single stack group\n          || stackStrategy === 'positive' && val > 0 || stackStrategy === 'negative' && val < 0 || stackStrategy === 'samesign' && sum >= 0 && val > 0 // All positive stack\n          || stackStrategy === 'samesign' && sum <= 0 && val < 0 // All negative stack\n          ) {\n            // The sum has to be very small to be affected by the\n            // floating arithmetic problem. An incorrect result will probably\n            // cause axis min/max to be filtered incorrectly.\n            sum = addSafe(sum, val);\n            stackedOver = val;\n            break;\n          }\n        }\n      }\n      resultVal[0] = sum;\n      resultVal[1] = stackedOver;\n      return resultVal;\n    });\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { isTypedArray, clone, createHashMap, isArray, isObject, isArrayLike, hasOwn, assert, each, map, isNumber, isString, keys } from 'zrender/lib/core/util.js';\nimport { SOURCE_FORMAT_ORIGINAL, SERIES_LAYOUT_BY_COLUMN, SOURCE_FORMAT_UNKNOWN, SOURCE_FORMAT_KEYED_COLUMNS, SOURCE_FORMAT_TYPED_ARRAY, SOURCE_FORMAT_ARRAY_ROWS, SOURCE_FORMAT_OBJECT_ROWS, SERIES_LAYOUT_BY_ROW } from '../util/types.js';\nimport { getDataItemValue } from '../util/model.js';\nimport { BE_ORDINAL, guessOrdinal } from './helper/sourceHelper.js';\n;\n// @inner\nvar SourceImpl = /** @class */function () {\n  function SourceImpl(fields) {\n    this.data = fields.data || (fields.sourceFormat === SOURCE_FORMAT_KEYED_COLUMNS ? {} : []);\n    this.sourceFormat = fields.sourceFormat || SOURCE_FORMAT_UNKNOWN;\n    // Visit config\n    this.seriesLayoutBy = fields.seriesLayoutBy || SERIES_LAYOUT_BY_COLUMN;\n    this.startIndex = fields.startIndex || 0;\n    this.dimensionsDetectedCount = fields.dimensionsDetectedCount;\n    this.metaRawOption = fields.metaRawOption;\n    var dimensionsDefine = this.dimensionsDefine = fields.dimensionsDefine;\n    if (dimensionsDefine) {\n      for (var i = 0; i < dimensionsDefine.length; i++) {\n        var dim = dimensionsDefine[i];\n        if (dim.type == null) {\n          if (guessOrdinal(this, i) === BE_ORDINAL.Must) {\n            dim.type = 'ordinal';\n          }\n        }\n      }\n    }\n  }\n  return SourceImpl;\n}();\nexport function isSourceInstance(val) {\n  return val instanceof SourceImpl;\n}\n/**\n * Create a source from option.\n * NOTE: Created source is immutable. Don't change any properties in it.\n */\nexport function createSource(sourceData, thisMetaRawOption,\n// can be null. If not provided, auto detect it from `sourceData`.\nsourceFormat) {\n  sourceFormat = sourceFormat || detectSourceFormat(sourceData);\n  var seriesLayoutBy = thisMetaRawOption.seriesLayoutBy;\n  var determined = determineSourceDimensions(sourceData, sourceFormat, seriesLayoutBy, thisMetaRawOption.sourceHeader, thisMetaRawOption.dimensions);\n  var source = new SourceImpl({\n    data: sourceData,\n    sourceFormat: sourceFormat,\n    seriesLayoutBy: seriesLayoutBy,\n    dimensionsDefine: determined.dimensionsDefine,\n    startIndex: determined.startIndex,\n    dimensionsDetectedCount: determined.dimensionsDetectedCount,\n    metaRawOption: clone(thisMetaRawOption)\n  });\n  return source;\n}\n/**\n * Wrap original series data for some compatibility cases.\n */\nexport function createSourceFromSeriesDataOption(data) {\n  return new SourceImpl({\n    data: data,\n    sourceFormat: isTypedArray(data) ? SOURCE_FORMAT_TYPED_ARRAY : SOURCE_FORMAT_ORIGINAL\n  });\n}\n/**\n * Clone source but excludes source data.\n */\nexport function cloneSourceShallow(source) {\n  return new SourceImpl({\n    data: source.data,\n    sourceFormat: source.sourceFormat,\n    seriesLayoutBy: source.seriesLayoutBy,\n    dimensionsDefine: clone(source.dimensionsDefine),\n    startIndex: source.startIndex,\n    dimensionsDetectedCount: source.dimensionsDetectedCount\n  });\n}\n/**\n * Note: An empty array will be detected as `SOURCE_FORMAT_ARRAY_ROWS`.\n */\nexport function detectSourceFormat(data) {\n  var sourceFormat = SOURCE_FORMAT_UNKNOWN;\n  if (isTypedArray(data)) {\n    sourceFormat = SOURCE_FORMAT_TYPED_ARRAY;\n  } else if (isArray(data)) {\n    // FIXME Whether tolerate null in top level array?\n    if (data.length === 0) {\n      sourceFormat = SOURCE_FORMAT_ARRAY_ROWS;\n    }\n    for (var i = 0, len = data.length; i < len; i++) {\n      var item = data[i];\n      if (item == null) {\n        continue;\n      } else if (isArray(item) || isTypedArray(item)) {\n        sourceFormat = SOURCE_FORMAT_ARRAY_ROWS;\n        break;\n      } else if (isObject(item)) {\n        sourceFormat = SOURCE_FORMAT_OBJECT_ROWS;\n        break;\n      }\n    }\n  } else if (isObject(data)) {\n    for (var key in data) {\n      if (hasOwn(data, key) && isArrayLike(data[key])) {\n        sourceFormat = SOURCE_FORMAT_KEYED_COLUMNS;\n        break;\n      }\n    }\n  }\n  return sourceFormat;\n}\n/**\n * Determine the source definitions from data standalone dimensions definitions\n * are not specified.\n */\nfunction determineSourceDimensions(data, sourceFormat, seriesLayoutBy, sourceHeader,\n// standalone raw dimensions definition, like:\n// {\n//     dimensions: ['aa', 'bb', { name: 'cc', type: 'time' }]\n// }\n// in `dataset` or `series`\ndimensionsDefine) {\n  var dimensionsDetectedCount;\n  var startIndex;\n  // PENDING: Could data be null/undefined here?\n  // currently, if `dataset.source` not specified, error thrown.\n  // if `series.data` not specified, nothing rendered without error thrown.\n  // Should test these cases.\n  if (!data) {\n    return {\n      dimensionsDefine: normalizeDimensionsOption(dimensionsDefine),\n      startIndex: startIndex,\n      dimensionsDetectedCount: dimensionsDetectedCount\n    };\n  }\n  if (sourceFormat === SOURCE_FORMAT_ARRAY_ROWS) {\n    var dataArrayRows = data;\n    // Rule: Most of the first line are string: it is header.\n    // Caution: consider a line with 5 string and 1 number,\n    // it still can not be sure it is a head, because the\n    // 5 string may be 5 values of category columns.\n    if (sourceHeader === 'auto' || sourceHeader == null) {\n      arrayRowsTravelFirst(function (val) {\n        // '-' is regarded as null/undefined.\n        if (val != null && val !== '-') {\n          if (isString(val)) {\n            startIndex == null && (startIndex = 1);\n          } else {\n            startIndex = 0;\n          }\n        }\n        // 10 is an experience number, avoid long loop.\n      }, seriesLayoutBy, dataArrayRows, 10);\n    } else {\n      startIndex = isNumber(sourceHeader) ? sourceHeader : sourceHeader ? 1 : 0;\n    }\n    if (!dimensionsDefine && startIndex === 1) {\n      dimensionsDefine = [];\n      arrayRowsTravelFirst(function (val, index) {\n        dimensionsDefine[index] = val != null ? val + '' : '';\n      }, seriesLayoutBy, dataArrayRows, Infinity);\n    }\n    dimensionsDetectedCount = dimensionsDefine ? dimensionsDefine.length : seriesLayoutBy === SERIES_LAYOUT_BY_ROW ? dataArrayRows.length : dataArrayRows[0] ? dataArrayRows[0].length : null;\n  } else if (sourceFormat === SOURCE_FORMAT_OBJECT_ROWS) {\n    if (!dimensionsDefine) {\n      dimensionsDefine = objectRowsCollectDimensions(data);\n    }\n  } else if (sourceFormat === SOURCE_FORMAT_KEYED_COLUMNS) {\n    if (!dimensionsDefine) {\n      dimensionsDefine = [];\n      each(data, function (colArr, key) {\n        dimensionsDefine.push(key);\n      });\n    }\n  } else if (sourceFormat === SOURCE_FORMAT_ORIGINAL) {\n    var value0 = getDataItemValue(data[0]);\n    dimensionsDetectedCount = isArray(value0) && value0.length || 1;\n  } else if (sourceFormat === SOURCE_FORMAT_TYPED_ARRAY) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(!!dimensionsDefine, 'dimensions must be given if data is TypedArray.');\n    }\n  }\n  return {\n    startIndex: startIndex,\n    dimensionsDefine: normalizeDimensionsOption(dimensionsDefine),\n    dimensionsDetectedCount: dimensionsDetectedCount\n  };\n}\nfunction objectRowsCollectDimensions(data) {\n  var firstIndex = 0;\n  var obj;\n  while (firstIndex < data.length && !(obj = data[firstIndex++])) {} // jshint ignore: line\n  if (obj) {\n    return keys(obj);\n  }\n}\n// Consider dimensions defined like ['A', 'price', 'B', 'price', 'C', 'price'],\n// which is reasonable. But dimension name is duplicated.\n// Returns undefined or an array contains only object without null/undefined or string.\nfunction normalizeDimensionsOption(dimensionsDefine) {\n  if (!dimensionsDefine) {\n    // The meaning of null/undefined is different from empty array.\n    return;\n  }\n  var nameMap = createHashMap();\n  return map(dimensionsDefine, function (rawItem, index) {\n    rawItem = isObject(rawItem) ? rawItem : {\n      name: rawItem\n    };\n    // Other fields will be discarded.\n    var item = {\n      name: rawItem.name,\n      displayName: rawItem.displayName,\n      type: rawItem.type\n    };\n    // User can set null in dimensions.\n    // We don't auto specify name, otherwise a given name may\n    // cause it to be referred unexpectedly.\n    if (item.name == null) {\n      return item;\n    }\n    // Also consider number form like 2012.\n    item.name += '';\n    // User may also specify displayName.\n    // displayName will always exists except user not\n    // specified or dim name is not specified or detected.\n    // (A auto generated dim name will not be used as\n    // displayName).\n    if (item.displayName == null) {\n      item.displayName = item.name;\n    }\n    var exist = nameMap.get(item.name);\n    if (!exist) {\n      nameMap.set(item.name, {\n        count: 1\n      });\n    } else {\n      item.name += '-' + exist.count++;\n    }\n    return item;\n  });\n}\nfunction arrayRowsTravelFirst(cb, seriesLayoutBy, data, maxLoop) {\n  if (seriesLayoutBy === SERIES_LAYOUT_BY_ROW) {\n    for (var i = 0; i < data.length && i < maxLoop; i++) {\n      cb(data[i] ? data[i][0] : null, i);\n    }\n  } else {\n    var value0 = data[0] || [];\n    for (var i = 0; i < value0.length && i < maxLoop; i++) {\n      cb(value0[i], i);\n    }\n  }\n}\nexport function shouldRetrieveDataByName(source) {\n  var sourceFormat = source.sourceFormat;\n  return sourceFormat === SOURCE_FORMAT_OBJECT_ROWS || sourceFormat === SOURCE_FORMAT_KEYED_COLUMNS;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _a, _b, _c, _d;\n// TODO\n// ??? refactor? check the outer usage of data provider.\n// merge with defaultDimValueGetter?\nimport { isTypedArray, extend, assert, each, isObject, bind, isArray } from 'zrender/lib/core/util.js';\nimport { getDataItemValue } from '../../util/model.js';\nimport { createSourceFromSeriesDataOption, isSourceInstance } from '../Source.js';\nimport { SOURCE_FORMAT_ORIGINAL, SOURCE_FORMAT_OBJECT_ROWS, SOURCE_FORMAT_KEYED_COLUMNS, SOURCE_FORMAT_TYPED_ARRAY, SOURCE_FORMAT_ARRAY_ROWS, SERIES_LAYOUT_BY_COLUMN, SERIES_LAYOUT_BY_ROW } from '../../util/types.js';\nimport { error } from '../../util/log.js';\nvar providerMethods;\nvar mountMethods;\n/**\n * If normal array used, mutable chunk size is supported.\n * If typed array used, chunk size must be fixed.\n */\nvar DefaultDataProvider = /** @class */function () {\n  function DefaultDataProvider(sourceParam, dimSize) {\n    // let source: Source;\n    var source = !isSourceInstance(sourceParam) ? createSourceFromSeriesDataOption(sourceParam) : sourceParam;\n    // declare source is Source;\n    this._source = source;\n    var data = this._data = source.data;\n    var sourceFormat = source.sourceFormat;\n    var seriesLayoutBy = source.seriesLayoutBy;\n    // Typed array. TODO IE10+?\n    if (sourceFormat === SOURCE_FORMAT_TYPED_ARRAY) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (dimSize == null) {\n          throw new Error('Typed array data must specify dimension size');\n        }\n      }\n      this._offset = 0;\n      this._dimSize = dimSize;\n      this._data = data;\n    }\n    if (process.env.NODE_ENV !== 'production') {\n      var validator = rawSourceDataValidatorMap[getMethodMapKey(sourceFormat, seriesLayoutBy)];\n      validator && validator(data, source.dimensionsDefine);\n    }\n    mountMethods(this, data, source);\n  }\n  DefaultDataProvider.prototype.getSource = function () {\n    return this._source;\n  };\n  DefaultDataProvider.prototype.count = function () {\n    return 0;\n  };\n  DefaultDataProvider.prototype.getItem = function (idx, out) {\n    return;\n  };\n  DefaultDataProvider.prototype.appendData = function (newData) {};\n  DefaultDataProvider.prototype.clean = function () {};\n  DefaultDataProvider.protoInitialize = function () {\n    // PENDING: To avoid potential incompat (e.g., prototype\n    // is visited somewhere), still init them on prototype.\n    var proto = DefaultDataProvider.prototype;\n    proto.pure = false;\n    proto.persistent = true;\n  }();\n  DefaultDataProvider.internalField = function () {\n    var _a;\n    mountMethods = function (provider, data, source) {\n      var sourceFormat = source.sourceFormat;\n      var seriesLayoutBy = source.seriesLayoutBy;\n      var startIndex = source.startIndex;\n      var dimsDef = source.dimensionsDefine;\n      var methods = providerMethods[getMethodMapKey(sourceFormat, seriesLayoutBy)];\n      if (process.env.NODE_ENV !== 'production') {\n        assert(methods, 'Invalide sourceFormat: ' + sourceFormat);\n      }\n      extend(provider, methods);\n      if (sourceFormat === SOURCE_FORMAT_TYPED_ARRAY) {\n        provider.getItem = getItemForTypedArray;\n        provider.count = countForTypedArray;\n        provider.fillStorage = fillStorageForTypedArray;\n      } else {\n        var rawItemGetter = getRawSourceItemGetter(sourceFormat, seriesLayoutBy);\n        provider.getItem = bind(rawItemGetter, null, data, startIndex, dimsDef);\n        var rawCounter = getRawSourceDataCounter(sourceFormat, seriesLayoutBy);\n        provider.count = bind(rawCounter, null, data, startIndex, dimsDef);\n      }\n    };\n    var getItemForTypedArray = function (idx, out) {\n      idx = idx - this._offset;\n      out = out || [];\n      var data = this._data;\n      var dimSize = this._dimSize;\n      var offset = dimSize * idx;\n      for (var i = 0; i < dimSize; i++) {\n        out[i] = data[offset + i];\n      }\n      return out;\n    };\n    var fillStorageForTypedArray = function (start, end, storage, extent) {\n      var data = this._data;\n      var dimSize = this._dimSize;\n      for (var dim = 0; dim < dimSize; dim++) {\n        var dimExtent = extent[dim];\n        var min = dimExtent[0] == null ? Infinity : dimExtent[0];\n        var max = dimExtent[1] == null ? -Infinity : dimExtent[1];\n        var count = end - start;\n        var arr = storage[dim];\n        for (var i = 0; i < count; i++) {\n          // appendData with TypedArray will always do replace in provider.\n          var val = data[i * dimSize + dim];\n          arr[start + i] = val;\n          val < min && (min = val);\n          val > max && (max = val);\n        }\n        dimExtent[0] = min;\n        dimExtent[1] = max;\n      }\n    };\n    var countForTypedArray = function () {\n      return this._data ? this._data.length / this._dimSize : 0;\n    };\n    providerMethods = (_a = {}, _a[SOURCE_FORMAT_ARRAY_ROWS + '_' + SERIES_LAYOUT_BY_COLUMN] = {\n      pure: true,\n      appendData: appendDataSimply\n    }, _a[SOURCE_FORMAT_ARRAY_ROWS + '_' + SERIES_LAYOUT_BY_ROW] = {\n      pure: true,\n      appendData: function () {\n        throw new Error('Do not support appendData when set seriesLayoutBy: \"row\".');\n      }\n    }, _a[SOURCE_FORMAT_OBJECT_ROWS] = {\n      pure: true,\n      appendData: appendDataSimply\n    }, _a[SOURCE_FORMAT_KEYED_COLUMNS] = {\n      pure: true,\n      appendData: function (newData) {\n        var data = this._data;\n        each(newData, function (newCol, key) {\n          var oldCol = data[key] || (data[key] = []);\n          for (var i = 0; i < (newCol || []).length; i++) {\n            oldCol.push(newCol[i]);\n          }\n        });\n      }\n    }, _a[SOURCE_FORMAT_ORIGINAL] = {\n      appendData: appendDataSimply\n    }, _a[SOURCE_FORMAT_TYPED_ARRAY] = {\n      persistent: false,\n      pure: true,\n      appendData: function (newData) {\n        if (process.env.NODE_ENV !== 'production') {\n          assert(isTypedArray(newData), 'Added data must be TypedArray if data in initialization is TypedArray');\n        }\n        this._data = newData;\n      },\n      // Clean self if data is already used.\n      clean: function () {\n        // PENDING\n        this._offset += this.count();\n        this._data = null;\n      }\n    }, _a);\n    function appendDataSimply(newData) {\n      for (var i = 0; i < newData.length; i++) {\n        this._data.push(newData[i]);\n      }\n    }\n  }();\n  return DefaultDataProvider;\n}();\nexport { DefaultDataProvider };\nvar validateSimply = function (rawData) {\n  if (!isArray(rawData)) {\n    error('series.data or dataset.source must be an array.');\n  }\n};\n/**\n * Only run in dev mode - hint users for debug.\n */\nvar rawSourceDataValidatorMap = (_a = {}, _a[SOURCE_FORMAT_ARRAY_ROWS + '_' + SERIES_LAYOUT_BY_COLUMN] = validateSimply, _a[SOURCE_FORMAT_ARRAY_ROWS + '_' + SERIES_LAYOUT_BY_ROW] = validateSimply, _a[SOURCE_FORMAT_OBJECT_ROWS] = validateSimply, _a[SOURCE_FORMAT_KEYED_COLUMNS] = function (rawData, dimsDef) {\n  for (var i = 0; i < dimsDef.length; i++) {\n    var dimName = dimsDef[i].name;\n    if (dimName == null) {\n      error('dimension name must not be null/undefined.');\n    }\n  }\n}, _a[SOURCE_FORMAT_ORIGINAL] = validateSimply, _a);\nvar getItemSimply = function (rawData, startIndex, dimsDef, idx) {\n  return rawData[idx];\n};\nvar rawSourceItemGetterMap = (_b = {}, _b[SOURCE_FORMAT_ARRAY_ROWS + '_' + SERIES_LAYOUT_BY_COLUMN] = function (rawData, startIndex, dimsDef, idx) {\n  return rawData[idx + startIndex];\n}, _b[SOURCE_FORMAT_ARRAY_ROWS + '_' + SERIES_LAYOUT_BY_ROW] = function (rawData, startIndex, dimsDef, idx, out) {\n  idx += startIndex;\n  var item = out || [];\n  var data = rawData;\n  for (var i = 0; i < data.length; i++) {\n    var row = data[i];\n    item[i] = row ? row[idx] : null;\n  }\n  return item;\n}, _b[SOURCE_FORMAT_OBJECT_ROWS] = getItemSimply, _b[SOURCE_FORMAT_KEYED_COLUMNS] = function (rawData, startIndex, dimsDef, idx, out) {\n  var item = out || [];\n  for (var i = 0; i < dimsDef.length; i++) {\n    var dimName = dimsDef[i].name;\n    var col = dimName != null ? rawData[dimName] : null;\n    item[i] = col ? col[idx] : null;\n  }\n  return item;\n}, _b[SOURCE_FORMAT_ORIGINAL] = getItemSimply, _b);\nexport function getRawSourceItemGetter(sourceFormat, seriesLayoutBy) {\n  var method = rawSourceItemGetterMap[getMethodMapKey(sourceFormat, seriesLayoutBy)];\n  if (process.env.NODE_ENV !== 'production') {\n    assert(method, 'Do not support get item on \"' + sourceFormat + '\", \"' + seriesLayoutBy + '\".');\n  }\n  return method;\n}\nvar countSimply = function (rawData, startIndex, dimsDef) {\n  return rawData.length;\n};\nvar rawSourceDataCounterMap = (_c = {}, _c[SOURCE_FORMAT_ARRAY_ROWS + '_' + SERIES_LAYOUT_BY_COLUMN] = function (rawData, startIndex, dimsDef) {\n  return Math.max(0, rawData.length - startIndex);\n}, _c[SOURCE_FORMAT_ARRAY_ROWS + '_' + SERIES_LAYOUT_BY_ROW] = function (rawData, startIndex, dimsDef) {\n  var row = rawData[0];\n  return row ? Math.max(0, row.length - startIndex) : 0;\n}, _c[SOURCE_FORMAT_OBJECT_ROWS] = countSimply, _c[SOURCE_FORMAT_KEYED_COLUMNS] = function (rawData, startIndex, dimsDef) {\n  var dimName = dimsDef[0].name;\n  var col = dimName != null ? rawData[dimName] : null;\n  return col ? col.length : 0;\n}, _c[SOURCE_FORMAT_ORIGINAL] = countSimply, _c);\nexport function getRawSourceDataCounter(sourceFormat, seriesLayoutBy) {\n  var method = rawSourceDataCounterMap[getMethodMapKey(sourceFormat, seriesLayoutBy)];\n  if (process.env.NODE_ENV !== 'production') {\n    assert(method, 'Do not support count on \"' + sourceFormat + '\", \"' + seriesLayoutBy + '\".');\n  }\n  return method;\n}\nvar getRawValueSimply = function (dataItem, dimIndex, property) {\n  return dataItem[dimIndex];\n};\nvar rawSourceValueGetterMap = (_d = {}, _d[SOURCE_FORMAT_ARRAY_ROWS] = getRawValueSimply, _d[SOURCE_FORMAT_OBJECT_ROWS] = function (dataItem, dimIndex, property) {\n  return dataItem[property];\n}, _d[SOURCE_FORMAT_KEYED_COLUMNS] = getRawValueSimply, _d[SOURCE_FORMAT_ORIGINAL] = function (dataItem, dimIndex, property) {\n  // FIXME: In some case (markpoint in geo (geo-map.html)),\n  // dataItem is {coord: [...]}\n  var value = getDataItemValue(dataItem);\n  return !(value instanceof Array) ? value : value[dimIndex];\n}, _d[SOURCE_FORMAT_TYPED_ARRAY] = getRawValueSimply, _d);\nexport function getRawSourceValueGetter(sourceFormat) {\n  var method = rawSourceValueGetterMap[sourceFormat];\n  if (process.env.NODE_ENV !== 'production') {\n    assert(method, 'Do not support get value on \"' + sourceFormat + '\".');\n  }\n  return method;\n}\nfunction getMethodMapKey(sourceFormat, seriesLayoutBy) {\n  return sourceFormat === SOURCE_FORMAT_ARRAY_ROWS ? sourceFormat + '_' + seriesLayoutBy : sourceFormat;\n}\n// ??? FIXME can these logic be more neat: getRawValue, getRawDataItem,\n// Consider persistent.\n// Caution: why use raw value to display on label or tooltip?\n// A reason is to avoid format. For example time value we do not know\n// how to format is expected. More over, if stack is used, calculated\n// value may be 0.91000000001, which have brings trouble to display.\n// TODO: consider how to treat null/undefined/NaN when display?\nexport function retrieveRawValue(data, dataIndex,\n// If dimIndex is null/undefined, return OptionDataItem.\n// Otherwise, return OptionDataValue.\ndim) {\n  if (!data) {\n    return;\n  }\n  // Consider data may be not persistent.\n  var dataItem = data.getRawDataItem(dataIndex);\n  if (dataItem == null) {\n    return;\n  }\n  var store = data.getStore();\n  var sourceFormat = store.getSource().sourceFormat;\n  if (dim != null) {\n    var dimIndex = data.getDimensionIndex(dim);\n    var property = store.getDimensionProperty(dimIndex);\n    return getRawSourceValueGetter(sourceFormat)(dataItem, dimIndex, property);\n  } else {\n    var result = dataItem;\n    if (sourceFormat === SOURCE_FORMAT_ORIGINAL) {\n      result = getDataItemValue(dataItem);\n    }\n    return result;\n  }\n}\n/**\n * Compatible with some cases (in pie, map) like:\n * data: [{name: 'xx', value: 5, selected: true}, ...]\n * where only sourceFormat is 'original' and 'objectRows' supported.\n *\n * // TODO\n * Supported detail options in data item when using 'arrayRows'.\n *\n * @param data\n * @param dataIndex\n * @param attr like 'selected'\n */\nexport function retrieveRawAttr(data, dataIndex, attr) {\n  if (!data) {\n    return;\n  }\n  var sourceFormat = data.getStore().getSource().sourceFormat;\n  if (sourceFormat !== SOURCE_FORMAT_ORIGINAL && sourceFormat !== SOURCE_FORMAT_OBJECT_ROWS) {\n    return;\n  }\n  var dataItem = data.getRawDataItem(dataIndex);\n  if (sourceFormat === SOURCE_FORMAT_ORIGINAL && !isObject(dataItem)) {\n    dataItem = null;\n  }\n  if (dataItem) {\n    return dataItem[attr];\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { retrieveRawValue } from '../../data/helper/dataProvider.js';\nimport { formatTpl } from '../../util/format.js';\nimport { error, makePrintable } from '../../util/log.js';\nvar DIMENSION_LABEL_REG = /\\{@(.+?)\\}/g;\nvar DataFormatMixin = /** @class */function () {\n  function DataFormatMixin() {}\n  /**\n   * Get params for formatter\n   */\n  DataFormatMixin.prototype.getDataParams = function (dataIndex, dataType) {\n    var data = this.getData(dataType);\n    var rawValue = this.getRawValue(dataIndex, dataType);\n    var rawDataIndex = data.getRawIndex(dataIndex);\n    var name = data.getName(dataIndex);\n    var itemOpt = data.getRawDataItem(dataIndex);\n    var style = data.getItemVisual(dataIndex, 'style');\n    var color = style && style[data.getItemVisual(dataIndex, 'drawType') || 'fill'];\n    var borderColor = style && style.stroke;\n    var mainType = this.mainType;\n    var isSeries = mainType === 'series';\n    var userOutput = data.userOutput && data.userOutput.get();\n    return {\n      componentType: mainType,\n      componentSubType: this.subType,\n      componentIndex: this.componentIndex,\n      seriesType: isSeries ? this.subType : null,\n      seriesIndex: this.seriesIndex,\n      seriesId: isSeries ? this.id : null,\n      seriesName: isSeries ? this.name : null,\n      name: name,\n      dataIndex: rawDataIndex,\n      data: itemOpt,\n      dataType: dataType,\n      value: rawValue,\n      color: color,\n      borderColor: borderColor,\n      dimensionNames: userOutput ? userOutput.fullDimensions : null,\n      encode: userOutput ? userOutput.encode : null,\n      // Param name list for mapping `a`, `b`, `c`, `d`, `e`\n      $vars: ['seriesName', 'name', 'value']\n    };\n  };\n  /**\n   * Format label\n   * @param dataIndex\n   * @param status 'normal' by default\n   * @param dataType\n   * @param labelDimIndex Only used in some chart that\n   *        use formatter in different dimensions, like radar.\n   * @param formatter Formatter given outside.\n   * @return return null/undefined if no formatter\n   */\n  DataFormatMixin.prototype.getFormattedLabel = function (dataIndex, status, dataType, labelDimIndex, formatter, extendParams) {\n    status = status || 'normal';\n    var data = this.getData(dataType);\n    var params = this.getDataParams(dataIndex, dataType);\n    if (extendParams) {\n      params.value = extendParams.interpolatedValue;\n    }\n    if (labelDimIndex != null && zrUtil.isArray(params.value)) {\n      params.value = params.value[labelDimIndex];\n    }\n    if (!formatter) {\n      var itemModel = data.getItemModel(dataIndex);\n      // @ts-ignore\n      formatter = itemModel.get(status === 'normal' ? ['label', 'formatter'] : [status, 'label', 'formatter']);\n    }\n    if (zrUtil.isFunction(formatter)) {\n      params.status = status;\n      params.dimensionIndex = labelDimIndex;\n      return formatter(params);\n    } else if (zrUtil.isString(formatter)) {\n      var str = formatTpl(formatter, params);\n      // Support 'aaa{@[3]}bbb{@product}ccc'.\n      // Do not support '}' in dim name util have to.\n      return str.replace(DIMENSION_LABEL_REG, function (origin, dimStr) {\n        var len = dimStr.length;\n        var dimLoose = dimStr;\n        if (dimLoose.charAt(0) === '[' && dimLoose.charAt(len - 1) === ']') {\n          dimLoose = +dimLoose.slice(1, len - 1); // Also support: '[]' => 0\n          if (process.env.NODE_ENV !== 'production') {\n            if (isNaN(dimLoose)) {\n              error(\"Invalide label formatter: @\" + dimStr + \", only support @[0], @[1], @[2], ...\");\n            }\n          }\n        }\n        var val = retrieveRawValue(data, dataIndex, dimLoose);\n        if (extendParams && zrUtil.isArray(extendParams.interpolatedValue)) {\n          var dimIndex = data.getDimensionIndex(dimLoose);\n          if (dimIndex >= 0) {\n            val = extendParams.interpolatedValue[dimIndex];\n          }\n        }\n        return val != null ? val + '' : '';\n      });\n    }\n  };\n  /**\n   * Get raw value in option\n   */\n  DataFormatMixin.prototype.getRawValue = function (idx, dataType) {\n    return retrieveRawValue(this.getData(dataType), idx);\n  };\n  /**\n   * Should be implemented.\n   * @param {number} dataIndex\n   * @param {boolean} [multipleSeries=false]\n   * @param {string} [dataType]\n   */\n  DataFormatMixin.prototype.formatTooltip = function (dataIndex, multipleSeries, dataType) {\n    // Empty function\n    return;\n  };\n  return DataFormatMixin;\n}();\nexport { DataFormatMixin };\n;\n// PENDING: previously we accept this type when calling `formatTooltip`,\n// but guess little chance has been used outside. Do we need to backward\n// compat it?\n// type TooltipFormatResultLegacyObject = {\n//     // `html` means the markup language text, either in 'html' or 'richText'.\n//     // The name `html` is not appropriate because in 'richText' it is not a HTML\n//     // string. But still support it for backward compatibility.\n//     html: string;\n//     markers: Dictionary<ColorString>;\n// };\n/**\n * For backward compat, normalize the return from `formatTooltip`.\n */\nexport function normalizeTooltipFormatResult(result) {\n  var markupText;\n  // let markers: Dictionary<ColorString>;\n  var markupFragment;\n  if (zrUtil.isObject(result)) {\n    if (result.type) {\n      markupFragment = result;\n    } else {\n      if (process.env.NODE_ENV !== 'production') {\n        console.warn('The return type of `formatTooltip` is not supported: ' + makePrintable(result));\n      }\n    }\n    // else {\n    //     markupText = (result as TooltipFormatResultLegacyObject).html;\n    //     markers = (result as TooltipFormatResultLegacyObject).markers;\n    //     if (markersExisting) {\n    //         markers = zrUtil.merge(markersExisting, markers);\n    //     }\n    // }\n  } else {\n    markupText = result;\n  }\n  return {\n    text: markupText,\n    // markers: markers || markersExisting,\n    frag: markupFragment\n  };\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { assert, isArray } from 'zrender/lib/core/util.js';\n;\n/**\n * @param {Object} define\n * @return See the return of `createTask`.\n */\nexport function createTask(define) {\n  return new Task(define);\n}\nvar Task = /** @class */function () {\n  function Task(define) {\n    define = define || {};\n    this._reset = define.reset;\n    this._plan = define.plan;\n    this._count = define.count;\n    this._onDirty = define.onDirty;\n    this._dirty = true;\n  }\n  /**\n   * @param step Specified step.\n   * @param skip Skip customer perform call.\n   * @param modBy Sampling window size.\n   * @param modDataCount Sampling count.\n   * @return whether unfinished.\n   */\n  Task.prototype.perform = function (performArgs) {\n    var upTask = this._upstream;\n    var skip = performArgs && performArgs.skip;\n    // TODO some refactor.\n    // Pull data. Must pull data each time, because context.data\n    // may be updated by Series.setData.\n    if (this._dirty && upTask) {\n      var context = this.context;\n      context.data = context.outputData = upTask.context.outputData;\n    }\n    if (this.__pipeline) {\n      this.__pipeline.currentTask = this;\n    }\n    var planResult;\n    if (this._plan && !skip) {\n      planResult = this._plan(this.context);\n    }\n    // Support sharding by mod, which changes the render sequence and makes the rendered graphic\n    // elements uniformed distributed when progress, especially when moving or zooming.\n    var lastModBy = normalizeModBy(this._modBy);\n    var lastModDataCount = this._modDataCount || 0;\n    var modBy = normalizeModBy(performArgs && performArgs.modBy);\n    var modDataCount = performArgs && performArgs.modDataCount || 0;\n    if (lastModBy !== modBy || lastModDataCount !== modDataCount) {\n      planResult = 'reset';\n    }\n    function normalizeModBy(val) {\n      !(val >= 1) && (val = 1); // jshint ignore:line\n      return val;\n    }\n    var forceFirstProgress;\n    if (this._dirty || planResult === 'reset') {\n      this._dirty = false;\n      forceFirstProgress = this._doReset(skip);\n    }\n    this._modBy = modBy;\n    this._modDataCount = modDataCount;\n    var step = performArgs && performArgs.step;\n    if (upTask) {\n      if (process.env.NODE_ENV !== 'production') {\n        assert(upTask._outputDueEnd != null);\n      }\n      this._dueEnd = upTask._outputDueEnd;\n    }\n    // DataTask or overallTask\n    else {\n      if (process.env.NODE_ENV !== 'production') {\n        assert(!this._progress || this._count);\n      }\n      this._dueEnd = this._count ? this._count(this.context) : Infinity;\n    }\n    // Note: Stubs, that its host overall task let it has progress, has progress.\n    // If no progress, pass index from upstream to downstream each time plan called.\n    if (this._progress) {\n      var start = this._dueIndex;\n      var end = Math.min(step != null ? this._dueIndex + step : Infinity, this._dueEnd);\n      if (!skip && (forceFirstProgress || start < end)) {\n        var progress = this._progress;\n        if (isArray(progress)) {\n          for (var i = 0; i < progress.length; i++) {\n            this._doProgress(progress[i], start, end, modBy, modDataCount);\n          }\n        } else {\n          this._doProgress(progress, start, end, modBy, modDataCount);\n        }\n      }\n      this._dueIndex = end;\n      // If no `outputDueEnd`, assume that output data and\n      // input data is the same, so use `dueIndex` as `outputDueEnd`.\n      var outputDueEnd = this._settedOutputEnd != null ? this._settedOutputEnd : end;\n      if (process.env.NODE_ENV !== 'production') {\n        // ??? Can not rollback.\n        assert(outputDueEnd >= this._outputDueEnd);\n      }\n      this._outputDueEnd = outputDueEnd;\n    } else {\n      // (1) Some overall task has no progress.\n      // (2) Stubs, that its host overall task do not let it has progress, has no progress.\n      // This should always be performed so it can be passed to downstream.\n      this._dueIndex = this._outputDueEnd = this._settedOutputEnd != null ? this._settedOutputEnd : this._dueEnd;\n    }\n    return this.unfinished();\n  };\n  Task.prototype.dirty = function () {\n    this._dirty = true;\n    this._onDirty && this._onDirty(this.context);\n  };\n  Task.prototype._doProgress = function (progress, start, end, modBy, modDataCount) {\n    iterator.reset(start, end, modBy, modDataCount);\n    this._callingProgress = progress;\n    this._callingProgress({\n      start: start,\n      end: end,\n      count: end - start,\n      next: iterator.next\n    }, this.context);\n  };\n  Task.prototype._doReset = function (skip) {\n    this._dueIndex = this._outputDueEnd = this._dueEnd = 0;\n    this._settedOutputEnd = null;\n    var progress;\n    var forceFirstProgress;\n    if (!skip && this._reset) {\n      progress = this._reset(this.context);\n      if (progress && progress.progress) {\n        forceFirstProgress = progress.forceFirstProgress;\n        progress = progress.progress;\n      }\n      // To simplify no progress checking, array must has item.\n      if (isArray(progress) && !progress.length) {\n        progress = null;\n      }\n    }\n    this._progress = progress;\n    this._modBy = this._modDataCount = null;\n    var downstream = this._downstream;\n    downstream && downstream.dirty();\n    return forceFirstProgress;\n  };\n  Task.prototype.unfinished = function () {\n    return this._progress && this._dueIndex < this._dueEnd;\n  };\n  /**\n   * @param downTask The downstream task.\n   * @return The downstream task.\n   */\n  Task.prototype.pipe = function (downTask) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(downTask && !downTask._disposed && downTask !== this);\n    }\n    // If already downstream, do not dirty downTask.\n    if (this._downstream !== downTask || this._dirty) {\n      this._downstream = downTask;\n      downTask._upstream = this;\n      downTask.dirty();\n    }\n  };\n  Task.prototype.dispose = function () {\n    if (this._disposed) {\n      return;\n    }\n    this._upstream && (this._upstream._downstream = null);\n    this._downstream && (this._downstream._upstream = null);\n    this._dirty = false;\n    this._disposed = true;\n  };\n  Task.prototype.getUpstream = function () {\n    return this._upstream;\n  };\n  Task.prototype.getDownstream = function () {\n    return this._downstream;\n  };\n  Task.prototype.setOutputEnd = function (end) {\n    // This only happens in dataTask, dataZoom, map, currently.\n    // where dataZoom do not set end each time, but only set\n    // when reset. So we should record the set end, in case\n    // that the stub of dataZoom perform again and earse the\n    // set end by upstream.\n    this._outputDueEnd = this._settedOutputEnd = end;\n  };\n  return Task;\n}();\nexport { Task };\nvar iterator = function () {\n  var end;\n  var current;\n  var modBy;\n  var modDataCount;\n  var winCount;\n  var it = {\n    reset: function (s, e, sStep, sCount) {\n      current = s;\n      end = e;\n      modBy = sStep;\n      modDataCount = sCount;\n      winCount = Math.ceil(modDataCount / modBy);\n      it.next = modBy > 1 && modDataCount > 0 ? modNext : sequentialNext;\n    }\n  };\n  return it;\n  function sequentialNext() {\n    return current < end ? current++ : null;\n  }\n  function modNext() {\n    var dataIndex = current % winCount * modBy + Math.ceil(current / winCount);\n    var result = current >= end ? null : dataIndex < modDataCount ? dataIndex\n    // If modDataCount is smaller than data.count() (consider `appendData` case),\n    // Use normal linear rendering mode.\n    : current;\n    current++;\n    return result;\n  }\n}();\n// -----------------------------------------------------------------------------\n// For stream debug (Should be commented out after used!)\n// @usage: printTask(this, 'begin');\n// @usage: printTask(this, null, {someExtraProp});\n// @usage: Use `__idxInPipeline` as conditional breakpiont.\n//\n// window.printTask = function (task: any, prefix: string, extra: { [key: string]: unknown }): void {\n//     window.ecTaskUID == null && (window.ecTaskUID = 0);\n//     task.uidDebug == null && (task.uidDebug = `task_${window.ecTaskUID++}`);\n//     task.agent && task.agent.uidDebug == null && (task.agent.uidDebug = `task_${window.ecTaskUID++}`);\n//     let props = [];\n//     if (task.__pipeline) {\n//         let val = `${task.__idxInPipeline}/${task.__pipeline.tail.__idxInPipeline} ${task.agent ? '(stub)' : ''}`;\n//         props.push({text: '__idxInPipeline/total', value: val});\n//     } else {\n//         let stubCount = 0;\n//         task.agentStubMap.each(() => stubCount++);\n//         props.push({text: 'idx', value: `overall (stubs: ${stubCount})`});\n//     }\n//     props.push({text: 'uid', value: task.uidDebug});\n//     if (task.__pipeline) {\n//         props.push({text: 'pipelineId', value: task.__pipeline.id});\n//         task.agent && props.push(\n//             {text: 'stubFor', value: task.agent.uidDebug}\n//         );\n//     }\n//     props.push(\n//         {text: 'dirty', value: task._dirty},\n//         {text: 'dueIndex', value: task._dueIndex},\n//         {text: 'dueEnd', value: task._dueEnd},\n//         {text: 'outputDueEnd', value: task._outputDueEnd}\n//     );\n//     if (extra) {\n//         Object.keys(extra).forEach(key => {\n//             props.push({text: key, value: extra[key]});\n//         });\n//     }\n//     let args = ['color: blue'];\n//     let msg = `%c[${prefix || 'T'}] %c` + props.map(item => (\n//         args.push('color: green', 'color: red'),\n//         `${item.text}: %c${item.value}`\n//     )).join('%c, ');\n//     console.log.apply(console, [msg].concat(args));\n//     // console.log(this);\n// };\n// window.printPipeline = function (task: any, prefix: string) {\n//     const pipeline = task.__pipeline;\n//     let currTask = pipeline.head;\n//     while (currTask) {\n//         window.printTask(currTask, prefix);\n//         currTask = currTask._downstream;\n//     }\n// };\n// window.showChain = function (chainHeadTask) {\n//     var chain = [];\n//     var task = chainHeadTask;\n//     while (task) {\n//         chain.push({\n//             task: task,\n//             up: task._upstream,\n//             down: task._downstream,\n//             idxInPipeline: task.__idxInPipeline\n//         });\n//         task = task._downstream;\n//     }\n//     return chain;\n// };\n// window.findTaskInChain = function (task, chainHeadTask) {\n//     let chain = window.showChain(chainHeadTask);\n//     let result = [];\n//     for (let i = 0; i < chain.length; i++) {\n//         let chainItem = chain[i];\n//         if (chainItem.task === task) {\n//             result.push(i);\n//         }\n//     }\n//     return result;\n// };\n// window.printChainAEachInChainB = function (chainHeadTaskA, chainHeadTaskB) {\n//     let chainA = window.showChain(chainHeadTaskA);\n//     for (let i = 0; i < chainA.length; i++) {\n//         console.log('chainAIdx:', i, 'inChainB:', window.findTaskInChain(chainA[i].task, chainHeadTaskB));\n//     }\n// };","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { parseDate, numericToNumber } from '../../util/number.js';\nimport { createHashMap, trim, hasOwn, isString, isNumber } from 'zrender/lib/core/util.js';\nimport { throwError } from '../../util/log.js';\n/**\n * Convert raw the value in to inner value in List.\n *\n * [Performance sensitive]\n *\n * [Caution]: this is the key logic of user value parser.\n * For backward compatibility, do not modify it until you have to!\n */\nexport function parseDataValue(value,\n// For high performance, do not omit the second param.\nopt) {\n  // Performance sensitive.\n  var dimType = opt && opt.type;\n  if (dimType === 'ordinal') {\n    // If given value is a category string\n    return value;\n  }\n  if (dimType === 'time'\n  // spead up when using timestamp\n  && !isNumber(value) && value != null && value !== '-') {\n    value = +parseDate(value);\n  }\n  // dimType defaults 'number'.\n  // If dimType is not ordinal and value is null or undefined or NaN or '-',\n  // parse to NaN.\n  // number-like string (like ' 123 ') can be converted to a number.\n  // where null/undefined or other string will be converted to NaN.\n  return value == null || value === '' ? NaN\n  // If string (like '-'), using '+' parse to NaN\n  // If object, also parse to NaN\n  : Number(value);\n}\n;\nvar valueParserMap = createHashMap({\n  'number': function (val) {\n    // Do not use `numericToNumber` here. We have `numericToNumber` by default.\n    // Here the number parser can have loose rule:\n    // enable to cut suffix: \"120px\" => 120, \"14%\" => 14.\n    return parseFloat(val);\n  },\n  'time': function (val) {\n    // return timestamp.\n    return +parseDate(val);\n  },\n  'trim': function (val) {\n    return isString(val) ? trim(val) : val;\n  }\n});\nexport function getRawValueParser(type) {\n  return valueParserMap.get(type);\n}\nvar ORDER_COMPARISON_OP_MAP = {\n  lt: function (lval, rval) {\n    return lval < rval;\n  },\n  lte: function (lval, rval) {\n    return lval <= rval;\n  },\n  gt: function (lval, rval) {\n    return lval > rval;\n  },\n  gte: function (lval, rval) {\n    return lval >= rval;\n  }\n};\nvar FilterOrderComparator = /** @class */function () {\n  function FilterOrderComparator(op, rval) {\n    if (!isNumber(rval)) {\n      var errMsg = '';\n      if (process.env.NODE_ENV !== 'production') {\n        errMsg = 'rvalue of \"<\", \">\", \"<=\", \">=\" can only be number in filter.';\n      }\n      throwError(errMsg);\n    }\n    this._opFn = ORDER_COMPARISON_OP_MAP[op];\n    this._rvalFloat = numericToNumber(rval);\n  }\n  // Performance sensitive.\n  FilterOrderComparator.prototype.evaluate = function (lval) {\n    // Most cases is 'number', and typeof maybe 10 times faseter than parseFloat.\n    return isNumber(lval) ? this._opFn(lval, this._rvalFloat) : this._opFn(numericToNumber(lval), this._rvalFloat);\n  };\n  return FilterOrderComparator;\n}();\nvar SortOrderComparator = /** @class */function () {\n  /**\n   * @param order by default: 'asc'\n   * @param incomparable by default: Always on the tail.\n   *        That is, if 'asc' => 'max', if 'desc' => 'min'\n   *        See the definition of \"incomparable\" in [SORT_COMPARISON_RULE].\n   */\n  function SortOrderComparator(order, incomparable) {\n    var isDesc = order === 'desc';\n    this._resultLT = isDesc ? 1 : -1;\n    if (incomparable == null) {\n      incomparable = isDesc ? 'min' : 'max';\n    }\n    this._incomparable = incomparable === 'min' ? -Infinity : Infinity;\n  }\n  // See [SORT_COMPARISON_RULE].\n  // Performance sensitive.\n  SortOrderComparator.prototype.evaluate = function (lval, rval) {\n    // Most cases is 'number', and typeof maybe 10 times faseter than parseFloat.\n    var lvalFloat = isNumber(lval) ? lval : numericToNumber(lval);\n    var rvalFloat = isNumber(rval) ? rval : numericToNumber(rval);\n    var lvalNotNumeric = isNaN(lvalFloat);\n    var rvalNotNumeric = isNaN(rvalFloat);\n    if (lvalNotNumeric) {\n      lvalFloat = this._incomparable;\n    }\n    if (rvalNotNumeric) {\n      rvalFloat = this._incomparable;\n    }\n    if (lvalNotNumeric && rvalNotNumeric) {\n      var lvalIsStr = isString(lval);\n      var rvalIsStr = isString(rval);\n      if (lvalIsStr) {\n        lvalFloat = rvalIsStr ? lval : 0;\n      }\n      if (rvalIsStr) {\n        rvalFloat = lvalIsStr ? rval : 0;\n      }\n    }\n    return lvalFloat < rvalFloat ? this._resultLT : lvalFloat > rvalFloat ? -this._resultLT : 0;\n  };\n  return SortOrderComparator;\n}();\nexport { SortOrderComparator };\nvar FilterEqualityComparator = /** @class */function () {\n  function FilterEqualityComparator(isEq, rval) {\n    this._rval = rval;\n    this._isEQ = isEq;\n    this._rvalTypeof = typeof rval;\n    this._rvalFloat = numericToNumber(rval);\n  }\n  // Performance sensitive.\n  FilterEqualityComparator.prototype.evaluate = function (lval) {\n    var eqResult = lval === this._rval;\n    if (!eqResult) {\n      var lvalTypeof = typeof lval;\n      if (lvalTypeof !== this._rvalTypeof && (lvalTypeof === 'number' || this._rvalTypeof === 'number')) {\n        eqResult = numericToNumber(lval) === this._rvalFloat;\n      }\n    }\n    return this._isEQ ? eqResult : !eqResult;\n  };\n  return FilterEqualityComparator;\n}();\n/**\n * [FILTER_COMPARISON_RULE]\n * `lt`|`lte`|`gt`|`gte`:\n * + rval must be a number. And lval will be converted to number (`numericToNumber`) to compare.\n * `eq`:\n * + If same type, compare with `===`.\n * + If there is one number, convert to number (`numericToNumber`) to compare.\n * + Else return `false`.\n * `ne`:\n * + Not `eq`.\n *\n *\n * [SORT_COMPARISON_RULE]\n * All the values are grouped into three categories:\n * + \"numeric\" (number and numeric string)\n * + \"non-numeric-string\" (string that excluding numeric string)\n * + \"others\"\n * \"numeric\" vs \"numeric\": values are ordered by number order.\n * \"non-numeric-string\" vs \"non-numeric-string\": values are ordered by ES spec (#sec-abstract-relational-comparison).\n * \"others\" vs \"others\": do not change order (always return 0).\n * \"numeric\" vs \"non-numeric-string\": \"non-numeric-string\" is treated as \"incomparable\".\n * \"number\" vs \"others\": \"others\" is treated as \"incomparable\".\n * \"non-numeric-string\" vs \"others\": \"others\" is treated as \"incomparable\".\n * \"incomparable\" will be seen as -Infinity or Infinity (depends on the settings).\n * MEMO:\n *   Non-numeric string sort makes sense when we need to put the items with the same tag together.\n *   But if we support string sort, we still need to avoid the misleading like `'2' > '12'`,\n *   So we treat \"numeric-string\" sorted by number order rather than string comparison.\n *\n *\n * [CHECK_LIST_OF_THE_RULE_DESIGN]\n * + Do not support string comparison until required. And also need to\n *   avoid the misleading of \"2\" > \"12\".\n * + Should avoid the misleading case:\n *   `\" 22 \" gte \"22\"` is `true` but `\" 22 \" eq \"22\"` is `false`.\n * + JS bad case should be avoided: null <= 0, [] <= 0, ' ' <= 0, ...\n * + Only \"numeric\" can be converted to comparable number, otherwise converted to NaN.\n *   See `util/number.ts#numericToNumber`.\n *\n * @return If `op` is not `RelationalOperator`, return null;\n */\nexport function createFilterComparator(op, rval) {\n  return op === 'eq' || op === 'ne' ? new FilterEqualityComparator(op === 'eq', rval) : hasOwn(ORDER_COMPARISON_OP_MAP, op) ? new FilterOrderComparator(op, rval) : null;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { SERIES_LAYOUT_BY_COLUMN, SOURCE_FORMAT_OBJECT_ROWS, SOURCE_FORMAT_ARRAY_ROWS } from '../../util/types.js';\nimport { normalizeToArray } from '../../util/model.js';\nimport { createHashMap, bind, each, hasOwn, map, clone, isObject, extend, isNumber } from 'zrender/lib/core/util.js';\nimport { getRawSourceItemGetter, getRawSourceDataCounter, getRawSourceValueGetter } from './dataProvider.js';\nimport { parseDataValue } from './dataValueHelper.js';\nimport { log, makePrintable, throwError } from '../../util/log.js';\nimport { createSource, detectSourceFormat } from '../Source.js';\n/**\n * TODO: disable writable.\n * This structure will be exposed to users.\n */\nvar ExternalSource = /** @class */function () {\n  function ExternalSource() {}\n  ExternalSource.prototype.getRawData = function () {\n    // Only built-in transform available.\n    throw new Error('not supported');\n  };\n  ExternalSource.prototype.getRawDataItem = function (dataIndex) {\n    // Only built-in transform available.\n    throw new Error('not supported');\n  };\n  ExternalSource.prototype.cloneRawData = function () {\n    return;\n  };\n  /**\n   * @return If dimension not found, return null/undefined.\n   */\n  ExternalSource.prototype.getDimensionInfo = function (dim) {\n    return;\n  };\n  /**\n   * dimensions defined if and only if either:\n   * (a) dataset.dimensions are declared.\n   * (b) dataset data include dimensions definitions in data (detected or via specified `sourceHeader`).\n   * If dimensions are defined, `dimensionInfoAll` is corresponding to\n   * the defined dimensions.\n   * Otherwise, `dimensionInfoAll` is determined by data columns.\n   * @return Always return an array (even empty array).\n   */\n  ExternalSource.prototype.cloneAllDimensionInfo = function () {\n    return;\n  };\n  ExternalSource.prototype.count = function () {\n    return;\n  };\n  /**\n   * Only support by dimension index.\n   * No need to support by dimension name in transform function,\n   * because transform function is not case-specific, no need to use name literally.\n   */\n  ExternalSource.prototype.retrieveValue = function (dataIndex, dimIndex) {\n    return;\n  };\n  ExternalSource.prototype.retrieveValueFromItem = function (dataItem, dimIndex) {\n    return;\n  };\n  ExternalSource.prototype.convertValue = function (rawVal, dimInfo) {\n    return parseDataValue(rawVal, dimInfo);\n  };\n  return ExternalSource;\n}();\nexport { ExternalSource };\nfunction createExternalSource(internalSource, externalTransform) {\n  var extSource = new ExternalSource();\n  var data = internalSource.data;\n  var sourceFormat = extSource.sourceFormat = internalSource.sourceFormat;\n  var sourceHeaderCount = internalSource.startIndex;\n  var errMsg = '';\n  if (internalSource.seriesLayoutBy !== SERIES_LAYOUT_BY_COLUMN) {\n    // For the logic simplicity in transformer, only 'culumn' is\n    // supported in data transform. Otherwise, the `dimensionsDefine`\n    // might be detected by 'row', which probably confuses users.\n    if (process.env.NODE_ENV !== 'production') {\n      errMsg = '`seriesLayoutBy` of upstream dataset can only be \"column\" in data transform.';\n    }\n    throwError(errMsg);\n  }\n  // [MEMO]\n  // Create a new dimensions structure for exposing.\n  // Do not expose all dimension info to users directly.\n  // Because the dimension is probably auto detected from data and not might reliable.\n  // Should not lead the transformers to think that is reliable and return it.\n  // See [DIMENSION_INHERIT_RULE] in `sourceManager.ts`.\n  var dimensions = [];\n  var dimsByName = {};\n  var dimsDef = internalSource.dimensionsDefine;\n  if (dimsDef) {\n    each(dimsDef, function (dimDef, idx) {\n      var name = dimDef.name;\n      var dimDefExt = {\n        index: idx,\n        name: name,\n        displayName: dimDef.displayName\n      };\n      dimensions.push(dimDefExt);\n      // Users probably do not specify dimension name. For simplicity, data transform\n      // does not generate dimension name.\n      if (name != null) {\n        // Dimension name should not be duplicated.\n        // For simplicity, data transform forbids name duplication, do not generate\n        // new name like module `completeDimensions.ts` did, but just tell users.\n        var errMsg_1 = '';\n        if (hasOwn(dimsByName, name)) {\n          if (process.env.NODE_ENV !== 'production') {\n            errMsg_1 = 'dimension name \"' + name + '\" duplicated.';\n          }\n          throwError(errMsg_1);\n        }\n        dimsByName[name] = dimDefExt;\n      }\n    });\n  }\n  // If dimension definitions are not defined and can not be detected.\n  // e.g., pure data `[[11, 22], ...]`.\n  else {\n    for (var i = 0; i < internalSource.dimensionsDetectedCount || 0; i++) {\n      // Do not generete name or anything others. The consequence process in\n      // `transform` or `series` probably have there own name generation strategry.\n      dimensions.push({\n        index: i\n      });\n    }\n  }\n  // Implement public methods:\n  var rawItemGetter = getRawSourceItemGetter(sourceFormat, SERIES_LAYOUT_BY_COLUMN);\n  if (externalTransform.__isBuiltIn) {\n    extSource.getRawDataItem = function (dataIndex) {\n      return rawItemGetter(data, sourceHeaderCount, dimensions, dataIndex);\n    };\n    extSource.getRawData = bind(getRawData, null, internalSource);\n  }\n  extSource.cloneRawData = bind(cloneRawData, null, internalSource);\n  var rawCounter = getRawSourceDataCounter(sourceFormat, SERIES_LAYOUT_BY_COLUMN);\n  extSource.count = bind(rawCounter, null, data, sourceHeaderCount, dimensions);\n  var rawValueGetter = getRawSourceValueGetter(sourceFormat);\n  extSource.retrieveValue = function (dataIndex, dimIndex) {\n    var rawItem = rawItemGetter(data, sourceHeaderCount, dimensions, dataIndex);\n    return retrieveValueFromItem(rawItem, dimIndex);\n  };\n  var retrieveValueFromItem = extSource.retrieveValueFromItem = function (dataItem, dimIndex) {\n    if (dataItem == null) {\n      return;\n    }\n    var dimDef = dimensions[dimIndex];\n    // When `dimIndex` is `null`, `rawValueGetter` return the whole item.\n    if (dimDef) {\n      return rawValueGetter(dataItem, dimIndex, dimDef.name);\n    }\n  };\n  extSource.getDimensionInfo = bind(getDimensionInfo, null, dimensions, dimsByName);\n  extSource.cloneAllDimensionInfo = bind(cloneAllDimensionInfo, null, dimensions);\n  return extSource;\n}\nfunction getRawData(upstream) {\n  var sourceFormat = upstream.sourceFormat;\n  if (!isSupportedSourceFormat(sourceFormat)) {\n    var errMsg = '';\n    if (process.env.NODE_ENV !== 'production') {\n      errMsg = '`getRawData` is not supported in source format ' + sourceFormat;\n    }\n    throwError(errMsg);\n  }\n  return upstream.data;\n}\nfunction cloneRawData(upstream) {\n  var sourceFormat = upstream.sourceFormat;\n  var data = upstream.data;\n  if (!isSupportedSourceFormat(sourceFormat)) {\n    var errMsg = '';\n    if (process.env.NODE_ENV !== 'production') {\n      errMsg = '`cloneRawData` is not supported in source format ' + sourceFormat;\n    }\n    throwError(errMsg);\n  }\n  if (sourceFormat === SOURCE_FORMAT_ARRAY_ROWS) {\n    var result = [];\n    for (var i = 0, len = data.length; i < len; i++) {\n      // Not strictly clone for performance\n      result.push(data[i].slice());\n    }\n    return result;\n  } else if (sourceFormat === SOURCE_FORMAT_OBJECT_ROWS) {\n    var result = [];\n    for (var i = 0, len = data.length; i < len; i++) {\n      // Not strictly clone for performance\n      result.push(extend({}, data[i]));\n    }\n    return result;\n  }\n}\nfunction getDimensionInfo(dimensions, dimsByName, dim) {\n  if (dim == null) {\n    return;\n  }\n  // Keep the same logic as `List::getDimension` did.\n  if (isNumber(dim)\n  // If being a number-like string but not being defined a dimension name.\n  || !isNaN(dim) && !hasOwn(dimsByName, dim)) {\n    return dimensions[dim];\n  } else if (hasOwn(dimsByName, dim)) {\n    return dimsByName[dim];\n  }\n}\nfunction cloneAllDimensionInfo(dimensions) {\n  return clone(dimensions);\n}\nvar externalTransformMap = createHashMap();\nexport function registerExternalTransform(externalTransform) {\n  externalTransform = clone(externalTransform);\n  var type = externalTransform.type;\n  var errMsg = '';\n  if (!type) {\n    if (process.env.NODE_ENV !== 'production') {\n      errMsg = 'Must have a `type` when `registerTransform`.';\n    }\n    throwError(errMsg);\n  }\n  var typeParsed = type.split(':');\n  if (typeParsed.length !== 2) {\n    if (process.env.NODE_ENV !== 'production') {\n      errMsg = 'Name must include namespace like \"ns:regression\".';\n    }\n    throwError(errMsg);\n  }\n  // Namespace 'echarts:xxx' is official namespace, where the transforms should\n  // be called directly via 'xxx' rather than 'echarts:xxx'.\n  var isBuiltIn = false;\n  if (typeParsed[0] === 'echarts') {\n    type = typeParsed[1];\n    isBuiltIn = true;\n  }\n  externalTransform.__isBuiltIn = isBuiltIn;\n  externalTransformMap.set(type, externalTransform);\n}\nexport function applyDataTransform(rawTransOption, sourceList, infoForPrint) {\n  var pipedTransOption = normalizeToArray(rawTransOption);\n  var pipeLen = pipedTransOption.length;\n  var errMsg = '';\n  if (!pipeLen) {\n    if (process.env.NODE_ENV !== 'production') {\n      errMsg = 'If `transform` declared, it should at least contain one transform.';\n    }\n    throwError(errMsg);\n  }\n  for (var i = 0, len = pipeLen; i < len; i++) {\n    var transOption = pipedTransOption[i];\n    sourceList = applySingleDataTransform(transOption, sourceList, infoForPrint, pipeLen === 1 ? null : i);\n    // piped transform only support single input, except the fist one.\n    // piped transform only support single output, except the last one.\n    if (i !== len - 1) {\n      sourceList.length = Math.max(sourceList.length, 1);\n    }\n  }\n  return sourceList;\n}\nfunction applySingleDataTransform(transOption, upSourceList, infoForPrint,\n// If `pipeIndex` is null/undefined, no piped transform.\npipeIndex) {\n  var errMsg = '';\n  if (!upSourceList.length) {\n    if (process.env.NODE_ENV !== 'production') {\n      errMsg = 'Must have at least one upstream dataset.';\n    }\n    throwError(errMsg);\n  }\n  if (!isObject(transOption)) {\n    if (process.env.NODE_ENV !== 'production') {\n      errMsg = 'transform declaration must be an object rather than ' + typeof transOption + '.';\n    }\n    throwError(errMsg);\n  }\n  var transType = transOption.type;\n  var externalTransform = externalTransformMap.get(transType);\n  if (!externalTransform) {\n    if (process.env.NODE_ENV !== 'production') {\n      errMsg = 'Can not find transform on type \"' + transType + '\".';\n    }\n    throwError(errMsg);\n  }\n  // Prepare source\n  var extUpSourceList = map(upSourceList, function (upSource) {\n    return createExternalSource(upSource, externalTransform);\n  });\n  var resultList = normalizeToArray(externalTransform.transform({\n    upstream: extUpSourceList[0],\n    upstreamList: extUpSourceList,\n    config: clone(transOption.config)\n  }));\n  if (process.env.NODE_ENV !== 'production') {\n    if (transOption.print) {\n      var printStrArr = map(resultList, function (extSource) {\n        var pipeIndexStr = pipeIndex != null ? ' === pipe index: ' + pipeIndex : '';\n        return ['=== dataset index: ' + infoForPrint.datasetIndex + pipeIndexStr + ' ===', '- transform result data:', makePrintable(extSource.data), '- transform result dimensions:', makePrintable(extSource.dimensions)].join('\\n');\n      }).join('\\n');\n      log(printStrArr);\n    }\n  }\n  return map(resultList, function (result, resultIndex) {\n    var errMsg = '';\n    if (!isObject(result)) {\n      if (process.env.NODE_ENV !== 'production') {\n        errMsg = 'A transform should not return some empty results.';\n      }\n      throwError(errMsg);\n    }\n    if (!result.data) {\n      if (process.env.NODE_ENV !== 'production') {\n        errMsg = 'Transform result data should be not be null or undefined';\n      }\n      throwError(errMsg);\n    }\n    var sourceFormat = detectSourceFormat(result.data);\n    if (!isSupportedSourceFormat(sourceFormat)) {\n      if (process.env.NODE_ENV !== 'production') {\n        errMsg = 'Transform result data should be array rows or object rows.';\n      }\n      throwError(errMsg);\n    }\n    var resultMetaRawOption;\n    var firstUpSource = upSourceList[0];\n    /**\n     * Intuitively, the end users known the content of the original `dataset.source`,\n     * calucating the transform result in mind.\n     * Suppose the original `dataset.source` is:\n     * ```js\n     * [\n     *     ['product', '2012', '2013', '2014', '2015'],\n     *     ['AAA', 41.1, 30.4, 65.1, 53.3],\n     *     ['BBB', 86.5, 92.1, 85.7, 83.1],\n     *     ['CCC', 24.1, 67.2, 79.5, 86.4]\n     * ]\n     * ```\n     * The dimension info have to be detected from the source data.\n     * Some of the transformers (like filter, sort) will follow the dimension info\n     * of upstream, while others use new dimensions (like aggregate).\n     * Transformer can output a field `dimensions` to define the its own output dimensions.\n     * We also allow transformers to ignore the output `dimensions` field, and\n     * inherit the upstream dimensions definition. It can reduce the burden of handling\n     * dimensions in transformers.\n     *\n     * See also [DIMENSION_INHERIT_RULE] in `sourceManager.ts`.\n     */\n    if (firstUpSource && resultIndex === 0\n    // If transformer returns `dimensions`, it means that the transformer has different\n    // dimensions definitions. We do not inherit anything from upstream.\n    && !result.dimensions) {\n      var startIndex = firstUpSource.startIndex;\n      // We copy the header of upstream to the result, because:\n      // (1) The returned data always does not contain header line and can not be used\n      // as dimension-detection. In this case we can not use \"detected dimensions\" of\n      // upstream directly, because it might be detected based on different `seriesLayoutBy`.\n      // (2) We should support that the series read the upstream source in `seriesLayoutBy: 'row'`.\n      // So the original detected header should be add to the result, otherwise they can not be read.\n      if (startIndex) {\n        result.data = firstUpSource.data.slice(0, startIndex).concat(result.data);\n      }\n      resultMetaRawOption = {\n        seriesLayoutBy: SERIES_LAYOUT_BY_COLUMN,\n        sourceHeader: startIndex,\n        dimensions: firstUpSource.metaRawOption.dimensions\n      };\n    } else {\n      resultMetaRawOption = {\n        seriesLayoutBy: SERIES_LAYOUT_BY_COLUMN,\n        sourceHeader: 0,\n        dimensions: result.dimensions\n      };\n    }\n    return createSource(result.data, resultMetaRawOption, null);\n  });\n}\nfunction isSupportedSourceFormat(sourceFormat) {\n  return sourceFormat === SOURCE_FORMAT_ARRAY_ROWS || sourceFormat === SOURCE_FORMAT_OBJECT_ROWS;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { assert, clone, createHashMap, isFunction, keys, map, reduce } from 'zrender/lib/core/util.js';\nimport { parseDataValue } from './helper/dataValueHelper.js';\nimport { shouldRetrieveDataByName } from './Source.js';\nvar UNDEFINED = 'undefined';\n/* global Float64Array, Int32Array, Uint32Array, Uint16Array */\n// Caution: MUST not use `new CtorUint32Array(arr, 0, len)`, because the Ctor of array is\n// different from the Ctor of typed array.\nexport var CtorUint32Array = typeof Uint32Array === UNDEFINED ? Array : Uint32Array;\nexport var CtorUint16Array = typeof Uint16Array === UNDEFINED ? Array : Uint16Array;\nexport var CtorInt32Array = typeof Int32Array === UNDEFINED ? Array : Int32Array;\nexport var CtorFloat64Array = typeof Float64Array === UNDEFINED ? Array : Float64Array;\n/**\n * Multi dimensional data store\n */\nvar dataCtors = {\n  'float': CtorFloat64Array,\n  'int': CtorInt32Array,\n  // Ordinal data type can be string or int\n  'ordinal': Array,\n  'number': Array,\n  'time': CtorFloat64Array\n};\nvar defaultDimValueGetters;\nfunction getIndicesCtor(rawCount) {\n  // The possible max value in this._indicies is always this._rawCount despite of filtering.\n  return rawCount > 65535 ? CtorUint32Array : CtorUint16Array;\n}\n;\nfunction getInitialExtent() {\n  return [Infinity, -Infinity];\n}\n;\nfunction cloneChunk(originalChunk) {\n  var Ctor = originalChunk.constructor;\n  // Only shallow clone is enough when Array.\n  return Ctor === Array ? originalChunk.slice() : new Ctor(originalChunk);\n}\nfunction prepareStore(store, dimIdx, dimType, end, append) {\n  var DataCtor = dataCtors[dimType || 'float'];\n  if (append) {\n    var oldStore = store[dimIdx];\n    var oldLen = oldStore && oldStore.length;\n    if (!(oldLen === end)) {\n      var newStore = new DataCtor(end);\n      // The cost of the copy is probably inconsiderable\n      // within the initial chunkSize.\n      for (var j = 0; j < oldLen; j++) {\n        newStore[j] = oldStore[j];\n      }\n      store[dimIdx] = newStore;\n    }\n  } else {\n    store[dimIdx] = new DataCtor(end);\n  }\n}\n;\n/**\n * Basically, DataStore API keep immutable.\n */\nvar DataStore = /** @class */function () {\n  function DataStore() {\n    this._chunks = [];\n    // It will not be calculated until needed.\n    this._rawExtent = [];\n    this._extent = [];\n    this._count = 0;\n    this._rawCount = 0;\n    this._calcDimNameToIdx = createHashMap();\n  }\n  /**\n   * Initialize from data\n   */\n  DataStore.prototype.initData = function (provider, inputDimensions, dimValueGetter) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(isFunction(provider.getItem) && isFunction(provider.count), 'Invalid data provider.');\n    }\n    this._provider = provider;\n    // Clear\n    this._chunks = [];\n    this._indices = null;\n    this.getRawIndex = this._getRawIdxIdentity;\n    var source = provider.getSource();\n    var defaultGetter = this.defaultDimValueGetter = defaultDimValueGetters[source.sourceFormat];\n    // Default dim value getter\n    this._dimValueGetter = dimValueGetter || defaultGetter;\n    // Reset raw extent.\n    this._rawExtent = [];\n    var willRetrieveDataByName = shouldRetrieveDataByName(source);\n    this._dimensions = map(inputDimensions, function (dim) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (willRetrieveDataByName) {\n          assert(dim.property != null);\n        }\n      }\n      return {\n        // Only pick these two props. Not leak other properties like orderMeta.\n        type: dim.type,\n        property: dim.property\n      };\n    });\n    this._initDataFromProvider(0, provider.count());\n  };\n  DataStore.prototype.getProvider = function () {\n    return this._provider;\n  };\n  /**\n   * Caution: even when a `source` instance owned by a series, the created data store\n   * may still be shared by different sereis (the source hash does not use all `source`\n   * props, see `sourceManager`). In this case, the `source` props that are not used in\n   * hash (like `source.dimensionDefine`) probably only belongs to a certain series and\n   * thus should not be fetch here.\n   */\n  DataStore.prototype.getSource = function () {\n    return this._provider.getSource();\n  };\n  /**\n   * @caution Only used in dataStack.\n   */\n  DataStore.prototype.ensureCalculationDimension = function (dimName, type) {\n    var calcDimNameToIdx = this._calcDimNameToIdx;\n    var dimensions = this._dimensions;\n    var calcDimIdx = calcDimNameToIdx.get(dimName);\n    if (calcDimIdx != null) {\n      if (dimensions[calcDimIdx].type === type) {\n        return calcDimIdx;\n      }\n    } else {\n      calcDimIdx = dimensions.length;\n    }\n    dimensions[calcDimIdx] = {\n      type: type\n    };\n    calcDimNameToIdx.set(dimName, calcDimIdx);\n    this._chunks[calcDimIdx] = new dataCtors[type || 'float'](this._rawCount);\n    this._rawExtent[calcDimIdx] = getInitialExtent();\n    return calcDimIdx;\n  };\n  DataStore.prototype.collectOrdinalMeta = function (dimIdx, ordinalMeta) {\n    var chunk = this._chunks[dimIdx];\n    var dim = this._dimensions[dimIdx];\n    var rawExtents = this._rawExtent;\n    var offset = dim.ordinalOffset || 0;\n    var len = chunk.length;\n    if (offset === 0) {\n      // We need to reset the rawExtent if collect is from start.\n      // Because this dimension may be guessed as number and calcuating a wrong extent.\n      rawExtents[dimIdx] = getInitialExtent();\n    }\n    var dimRawExtent = rawExtents[dimIdx];\n    // Parse from previous data offset. len may be changed after appendData\n    for (var i = offset; i < len; i++) {\n      var val = chunk[i] = ordinalMeta.parseAndCollect(chunk[i]);\n      if (!isNaN(val)) {\n        dimRawExtent[0] = Math.min(val, dimRawExtent[0]);\n        dimRawExtent[1] = Math.max(val, dimRawExtent[1]);\n      }\n    }\n    dim.ordinalMeta = ordinalMeta;\n    dim.ordinalOffset = len;\n    dim.type = 'ordinal'; // Force to be ordinal\n  };\n  DataStore.prototype.getOrdinalMeta = function (dimIdx) {\n    var dimInfo = this._dimensions[dimIdx];\n    var ordinalMeta = dimInfo.ordinalMeta;\n    return ordinalMeta;\n  };\n  DataStore.prototype.getDimensionProperty = function (dimIndex) {\n    var item = this._dimensions[dimIndex];\n    return item && item.property;\n  };\n  /**\n   * Caution: Can be only called on raw data (before `this._indices` created).\n   */\n  DataStore.prototype.appendData = function (data) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(!this._indices, 'appendData can only be called on raw data.');\n    }\n    var provider = this._provider;\n    var start = this.count();\n    provider.appendData(data);\n    var end = provider.count();\n    if (!provider.persistent) {\n      end += start;\n    }\n    if (start < end) {\n      this._initDataFromProvider(start, end, true);\n    }\n    return [start, end];\n  };\n  DataStore.prototype.appendValues = function (values, minFillLen) {\n    var chunks = this._chunks;\n    var dimensions = this._dimensions;\n    var dimLen = dimensions.length;\n    var rawExtent = this._rawExtent;\n    var start = this.count();\n    var end = start + Math.max(values.length, minFillLen || 0);\n    for (var i = 0; i < dimLen; i++) {\n      var dim = dimensions[i];\n      prepareStore(chunks, i, dim.type, end, true);\n    }\n    var emptyDataItem = [];\n    for (var idx = start; idx < end; idx++) {\n      var sourceIdx = idx - start;\n      // Store the data by dimensions\n      for (var dimIdx = 0; dimIdx < dimLen; dimIdx++) {\n        var dim = dimensions[dimIdx];\n        var val = defaultDimValueGetters.arrayRows.call(this, values[sourceIdx] || emptyDataItem, dim.property, sourceIdx, dimIdx);\n        chunks[dimIdx][idx] = val;\n        var dimRawExtent = rawExtent[dimIdx];\n        val < dimRawExtent[0] && (dimRawExtent[0] = val);\n        val > dimRawExtent[1] && (dimRawExtent[1] = val);\n      }\n    }\n    this._rawCount = this._count = end;\n    return {\n      start: start,\n      end: end\n    };\n  };\n  DataStore.prototype._initDataFromProvider = function (start, end, append) {\n    var provider = this._provider;\n    var chunks = this._chunks;\n    var dimensions = this._dimensions;\n    var dimLen = dimensions.length;\n    var rawExtent = this._rawExtent;\n    var dimNames = map(dimensions, function (dim) {\n      return dim.property;\n    });\n    for (var i = 0; i < dimLen; i++) {\n      var dim = dimensions[i];\n      if (!rawExtent[i]) {\n        rawExtent[i] = getInitialExtent();\n      }\n      prepareStore(chunks, i, dim.type, end, append);\n    }\n    if (provider.fillStorage) {\n      provider.fillStorage(start, end, chunks, rawExtent);\n    } else {\n      var dataItem = [];\n      for (var idx = start; idx < end; idx++) {\n        // NOTICE: Try not to write things into dataItem\n        dataItem = provider.getItem(idx, dataItem);\n        // Each data item is value\n        // [1, 2]\n        // 2\n        // Bar chart, line chart which uses category axis\n        // only gives the 'y' value. 'x' value is the indices of category\n        // Use a tempValue to normalize the value to be a (x, y) value\n        // Store the data by dimensions\n        for (var dimIdx = 0; dimIdx < dimLen; dimIdx++) {\n          var dimStorage = chunks[dimIdx];\n          // PENDING NULL is empty or zero\n          var val = this._dimValueGetter(dataItem, dimNames[dimIdx], idx, dimIdx);\n          dimStorage[idx] = val;\n          var dimRawExtent = rawExtent[dimIdx];\n          val < dimRawExtent[0] && (dimRawExtent[0] = val);\n          val > dimRawExtent[1] && (dimRawExtent[1] = val);\n        }\n      }\n    }\n    if (!provider.persistent && provider.clean) {\n      // Clean unused data if data source is typed array.\n      provider.clean();\n    }\n    this._rawCount = this._count = end;\n    // Reset data extent\n    this._extent = [];\n  };\n  DataStore.prototype.count = function () {\n    return this._count;\n  };\n  /**\n   * Get value. Return NaN if idx is out of range.\n   */\n  DataStore.prototype.get = function (dim, idx) {\n    if (!(idx >= 0 && idx < this._count)) {\n      return NaN;\n    }\n    var dimStore = this._chunks[dim];\n    return dimStore ? dimStore[this.getRawIndex(idx)] : NaN;\n  };\n  DataStore.prototype.getValues = function (dimensions, idx) {\n    var values = [];\n    var dimArr = [];\n    if (idx == null) {\n      idx = dimensions;\n      // TODO get all from store?\n      dimensions = [];\n      // All dimensions\n      for (var i = 0; i < this._dimensions.length; i++) {\n        dimArr.push(i);\n      }\n    } else {\n      dimArr = dimensions;\n    }\n    for (var i = 0, len = dimArr.length; i < len; i++) {\n      values.push(this.get(dimArr[i], idx));\n    }\n    return values;\n  };\n  /**\n   * @param dim concrete dim\n   */\n  DataStore.prototype.getByRawIndex = function (dim, rawIdx) {\n    if (!(rawIdx >= 0 && rawIdx < this._rawCount)) {\n      return NaN;\n    }\n    var dimStore = this._chunks[dim];\n    return dimStore ? dimStore[rawIdx] : NaN;\n  };\n  /**\n   * Get sum of data in one dimension\n   */\n  DataStore.prototype.getSum = function (dim) {\n    var dimData = this._chunks[dim];\n    var sum = 0;\n    if (dimData) {\n      for (var i = 0, len = this.count(); i < len; i++) {\n        var value = this.get(dim, i);\n        if (!isNaN(value)) {\n          sum += value;\n        }\n      }\n    }\n    return sum;\n  };\n  /**\n   * Get median of data in one dimension\n   */\n  DataStore.prototype.getMedian = function (dim) {\n    var dimDataArray = [];\n    // map all data of one dimension\n    this.each([dim], function (val) {\n      if (!isNaN(val)) {\n        dimDataArray.push(val);\n      }\n    });\n    // TODO\n    // Use quick select?\n    var sortedDimDataArray = dimDataArray.sort(function (a, b) {\n      return a - b;\n    });\n    var len = this.count();\n    // calculate median\n    return len === 0 ? 0 : len % 2 === 1 ? sortedDimDataArray[(len - 1) / 2] : (sortedDimDataArray[len / 2] + sortedDimDataArray[len / 2 - 1]) / 2;\n  };\n  /**\n   * Retrieve the index with given raw data index.\n   */\n  DataStore.prototype.indexOfRawIndex = function (rawIndex) {\n    if (rawIndex >= this._rawCount || rawIndex < 0) {\n      return -1;\n    }\n    if (!this._indices) {\n      return rawIndex;\n    }\n    // Indices are ascending\n    var indices = this._indices;\n    // If rawIndex === dataIndex\n    var rawDataIndex = indices[rawIndex];\n    if (rawDataIndex != null && rawDataIndex < this._count && rawDataIndex === rawIndex) {\n      return rawIndex;\n    }\n    var left = 0;\n    var right = this._count - 1;\n    while (left <= right) {\n      var mid = (left + right) / 2 | 0;\n      if (indices[mid] < rawIndex) {\n        left = mid + 1;\n      } else if (indices[mid] > rawIndex) {\n        right = mid - 1;\n      } else {\n        return mid;\n      }\n    }\n    return -1;\n  };\n  DataStore.prototype.getIndices = function () {\n    var newIndices;\n    var indices = this._indices;\n    if (indices) {\n      var Ctor = indices.constructor;\n      var thisCount = this._count;\n      // `new Array(a, b, c)` is different from `new Uint32Array(a, b, c)`.\n      if (Ctor === Array) {\n        newIndices = new Ctor(thisCount);\n        for (var i = 0; i < thisCount; i++) {\n          newIndices[i] = indices[i];\n        }\n      } else {\n        newIndices = new Ctor(indices.buffer, 0, thisCount);\n      }\n    } else {\n      var Ctor = getIndicesCtor(this._rawCount);\n      newIndices = new Ctor(this.count());\n      for (var i = 0; i < newIndices.length; i++) {\n        newIndices[i] = i;\n      }\n    }\n    return newIndices;\n  };\n  /**\n   * Data filter.\n   */\n  DataStore.prototype.filter = function (dims, cb) {\n    if (!this._count) {\n      return this;\n    }\n    var newStore = this.clone();\n    var count = newStore.count();\n    var Ctor = getIndicesCtor(newStore._rawCount);\n    var newIndices = new Ctor(count);\n    var value = [];\n    var dimSize = dims.length;\n    var offset = 0;\n    var dim0 = dims[0];\n    var chunks = newStore._chunks;\n    for (var i = 0; i < count; i++) {\n      var keep = void 0;\n      var rawIdx = newStore.getRawIndex(i);\n      // Simple optimization\n      if (dimSize === 0) {\n        keep = cb(i);\n      } else if (dimSize === 1) {\n        var val = chunks[dim0][rawIdx];\n        keep = cb(val, i);\n      } else {\n        var k = 0;\n        for (; k < dimSize; k++) {\n          value[k] = chunks[dims[k]][rawIdx];\n        }\n        value[k] = i;\n        keep = cb.apply(null, value);\n      }\n      if (keep) {\n        newIndices[offset++] = rawIdx;\n      }\n    }\n    // Set indices after filtered.\n    if (offset < count) {\n      newStore._indices = newIndices;\n    }\n    newStore._count = offset;\n    // Reset data extent\n    newStore._extent = [];\n    newStore._updateGetRawIdx();\n    return newStore;\n  };\n  /**\n   * Select data in range. (For optimization of filter)\n   * (Manually inline code, support 5 million data filtering in data zoom.)\n   */\n  DataStore.prototype.selectRange = function (range) {\n    var newStore = this.clone();\n    var len = newStore._count;\n    if (!len) {\n      return this;\n    }\n    var dims = keys(range);\n    var dimSize = dims.length;\n    if (!dimSize) {\n      return this;\n    }\n    var originalCount = newStore.count();\n    var Ctor = getIndicesCtor(newStore._rawCount);\n    var newIndices = new Ctor(originalCount);\n    var offset = 0;\n    var dim0 = dims[0];\n    var min = range[dim0][0];\n    var max = range[dim0][1];\n    var storeArr = newStore._chunks;\n    var quickFinished = false;\n    if (!newStore._indices) {\n      // Extreme optimization for common case. About 2x faster in chrome.\n      var idx = 0;\n      if (dimSize === 1) {\n        var dimStorage = storeArr[dims[0]];\n        for (var i = 0; i < len; i++) {\n          var val = dimStorage[i];\n          // NaN will not be filtered. Consider the case, in line chart, empty\n          // value indicates the line should be broken. But for the case like\n          // scatter plot, a data item with empty value will not be rendered,\n          // but the axis extent may be effected if some other dim of the data\n          // item has value. Fortunately it is not a significant negative effect.\n          if (val >= min && val <= max || isNaN(val)) {\n            newIndices[offset++] = idx;\n          }\n          idx++;\n        }\n        quickFinished = true;\n      } else if (dimSize === 2) {\n        var dimStorage = storeArr[dims[0]];\n        var dimStorage2 = storeArr[dims[1]];\n        var min2 = range[dims[1]][0];\n        var max2 = range[dims[1]][1];\n        for (var i = 0; i < len; i++) {\n          var val = dimStorage[i];\n          var val2 = dimStorage2[i];\n          // Do not filter NaN, see comment above.\n          if ((val >= min && val <= max || isNaN(val)) && (val2 >= min2 && val2 <= max2 || isNaN(val2))) {\n            newIndices[offset++] = idx;\n          }\n          idx++;\n        }\n        quickFinished = true;\n      }\n    }\n    if (!quickFinished) {\n      if (dimSize === 1) {\n        for (var i = 0; i < originalCount; i++) {\n          var rawIndex = newStore.getRawIndex(i);\n          var val = storeArr[dims[0]][rawIndex];\n          // Do not filter NaN, see comment above.\n          if (val >= min && val <= max || isNaN(val)) {\n            newIndices[offset++] = rawIndex;\n          }\n        }\n      } else {\n        for (var i = 0; i < originalCount; i++) {\n          var keep = true;\n          var rawIndex = newStore.getRawIndex(i);\n          for (var k = 0; k < dimSize; k++) {\n            var dimk = dims[k];\n            var val = storeArr[dimk][rawIndex];\n            // Do not filter NaN, see comment above.\n            if (val < range[dimk][0] || val > range[dimk][1]) {\n              keep = false;\n            }\n          }\n          if (keep) {\n            newIndices[offset++] = newStore.getRawIndex(i);\n          }\n        }\n      }\n    }\n    // Set indices after filtered.\n    if (offset < originalCount) {\n      newStore._indices = newIndices;\n    }\n    newStore._count = offset;\n    // Reset data extent\n    newStore._extent = [];\n    newStore._updateGetRawIdx();\n    return newStore;\n  };\n  // /**\n  //  * Data mapping to a plain array\n  //  */\n  // mapArray(dims: DimensionIndex[], cb: MapArrayCb): any[] {\n  //     const result: any[] = [];\n  //     this.each(dims, function () {\n  //         result.push(cb && (cb as MapArrayCb).apply(null, arguments));\n  //     });\n  //     return result;\n  // }\n  /**\n   * Data mapping to a new List with given dimensions\n   */\n  DataStore.prototype.map = function (dims, cb) {\n    // TODO only clone picked chunks.\n    var target = this.clone(dims);\n    this._updateDims(target, dims, cb);\n    return target;\n  };\n  /**\n   * @caution Danger!! Only used in dataStack.\n   */\n  DataStore.prototype.modify = function (dims, cb) {\n    this._updateDims(this, dims, cb);\n  };\n  DataStore.prototype._updateDims = function (target, dims, cb) {\n    var targetChunks = target._chunks;\n    var tmpRetValue = [];\n    var dimSize = dims.length;\n    var dataCount = target.count();\n    var values = [];\n    var rawExtent = target._rawExtent;\n    for (var i = 0; i < dims.length; i++) {\n      rawExtent[dims[i]] = getInitialExtent();\n    }\n    for (var dataIndex = 0; dataIndex < dataCount; dataIndex++) {\n      var rawIndex = target.getRawIndex(dataIndex);\n      for (var k = 0; k < dimSize; k++) {\n        values[k] = targetChunks[dims[k]][rawIndex];\n      }\n      values[dimSize] = dataIndex;\n      var retValue = cb && cb.apply(null, values);\n      if (retValue != null) {\n        // a number or string (in oridinal dimension)?\n        if (typeof retValue !== 'object') {\n          tmpRetValue[0] = retValue;\n          retValue = tmpRetValue;\n        }\n        for (var i = 0; i < retValue.length; i++) {\n          var dim = dims[i];\n          var val = retValue[i];\n          var rawExtentOnDim = rawExtent[dim];\n          var dimStore = targetChunks[dim];\n          if (dimStore) {\n            dimStore[rawIndex] = val;\n          }\n          if (val < rawExtentOnDim[0]) {\n            rawExtentOnDim[0] = val;\n          }\n          if (val > rawExtentOnDim[1]) {\n            rawExtentOnDim[1] = val;\n          }\n        }\n      }\n    }\n  };\n  /**\n   * Large data down sampling using largest-triangle-three-buckets\n   * @param {string} valueDimension\n   * @param {number} targetCount\n   */\n  DataStore.prototype.lttbDownSample = function (valueDimension, rate) {\n    var target = this.clone([valueDimension], true);\n    var targetStorage = target._chunks;\n    var dimStore = targetStorage[valueDimension];\n    var len = this.count();\n    var sampledIndex = 0;\n    var frameSize = Math.floor(1 / rate);\n    var currentRawIndex = this.getRawIndex(0);\n    var maxArea;\n    var area;\n    var nextRawIndex;\n    var newIndices = new (getIndicesCtor(this._rawCount))(Math.min((Math.ceil(len / frameSize) + 2) * 2, len));\n    // First frame use the first data.\n    newIndices[sampledIndex++] = currentRawIndex;\n    for (var i = 1; i < len - 1; i += frameSize) {\n      var nextFrameStart = Math.min(i + frameSize, len - 1);\n      var nextFrameEnd = Math.min(i + frameSize * 2, len);\n      var avgX = (nextFrameEnd + nextFrameStart) / 2;\n      var avgY = 0;\n      for (var idx = nextFrameStart; idx < nextFrameEnd; idx++) {\n        var rawIndex = this.getRawIndex(idx);\n        var y = dimStore[rawIndex];\n        if (isNaN(y)) {\n          continue;\n        }\n        avgY += y;\n      }\n      avgY /= nextFrameEnd - nextFrameStart;\n      var frameStart = i;\n      var frameEnd = Math.min(i + frameSize, len);\n      var pointAX = i - 1;\n      var pointAY = dimStore[currentRawIndex];\n      maxArea = -1;\n      nextRawIndex = frameStart;\n      var firstNaNIndex = -1;\n      var countNaN = 0;\n      // Find a point from current frame that construct a triangle with largest area with previous selected point\n      // And the average of next frame.\n      for (var idx = frameStart; idx < frameEnd; idx++) {\n        var rawIndex = this.getRawIndex(idx);\n        var y = dimStore[rawIndex];\n        if (isNaN(y)) {\n          countNaN++;\n          if (firstNaNIndex < 0) {\n            firstNaNIndex = rawIndex;\n          }\n          continue;\n        }\n        // Calculate triangle area over three buckets\n        area = Math.abs((pointAX - avgX) * (y - pointAY) - (pointAX - idx) * (avgY - pointAY));\n        if (area > maxArea) {\n          maxArea = area;\n          nextRawIndex = rawIndex; // Next a is this b\n        }\n      }\n      if (countNaN > 0 && countNaN < frameEnd - frameStart) {\n        // Append first NaN point in every bucket.\n        // It is necessary to ensure the correct order of indices.\n        newIndices[sampledIndex++] = Math.min(firstNaNIndex, nextRawIndex);\n        nextRawIndex = Math.max(firstNaNIndex, nextRawIndex);\n      }\n      newIndices[sampledIndex++] = nextRawIndex;\n      currentRawIndex = nextRawIndex; // This a is the next a (chosen b)\n    }\n    // First frame use the last data.\n    newIndices[sampledIndex++] = this.getRawIndex(len - 1);\n    target._count = sampledIndex;\n    target._indices = newIndices;\n    target.getRawIndex = this._getRawIdx;\n    return target;\n  };\n  /**\n   * Large data down sampling using min-max\n   * @param {string} valueDimension\n   * @param {number} rate\n   */\n  DataStore.prototype.minmaxDownSample = function (valueDimension, rate) {\n    var target = this.clone([valueDimension], true);\n    var targetStorage = target._chunks;\n    var frameSize = Math.floor(1 / rate);\n    var dimStore = targetStorage[valueDimension];\n    var len = this.count();\n    // Each frame results in 2 data points, one for min and one for max\n    var newIndices = new (getIndicesCtor(this._rawCount))(Math.ceil(len / frameSize) * 2);\n    var offset = 0;\n    for (var i = 0; i < len; i += frameSize) {\n      var minIndex = i;\n      var minValue = dimStore[this.getRawIndex(minIndex)];\n      var maxIndex = i;\n      var maxValue = dimStore[this.getRawIndex(maxIndex)];\n      var thisFrameSize = frameSize;\n      // Handle final smaller frame\n      if (i + frameSize > len) {\n        thisFrameSize = len - i;\n      }\n      // Determine min and max within the current frame\n      for (var k = 0; k < thisFrameSize; k++) {\n        var rawIndex = this.getRawIndex(i + k);\n        var value = dimStore[rawIndex];\n        if (value < minValue) {\n          minValue = value;\n          minIndex = i + k;\n        }\n        if (value > maxValue) {\n          maxValue = value;\n          maxIndex = i + k;\n        }\n      }\n      var rawMinIndex = this.getRawIndex(minIndex);\n      var rawMaxIndex = this.getRawIndex(maxIndex);\n      // Set the order of the min and max values, based on their ordering in the frame\n      if (minIndex < maxIndex) {\n        newIndices[offset++] = rawMinIndex;\n        newIndices[offset++] = rawMaxIndex;\n      } else {\n        newIndices[offset++] = rawMaxIndex;\n        newIndices[offset++] = rawMinIndex;\n      }\n    }\n    target._count = offset;\n    target._indices = newIndices;\n    target._updateGetRawIdx();\n    return target;\n  };\n  /**\n   * Large data down sampling on given dimension\n   * @param sampleIndex Sample index for name and id\n   */\n  DataStore.prototype.downSample = function (dimension, rate, sampleValue, sampleIndex) {\n    var target = this.clone([dimension], true);\n    var targetStorage = target._chunks;\n    var frameValues = [];\n    var frameSize = Math.floor(1 / rate);\n    var dimStore = targetStorage[dimension];\n    var len = this.count();\n    var rawExtentOnDim = target._rawExtent[dimension] = getInitialExtent();\n    var newIndices = new (getIndicesCtor(this._rawCount))(Math.ceil(len / frameSize));\n    var offset = 0;\n    for (var i = 0; i < len; i += frameSize) {\n      // Last frame\n      if (frameSize > len - i) {\n        frameSize = len - i;\n        frameValues.length = frameSize;\n      }\n      for (var k = 0; k < frameSize; k++) {\n        var dataIdx = this.getRawIndex(i + k);\n        frameValues[k] = dimStore[dataIdx];\n      }\n      var value = sampleValue(frameValues);\n      var sampleFrameIdx = this.getRawIndex(Math.min(i + sampleIndex(frameValues, value) || 0, len - 1));\n      // Only write value on the filtered data\n      dimStore[sampleFrameIdx] = value;\n      if (value < rawExtentOnDim[0]) {\n        rawExtentOnDim[0] = value;\n      }\n      if (value > rawExtentOnDim[1]) {\n        rawExtentOnDim[1] = value;\n      }\n      newIndices[offset++] = sampleFrameIdx;\n    }\n    target._count = offset;\n    target._indices = newIndices;\n    target._updateGetRawIdx();\n    return target;\n  };\n  /**\n   * Data iteration\n   * @param ctx default this\n   * @example\n   *  list.each('x', function (x, idx) {});\n   *  list.each(['x', 'y'], function (x, y, idx) {});\n   *  list.each(function (idx) {})\n   */\n  DataStore.prototype.each = function (dims, cb) {\n    if (!this._count) {\n      return;\n    }\n    var dimSize = dims.length;\n    var chunks = this._chunks;\n    for (var i = 0, len = this.count(); i < len; i++) {\n      var rawIdx = this.getRawIndex(i);\n      // Simple optimization\n      switch (dimSize) {\n        case 0:\n          cb(i);\n          break;\n        case 1:\n          cb(chunks[dims[0]][rawIdx], i);\n          break;\n        case 2:\n          cb(chunks[dims[0]][rawIdx], chunks[dims[1]][rawIdx], i);\n          break;\n        default:\n          var k = 0;\n          var value = [];\n          for (; k < dimSize; k++) {\n            value[k] = chunks[dims[k]][rawIdx];\n          }\n          // Index\n          value[k] = i;\n          cb.apply(null, value);\n      }\n    }\n  };\n  /**\n   * Get extent of data in one dimension\n   */\n  DataStore.prototype.getDataExtent = function (dim) {\n    // Make sure use concrete dim as cache name.\n    var dimData = this._chunks[dim];\n    var initialExtent = getInitialExtent();\n    if (!dimData) {\n      return initialExtent;\n    }\n    // Make more strict checkings to ensure hitting cache.\n    var currEnd = this.count();\n    // Consider the most cases when using data zoom, `getDataExtent`\n    // happened before filtering. We cache raw extent, which is not\n    // necessary to be cleared and recalculated when restore data.\n    var useRaw = !this._indices;\n    var dimExtent;\n    if (useRaw) {\n      return this._rawExtent[dim].slice();\n    }\n    dimExtent = this._extent[dim];\n    if (dimExtent) {\n      return dimExtent.slice();\n    }\n    dimExtent = initialExtent;\n    var min = dimExtent[0];\n    var max = dimExtent[1];\n    for (var i = 0; i < currEnd; i++) {\n      var rawIdx = this.getRawIndex(i);\n      var value = dimData[rawIdx];\n      value < min && (min = value);\n      value > max && (max = value);\n    }\n    dimExtent = [min, max];\n    this._extent[dim] = dimExtent;\n    return dimExtent;\n  };\n  /**\n   * Get raw data item\n   */\n  DataStore.prototype.getRawDataItem = function (idx) {\n    var rawIdx = this.getRawIndex(idx);\n    if (!this._provider.persistent) {\n      var val = [];\n      var chunks = this._chunks;\n      for (var i = 0; i < chunks.length; i++) {\n        val.push(chunks[i][rawIdx]);\n      }\n      return val;\n    } else {\n      return this._provider.getItem(rawIdx);\n    }\n  };\n  /**\n   * Clone shallow.\n   *\n   * @param clonedDims Determine which dims to clone. Will share the data if not specified.\n   */\n  DataStore.prototype.clone = function (clonedDims, ignoreIndices) {\n    var target = new DataStore();\n    var chunks = this._chunks;\n    var clonedDimsMap = clonedDims && reduce(clonedDims, function (obj, dimIdx) {\n      obj[dimIdx] = true;\n      return obj;\n    }, {});\n    if (clonedDimsMap) {\n      for (var i = 0; i < chunks.length; i++) {\n        // Not clone if dim is not picked.\n        target._chunks[i] = !clonedDimsMap[i] ? chunks[i] : cloneChunk(chunks[i]);\n      }\n    } else {\n      target._chunks = chunks;\n    }\n    this._copyCommonProps(target);\n    if (!ignoreIndices) {\n      target._indices = this._cloneIndices();\n    }\n    target._updateGetRawIdx();\n    return target;\n  };\n  DataStore.prototype._copyCommonProps = function (target) {\n    target._count = this._count;\n    target._rawCount = this._rawCount;\n    target._provider = this._provider;\n    target._dimensions = this._dimensions;\n    target._extent = clone(this._extent);\n    target._rawExtent = clone(this._rawExtent);\n  };\n  DataStore.prototype._cloneIndices = function () {\n    if (this._indices) {\n      var Ctor = this._indices.constructor;\n      var indices = void 0;\n      if (Ctor === Array) {\n        var thisCount = this._indices.length;\n        indices = new Ctor(thisCount);\n        for (var i = 0; i < thisCount; i++) {\n          indices[i] = this._indices[i];\n        }\n      } else {\n        indices = new Ctor(this._indices);\n      }\n      return indices;\n    }\n    return null;\n  };\n  DataStore.prototype._getRawIdxIdentity = function (idx) {\n    return idx;\n  };\n  DataStore.prototype._getRawIdx = function (idx) {\n    if (idx < this._count && idx >= 0) {\n      return this._indices[idx];\n    }\n    return -1;\n  };\n  DataStore.prototype._updateGetRawIdx = function () {\n    this.getRawIndex = this._indices ? this._getRawIdx : this._getRawIdxIdentity;\n  };\n  DataStore.internalField = function () {\n    function getDimValueSimply(dataItem, property, dataIndex, dimIndex) {\n      return parseDataValue(dataItem[dimIndex], this._dimensions[dimIndex]);\n    }\n    defaultDimValueGetters = {\n      arrayRows: getDimValueSimply,\n      objectRows: function (dataItem, property, dataIndex, dimIndex) {\n        return parseDataValue(dataItem[property], this._dimensions[dimIndex]);\n      },\n      keyedColumns: getDimValueSimply,\n      original: function (dataItem, property, dataIndex, dimIndex) {\n        // Performance sensitive, do not use modelUtil.getDataItemValue.\n        // If dataItem is an plain object with no value field, the let `value`\n        // will be assigned with the object, but it will be tread correctly\n        // in the `convertValue`.\n        var value = dataItem && (dataItem.value == null ? dataItem : dataItem.value);\n        return parseDataValue(value instanceof Array ? value[dimIndex]\n        // If value is a single number or something else not array.\n        : value, this._dimensions[dimIndex]);\n      },\n      typedArray: function (dataItem, property, dataIndex, dimIndex) {\n        return dataItem[dimIndex];\n      }\n    };\n  }();\n  return DataStore;\n}();\nexport default DataStore;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { setAsPrimitive, map, isTypedArray, assert, each, retrieve2 } from 'zrender/lib/core/util.js';\nimport { createSource, cloneSourceShallow } from '../Source.js';\nimport { SOURCE_FORMAT_TYPED_ARRAY, SOURCE_FORMAT_ORIGINAL } from '../../util/types.js';\nimport { querySeriesUpstreamDatasetModel, queryDatasetUpstreamDatasetModels } from './sourceHelper.js';\nimport { applyDataTransform } from './transform.js';\nimport DataStore from '../DataStore.js';\nimport { DefaultDataProvider } from './dataProvider.js';\n/**\n * [REQUIREMENT_MEMO]:\n * (0) `metaRawOption` means `dimensions`/`sourceHeader`/`seriesLayoutBy` in raw option.\n * (1) Keep support the feature: `metaRawOption` can be specified both on `series` and\n * `root-dataset`. Them on `series` has higher priority.\n * (2) Do not support to set `metaRawOption` on a `non-root-dataset`, because it might\n * confuse users: whether those props indicate how to visit the upstream source or visit\n * the transform result source, and some transforms has nothing to do with these props,\n * and some transforms might have multiple upstream.\n * (3) Transforms should specify `metaRawOption` in each output, just like they can be\n * declared in `root-dataset`.\n * (4) At present only support visit source in `SERIES_LAYOUT_BY_COLUMN` in transforms.\n * That is for reducing complexity in transforms.\n * PENDING: Whether to provide transposition transform?\n *\n * [IMPLEMENTAION_MEMO]:\n * \"sourceVisitConfig\" are calculated from `metaRawOption` and `data`.\n * They will not be calculated until `source` is about to be visited (to prevent from\n * duplicate calcuation). `source` is visited only in series and input to transforms.\n *\n * [DIMENSION_INHERIT_RULE]:\n * By default the dimensions are inherited from ancestors, unless a transform return\n * a new dimensions definition.\n * Consider the case:\n * ```js\n * dataset: [{\n *     source: [ ['Product', 'Sales', 'Prise'], ['Cookies', 321, 44.21], ...]\n * }, {\n *     transform: { type: 'filter', ... }\n * }]\n * dataset: [{\n *     dimension: ['Product', 'Sales', 'Prise'],\n *     source: [ ['Cookies', 321, 44.21], ...]\n * }, {\n *     transform: { type: 'filter', ... }\n * }]\n * ```\n * The two types of option should have the same behavior after transform.\n *\n *\n * [SCENARIO]:\n * (1) Provide source data directly:\n * ```js\n * series: {\n *     encode: {...},\n *     dimensions: [...]\n *     seriesLayoutBy: 'row',\n *     data: [[...]]\n * }\n * ```\n * (2) Series refer to dataset.\n * ```js\n * series: [{\n *     encode: {...}\n *     // Ignore datasetIndex means `datasetIndex: 0`\n *     // and the dimensions defination in dataset is used\n * }, {\n *     encode: {...},\n *     seriesLayoutBy: 'column',\n *     datasetIndex: 1\n * }]\n * ```\n * (3) dataset transform\n * ```js\n * dataset: [{\n *     source: [...]\n * }, {\n *     source: [...]\n * }, {\n *     // By default from 0.\n *     transform: { type: 'filter', config: {...} }\n * }, {\n *     // Piped.\n *     transform: [\n *         { type: 'filter', config: {...} },\n *         { type: 'sort', config: {...} }\n *     ]\n * }, {\n *     id: 'regressionData',\n *     fromDatasetIndex: 1,\n *     // Third-party transform\n *     transform: { type: 'ecStat:regression', config: {...} }\n * }, {\n *     // retrieve the extra result.\n *     id: 'regressionFormula',\n *     fromDatasetId: 'regressionData',\n *     fromTransformResult: 1\n * }]\n * ```\n */\nvar SourceManager = /** @class */function () {\n  function SourceManager(sourceHost) {\n    // Cached source. Do not repeat calculating if not dirty.\n    this._sourceList = [];\n    this._storeList = [];\n    // version sign of each upstream source manager.\n    this._upstreamSignList = [];\n    this._versionSignBase = 0;\n    this._dirty = true;\n    this._sourceHost = sourceHost;\n  }\n  /**\n   * Mark dirty.\n   */\n  SourceManager.prototype.dirty = function () {\n    this._setLocalSource([], []);\n    this._storeList = [];\n    this._dirty = true;\n  };\n  SourceManager.prototype._setLocalSource = function (sourceList, upstreamSignList) {\n    this._sourceList = sourceList;\n    this._upstreamSignList = upstreamSignList;\n    this._versionSignBase++;\n    if (this._versionSignBase > 9e10) {\n      this._versionSignBase = 0;\n    }\n  };\n  /**\n   * For detecting whether the upstream source is dirty, so that\n   * the local cached source (in `_sourceList`) should be discarded.\n   */\n  SourceManager.prototype._getVersionSign = function () {\n    return this._sourceHost.uid + '_' + this._versionSignBase;\n  };\n  /**\n   * Always return a source instance. Otherwise throw error.\n   */\n  SourceManager.prototype.prepareSource = function () {\n    // For the case that call `setOption` multiple time but no data changed,\n    // cache the result source to prevent from repeating transform.\n    if (this._isDirty()) {\n      this._createSource();\n      this._dirty = false;\n    }\n  };\n  SourceManager.prototype._createSource = function () {\n    this._setLocalSource([], []);\n    var sourceHost = this._sourceHost;\n    var upSourceMgrList = this._getUpstreamSourceManagers();\n    var hasUpstream = !!upSourceMgrList.length;\n    var resultSourceList;\n    var upstreamSignList;\n    if (isSeries(sourceHost)) {\n      var seriesModel = sourceHost;\n      var data = void 0;\n      var sourceFormat = void 0;\n      var upSource = void 0;\n      // Has upstream dataset\n      if (hasUpstream) {\n        var upSourceMgr = upSourceMgrList[0];\n        upSourceMgr.prepareSource();\n        upSource = upSourceMgr.getSource();\n        data = upSource.data;\n        sourceFormat = upSource.sourceFormat;\n        upstreamSignList = [upSourceMgr._getVersionSign()];\n      }\n      // Series data is from own.\n      else {\n        data = seriesModel.get('data', true);\n        sourceFormat = isTypedArray(data) ? SOURCE_FORMAT_TYPED_ARRAY : SOURCE_FORMAT_ORIGINAL;\n        upstreamSignList = [];\n      }\n      // See [REQUIREMENT_MEMO], merge settings on series and parent dataset if it is root.\n      var newMetaRawOption = this._getSourceMetaRawOption() || {};\n      var upMetaRawOption = upSource && upSource.metaRawOption || {};\n      var seriesLayoutBy = retrieve2(newMetaRawOption.seriesLayoutBy, upMetaRawOption.seriesLayoutBy) || null;\n      var sourceHeader = retrieve2(newMetaRawOption.sourceHeader, upMetaRawOption.sourceHeader);\n      // Note here we should not use `upSource.dimensionsDefine`. Consider the case:\n      // `upSource.dimensionsDefine` is detected by `seriesLayoutBy: 'column'`,\n      // but series need `seriesLayoutBy: 'row'`.\n      var dimensions = retrieve2(newMetaRawOption.dimensions, upMetaRawOption.dimensions);\n      // We share source with dataset as much as possible\n      // to avoid extra memory cost of high dimensional data.\n      var needsCreateSource = seriesLayoutBy !== upMetaRawOption.seriesLayoutBy || !!sourceHeader !== !!upMetaRawOption.sourceHeader || dimensions;\n      resultSourceList = needsCreateSource ? [createSource(data, {\n        seriesLayoutBy: seriesLayoutBy,\n        sourceHeader: sourceHeader,\n        dimensions: dimensions\n      }, sourceFormat)] : [];\n    } else {\n      var datasetModel = sourceHost;\n      // Has upstream dataset.\n      if (hasUpstream) {\n        var result = this._applyTransform(upSourceMgrList);\n        resultSourceList = result.sourceList;\n        upstreamSignList = result.upstreamSignList;\n      }\n      // Is root dataset.\n      else {\n        var sourceData = datasetModel.get('source', true);\n        resultSourceList = [createSource(sourceData, this._getSourceMetaRawOption(), null)];\n        upstreamSignList = [];\n      }\n    }\n    if (process.env.NODE_ENV !== 'production') {\n      assert(resultSourceList && upstreamSignList);\n    }\n    this._setLocalSource(resultSourceList, upstreamSignList);\n  };\n  SourceManager.prototype._applyTransform = function (upMgrList) {\n    var datasetModel = this._sourceHost;\n    var transformOption = datasetModel.get('transform', true);\n    var fromTransformResult = datasetModel.get('fromTransformResult', true);\n    if (process.env.NODE_ENV !== 'production') {\n      assert(fromTransformResult != null || transformOption != null);\n    }\n    if (fromTransformResult != null) {\n      var errMsg = '';\n      if (upMgrList.length !== 1) {\n        if (process.env.NODE_ENV !== 'production') {\n          errMsg = 'When using `fromTransformResult`, there should be only one upstream dataset';\n        }\n        doThrow(errMsg);\n      }\n    }\n    var sourceList;\n    var upSourceList = [];\n    var upstreamSignList = [];\n    each(upMgrList, function (upMgr) {\n      upMgr.prepareSource();\n      var upSource = upMgr.getSource(fromTransformResult || 0);\n      var errMsg = '';\n      if (fromTransformResult != null && !upSource) {\n        if (process.env.NODE_ENV !== 'production') {\n          errMsg = 'Can not retrieve result by `fromTransformResult`: ' + fromTransformResult;\n        }\n        doThrow(errMsg);\n      }\n      upSourceList.push(upSource);\n      upstreamSignList.push(upMgr._getVersionSign());\n    });\n    if (transformOption) {\n      sourceList = applyDataTransform(transformOption, upSourceList, {\n        datasetIndex: datasetModel.componentIndex\n      });\n    } else if (fromTransformResult != null) {\n      sourceList = [cloneSourceShallow(upSourceList[0])];\n    }\n    return {\n      sourceList: sourceList,\n      upstreamSignList: upstreamSignList\n    };\n  };\n  SourceManager.prototype._isDirty = function () {\n    if (this._dirty) {\n      return true;\n    }\n    // All sourceList is from the some upstream.\n    var upSourceMgrList = this._getUpstreamSourceManagers();\n    for (var i = 0; i < upSourceMgrList.length; i++) {\n      var upSrcMgr = upSourceMgrList[i];\n      if (\n      // Consider the case that there is ancestor diry, call it recursively.\n      // The performance is probably not an issue because usually the chain is not long.\n      upSrcMgr._isDirty() || this._upstreamSignList[i] !== upSrcMgr._getVersionSign()) {\n        return true;\n      }\n    }\n  };\n  /**\n   * @param sourceIndex By default 0, means \"main source\".\n   *                    In most cases there is only one source.\n   */\n  SourceManager.prototype.getSource = function (sourceIndex) {\n    sourceIndex = sourceIndex || 0;\n    var source = this._sourceList[sourceIndex];\n    if (!source) {\n      // Series may share source instance with dataset.\n      var upSourceMgrList = this._getUpstreamSourceManagers();\n      return upSourceMgrList[0] && upSourceMgrList[0].getSource(sourceIndex);\n    }\n    return source;\n  };\n  /**\n   *\n   * Get a data store which can be shared across series.\n   * Only available for series.\n   *\n   * @param seriesDimRequest Dimensions that are generated in series.\n   *        Should have been sorted by `storeDimIndex` asc.\n   */\n  SourceManager.prototype.getSharedDataStore = function (seriesDimRequest) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(isSeries(this._sourceHost), 'Can only call getDataStore on series source manager.');\n    }\n    var schema = seriesDimRequest.makeStoreSchema();\n    return this._innerGetDataStore(schema.dimensions, seriesDimRequest.source, schema.hash);\n  };\n  SourceManager.prototype._innerGetDataStore = function (storeDims, seriesSource, sourceReadKey) {\n    // TODO Can use other sourceIndex?\n    var sourceIndex = 0;\n    var storeList = this._storeList;\n    var cachedStoreMap = storeList[sourceIndex];\n    if (!cachedStoreMap) {\n      cachedStoreMap = storeList[sourceIndex] = {};\n    }\n    var cachedStore = cachedStoreMap[sourceReadKey];\n    if (!cachedStore) {\n      var upSourceMgr = this._getUpstreamSourceManagers()[0];\n      if (isSeries(this._sourceHost) && upSourceMgr) {\n        cachedStore = upSourceMgr._innerGetDataStore(storeDims, seriesSource, sourceReadKey);\n      } else {\n        cachedStore = new DataStore();\n        // Always create store from source of series.\n        cachedStore.initData(new DefaultDataProvider(seriesSource, storeDims.length), storeDims);\n      }\n      cachedStoreMap[sourceReadKey] = cachedStore;\n    }\n    return cachedStore;\n  };\n  /**\n   * PENDING: Is it fast enough?\n   * If no upstream, return empty array.\n   */\n  SourceManager.prototype._getUpstreamSourceManagers = function () {\n    // Always get the relationship from the raw option.\n    // Do not cache the link of the dependency graph, so that\n    // there is no need to update them when change happens.\n    var sourceHost = this._sourceHost;\n    if (isSeries(sourceHost)) {\n      var datasetModel = querySeriesUpstreamDatasetModel(sourceHost);\n      return !datasetModel ? [] : [datasetModel.getSourceManager()];\n    } else {\n      return map(queryDatasetUpstreamDatasetModels(sourceHost), function (datasetModel) {\n        return datasetModel.getSourceManager();\n      });\n    }\n  };\n  SourceManager.prototype._getSourceMetaRawOption = function () {\n    var sourceHost = this._sourceHost;\n    var seriesLayoutBy;\n    var sourceHeader;\n    var dimensions;\n    if (isSeries(sourceHost)) {\n      seriesLayoutBy = sourceHost.get('seriesLayoutBy', true);\n      sourceHeader = sourceHost.get('sourceHeader', true);\n      dimensions = sourceHost.get('dimensions', true);\n    }\n    // See [REQUIREMENT_MEMO], `non-root-dataset` do not support them.\n    else if (!this._getUpstreamSourceManagers().length) {\n      var model = sourceHost;\n      seriesLayoutBy = model.get('seriesLayoutBy', true);\n      sourceHeader = model.get('sourceHeader', true);\n      dimensions = model.get('dimensions', true);\n    }\n    return {\n      seriesLayoutBy: seriesLayoutBy,\n      sourceHeader: sourceHeader,\n      dimensions: dimensions\n    };\n  };\n  return SourceManager;\n}();\nexport { SourceManager };\n// Call this method after `super.init` and `super.mergeOption` to\n// disable the transform merge, but do not disable transform clone from rawOption.\nexport function disableTransformOptionMerge(datasetModel) {\n  var transformOption = datasetModel.option.transform;\n  transformOption && setAsPrimitive(datasetModel.option.transform);\n}\nfunction isSeries(sourceHost) {\n  // Avoid circular dependency with Series.ts\n  return sourceHost.mainType === 'series';\n}\nfunction doThrow(errMsg) {\n  throw new Error(errMsg);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { getTooltipMarker, encodeHTML, makeValueReadable, convertToColorString } from '../../util/format.js';\nimport { isString, each, hasOwn, isArray, map, assert, extend } from 'zrender/lib/core/util.js';\nimport { SortOrderComparator } from '../../data/helper/dataValueHelper.js';\nimport { getRandomIdBase } from '../../util/number.js';\nimport tokens from '../../visual/tokens.js';\nvar TOOLTIP_LINE_HEIGHT_CSS = 'line-height:1';\nfunction getTooltipLineHeight(textStyle) {\n  var lineHeight = textStyle.lineHeight;\n  if (lineHeight == null) {\n    return TOOLTIP_LINE_HEIGHT_CSS;\n  } else {\n    return \"line-height:\" + encodeHTML(lineHeight + '') + \"px\";\n  }\n}\n// TODO: more textStyle option\nfunction getTooltipTextStyle(textStyle, renderMode) {\n  var nameFontColor = textStyle.color || tokens.color.tertiary;\n  var nameFontSize = textStyle.fontSize || 12;\n  var nameFontWeight = textStyle.fontWeight || '400';\n  var valueFontColor = textStyle.color || tokens.color.secondary;\n  var valueFontSize = textStyle.fontSize || 14;\n  var valueFontWeight = textStyle.fontWeight || '900';\n  if (renderMode === 'html') {\n    // `textStyle` is probably from user input, should be encoded to reduce security risk.\n    return {\n      // eslint-disable-next-line max-len\n      nameStyle: \"font-size:\" + encodeHTML(nameFontSize + '') + \"px;color:\" + encodeHTML(nameFontColor) + \";font-weight:\" + encodeHTML(nameFontWeight + ''),\n      // eslint-disable-next-line max-len\n      valueStyle: \"font-size:\" + encodeHTML(valueFontSize + '') + \"px;color:\" + encodeHTML(valueFontColor) + \";font-weight:\" + encodeHTML(valueFontWeight + '')\n    };\n  } else {\n    return {\n      nameStyle: {\n        fontSize: nameFontSize,\n        fill: nameFontColor,\n        fontWeight: nameFontWeight\n      },\n      valueStyle: {\n        fontSize: valueFontSize,\n        fill: valueFontColor,\n        fontWeight: valueFontWeight\n      }\n    };\n  }\n}\n// See `TooltipMarkupLayoutIntent['innerGapLevel']`.\n// (value from UI design)\nvar HTML_GAPS = [0, 10, 20, 30];\nvar RICH_TEXT_GAPS = ['', '\\n', '\\n\\n', '\\n\\n\\n'];\n// eslint-disable-next-line max-len\nexport function createTooltipMarkup(type, option) {\n  option.type = type;\n  return option;\n}\nfunction isSectionFragment(frag) {\n  return frag.type === 'section';\n}\nfunction getBuilder(frag) {\n  return isSectionFragment(frag) ? buildSection : buildNameValue;\n}\nfunction getBlockGapLevel(frag) {\n  if (isSectionFragment(frag)) {\n    var gapLevel_1 = 0;\n    var subBlockLen = frag.blocks.length;\n    var hasInnerGap_1 = subBlockLen > 1 || subBlockLen > 0 && !frag.noHeader;\n    each(frag.blocks, function (subBlock) {\n      var subGapLevel = getBlockGapLevel(subBlock);\n      // If the some of the sub-blocks have some gaps (like 10px) inside, this block\n      // should use a larger gap (like 20px) to distinguish those sub-blocks.\n      if (subGapLevel >= gapLevel_1) {\n        gapLevel_1 = subGapLevel + +(hasInnerGap_1 && (\n        // 0 always can not be readable gap level.\n        !subGapLevel\n        // If no header, always keep the sub gap level. Otherwise\n        // look weird in case `multipleSeries`.\n        || isSectionFragment(subBlock) && !subBlock.noHeader));\n      }\n    });\n    return gapLevel_1;\n  }\n  return 0;\n}\nfunction buildSection(ctx, fragment, topMarginForOuterGap, toolTipTextStyle) {\n  var noHeader = fragment.noHeader;\n  var gaps = getGap(getBlockGapLevel(fragment));\n  var subMarkupTextList = [];\n  var subBlocks = fragment.blocks || [];\n  assert(!subBlocks || isArray(subBlocks));\n  subBlocks = subBlocks || [];\n  var orderMode = ctx.orderMode;\n  if (fragment.sortBlocks && orderMode) {\n    subBlocks = subBlocks.slice();\n    var orderMap = {\n      valueAsc: 'asc',\n      valueDesc: 'desc'\n    };\n    if (hasOwn(orderMap, orderMode)) {\n      var comparator_1 = new SortOrderComparator(orderMap[orderMode], null);\n      subBlocks.sort(function (a, b) {\n        return comparator_1.evaluate(a.sortParam, b.sortParam);\n      });\n    }\n    // FIXME 'seriesDesc' necessary?\n    else if (orderMode === 'seriesDesc') {\n      subBlocks.reverse();\n    }\n  }\n  each(subBlocks, function (subBlock, idx) {\n    var valueFormatter = fragment.valueFormatter;\n    var subMarkupText = getBuilder(subBlock)(\n    // Inherit valueFormatter\n    valueFormatter ? extend(extend({}, ctx), {\n      valueFormatter: valueFormatter\n    }) : ctx, subBlock, idx > 0 ? gaps.html : 0, toolTipTextStyle);\n    subMarkupText != null && subMarkupTextList.push(subMarkupText);\n  });\n  var subMarkupText = ctx.renderMode === 'richText' ? subMarkupTextList.join(gaps.richText) : wrapBlockHTML(toolTipTextStyle, subMarkupTextList.join(''), noHeader ? topMarginForOuterGap : gaps.html);\n  if (noHeader) {\n    return subMarkupText;\n  }\n  var displayableHeader = makeValueReadable(fragment.header, 'ordinal', ctx.useUTC);\n  var nameStyle = getTooltipTextStyle(toolTipTextStyle, ctx.renderMode).nameStyle;\n  var tooltipLineHeight = getTooltipLineHeight(toolTipTextStyle);\n  if (ctx.renderMode === 'richText') {\n    return wrapInlineNameRichText(ctx, displayableHeader, nameStyle) + gaps.richText + subMarkupText;\n  } else {\n    return wrapBlockHTML(toolTipTextStyle, \"<div style=\\\"\" + nameStyle + \";\" + tooltipLineHeight + \";\\\">\" + encodeHTML(displayableHeader) + '</div>' + subMarkupText, topMarginForOuterGap);\n  }\n}\nfunction buildNameValue(ctx, fragment, topMarginForOuterGap, toolTipTextStyle) {\n  var renderMode = ctx.renderMode;\n  var noName = fragment.noName;\n  var noValue = fragment.noValue;\n  var noMarker = !fragment.markerType;\n  var name = fragment.name;\n  var useUTC = ctx.useUTC;\n  var valueFormatter = fragment.valueFormatter || ctx.valueFormatter || function (value) {\n    value = isArray(value) ? value : [value];\n    return map(value, function (val, idx) {\n      return makeValueReadable(val, isArray(valueTypeOption) ? valueTypeOption[idx] : valueTypeOption, useUTC);\n    });\n  };\n  if (noName && noValue) {\n    return;\n  }\n  var markerStr = noMarker ? '' : ctx.markupStyleCreator.makeTooltipMarker(fragment.markerType, fragment.markerColor || tokens.color.secondary, renderMode);\n  var readableName = noName ? '' : makeValueReadable(name, 'ordinal', useUTC);\n  var valueTypeOption = fragment.valueType;\n  var readableValueList = noValue ? [] : valueFormatter(fragment.value, fragment.dataIndex);\n  var valueAlignRight = !noMarker || !noName;\n  // It little weird if only value next to marker but far from marker.\n  var valueCloseToMarker = !noMarker && noName;\n  var _a = getTooltipTextStyle(toolTipTextStyle, renderMode),\n    nameStyle = _a.nameStyle,\n    valueStyle = _a.valueStyle;\n  return renderMode === 'richText' ? (noMarker ? '' : markerStr) + (noName ? '' : wrapInlineNameRichText(ctx, readableName, nameStyle))\n  // Value has commas inside, so use ' ' as delimiter for multiple values.\n  + (noValue ? '' : wrapInlineValueRichText(ctx, readableValueList, valueAlignRight, valueCloseToMarker, valueStyle)) : wrapBlockHTML(toolTipTextStyle, (noMarker ? '' : markerStr) + (noName ? '' : wrapInlineNameHTML(readableName, !noMarker, nameStyle)) + (noValue ? '' : wrapInlineValueHTML(readableValueList, valueAlignRight, valueCloseToMarker, valueStyle)), topMarginForOuterGap);\n}\n/**\n * @return markupText. null/undefined means no content.\n */\nexport function buildTooltipMarkup(fragment, markupStyleCreator, renderMode, orderMode, useUTC, toolTipTextStyle) {\n  if (!fragment) {\n    return;\n  }\n  var builder = getBuilder(fragment);\n  var ctx = {\n    useUTC: useUTC,\n    renderMode: renderMode,\n    orderMode: orderMode,\n    markupStyleCreator: markupStyleCreator,\n    valueFormatter: fragment.valueFormatter\n  };\n  return builder(ctx, fragment, 0, toolTipTextStyle);\n}\nfunction getGap(gapLevel) {\n  return {\n    html: HTML_GAPS[gapLevel],\n    richText: RICH_TEXT_GAPS[gapLevel]\n  };\n}\nfunction wrapBlockHTML(textStyle, encodedContent, topGap) {\n  var clearfix = '<div style=\"clear:both\"></div>';\n  var marginCSS = \"margin: \" + topGap + \"px 0 0\";\n  var tooltipLineHeight = getTooltipLineHeight(textStyle);\n  return \"<div style=\\\"\" + marginCSS + \";\" + tooltipLineHeight + \";\\\">\" + encodedContent + clearfix + '</div>';\n}\nfunction wrapInlineNameHTML(name, leftHasMarker, style) {\n  var marginCss = leftHasMarker ? 'margin-left:2px' : '';\n  return \"<span style=\\\"\" + style + \";\" + marginCss + \"\\\">\" + encodeHTML(name) + '</span>';\n}\nfunction wrapInlineValueHTML(valueList, alignRight, valueCloseToMarker, style) {\n  // Do not too close to marker, considering there are multiple values separated by spaces.\n  var paddingStr = valueCloseToMarker ? '10px' : '20px';\n  var alignCSS = alignRight ? \"float:right;margin-left:\" + paddingStr : '';\n  valueList = isArray(valueList) ? valueList : [valueList];\n  return \"<span style=\\\"\" + alignCSS + \";\" + style + \"\\\">\"\n  // Value has commas inside, so use '  ' as delimiter for multiple values.\n  + map(valueList, function (value) {\n    return encodeHTML(value);\n  }).join('&nbsp;&nbsp;') + '</span>';\n}\nfunction wrapInlineNameRichText(ctx, name, style) {\n  return ctx.markupStyleCreator.wrapRichTextStyle(name, style);\n}\nfunction wrapInlineValueRichText(ctx, values, alignRight, valueCloseToMarker, style) {\n  var styles = [style];\n  var paddingLeft = valueCloseToMarker ? 10 : 20;\n  alignRight && styles.push({\n    padding: [0, 0, 0, paddingLeft],\n    align: 'right'\n  });\n  // Value has commas inside, so use '  ' as delimiter for multiple values.\n  return ctx.markupStyleCreator.wrapRichTextStyle(isArray(values) ? values.join('  ') : values, styles);\n}\nexport function retrieveVisualColorForTooltipMarker(series, dataIndex) {\n  var style = series.getData().getItemVisual(dataIndex, 'style');\n  var color = style[series.visualDrawType];\n  return convertToColorString(color);\n}\nexport function getPaddingFromTooltipModel(model, renderMode) {\n  var padding = model.get('padding');\n  return padding != null ? padding\n  // We give slightly different to look pretty.\n  : renderMode === 'richText' ? [8, 10] : 10;\n}\n/**\n * The major feature is generate styles for `renderMode: 'richText'`.\n * But it also serves `renderMode: 'html'` to provide\n * \"renderMode-independent\" API.\n */\nvar TooltipMarkupStyleCreator = /** @class */function () {\n  function TooltipMarkupStyleCreator() {\n    this.richTextStyles = {};\n    // Notice that \"generate a style name\" usually happens repeatedly when mouse is moving and\n    // a tooltip is displayed. So we put the `_nextStyleNameId` as a member of each creator\n    // rather than static shared by all creators (which will cause it increase to fast).\n    this._nextStyleNameId = getRandomIdBase();\n  }\n  TooltipMarkupStyleCreator.prototype._generateStyleName = function () {\n    return '__EC_aUTo_' + this._nextStyleNameId++;\n  };\n  TooltipMarkupStyleCreator.prototype.makeTooltipMarker = function (markerType, colorStr, renderMode) {\n    var markerId = renderMode === 'richText' ? this._generateStyleName() : null;\n    var marker = getTooltipMarker({\n      color: colorStr,\n      type: markerType,\n      renderMode: renderMode,\n      markerId: markerId\n    });\n    if (isString(marker)) {\n      return marker;\n    } else {\n      if (process.env.NODE_ENV !== 'production') {\n        assert(markerId);\n      }\n      this.richTextStyles[markerId] = marker.style;\n      return marker.content;\n    }\n  };\n  /**\n   * @usage\n   * ```ts\n   * const styledText = markupStyleCreator.wrapRichTextStyle([\n   *     // The styles will be auto merged.\n   *     {\n   *         fontSize: 12,\n   *         color: 'blue'\n   *     },\n   *     {\n   *         padding: 20\n   *     }\n   * ]);\n   * ```\n   */\n  TooltipMarkupStyleCreator.prototype.wrapRichTextStyle = function (text, styles) {\n    var finalStl = {};\n    if (isArray(styles)) {\n      each(styles, function (stl) {\n        return extend(finalStl, stl);\n      });\n    } else {\n      extend(finalStl, styles);\n    }\n    var styleName = this._generateStyleName();\n    this.richTextStyles[styleName] = finalStl;\n    return \"{\" + styleName + \"|\" + text + \"}\";\n  };\n  return TooltipMarkupStyleCreator;\n}();\nexport { TooltipMarkupStyleCreator };","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { trim, isArray, each, reduce } from 'zrender/lib/core/util.js';\nimport { retrieveVisualColorForTooltipMarker, createTooltipMarkup } from './tooltipMarkup.js';\nimport { retrieveRawValue } from '../../data/helper/dataProvider.js';\nimport { isNameSpecified } from '../../util/model.js';\nexport function defaultSeriesFormatTooltip(opt) {\n  var series = opt.series;\n  var dataIndex = opt.dataIndex;\n  var multipleSeries = opt.multipleSeries;\n  var data = series.getData();\n  var tooltipDims = data.mapDimensionsAll('defaultedTooltip');\n  var tooltipDimLen = tooltipDims.length;\n  var value = series.getRawValue(dataIndex);\n  var isValueArr = isArray(value);\n  var markerColor = retrieveVisualColorForTooltipMarker(series, dataIndex);\n  // Complicated rule for pretty tooltip.\n  var inlineValue;\n  var inlineValueType;\n  var subBlocks;\n  var sortParam;\n  if (tooltipDimLen > 1 || isValueArr && !tooltipDimLen) {\n    var formatArrResult = formatTooltipArrayValue(value, series, dataIndex, tooltipDims, markerColor);\n    inlineValue = formatArrResult.inlineValues;\n    inlineValueType = formatArrResult.inlineValueTypes;\n    subBlocks = formatArrResult.blocks;\n    // Only support tooltip sort by the first inline value. It's enough in most cases.\n    sortParam = formatArrResult.inlineValues[0];\n  } else if (tooltipDimLen) {\n    var dimInfo = data.getDimensionInfo(tooltipDims[0]);\n    sortParam = inlineValue = retrieveRawValue(data, dataIndex, tooltipDims[0]);\n    inlineValueType = dimInfo.type;\n  } else {\n    sortParam = inlineValue = isValueArr ? value[0] : value;\n  }\n  // Do not show generated series name. It might not be readable.\n  var seriesNameSpecified = isNameSpecified(series);\n  var seriesName = seriesNameSpecified && series.name || '';\n  var itemName = data.getName(dataIndex);\n  var inlineName = multipleSeries ? seriesName : itemName;\n  return createTooltipMarkup('section', {\n    header: seriesName,\n    // When series name is not specified, do not show a header line with only '-'.\n    // This case always happens in tooltip.trigger: 'item'.\n    noHeader: multipleSeries || !seriesNameSpecified,\n    sortParam: sortParam,\n    blocks: [createTooltipMarkup('nameValue', {\n      markerType: 'item',\n      markerColor: markerColor,\n      // Do not mix display seriesName and itemName in one tooltip,\n      // which might confuses users.\n      name: inlineName,\n      // name dimension might be auto assigned, where the name might\n      // be not readable. So we check trim here.\n      noName: !trim(inlineName),\n      value: inlineValue,\n      valueType: inlineValueType,\n      dataIndex: dataIndex\n    })].concat(subBlocks || [])\n  });\n}\nfunction formatTooltipArrayValue(value, series, dataIndex, tooltipDims, colorStr) {\n  // check: category-no-encode-has-axis-data in dataset.html\n  var data = series.getData();\n  var isValueMultipleLine = reduce(value, function (isValueMultipleLine, val, idx) {\n    var dimItem = data.getDimensionInfo(idx);\n    return isValueMultipleLine = isValueMultipleLine || dimItem && dimItem.tooltip !== false && dimItem.displayName != null;\n  }, false);\n  var inlineValues = [];\n  var inlineValueTypes = [];\n  var blocks = [];\n  tooltipDims.length ? each(tooltipDims, function (dim) {\n    setEachItem(retrieveRawValue(data, dataIndex, dim), dim);\n  })\n  // By default, all dims is used on tooltip.\n  : each(value, setEachItem);\n  function setEachItem(val, dim) {\n    var dimInfo = data.getDimensionInfo(dim);\n    // If `dimInfo.tooltip` is not set, show tooltip.\n    if (!dimInfo || dimInfo.otherDims.tooltip === false) {\n      return;\n    }\n    if (isValueMultipleLine) {\n      blocks.push(createTooltipMarkup('nameValue', {\n        markerType: 'subItem',\n        markerColor: colorStr,\n        name: dimInfo.displayName,\n        value: val,\n        valueType: dimInfo.type\n      }));\n    } else {\n      inlineValues.push(val);\n      inlineValueTypes.push(dimInfo.type);\n    }\n  }\n  return {\n    inlineValues: inlineValues,\n    inlineValueTypes: inlineValueTypes,\n    blocks: blocks\n  };\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport env from 'zrender/lib/core/env.js';\nimport * as modelUtil from '../util/model.js';\nimport ComponentModel from './Component.js';\nimport { PaletteMixin } from './mixin/palette.js';\nimport { DataFormatMixin } from '../model/mixin/dataFormat.js';\nimport { getLayoutParams, mergeLayoutParam, fetchLayoutMode } from '../util/layout.js';\nimport { createTask } from '../core/task.js';\nimport { mountExtend } from '../util/clazz.js';\nimport { SourceManager } from '../data/helper/sourceManager.js';\nimport { defaultSeriesFormatTooltip } from '../component/tooltip/seriesFormatTooltip.js';\nvar inner = modelUtil.makeInner();\nfunction getSelectionKey(data, dataIndex) {\n  return data.getName(dataIndex) || data.getId(dataIndex);\n}\nexport var SERIES_UNIVERSAL_TRANSITION_PROP = '__universalTransitionEnabled';\nvar SeriesModel = /** @class */function (_super) {\n  __extends(SeriesModel, _super);\n  function SeriesModel() {\n    // [Caution]: Because this class or desecendants can be used as `XXX.extend(subProto)`,\n    // the class members must not be initialized in constructor or declaration place.\n    // Otherwise there is bad case:\n    //   class A {xxx = 1;}\n    //   enableClassExtend(A);\n    //   class B extends A {}\n    //   var C = B.extend({xxx: 5});\n    //   var c = new C();\n    //   console.log(c.xxx); // expect 5 but always 1.\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    // ---------------------------------------\n    // Props about data selection\n    // ---------------------------------------\n    _this._selectedDataIndicesMap = {};\n    return _this;\n  }\n  SeriesModel.prototype.init = function (option, parentModel, ecModel) {\n    this.seriesIndex = this.componentIndex;\n    this.dataTask = createTask({\n      count: dataTaskCount,\n      reset: dataTaskReset\n    });\n    this.dataTask.context = {\n      model: this\n    };\n    this.mergeDefaultAndTheme(option, ecModel);\n    var sourceManager = inner(this).sourceManager = new SourceManager(this);\n    sourceManager.prepareSource();\n    var data = this.getInitialData(option, ecModel);\n    wrapData(data, this);\n    this.dataTask.context.data = data;\n    if (process.env.NODE_ENV !== 'production') {\n      zrUtil.assert(data, 'getInitialData returned invalid data.');\n    }\n    inner(this).dataBeforeProcessed = data;\n    // If we reverse the order (make data firstly, and then make\n    // dataBeforeProcessed by cloneShallow), cloneShallow will\n    // cause data.graph.data !== data when using\n    // module:echarts/data/Graph or module:echarts/data/Tree.\n    // See module:echarts/data/helper/linkSeriesData\n    // Theoretically, it is unreasonable to call `seriesModel.getData()` in the model\n    // init or merge stage, because the data can be restored. So we do not `restoreData`\n    // and `setData` here, which forbids calling `seriesModel.getData()` in this stage.\n    // Call `seriesModel.getRawData()` instead.\n    // this.restoreData();\n    autoSeriesName(this);\n    this._initSelectedMapFromData(data);\n  };\n  /**\n   * Util for merge default and theme to option\n   */\n  SeriesModel.prototype.mergeDefaultAndTheme = function (option, ecModel) {\n    var layoutMode = fetchLayoutMode(this);\n    var inputPositionParams = layoutMode ? getLayoutParams(option) : {};\n    // Backward compat: using subType on theme.\n    // But if name duplicate between series subType\n    // (for example: parallel) add component mainType,\n    // add suffix 'Series'.\n    var themeSubType = this.subType;\n    if (ComponentModel.hasClass(themeSubType)) {\n      themeSubType += 'Series';\n    }\n    zrUtil.merge(option, ecModel.getTheme().get(this.subType));\n    zrUtil.merge(option, this.getDefaultOption());\n    // Default label emphasis `show`\n    modelUtil.defaultEmphasis(option, 'label', ['show']);\n    this.fillDataTextStyle(option.data);\n    if (layoutMode) {\n      mergeLayoutParam(option, inputPositionParams, layoutMode);\n    }\n  };\n  SeriesModel.prototype.mergeOption = function (newSeriesOption, ecModel) {\n    // this.settingTask.dirty();\n    newSeriesOption = zrUtil.merge(this.option, newSeriesOption, true);\n    this.fillDataTextStyle(newSeriesOption.data);\n    var layoutMode = fetchLayoutMode(this);\n    if (layoutMode) {\n      mergeLayoutParam(this.option, newSeriesOption, layoutMode);\n    }\n    var sourceManager = inner(this).sourceManager;\n    sourceManager.dirty();\n    sourceManager.prepareSource();\n    var data = this.getInitialData(newSeriesOption, ecModel);\n    wrapData(data, this);\n    this.dataTask.dirty();\n    this.dataTask.context.data = data;\n    inner(this).dataBeforeProcessed = data;\n    autoSeriesName(this);\n    this._initSelectedMapFromData(data);\n  };\n  SeriesModel.prototype.fillDataTextStyle = function (data) {\n    // Default data label emphasis `show`\n    // FIXME Tree structure data ?\n    // FIXME Performance ?\n    if (data && !zrUtil.isTypedArray(data)) {\n      var props = ['show'];\n      for (var i = 0; i < data.length; i++) {\n        if (data[i] && data[i].label) {\n          modelUtil.defaultEmphasis(data[i], 'label', props);\n        }\n      }\n    }\n  };\n  /**\n   * Init a data structure from data related option in series\n   * Must be overridden.\n   */\n  SeriesModel.prototype.getInitialData = function (option, ecModel) {\n    return;\n  };\n  /**\n   * Append data to list\n   */\n  SeriesModel.prototype.appendData = function (params) {\n    // FIXME ???\n    // (1) If data from dataset, forbidden append.\n    // (2) support append data of dataset.\n    var data = this.getRawData();\n    data.appendData(params.data);\n  };\n  /**\n   * Consider some method like `filter`, `map` need make new data,\n   * We should make sure that `seriesModel.getData()` get correct\n   * data in the stream procedure. So we fetch data from upstream\n   * each time `task.perform` called.\n   */\n  SeriesModel.prototype.getData = function (dataType) {\n    var task = getCurrentTask(this);\n    if (task) {\n      var data = task.context.data;\n      return dataType == null || !data.getLinkedData ? data : data.getLinkedData(dataType);\n    } else {\n      // When series is not alive (that may happen when click toolbox\n      // restore or setOption with not merge mode), series data may\n      // be still need to judge animation or something when graphic\n      // elements want to know whether fade out.\n      return inner(this).data;\n    }\n  };\n  SeriesModel.prototype.getAllData = function () {\n    var mainData = this.getData();\n    return mainData && mainData.getLinkedDataAll ? mainData.getLinkedDataAll() : [{\n      data: mainData\n    }];\n  };\n  SeriesModel.prototype.setData = function (data) {\n    var task = getCurrentTask(this);\n    if (task) {\n      var context = task.context;\n      // Consider case: filter, data sample.\n      // FIXME:TS never used, so comment it\n      // if (context.data !== data && task.modifyOutputEnd) {\n      //     task.setOutputEnd(data.count());\n      // }\n      context.outputData = data;\n      // Caution: setData should update context.data,\n      // Because getData may be called multiply in a\n      // single stage and expect to get the data just\n      // set. (For example, AxisProxy, x y both call\n      // getData and setDate sequentially).\n      // So the context.data should be fetched from\n      // upstream each time when a stage starts to be\n      // performed.\n      if (task !== this.dataTask) {\n        context.data = data;\n      }\n    }\n    inner(this).data = data;\n  };\n  SeriesModel.prototype.getEncode = function () {\n    var encode = this.get('encode', true);\n    if (encode) {\n      return zrUtil.createHashMap(encode);\n    }\n  };\n  SeriesModel.prototype.getSourceManager = function () {\n    return inner(this).sourceManager;\n  };\n  SeriesModel.prototype.getSource = function () {\n    return this.getSourceManager().getSource();\n  };\n  /**\n   * Get data before processed\n   */\n  SeriesModel.prototype.getRawData = function () {\n    return inner(this).dataBeforeProcessed;\n  };\n  SeriesModel.prototype.getColorBy = function () {\n    var colorBy = this.get('colorBy');\n    return colorBy || 'series';\n  };\n  SeriesModel.prototype.isColorBySeries = function () {\n    return this.getColorBy() === 'series';\n  };\n  /**\n   * Get base axis if has coordinate system and has axis.\n   * By default use coordSys.getBaseAxis();\n   * Can be overridden for some chart.\n   * @return {type} description\n   */\n  SeriesModel.prototype.getBaseAxis = function () {\n    var coordSys = this.coordinateSystem;\n    // @ts-ignore\n    return coordSys && coordSys.getBaseAxis && coordSys.getBaseAxis();\n  };\n  /**\n   * Retrieve the index of nearest value in the view coordinate.\n   * Data position is compared with each axis's dataToCoord.\n   *\n   * @param axisDim axis dimension\n   * @param dim data dimension\n   * @param value\n   * @param [maxDistance=Infinity] The maximum distance in view coordinate space\n   * @return If and only if multiple indices has\n   *         the same value, they are put to the result.\n   */\n  SeriesModel.prototype.indicesOfNearest = function (axisDim, dim, value, maxDistance) {\n    var data = this.getData();\n    var coordSys = this.coordinateSystem;\n    var axis = coordSys && coordSys.getAxis(axisDim);\n    if (!coordSys || !axis) {\n      return [];\n    }\n    var targetCoord = axis.dataToCoord(value);\n    if (maxDistance == null) {\n      maxDistance = Infinity;\n    }\n    var nearestIndices = [];\n    var minDist = Infinity;\n    var minDiff = -1;\n    var nearestIndicesLen = 0;\n    data.each(dim, function (dimValue, idx) {\n      var dataCoord = axis.dataToCoord(dimValue);\n      var diff = targetCoord - dataCoord;\n      var dist = Math.abs(diff);\n      if (dist <= maxDistance) {\n        // When the `value` is at the middle of `this.get(dim, i)` and `this.get(dim, i+1)`,\n        // we'd better not push both of them to `nearestIndices`, otherwise it is easy to\n        // get more than one item in `nearestIndices` (more specifically, in `tooltip`).\n        // So we choose the one that `diff >= 0` in this case.\n        // But if `this.get(dim, i)` and `this.get(dim, j)` get the same value, both of them\n        // should be push to `nearestIndices`.\n        if (dist < minDist || dist === minDist && diff >= 0 && minDiff < 0) {\n          minDist = dist;\n          minDiff = diff;\n          nearestIndicesLen = 0;\n        }\n        if (diff === minDiff) {\n          nearestIndices[nearestIndicesLen++] = idx;\n        }\n      }\n    });\n    nearestIndices.length = nearestIndicesLen;\n    return nearestIndices;\n  };\n  /**\n   * Default tooltip formatter\n   *\n   * @param dataIndex\n   * @param multipleSeries\n   * @param dataType\n   * @param renderMode valid values: 'html'(by default) and 'richText'.\n   *        'html' is used for rendering tooltip in extra DOM form, and the result\n   *        string is used as DOM HTML content.\n   *        'richText' is used for rendering tooltip in rich text form, for those where\n   *        DOM operation is not supported.\n   * @return formatted tooltip with `html` and `markers`\n   *        Notice: The override method can also return string\n   */\n  SeriesModel.prototype.formatTooltip = function (dataIndex, multipleSeries, dataType) {\n    return defaultSeriesFormatTooltip({\n      series: this,\n      dataIndex: dataIndex,\n      multipleSeries: multipleSeries\n    });\n  };\n  SeriesModel.prototype.isAnimationEnabled = function () {\n    var ecModel = this.ecModel;\n    // Disable animation if using echarts in node but not give ssr flag.\n    // In ssr mode, renderToString will generate svg with css animation.\n    if (env.node && !(ecModel && ecModel.ssr)) {\n      return false;\n    }\n    var animationEnabled = this.getShallow('animation');\n    if (animationEnabled) {\n      if (this.getData().count() > this.getShallow('animationThreshold')) {\n        animationEnabled = false;\n      }\n    }\n    return !!animationEnabled;\n  };\n  SeriesModel.prototype.restoreData = function () {\n    this.dataTask.dirty();\n  };\n  SeriesModel.prototype.getColorFromPalette = function (name, scope, requestColorNum) {\n    var ecModel = this.ecModel;\n    // PENDING\n    var color = PaletteMixin.prototype.getColorFromPalette.call(this, name, scope, requestColorNum);\n    if (!color) {\n      color = ecModel.getColorFromPalette(name, scope, requestColorNum);\n    }\n    return color;\n  };\n  /**\n   * Use `data.mapDimensionsAll(coordDim)` instead.\n   * @deprecated\n   */\n  SeriesModel.prototype.coordDimToDataDim = function (coordDim) {\n    return this.getRawData().mapDimensionsAll(coordDim);\n  };\n  /**\n   * Get progressive rendering count each step\n   */\n  SeriesModel.prototype.getProgressive = function () {\n    return this.get('progressive');\n  };\n  /**\n   * Get progressive rendering count each step\n   */\n  SeriesModel.prototype.getProgressiveThreshold = function () {\n    return this.get('progressiveThreshold');\n  };\n  // PENGING If selectedMode is null ?\n  SeriesModel.prototype.select = function (innerDataIndices, dataType) {\n    this._innerSelect(this.getData(dataType), innerDataIndices);\n  };\n  SeriesModel.prototype.unselect = function (innerDataIndices, dataType) {\n    var selectedMap = this.option.selectedMap;\n    if (!selectedMap) {\n      return;\n    }\n    var selectedMode = this.option.selectedMode;\n    var data = this.getData(dataType);\n    if (selectedMode === 'series' || selectedMap === 'all') {\n      this.option.selectedMap = {};\n      this._selectedDataIndicesMap = {};\n      return;\n    }\n    for (var i = 0; i < innerDataIndices.length; i++) {\n      var dataIndex = innerDataIndices[i];\n      var nameOrId = getSelectionKey(data, dataIndex);\n      selectedMap[nameOrId] = false;\n      this._selectedDataIndicesMap[nameOrId] = -1;\n    }\n  };\n  SeriesModel.prototype.toggleSelect = function (innerDataIndices, dataType) {\n    var tmpArr = [];\n    for (var i = 0; i < innerDataIndices.length; i++) {\n      tmpArr[0] = innerDataIndices[i];\n      this.isSelected(innerDataIndices[i], dataType) ? this.unselect(tmpArr, dataType) : this.select(tmpArr, dataType);\n    }\n  };\n  SeriesModel.prototype.getSelectedDataIndices = function () {\n    if (this.option.selectedMap === 'all') {\n      return [].slice.call(this.getData().getIndices());\n    }\n    var selectedDataIndicesMap = this._selectedDataIndicesMap;\n    var nameOrIds = zrUtil.keys(selectedDataIndicesMap);\n    var dataIndices = [];\n    for (var i = 0; i < nameOrIds.length; i++) {\n      var dataIndex = selectedDataIndicesMap[nameOrIds[i]];\n      if (dataIndex >= 0) {\n        dataIndices.push(dataIndex);\n      }\n    }\n    return dataIndices;\n  };\n  SeriesModel.prototype.isSelected = function (dataIndex, dataType) {\n    var selectedMap = this.option.selectedMap;\n    if (!selectedMap) {\n      return false;\n    }\n    var data = this.getData(dataType);\n    return (selectedMap === 'all' || selectedMap[getSelectionKey(data, dataIndex)]) && !data.getItemModel(dataIndex).get(['select', 'disabled']);\n  };\n  SeriesModel.prototype.isUniversalTransitionEnabled = function () {\n    if (this[SERIES_UNIVERSAL_TRANSITION_PROP]) {\n      return true;\n    }\n    var universalTransitionOpt = this.option.universalTransition;\n    // Quick reject\n    if (!universalTransitionOpt) {\n      return false;\n    }\n    if (universalTransitionOpt === true) {\n      return true;\n    }\n    // Can be simply 'universalTransition: true'\n    return universalTransitionOpt && universalTransitionOpt.enabled;\n  };\n  SeriesModel.prototype._innerSelect = function (data, innerDataIndices) {\n    var _a, _b;\n    var option = this.option;\n    var selectedMode = option.selectedMode;\n    var len = innerDataIndices.length;\n    if (!selectedMode || !len) {\n      return;\n    }\n    if (selectedMode === 'series') {\n      option.selectedMap = 'all';\n    } else if (selectedMode === 'multiple') {\n      if (!zrUtil.isObject(option.selectedMap)) {\n        option.selectedMap = {};\n      }\n      var selectedMap = option.selectedMap;\n      for (var i = 0; i < len; i++) {\n        var dataIndex = innerDataIndices[i];\n        // TODO different types of data share same object.\n        var nameOrId = getSelectionKey(data, dataIndex);\n        selectedMap[nameOrId] = true;\n        this._selectedDataIndicesMap[nameOrId] = data.getRawIndex(dataIndex);\n      }\n    } else if (selectedMode === 'single' || selectedMode === true) {\n      var lastDataIndex = innerDataIndices[len - 1];\n      var nameOrId = getSelectionKey(data, lastDataIndex);\n      option.selectedMap = (_a = {}, _a[nameOrId] = true, _a);\n      this._selectedDataIndicesMap = (_b = {}, _b[nameOrId] = data.getRawIndex(lastDataIndex), _b);\n    }\n  };\n  SeriesModel.prototype._initSelectedMapFromData = function (data) {\n    // Ignore select info in data if selectedMap exists.\n    // NOTE It's only for legacy usage. edge data is not supported.\n    if (this.option.selectedMap) {\n      return;\n    }\n    var dataIndices = [];\n    if (data.hasItemOption) {\n      data.each(function (idx) {\n        var rawItem = data.getRawDataItem(idx);\n        if (rawItem && rawItem.selected) {\n          dataIndices.push(idx);\n        }\n      });\n    }\n    if (dataIndices.length > 0) {\n      this._innerSelect(data, dataIndices);\n    }\n  };\n  // /**\n  //  * @see {module:echarts/stream/Scheduler}\n  //  */\n  // abstract pipeTask: null\n  SeriesModel.registerClass = function (clz) {\n    return ComponentModel.registerClass(clz);\n  };\n  SeriesModel.protoInitialize = function () {\n    var proto = SeriesModel.prototype;\n    proto.type = 'series.__base__';\n    proto.seriesIndex = 0;\n    proto.ignoreStyleOnData = false;\n    proto.hasSymbolVisual = false;\n    proto.defaultSymbol = 'circle';\n    // Make sure the values can be accessed!\n    proto.visualStyleAccessPath = 'itemStyle';\n    proto.visualDrawType = 'fill';\n  }();\n  return SeriesModel;\n}(ComponentModel);\nzrUtil.mixin(SeriesModel, DataFormatMixin);\nzrUtil.mixin(SeriesModel, PaletteMixin);\nmountExtend(SeriesModel, ComponentModel);\n/**\n * MUST be called after `prepareSource` called\n * Here we need to make auto series, especially for auto legend. But we\n * do not modify series.name in option to avoid side effects.\n */\nfunction autoSeriesName(seriesModel) {\n  // User specified name has higher priority, otherwise it may cause\n  // series can not be queried unexpectedly.\n  var name = seriesModel.name;\n  if (!modelUtil.isNameSpecified(seriesModel)) {\n    seriesModel.name = getSeriesAutoName(seriesModel) || name;\n  }\n}\nfunction getSeriesAutoName(seriesModel) {\n  var data = seriesModel.getRawData();\n  var dataDims = data.mapDimensionsAll('seriesName');\n  var nameArr = [];\n  zrUtil.each(dataDims, function (dataDim) {\n    var dimInfo = data.getDimensionInfo(dataDim);\n    dimInfo.displayName && nameArr.push(dimInfo.displayName);\n  });\n  return nameArr.join(' ');\n}\nfunction dataTaskCount(context) {\n  return context.model.getRawData().count();\n}\nfunction dataTaskReset(context) {\n  var seriesModel = context.model;\n  seriesModel.setData(seriesModel.getRawData().cloneShallow());\n  return dataTaskProgress;\n}\nfunction dataTaskProgress(param, context) {\n  // Avoid repeat cloneShallow when data just created in reset.\n  if (context.outputData && param.end > context.outputData.count()) {\n    context.model.getRawData().cloneShallow(context.outputData);\n  }\n}\n// TODO refactor\nfunction wrapData(data, seriesModel) {\n  zrUtil.each(zrUtil.concatArray(data.CHANGABLE_METHODS, data.DOWNSAMPLE_METHODS), function (methodName) {\n    data.wrapMethod(methodName, zrUtil.curry(onDataChange, seriesModel));\n  });\n}\nfunction onDataChange(seriesModel, newList) {\n  var task = getCurrentTask(seriesModel);\n  if (task) {\n    // Consider case: filter, selectRange\n    task.setOutputEnd((newList || this).count());\n  }\n  return newList;\n}\nfunction getCurrentTask(seriesModel) {\n  var scheduler = (seriesModel.ecModel || {}).scheduler;\n  var pipeline = scheduler && scheduler.getPipeline(seriesModel.uid);\n  if (pipeline) {\n    // When pipline finished, the currrentTask keep the last\n    // task (renderTask).\n    var task = pipeline.currentTask;\n    if (task) {\n      var agentStubMap = task.agentStubMap;\n      if (agentStubMap) {\n        task = agentStubMap.get(seriesModel.uid);\n      }\n    }\n    return task;\n  }\n}\nexport default SeriesModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport Group from 'zrender/lib/graphic/Group.js';\nimport * as componentUtil from '../util/component.js';\nimport * as clazzUtil from '../util/clazz.js';\nvar ComponentView = /** @class */function () {\n  function ComponentView() {\n    this.group = new Group();\n    this.uid = componentUtil.getUID('viewComponent');\n  }\n  ComponentView.prototype.init = function (ecModel, api) {};\n  ComponentView.prototype.render = function (model, ecModel, api, payload) {};\n  ComponentView.prototype.dispose = function (ecModel, api) {};\n  ComponentView.prototype.updateView = function (model, ecModel, api, payload) {\n    // Do nothing;\n  };\n  ComponentView.prototype.updateLayout = function (model, ecModel, api, payload) {\n    // Do nothing;\n  };\n  ComponentView.prototype.updateVisual = function (model, ecModel, api, payload) {\n    // Do nothing;\n  };\n  /**\n   * Hook for toggle blur target series.\n   * Can be used in marker for blur or leave blur the markers\n   */\n  ComponentView.prototype.toggleBlurSeries = function (seriesModels, isBlur, ecModel) {\n    // Do nothing;\n  };\n  /**\n   * Traverse the new rendered elements.\n   *\n   * It will traverse the new added element in progressive rendering.\n   * And traverse all in normal rendering.\n   */\n  ComponentView.prototype.eachRendered = function (cb) {\n    var group = this.group;\n    if (group) {\n      group.traverse(cb);\n    }\n  };\n  return ComponentView;\n}();\n;\nclazzUtil.enableClassExtend(ComponentView);\nclazzUtil.enableClassManagement(ComponentView);\nexport default ComponentView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { makeInner } from '../../util/model.js';\n/**\n * @return {string} If large mode changed, return string 'reset';\n */\nexport default function createRenderPlanner() {\n  var inner = makeInner();\n  return function (seriesModel) {\n    var fields = inner(seriesModel);\n    var pipelineContext = seriesModel.pipelineContext;\n    var originalLarge = !!fields.large;\n    var originalProgressive = !!fields.progressiveRender;\n    // FIXME: if the planner works on a filtered series, `pipelineContext` does not\n    // exists. See #11611 . Probably we need to modify this structure, see the comment\n    // on `performRawSeries` in `Schedular.js`.\n    var large = fields.large = !!(pipelineContext && pipelineContext.large);\n    var progressive = fields.progressiveRender = !!(pipelineContext && pipelineContext.progressiveRender);\n    return !!(originalLarge !== large || originalProgressive !== progressive) && 'reset';\n  };\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { each } from 'zrender/lib/core/util.js';\nimport Group from 'zrender/lib/graphic/Group.js';\nimport * as componentUtil from '../util/component.js';\nimport * as clazzUtil from '../util/clazz.js';\nimport * as modelUtil from '../util/model.js';\nimport { enterEmphasis, leaveEmphasis, getHighlightDigit, isHighDownDispatcher } from '../util/states.js';\nimport { createTask } from '../core/task.js';\nimport createRenderPlanner from '../chart/helper/createRenderPlanner.js';\nimport { traverseElements } from '../util/graphic.js';\nimport { error } from '../util/log.js';\nvar inner = modelUtil.makeInner();\nvar renderPlanner = createRenderPlanner();\nvar ChartView = /** @class */function () {\n  function ChartView() {\n    this.group = new Group();\n    this.uid = componentUtil.getUID('viewChart');\n    this.renderTask = createTask({\n      plan: renderTaskPlan,\n      reset: renderTaskReset\n    });\n    this.renderTask.context = {\n      view: this\n    };\n  }\n  ChartView.prototype.init = function (ecModel, api) {};\n  ChartView.prototype.render = function (seriesModel, ecModel, api, payload) {\n    if (process.env.NODE_ENV !== 'production') {\n      throw new Error('render method must been implemented');\n    }\n  };\n  /**\n   * Highlight series or specified data item.\n   */\n  ChartView.prototype.highlight = function (seriesModel, ecModel, api, payload) {\n    var data = seriesModel.getData(payload && payload.dataType);\n    if (!data) {\n      if (process.env.NODE_ENV !== 'production') {\n        error(\"Unknown dataType \" + payload.dataType);\n      }\n      return;\n    }\n    toggleHighlight(data, payload, 'emphasis');\n  };\n  /**\n   * Downplay series or specified data item.\n   */\n  ChartView.prototype.downplay = function (seriesModel, ecModel, api, payload) {\n    var data = seriesModel.getData(payload && payload.dataType);\n    if (!data) {\n      if (process.env.NODE_ENV !== 'production') {\n        error(\"Unknown dataType \" + payload.dataType);\n      }\n      return;\n    }\n    toggleHighlight(data, payload, 'normal');\n  };\n  /**\n   * Remove self.\n   */\n  ChartView.prototype.remove = function (ecModel, api) {\n    this.group.removeAll();\n  };\n  /**\n   * Dispose self.\n   */\n  ChartView.prototype.dispose = function (ecModel, api) {};\n  ChartView.prototype.updateView = function (seriesModel, ecModel, api, payload) {\n    this.render(seriesModel, ecModel, api, payload);\n  };\n  // FIXME never used?\n  ChartView.prototype.updateLayout = function (seriesModel, ecModel, api, payload) {\n    this.render(seriesModel, ecModel, api, payload);\n  };\n  // FIXME never used?\n  ChartView.prototype.updateVisual = function (seriesModel, ecModel, api, payload) {\n    this.render(seriesModel, ecModel, api, payload);\n  };\n  /**\n   * Traverse the new rendered elements.\n   *\n   * It will traverse the new added element in progressive rendering.\n   * And traverse all in normal rendering.\n   */\n  ChartView.prototype.eachRendered = function (cb) {\n    traverseElements(this.group, cb);\n  };\n  ChartView.markUpdateMethod = function (payload, methodName) {\n    inner(payload).updateMethod = methodName;\n  };\n  ChartView.protoInitialize = function () {\n    var proto = ChartView.prototype;\n    proto.type = 'chart';\n  }();\n  return ChartView;\n}();\n;\n/**\n * Set state of single element\n */\nfunction elSetState(el, state, highlightDigit) {\n  if (el && isHighDownDispatcher(el)) {\n    (state === 'emphasis' ? enterEmphasis : leaveEmphasis)(el, highlightDigit);\n  }\n}\nfunction toggleHighlight(data, payload, state) {\n  var dataIndex = modelUtil.queryDataIndex(data, payload);\n  var highlightDigit = payload && payload.highlightKey != null ? getHighlightDigit(payload.highlightKey) : null;\n  if (dataIndex != null) {\n    each(modelUtil.normalizeToArray(dataIndex), function (dataIdx) {\n      elSetState(data.getItemGraphicEl(dataIdx), state, highlightDigit);\n    });\n  } else {\n    data.eachItemGraphicEl(function (el) {\n      elSetState(el, state, highlightDigit);\n    });\n  }\n}\nclazzUtil.enableClassExtend(ChartView, ['dispose']);\nclazzUtil.enableClassManagement(ChartView);\nfunction renderTaskPlan(context) {\n  return renderPlanner(context.model);\n}\nfunction renderTaskReset(context) {\n  var seriesModel = context.model;\n  var ecModel = context.ecModel;\n  var api = context.api;\n  var payload = context.payload;\n  // FIXME: remove updateView updateVisual\n  var progressiveRender = seriesModel.pipelineContext.progressiveRender;\n  var view = context.view;\n  var updateMethod = payload && inner(payload).updateMethod;\n  var methodName = progressiveRender ? 'incrementalPrepareRender' : updateMethod && view[updateMethod] ? updateMethod\n  // `appendData` is also supported when data amount\n  // is less than progressive threshold.\n  : 'render';\n  if (methodName !== 'render') {\n    view[methodName](seriesModel, ecModel, api, payload);\n  }\n  return progressMethodMap[methodName];\n}\nvar progressMethodMap = {\n  incrementalPrepareRender: {\n    progress: function (params, context) {\n      context.view.incrementalRender(params, context.model, context.ecModel, context.api, context.payload);\n    }\n  },\n  render: {\n    // Put view.render in `progress` to support appendData. But in this case\n    // view.render should not be called in reset, otherwise it will be called\n    // twise. Use `forceFirstProgress` to make sure that view.render is called\n    // in any cases.\n    forceFirstProgress: true,\n    progress: function (params, context) {\n      context.view.render(context.model, context.ecModel, context.api, context.payload);\n    }\n  }\n};\nexport default ChartView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar ORIGIN_METHOD = '\\0__throttleOriginMethod';\nvar RATE = '\\0__throttleRate';\nvar THROTTLE_TYPE = '\\0__throttleType';\n;\n/**\n * @public\n * @param {(Function)} fn\n * @param {number} [delay=0] Unit: ms.\n * @param {boolean} [debounce=false]\n *        true: If call interval less than `delay`, only the last call works.\n *        false: If call interval less than `delay, call works on fixed rate.\n * @return {(Function)} throttled fn.\n */\nexport function throttle(fn, delay, debounce) {\n  var currCall;\n  var lastCall = 0;\n  var lastExec = 0;\n  var timer = null;\n  var diff;\n  var scope;\n  var args;\n  var debounceNextCall;\n  delay = delay || 0;\n  function exec() {\n    lastExec = new Date().getTime();\n    timer = null;\n    fn.apply(scope, args || []);\n  }\n  var cb = function () {\n    var cbArgs = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n      cbArgs[_i] = arguments[_i];\n    }\n    currCall = new Date().getTime();\n    scope = this;\n    args = cbArgs;\n    var thisDelay = debounceNextCall || delay;\n    var thisDebounce = debounceNextCall || debounce;\n    debounceNextCall = null;\n    diff = currCall - (thisDebounce ? lastCall : lastExec) - thisDelay;\n    clearTimeout(timer);\n    // Here we should make sure that: the `exec` SHOULD NOT be called later\n    // than a new call of `cb`, that is, preserving the command order. Consider\n    // calculating \"scale rate\" when roaming as an example. When a call of `cb`\n    // happens, either the `exec` is called dierectly, or the call is delayed.\n    // But the delayed call should never be later than next call of `cb`. Under\n    // this assurance, we can simply update view state each time `dispatchAction`\n    // triggered by user roaming, but not need to add extra code to avoid the\n    // state being \"rolled-back\".\n    if (thisDebounce) {\n      timer = setTimeout(exec, thisDelay);\n    } else {\n      if (diff >= 0) {\n        exec();\n      } else {\n        timer = setTimeout(exec, -diff);\n      }\n    }\n    lastCall = currCall;\n  };\n  /**\n   * Clear throttle.\n   * @public\n   */\n  cb.clear = function () {\n    if (timer) {\n      clearTimeout(timer);\n      timer = null;\n    }\n  };\n  /**\n   * Enable debounce once.\n   */\n  cb.debounceNextCall = function (debounceDelay) {\n    debounceNextCall = debounceDelay;\n  };\n  return cb;\n}\n/**\n * Create throttle method or update throttle rate.\n *\n * @example\n * ComponentView.prototype.render = function () {\n *     ...\n *     throttle.createOrUpdate(\n *         this,\n *         '_dispatchAction',\n *         this.model.get('throttle'),\n *         'fixRate'\n *     );\n * };\n * ComponentView.prototype.remove = function () {\n *     throttle.clear(this, '_dispatchAction');\n * };\n * ComponentView.prototype.dispose = function () {\n *     throttle.clear(this, '_dispatchAction');\n * };\n *\n */\nexport function createOrUpdate(obj, fnAttr, rate, throttleType) {\n  var fn = obj[fnAttr];\n  if (!fn) {\n    return;\n  }\n  var originFn = fn[ORIGIN_METHOD] || fn;\n  var lastThrottleType = fn[THROTTLE_TYPE];\n  var lastRate = fn[RATE];\n  if (lastRate !== rate || lastThrottleType !== throttleType) {\n    if (rate == null || !throttleType) {\n      return obj[fnAttr] = originFn;\n    }\n    fn = obj[fnAttr] = throttle(originFn, rate, throttleType === 'debounce');\n    fn[ORIGIN_METHOD] = originFn;\n    fn[THROTTLE_TYPE] = throttleType;\n    fn[RATE] = rate;\n  }\n  return fn;\n}\n/**\n * Clear throttle. Example see throttle.createOrUpdate.\n */\nexport function clear(obj, fnAttr) {\n  var fn = obj[fnAttr];\n  if (fn && fn[ORIGIN_METHOD]) {\n    // Clear throttle\n    fn.clear && fn.clear();\n    obj[fnAttr] = fn[ORIGIN_METHOD];\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { isFunction, extend, createHashMap } from 'zrender/lib/core/util.js';\nimport makeStyleMapper from '../model/mixin/makeStyleMapper.js';\nimport { ITEM_STYLE_KEY_MAP } from '../model/mixin/itemStyle.js';\nimport { LINE_STYLE_KEY_MAP } from '../model/mixin/lineStyle.js';\nimport Model from '../model/Model.js';\nimport { makeInner } from '../util/model.js';\nvar inner = makeInner();\nvar defaultStyleMappers = {\n  itemStyle: makeStyleMapper(ITEM_STYLE_KEY_MAP, true),\n  lineStyle: makeStyleMapper(LINE_STYLE_KEY_MAP, true)\n};\nvar defaultColorKey = {\n  lineStyle: 'stroke',\n  itemStyle: 'fill'\n};\nfunction getStyleMapper(seriesModel, stylePath) {\n  var styleMapper = seriesModel.visualStyleMapper || defaultStyleMappers[stylePath];\n  if (!styleMapper) {\n    console.warn(\"Unknown style type '\" + stylePath + \"'.\");\n    return defaultStyleMappers.itemStyle;\n  }\n  return styleMapper;\n}\nfunction getDefaultColorKey(seriesModel, stylePath) {\n  // return defaultColorKey[stylePath] ||\n  var colorKey = seriesModel.visualDrawType || defaultColorKey[stylePath];\n  if (!colorKey) {\n    console.warn(\"Unknown style type '\" + stylePath + \"'.\");\n    return 'fill';\n  }\n  return colorKey;\n}\nvar seriesStyleTask = {\n  createOnAllSeries: true,\n  performRawSeries: true,\n  reset: function (seriesModel, ecModel) {\n    var data = seriesModel.getData();\n    var stylePath = seriesModel.visualStyleAccessPath || 'itemStyle';\n    // Set in itemStyle\n    var styleModel = seriesModel.getModel(stylePath);\n    var getStyle = getStyleMapper(seriesModel, stylePath);\n    var globalStyle = getStyle(styleModel);\n    var decalOption = styleModel.getShallow('decal');\n    if (decalOption) {\n      data.setVisual('decal', decalOption);\n      decalOption.dirty = true;\n    }\n    // TODO\n    var colorKey = getDefaultColorKey(seriesModel, stylePath);\n    var color = globalStyle[colorKey];\n    // TODO style callback\n    var colorCallback = isFunction(color) ? color : null;\n    var hasAutoColor = globalStyle.fill === 'auto' || globalStyle.stroke === 'auto';\n    // Get from color palette by default.\n    if (!globalStyle[colorKey] || colorCallback || hasAutoColor) {\n      // Note: If some series has color specified (e.g., by itemStyle.color), we DO NOT\n      // make it effect palette. Because some scenarios users need to make some series\n      // transparent or as background, which should better not effect the palette.\n      var colorPalette = seriesModel.getColorFromPalette(\n      // TODO series count changed.\n      seriesModel.name, null, ecModel.getSeriesCount());\n      if (!globalStyle[colorKey]) {\n        globalStyle[colorKey] = colorPalette;\n        data.setVisual('colorFromPalette', true);\n      }\n      globalStyle.fill = globalStyle.fill === 'auto' || isFunction(globalStyle.fill) ? colorPalette : globalStyle.fill;\n      globalStyle.stroke = globalStyle.stroke === 'auto' || isFunction(globalStyle.stroke) ? colorPalette : globalStyle.stroke;\n    }\n    data.setVisual('style', globalStyle);\n    data.setVisual('drawType', colorKey);\n    // Only visible series has each data be visual encoded\n    if (!ecModel.isSeriesFiltered(seriesModel) && colorCallback) {\n      data.setVisual('colorFromPalette', false);\n      return {\n        dataEach: function (data, idx) {\n          var dataParams = seriesModel.getDataParams(idx);\n          var itemStyle = extend({}, globalStyle);\n          itemStyle[colorKey] = colorCallback(dataParams);\n          data.setItemVisual(idx, 'style', itemStyle);\n        }\n      };\n    }\n  }\n};\nvar sharedModel = new Model();\nvar dataStyleTask = {\n  createOnAllSeries: true,\n  performRawSeries: true,\n  reset: function (seriesModel, ecModel) {\n    if (seriesModel.ignoreStyleOnData || ecModel.isSeriesFiltered(seriesModel)) {\n      return;\n    }\n    var data = seriesModel.getData();\n    var stylePath = seriesModel.visualStyleAccessPath || 'itemStyle';\n    // Set in itemStyle\n    var getStyle = getStyleMapper(seriesModel, stylePath);\n    var colorKey = data.getVisual('drawType');\n    return {\n      dataEach: data.hasItemOption ? function (data, idx) {\n        // Not use getItemModel for performance considuration\n        var rawItem = data.getRawDataItem(idx);\n        if (rawItem && rawItem[stylePath]) {\n          sharedModel.option = rawItem[stylePath];\n          var style = getStyle(sharedModel);\n          var existsStyle = data.ensureUniqueItemVisual(idx, 'style');\n          extend(existsStyle, style);\n          if (sharedModel.option.decal) {\n            data.setItemVisual(idx, 'decal', sharedModel.option.decal);\n            sharedModel.option.decal.dirty = true;\n          }\n          if (colorKey in style) {\n            data.setItemVisual(idx, 'colorFromPalette', false);\n          }\n        }\n      } : null\n    };\n  }\n};\n// Pick color from palette for the data which has not been set with color yet.\n// Note: do not support stream rendering. No such cases yet.\nvar dataColorPaletteTask = {\n  performRawSeries: true,\n  overallReset: function (ecModel) {\n    // Each type of series uses one scope.\n    // Pie and funnel are using different scopes.\n    var paletteScopeGroupByType = createHashMap();\n    ecModel.eachSeries(function (seriesModel) {\n      var colorBy = seriesModel.getColorBy();\n      if (seriesModel.isColorBySeries()) {\n        return;\n      }\n      var key = seriesModel.type + '-' + colorBy;\n      var colorScope = paletteScopeGroupByType.get(key);\n      if (!colorScope) {\n        colorScope = {};\n        paletteScopeGroupByType.set(key, colorScope);\n      }\n      inner(seriesModel).scope = colorScope;\n    });\n    ecModel.eachSeries(function (seriesModel) {\n      if (seriesModel.isColorBySeries() || ecModel.isSeriesFiltered(seriesModel)) {\n        return;\n      }\n      var dataAll = seriesModel.getRawData();\n      var idxMap = {};\n      var data = seriesModel.getData();\n      var colorScope = inner(seriesModel).scope;\n      var stylePath = seriesModel.visualStyleAccessPath || 'itemStyle';\n      var colorKey = getDefaultColorKey(seriesModel, stylePath);\n      data.each(function (idx) {\n        var rawIdx = data.getRawIndex(idx);\n        idxMap[rawIdx] = idx;\n      });\n      // Iterate on data before filtered. To make sure color from palette can be\n      // Consistent when toggling legend.\n      dataAll.each(function (rawIdx) {\n        var idx = idxMap[rawIdx];\n        var fromPalette = data.getItemVisual(idx, 'colorFromPalette');\n        // Get color from palette for each data only when the color is inherited from series color, which is\n        // also picked from color palette. So following situation is not in the case:\n        // 1. series.itemStyle.color is set\n        // 2. color is encoded by visualMap\n        if (fromPalette) {\n          var itemStyle = data.ensureUniqueItemVisual(idx, 'style');\n          var name_1 = dataAll.getName(rawIdx) || rawIdx + '';\n          var dataCount = dataAll.count();\n          itemStyle[colorKey] = seriesModel.getColorFromPalette(name_1, colorScope, dataCount);\n        }\n      });\n    });\n  }\n};\nexport { seriesStyleTask, dataStyleTask, dataColorPaletteTask };","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as graphic from '../util/graphic.js';\nimport tokens from '../visual/tokens.js';\nvar PI = Math.PI;\n/**\n * @param {module:echarts/ExtensionAPI} api\n * @param {Object} [opts]\n * @param {string} [opts.text]\n * @param {string} [opts.color]\n * @param {string} [opts.textColor]\n * @return {module:zrender/Element}\n */\nexport default function defaultLoading(api, opts) {\n  opts = opts || {};\n  zrUtil.defaults(opts, {\n    text: 'loading',\n    textColor: tokens.color.primary,\n    fontSize: 12,\n    fontWeight: 'normal',\n    fontStyle: 'normal',\n    fontFamily: 'sans-serif',\n    maskColor: 'rgba(255,255,255,0.8)',\n    showSpinner: true,\n    color: tokens.color.theme[0],\n    spinnerRadius: 10,\n    lineWidth: 5,\n    zlevel: 0\n  });\n  var group = new graphic.Group();\n  var mask = new graphic.Rect({\n    style: {\n      fill: opts.maskColor\n    },\n    zlevel: opts.zlevel,\n    z: 10000\n  });\n  group.add(mask);\n  var textContent = new graphic.Text({\n    style: {\n      text: opts.text,\n      fill: opts.textColor,\n      fontSize: opts.fontSize,\n      fontWeight: opts.fontWeight,\n      fontStyle: opts.fontStyle,\n      fontFamily: opts.fontFamily\n    },\n    zlevel: opts.zlevel,\n    z: 10001\n  });\n  var labelRect = new graphic.Rect({\n    style: {\n      fill: 'none'\n    },\n    textContent: textContent,\n    textConfig: {\n      position: 'right',\n      distance: 10\n    },\n    zlevel: opts.zlevel,\n    z: 10001\n  });\n  group.add(labelRect);\n  var arc;\n  if (opts.showSpinner) {\n    arc = new graphic.Arc({\n      shape: {\n        startAngle: -PI / 2,\n        endAngle: -PI / 2 + 0.1,\n        r: opts.spinnerRadius\n      },\n      style: {\n        stroke: opts.color,\n        lineCap: 'round',\n        lineWidth: opts.lineWidth\n      },\n      zlevel: opts.zlevel,\n      z: 10001\n    });\n    arc.animateShape(true).when(1000, {\n      endAngle: PI * 3 / 2\n    }).start('circularInOut');\n    arc.animateShape(true).when(1000, {\n      startAngle: PI * 3 / 2\n    }).delay(300).start('circularInOut');\n    group.add(arc);\n  }\n  // Inject resize\n  group.resize = function () {\n    var textWidth = textContent.getBoundingRect().width;\n    var r = opts.showSpinner ? opts.spinnerRadius : 0;\n    // cx = (containerWidth - arcDiameter - textDistance - textWidth) / 2\n    // textDistance needs to be calculated when both animation and text exist\n    var cx = (api.getWidth() - r * 2 - (opts.showSpinner && textWidth ? 10 : 0) - textWidth) / 2 - (opts.showSpinner && textWidth ? 0 : 5 + textWidth / 2)\n    // only show the text\n    + (opts.showSpinner ? 0 : textWidth / 2)\n    // only show the spinner\n    + (textWidth ? 0 : r);\n    var cy = api.getHeight() / 2;\n    opts.showSpinner && arc.setShape({\n      cx: cx,\n      cy: cy\n    });\n    labelRect.setShape({\n      x: cx - r,\n      y: cy - r,\n      width: r * 2,\n      height: r * 2\n    });\n    mask.setShape({\n      x: 0,\n      y: 0,\n      width: api.getWidth(),\n      height: api.getHeight()\n    });\n  };\n  group.resize();\n  return group;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { each, map, isFunction, createHashMap, noop, assert } from 'zrender/lib/core/util.js';\nimport { createTask } from './task.js';\nimport { getUID } from '../util/component.js';\nimport GlobalModel from '../model/Global.js';\nimport ExtensionAPI from './ExtensionAPI.js';\nimport { normalizeToArray } from '../util/model.js';\n;\nvar Scheduler = /** @class */function () {\n  function Scheduler(ecInstance, api, dataProcessorHandlers, visualHandlers) {\n    // key: handlerUID\n    this._stageTaskMap = createHashMap();\n    this.ecInstance = ecInstance;\n    this.api = api;\n    // Fix current processors in case that in some rear cases that\n    // processors might be registered after echarts instance created.\n    // Register processors incrementally for a echarts instance is\n    // not supported by this stream architecture.\n    dataProcessorHandlers = this._dataProcessorHandlers = dataProcessorHandlers.slice();\n    visualHandlers = this._visualHandlers = visualHandlers.slice();\n    this._allHandlers = dataProcessorHandlers.concat(visualHandlers);\n  }\n  Scheduler.prototype.restoreData = function (ecModel, payload) {\n    // TODO: Only restore needed series and components, but not all components.\n    // Currently `restoreData` of all of the series and component will be called.\n    // But some independent components like `title`, `legend`, `graphic`, `toolbox`,\n    // `tooltip`, `axisPointer`, etc, do not need series refresh when `setOption`,\n    // and some components like coordinate system, axes, dataZoom, visualMap only\n    // need their target series refresh.\n    // (1) If we are implementing this feature some day, we should consider these cases:\n    // if a data processor depends on a component (e.g., dataZoomProcessor depends\n    // on the settings of `dataZoom`), it should be re-performed if the component\n    // is modified by `setOption`.\n    // (2) If a processor depends on sevral series, speicified by its `getTargetSeries`,\n    // it should be re-performed when the result array of `getTargetSeries` changed.\n    // We use `dependencies` to cover these issues.\n    // (3) How to update target series when coordinate system related components modified.\n    // TODO: simply the dirty mechanism? Check whether only the case here can set tasks dirty,\n    // and this case all of the tasks will be set as dirty.\n    ecModel.restoreData(payload);\n    // Theoretically an overall task not only depends on each of its target series, but also\n    // depends on all of the series.\n    // The overall task is not in pipeline, and `ecModel.restoreData` only set pipeline tasks\n    // dirty. If `getTargetSeries` of an overall task returns nothing, we should also ensure\n    // that the overall task is set as dirty and to be performed, otherwise it probably cause\n    // state chaos. So we have to set dirty of all of the overall tasks manually, otherwise it\n    // probably cause state chaos (consider `dataZoomProcessor`).\n    this._stageTaskMap.each(function (taskRecord) {\n      var overallTask = taskRecord.overallTask;\n      overallTask && overallTask.dirty();\n    });\n  };\n  // If seriesModel provided, incremental threshold is check by series data.\n  Scheduler.prototype.getPerformArgs = function (task, isBlock) {\n    // For overall task\n    if (!task.__pipeline) {\n      return;\n    }\n    var pipeline = this._pipelineMap.get(task.__pipeline.id);\n    var pCtx = pipeline.context;\n    var incremental = !isBlock && pipeline.progressiveEnabled && (!pCtx || pCtx.progressiveRender) && task.__idxInPipeline > pipeline.blockIndex;\n    var step = incremental ? pipeline.step : null;\n    var modDataCount = pCtx && pCtx.modDataCount;\n    var modBy = modDataCount != null ? Math.ceil(modDataCount / step) : null;\n    return {\n      step: step,\n      modBy: modBy,\n      modDataCount: modDataCount\n    };\n  };\n  Scheduler.prototype.getPipeline = function (pipelineId) {\n    return this._pipelineMap.get(pipelineId);\n  };\n  /**\n   * Current, progressive rendering starts from visual and layout.\n   * Always detect render mode in the same stage, avoiding that incorrect\n   * detection caused by data filtering.\n   * Caution:\n   * `updateStreamModes` use `seriesModel.getData()`.\n   */\n  Scheduler.prototype.updateStreamModes = function (seriesModel, view) {\n    var pipeline = this._pipelineMap.get(seriesModel.uid);\n    var data = seriesModel.getData();\n    var dataLen = data.count();\n    // `progressiveRender` means that can render progressively in each\n    // animation frame. Note that some types of series do not provide\n    // `view.incrementalPrepareRender` but support `chart.appendData`. We\n    // use the term `incremental` but not `progressive` to describe the\n    // case that `chart.appendData`.\n    var progressiveRender = pipeline.progressiveEnabled && view.incrementalPrepareRender && dataLen >= pipeline.threshold;\n    var large = seriesModel.get('large') && dataLen >= seriesModel.get('largeThreshold');\n    // TODO: modDataCount should not updated if `appendData`, otherwise cause whole repaint.\n    // see `test/candlestick-large3.html`\n    var modDataCount = seriesModel.get('progressiveChunkMode') === 'mod' ? dataLen : null;\n    seriesModel.pipelineContext = pipeline.context = {\n      progressiveRender: progressiveRender,\n      modDataCount: modDataCount,\n      large: large\n    };\n  };\n  Scheduler.prototype.restorePipelines = function (ecModel) {\n    var scheduler = this;\n    var pipelineMap = scheduler._pipelineMap = createHashMap();\n    ecModel.eachSeries(function (seriesModel) {\n      var progressive = seriesModel.getProgressive();\n      var pipelineId = seriesModel.uid;\n      pipelineMap.set(pipelineId, {\n        id: pipelineId,\n        head: null,\n        tail: null,\n        threshold: seriesModel.getProgressiveThreshold(),\n        progressiveEnabled: progressive && !(seriesModel.preventIncremental && seriesModel.preventIncremental()),\n        blockIndex: -1,\n        step: Math.round(progressive || 700),\n        count: 0\n      });\n      scheduler._pipe(seriesModel, seriesModel.dataTask);\n    });\n  };\n  Scheduler.prototype.prepareStageTasks = function () {\n    var stageTaskMap = this._stageTaskMap;\n    var ecModel = this.api.getModel();\n    var api = this.api;\n    each(this._allHandlers, function (handler) {\n      var record = stageTaskMap.get(handler.uid) || stageTaskMap.set(handler.uid, {});\n      var errMsg = '';\n      if (process.env.NODE_ENV !== 'production') {\n        // Currently do not need to support to sepecify them both.\n        errMsg = '\"reset\" and \"overallReset\" must not be both specified.';\n      }\n      assert(!(handler.reset && handler.overallReset), errMsg);\n      handler.reset && this._createSeriesStageTask(handler, record, ecModel, api);\n      handler.overallReset && this._createOverallStageTask(handler, record, ecModel, api);\n    }, this);\n  };\n  Scheduler.prototype.prepareView = function (view, model, ecModel, api) {\n    var renderTask = view.renderTask;\n    var context = renderTask.context;\n    context.model = model;\n    context.ecModel = ecModel;\n    context.api = api;\n    renderTask.__block = !view.incrementalPrepareRender;\n    this._pipe(model, renderTask);\n  };\n  Scheduler.prototype.performDataProcessorTasks = function (ecModel, payload) {\n    // If we do not use `block` here, it should be considered when to update modes.\n    this._performStageTasks(this._dataProcessorHandlers, ecModel, payload, {\n      block: true\n    });\n  };\n  Scheduler.prototype.performVisualTasks = function (ecModel, payload, opt) {\n    this._performStageTasks(this._visualHandlers, ecModel, payload, opt);\n  };\n  Scheduler.prototype._performStageTasks = function (stageHandlers, ecModel, payload, opt) {\n    opt = opt || {};\n    var unfinished = false;\n    var scheduler = this;\n    each(stageHandlers, function (stageHandler, idx) {\n      if (opt.visualType && opt.visualType !== stageHandler.visualType) {\n        return;\n      }\n      var stageHandlerRecord = scheduler._stageTaskMap.get(stageHandler.uid);\n      var seriesTaskMap = stageHandlerRecord.seriesTaskMap;\n      var overallTask = stageHandlerRecord.overallTask;\n      if (overallTask) {\n        var overallNeedDirty_1;\n        var agentStubMap = overallTask.agentStubMap;\n        agentStubMap.each(function (stub) {\n          if (needSetDirty(opt, stub)) {\n            stub.dirty();\n            overallNeedDirty_1 = true;\n          }\n        });\n        overallNeedDirty_1 && overallTask.dirty();\n        scheduler.updatePayload(overallTask, payload);\n        var performArgs_1 = scheduler.getPerformArgs(overallTask, opt.block);\n        // Execute stubs firstly, which may set the overall task dirty,\n        // then execute the overall task. And stub will call seriesModel.setData,\n        // which ensures that in the overallTask seriesModel.getData() will not\n        // return incorrect data.\n        agentStubMap.each(function (stub) {\n          stub.perform(performArgs_1);\n        });\n        if (overallTask.perform(performArgs_1)) {\n          unfinished = true;\n        }\n      } else if (seriesTaskMap) {\n        seriesTaskMap.each(function (task, pipelineId) {\n          if (needSetDirty(opt, task)) {\n            task.dirty();\n          }\n          var performArgs = scheduler.getPerformArgs(task, opt.block);\n          // FIXME\n          // if intending to declare `performRawSeries` in handlers, only\n          // stream-independent (specifically, data item independent) operations can be\n          // performed. Because if a series is filtered, most of the tasks will not\n          // be performed. A stream-dependent operation probably cause wrong biz logic.\n          // Perhaps we should not provide a separate callback for this case instead\n          // of providing the config `performRawSeries`. The stream-dependent operations\n          // and stream-independent operations should better not be mixed.\n          performArgs.skip = !stageHandler.performRawSeries && ecModel.isSeriesFiltered(task.context.model);\n          scheduler.updatePayload(task, payload);\n          if (task.perform(performArgs)) {\n            unfinished = true;\n          }\n        });\n      }\n    });\n    function needSetDirty(opt, task) {\n      return opt.setDirty && (!opt.dirtyMap || opt.dirtyMap.get(task.__pipeline.id));\n    }\n    this.unfinished = unfinished || this.unfinished;\n  };\n  Scheduler.prototype.performSeriesTasks = function (ecModel) {\n    var unfinished;\n    ecModel.eachSeries(function (seriesModel) {\n      // Progress to the end for dataInit and dataRestore.\n      unfinished = seriesModel.dataTask.perform() || unfinished;\n    });\n    this.unfinished = unfinished || this.unfinished;\n  };\n  Scheduler.prototype.plan = function () {\n    // Travel pipelines, check block.\n    this._pipelineMap.each(function (pipeline) {\n      var task = pipeline.tail;\n      do {\n        if (task.__block) {\n          pipeline.blockIndex = task.__idxInPipeline;\n          break;\n        }\n        task = task.getUpstream();\n      } while (task);\n    });\n  };\n  Scheduler.prototype.updatePayload = function (task, payload) {\n    payload !== 'remain' && (task.context.payload = payload);\n  };\n  Scheduler.prototype._createSeriesStageTask = function (stageHandler, stageHandlerRecord, ecModel, api) {\n    var scheduler = this;\n    var oldSeriesTaskMap = stageHandlerRecord.seriesTaskMap;\n    // The count of stages are totally about only several dozen, so\n    // do not need to reuse the map.\n    var newSeriesTaskMap = stageHandlerRecord.seriesTaskMap = createHashMap();\n    var seriesType = stageHandler.seriesType;\n    var getTargetSeries = stageHandler.getTargetSeries;\n    // If a stageHandler should cover all series, `createOnAllSeries` should be declared mandatorily,\n    // to avoid some typo or abuse. Otherwise if an extension do not specify a `seriesType`,\n    // it works but it may cause other irrelevant charts blocked.\n    if (stageHandler.createOnAllSeries) {\n      ecModel.eachRawSeries(create);\n    } else if (seriesType) {\n      ecModel.eachRawSeriesByType(seriesType, create);\n    } else if (getTargetSeries) {\n      getTargetSeries(ecModel, api).each(create);\n    }\n    function create(seriesModel) {\n      var pipelineId = seriesModel.uid;\n      // Init tasks for each seriesModel only once.\n      // Reuse original task instance.\n      var task = newSeriesTaskMap.set(pipelineId, oldSeriesTaskMap && oldSeriesTaskMap.get(pipelineId) || createTask({\n        plan: seriesTaskPlan,\n        reset: seriesTaskReset,\n        count: seriesTaskCount\n      }));\n      task.context = {\n        model: seriesModel,\n        ecModel: ecModel,\n        api: api,\n        // PENDING: `useClearVisual` not used?\n        useClearVisual: stageHandler.isVisual && !stageHandler.isLayout,\n        plan: stageHandler.plan,\n        reset: stageHandler.reset,\n        scheduler: scheduler\n      };\n      scheduler._pipe(seriesModel, task);\n    }\n  };\n  Scheduler.prototype._createOverallStageTask = function (stageHandler, stageHandlerRecord, ecModel, api) {\n    var scheduler = this;\n    var overallTask = stageHandlerRecord.overallTask = stageHandlerRecord.overallTask\n    // For overall task, the function only be called on reset stage.\n    || createTask({\n      reset: overallTaskReset\n    });\n    overallTask.context = {\n      ecModel: ecModel,\n      api: api,\n      overallReset: stageHandler.overallReset,\n      scheduler: scheduler\n    };\n    var oldAgentStubMap = overallTask.agentStubMap;\n    // The count of stages are totally about only several dozen, so\n    // do not need to reuse the map.\n    var newAgentStubMap = overallTask.agentStubMap = createHashMap();\n    var seriesType = stageHandler.seriesType;\n    var getTargetSeries = stageHandler.getTargetSeries;\n    var overallProgress = true;\n    var shouldOverallTaskDirty = false;\n    // FIXME:TS never used, so comment it\n    // let modifyOutputEnd = stageHandler.modifyOutputEnd;\n    // An overall task with seriesType detected or has `getTargetSeries`, we add\n    // stub in each pipelines, it will set the overall task dirty when the pipeline\n    // progress. Moreover, to avoid call the overall task each frame (too frequent),\n    // we set the pipeline block.\n    var errMsg = '';\n    if (process.env.NODE_ENV !== 'production') {\n      errMsg = '\"createOnAllSeries\" is not supported for \"overallReset\", ' + 'because it will block all streams.';\n    }\n    assert(!stageHandler.createOnAllSeries, errMsg);\n    if (seriesType) {\n      ecModel.eachRawSeriesByType(seriesType, createStub);\n    } else if (getTargetSeries) {\n      getTargetSeries(ecModel, api).each(createStub);\n    }\n    // Otherwise, (usually it is legacy case), the overall task will only be\n    // executed when upstream is dirty. Otherwise the progressive rendering of all\n    // pipelines will be disabled unexpectedly. But it still needs stubs to receive\n    // dirty info from upstream.\n    else {\n      overallProgress = false;\n      each(ecModel.getSeries(), createStub);\n    }\n    function createStub(seriesModel) {\n      var pipelineId = seriesModel.uid;\n      var stub = newAgentStubMap.set(pipelineId, oldAgentStubMap && oldAgentStubMap.get(pipelineId) || (\n      // When the result of `getTargetSeries` changed, the overallTask\n      // should be set as dirty and re-performed.\n      shouldOverallTaskDirty = true, createTask({\n        reset: stubReset,\n        onDirty: stubOnDirty\n      })));\n      stub.context = {\n        model: seriesModel,\n        overallProgress: overallProgress\n        // FIXME:TS never used, so comment it\n        // modifyOutputEnd: modifyOutputEnd\n      };\n      stub.agent = overallTask;\n      stub.__block = overallProgress;\n      scheduler._pipe(seriesModel, stub);\n    }\n    if (shouldOverallTaskDirty) {\n      overallTask.dirty();\n    }\n  };\n  Scheduler.prototype._pipe = function (seriesModel, task) {\n    var pipelineId = seriesModel.uid;\n    var pipeline = this._pipelineMap.get(pipelineId);\n    !pipeline.head && (pipeline.head = task);\n    pipeline.tail && pipeline.tail.pipe(task);\n    pipeline.tail = task;\n    task.__idxInPipeline = pipeline.count++;\n    task.__pipeline = pipeline;\n  };\n  Scheduler.wrapStageHandler = function (stageHandler, visualType) {\n    if (isFunction(stageHandler)) {\n      stageHandler = {\n        overallReset: stageHandler,\n        seriesType: detectSeriseType(stageHandler)\n      };\n    }\n    stageHandler.uid = getUID('stageHandler');\n    visualType && (stageHandler.visualType = visualType);\n    return stageHandler;\n  };\n  ;\n  return Scheduler;\n}();\nfunction overallTaskReset(context) {\n  context.overallReset(context.ecModel, context.api, context.payload);\n}\nfunction stubReset(context) {\n  return context.overallProgress && stubProgress;\n}\nfunction stubProgress() {\n  this.agent.dirty();\n  this.getDownstream().dirty();\n}\nfunction stubOnDirty() {\n  this.agent && this.agent.dirty();\n}\nfunction seriesTaskPlan(context) {\n  return context.plan ? context.plan(context.model, context.ecModel, context.api, context.payload) : null;\n}\nfunction seriesTaskReset(context) {\n  if (context.useClearVisual) {\n    context.data.clearAllVisual();\n  }\n  var resetDefines = context.resetDefines = normalizeToArray(context.reset(context.model, context.ecModel, context.api, context.payload));\n  return resetDefines.length > 1 ? map(resetDefines, function (v, idx) {\n    return makeSeriesTaskProgress(idx);\n  }) : singleSeriesTaskProgress;\n}\nvar singleSeriesTaskProgress = makeSeriesTaskProgress(0);\nfunction makeSeriesTaskProgress(resetDefineIdx) {\n  return function (params, context) {\n    var data = context.data;\n    var resetDefine = context.resetDefines[resetDefineIdx];\n    if (resetDefine && resetDefine.dataEach) {\n      for (var i = params.start; i < params.end; i++) {\n        resetDefine.dataEach(data, i);\n      }\n    } else if (resetDefine && resetDefine.progress) {\n      resetDefine.progress(params, data);\n    }\n  };\n}\nfunction seriesTaskCount(context) {\n  return context.data.count();\n}\n/**\n * Only some legacy stage handlers (usually in echarts extensions) are pure function.\n * To ensure that they can work normally, they should work in block mode, that is,\n * they should not be started util the previous tasks finished. So they cause the\n * progressive rendering disabled. We try to detect the series type, to narrow down\n * the block range to only the series type they concern, but not all series.\n */\nfunction detectSeriseType(legacyFunc) {\n  seriesType = null;\n  try {\n    // Assume there is no async when calling `eachSeriesByType`.\n    legacyFunc(ecModelMock, apiMock);\n  } catch (e) {}\n  return seriesType;\n}\nvar ecModelMock = {};\nvar apiMock = {};\nvar seriesType;\nmockMethods(ecModelMock, GlobalModel);\nmockMethods(apiMock, ExtensionAPI);\necModelMock.eachSeriesByType = ecModelMock.eachRawSeriesByType = function (type) {\n  seriesType = type;\n};\necModelMock.eachComponent = function (cond) {\n  if (cond.mainType === 'series' && cond.subType) {\n    seriesType = cond.subType;\n  }\n};\nfunction mockMethods(target, Clz) {\n  /* eslint-disable */\n  for (var name_1 in Clz.prototype) {\n    // Do not use hasOwnProperty\n    target[name_1] = noop;\n  }\n  /* eslint-enable */\n}\nexport default Scheduler;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport tokens from '../visual/tokens.js';\nvar color = tokens.darkColor;\nvar backgroundColor = color.background;\nvar axisCommon = function () {\n  return {\n    axisLine: {\n      lineStyle: {\n        color: color.axisLine\n      }\n    },\n    splitLine: {\n      lineStyle: {\n        color: color.axisSplitLine\n      }\n    },\n    splitArea: {\n      areaStyle: {\n        color: [color.backgroundTint, color.backgroundTransparent]\n      }\n    },\n    minorSplitLine: {\n      lineStyle: {\n        color: color.axisMinorSplitLine\n      }\n    },\n    axisLabel: {\n      color: color.axisLabel\n    },\n    axisName: {}\n  };\n};\nvar matrixAxis = {\n  label: {\n    color: color.secondary\n  },\n  itemStyle: {\n    borderColor: color.borderTint\n  },\n  dividerLineStyle: {\n    color: color.border\n  }\n};\nvar theme = {\n  darkMode: true,\n  color: color.theme,\n  backgroundColor: backgroundColor,\n  axisPointer: {\n    lineStyle: {\n      color: color.border\n    },\n    crossStyle: {\n      color: color.borderShade\n    },\n    label: {\n      color: color.tertiary\n    }\n  },\n  legend: {\n    textStyle: {\n      color: color.secondary\n    },\n    pageTextStyle: {\n      color: color.tertiary\n    }\n  },\n  textStyle: {\n    color: color.secondary\n  },\n  title: {\n    textStyle: {\n      color: color.primary\n    },\n    subtextStyle: {\n      color: color.quaternary\n    }\n  },\n  toolbox: {\n    iconStyle: {\n      borderColor: color.accent50\n    }\n  },\n  tooltip: {\n    backgroundColor: color.neutral20,\n    defaultBorderColor: color.border,\n    textStyle: {\n      color: color.tertiary\n    }\n  },\n  dataZoom: {\n    borderColor: color.accent10,\n    textStyle: {\n      color: color.tertiary\n    },\n    brushStyle: {\n      color: color.backgroundTint\n    },\n    handleStyle: {\n      color: color.neutral00,\n      borderColor: color.accent20\n    },\n    moveHandleStyle: {\n      color: color.accent40\n    },\n    emphasis: {\n      handleStyle: {\n        borderColor: color.accent50\n      }\n    },\n    dataBackground: {\n      lineStyle: {\n        color: color.accent30\n      },\n      areaStyle: {\n        color: color.accent20\n      }\n    },\n    selectedDataBackground: {\n      lineStyle: {\n        color: color.accent50\n      },\n      areaStyle: {\n        color: color.accent30\n      }\n    }\n  },\n  visualMap: {\n    textStyle: {\n      color: color.secondary\n    },\n    handleStyle: {\n      borderColor: color.neutral30\n    }\n  },\n  timeline: {\n    lineStyle: {\n      color: color.accent10\n    },\n    label: {\n      color: color.tertiary\n    },\n    controlStyle: {\n      color: color.accent30,\n      borderColor: color.accent30\n    }\n  },\n  calendar: {\n    itemStyle: {\n      color: color.neutral00,\n      borderColor: color.neutral20\n    },\n    dayLabel: {\n      color: color.tertiary\n    },\n    monthLabel: {\n      color: color.secondary\n    },\n    yearLabel: {\n      color: color.secondary\n    }\n  },\n  matrix: {\n    x: matrixAxis,\n    y: matrixAxis,\n    backgroundColor: {\n      borderColor: color.axisLine\n    },\n    body: {\n      itemStyle: {\n        borderColor: color.borderTint\n      }\n    }\n  },\n  timeAxis: axisCommon(),\n  logAxis: axisCommon(),\n  valueAxis: axisCommon(),\n  categoryAxis: axisCommon(),\n  line: {\n    symbol: 'circle'\n  },\n  graph: {\n    color: color.theme\n  },\n  gauge: {\n    title: {\n      color: color.secondary\n    },\n    axisLine: {\n      lineStyle: {\n        color: [[1, color.neutral05]]\n      }\n    },\n    axisLabel: {\n      color: color.axisLabel\n    },\n    detail: {\n      color: color.primary\n    }\n  },\n  candlestick: {\n    itemStyle: {\n      color: '#f64e56',\n      color0: '#54ea92',\n      borderColor: '#f64e56',\n      borderColor0: '#54ea92'\n      // borderColor: '#ca2824',\n      // borderColor0: '#09a443'\n    }\n  },\n  funnel: {\n    itemStyle: {\n      borderColor: color.background\n    }\n  },\n  radar: function () {\n    var radar = axisCommon();\n    radar.axisName = {\n      color: color.axisLabel\n    };\n    radar.axisLine.lineStyle.color = color.neutral20;\n    return radar;\n  }(),\n  treemap: {\n    breadcrumb: {\n      itemStyle: {\n        color: color.neutral20,\n        textStyle: {\n          color: color.secondary\n        }\n      },\n      emphasis: {\n        itemStyle: {\n          color: color.neutral30\n        }\n      }\n    }\n  },\n  sunburst: {\n    itemStyle: {\n      borderColor: color.background\n    }\n  },\n  map: {\n    itemStyle: {\n      borderColor: color.border,\n      areaColor: color.neutral10\n    },\n    label: {\n      color: color.tertiary\n    },\n    emphasis: {\n      label: {\n        color: color.primary\n      },\n      itemStyle: {\n        areaColor: color.highlight\n      }\n    },\n    select: {\n      label: {\n        color: color.primary\n      },\n      itemStyle: {\n        areaColor: color.highlight\n      }\n    }\n  },\n  geo: {\n    itemStyle: {\n      borderColor: color.border,\n      areaColor: color.neutral10\n    },\n    emphasis: {\n      label: {\n        color: color.primary\n      },\n      itemStyle: {\n        areaColor: color.highlight\n      }\n    },\n    select: {\n      label: {\n        color: color.primary\n      },\n      itemStyle: {\n        color: color.highlight\n      }\n    }\n  }\n};\ntheme.categoryAxis.splitLine.show = false;\nexport default theme;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { parseClassType } from './clazz.js';\n/**\n * Usage of query:\n * `chart.on('click', query, handler);`\n * The `query` can be:\n * + The component type query string, only `mainType` or `mainType.subType`,\n *   like: 'xAxis', 'series', 'xAxis.category' or 'series.line'.\n * + The component query object, like:\n *   `{seriesIndex: 2}`, `{seriesName: 'xx'}`, `{seriesId: 'some'}`,\n *   `{xAxisIndex: 2}`, `{xAxisName: 'xx'}`, `{xAxisId: 'some'}`.\n * + The data query object, like:\n *   `{dataIndex: 123}`, `{dataType: 'link'}`, `{name: 'some'}`.\n * + The other query object (cmponent customized query), like:\n *   `{element: 'some'}` (only available in custom series).\n *\n * Caveat: If a prop in the `query` object is `null/undefined`, it is the\n * same as there is no such prop in the `query` object.\n */\nvar ECEventProcessor = /** @class */function () {\n  function ECEventProcessor() {}\n  ECEventProcessor.prototype.normalizeQuery = function (query) {\n    var cptQuery = {};\n    var dataQuery = {};\n    var otherQuery = {};\n    // `query` is `mainType` or `mainType.subType` of component.\n    if (zrUtil.isString(query)) {\n      var condCptType = parseClassType(query);\n      // `.main` and `.sub` may be ''.\n      cptQuery.mainType = condCptType.main || null;\n      cptQuery.subType = condCptType.sub || null;\n    }\n    // `query` is an object, convert to {mainType, index, name, id}.\n    else {\n      // `xxxIndex`, `xxxName`, `xxxId`, `name`, `dataIndex`, `dataType` is reserved,\n      // can not be used in `compomentModel.filterForExposedEvent`.\n      var suffixes_1 = ['Index', 'Name', 'Id'];\n      var dataKeys_1 = {\n        name: 1,\n        dataIndex: 1,\n        dataType: 1\n      };\n      zrUtil.each(query, function (val, key) {\n        var reserved = false;\n        for (var i = 0; i < suffixes_1.length; i++) {\n          var propSuffix = suffixes_1[i];\n          var suffixPos = key.lastIndexOf(propSuffix);\n          if (suffixPos > 0 && suffixPos === key.length - propSuffix.length) {\n            var mainType = key.slice(0, suffixPos);\n            // Consider `dataIndex`.\n            if (mainType !== 'data') {\n              cptQuery.mainType = mainType;\n              cptQuery[propSuffix.toLowerCase()] = val;\n              reserved = true;\n            }\n          }\n        }\n        if (dataKeys_1.hasOwnProperty(key)) {\n          dataQuery[key] = val;\n          reserved = true;\n        }\n        if (!reserved) {\n          otherQuery[key] = val;\n        }\n      });\n    }\n    return {\n      cptQuery: cptQuery,\n      dataQuery: dataQuery,\n      otherQuery: otherQuery\n    };\n  };\n  ECEventProcessor.prototype.filter = function (eventType, query) {\n    // They should be assigned before each trigger call.\n    var eventInfo = this.eventInfo;\n    if (!eventInfo) {\n      return true;\n    }\n    var targetEl = eventInfo.targetEl;\n    var packedEvent = eventInfo.packedEvent;\n    var model = eventInfo.model;\n    var view = eventInfo.view;\n    // For event like 'globalout'.\n    if (!model || !view) {\n      return true;\n    }\n    var cptQuery = query.cptQuery;\n    var dataQuery = query.dataQuery;\n    return check(cptQuery, model, 'mainType') && check(cptQuery, model, 'subType') && check(cptQuery, model, 'index', 'componentIndex') && check(cptQuery, model, 'name') && check(cptQuery, model, 'id') && check(dataQuery, packedEvent, 'name') && check(dataQuery, packedEvent, 'dataIndex') && check(dataQuery, packedEvent, 'dataType') && (!view.filterForExposedEvent || view.filterForExposedEvent(eventType, query.otherQuery, targetEl, packedEvent));\n    function check(query, host, prop, propOnHost) {\n      return query[prop] == null || host[propOnHost || prop] === query[prop];\n    }\n  };\n  ECEventProcessor.prototype.afterTrigger = function () {\n    // Make sure the eventInfo won't be used in next trigger.\n    this.eventInfo = null;\n  };\n  return ECEventProcessor;\n}();\nexport { ECEventProcessor };\n;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { extend, isFunction, keys } from 'zrender/lib/core/util.js';\nvar SYMBOL_PROPS_WITH_CB = ['symbol', 'symbolSize', 'symbolRotate', 'symbolOffset'];\nvar SYMBOL_PROPS = SYMBOL_PROPS_WITH_CB.concat(['symbolKeepAspect']);\n// Encoding visual for all series include which is filtered for legend drawing\nvar seriesSymbolTask = {\n  createOnAllSeries: true,\n  // For legend.\n  performRawSeries: true,\n  reset: function (seriesModel, ecModel) {\n    var data = seriesModel.getData();\n    if (seriesModel.legendIcon) {\n      data.setVisual('legendIcon', seriesModel.legendIcon);\n    }\n    if (!seriesModel.hasSymbolVisual) {\n      return;\n    }\n    var symbolOptions = {};\n    var symbolOptionsCb = {};\n    var hasCallback = false;\n    for (var i = 0; i < SYMBOL_PROPS_WITH_CB.length; i++) {\n      var symbolPropName = SYMBOL_PROPS_WITH_CB[i];\n      var val = seriesModel.get(symbolPropName);\n      if (isFunction(val)) {\n        hasCallback = true;\n        symbolOptionsCb[symbolPropName] = val;\n      } else {\n        symbolOptions[symbolPropName] = val;\n      }\n    }\n    symbolOptions.symbol = symbolOptions.symbol || seriesModel.defaultSymbol;\n    data.setVisual(extend({\n      legendIcon: seriesModel.legendIcon || symbolOptions.symbol,\n      symbolKeepAspect: seriesModel.get('symbolKeepAspect')\n    }, symbolOptions));\n    // Only visible series has each data be visual encoded\n    if (ecModel.isSeriesFiltered(seriesModel)) {\n      return;\n    }\n    var symbolPropsCb = keys(symbolOptionsCb);\n    function dataEach(data, idx) {\n      var rawValue = seriesModel.getRawValue(idx);\n      var params = seriesModel.getDataParams(idx);\n      for (var i = 0; i < symbolPropsCb.length; i++) {\n        var symbolPropName = symbolPropsCb[i];\n        data.setItemVisual(idx, symbolPropName, symbolOptionsCb[symbolPropName](rawValue, params));\n      }\n    }\n    return {\n      dataEach: hasCallback ? dataEach : null\n    };\n  }\n};\nvar dataSymbolTask = {\n  createOnAllSeries: true,\n  // For legend.\n  performRawSeries: true,\n  reset: function (seriesModel, ecModel) {\n    if (!seriesModel.hasSymbolVisual) {\n      return;\n    }\n    // Only visible series has each data be visual encoded\n    if (ecModel.isSeriesFiltered(seriesModel)) {\n      return;\n    }\n    var data = seriesModel.getData();\n    function dataEach(data, idx) {\n      var itemModel = data.getItemModel(idx);\n      for (var i = 0; i < SYMBOL_PROPS.length; i++) {\n        var symbolPropName = SYMBOL_PROPS[i];\n        var val = itemModel.getShallow(symbolPropName, true);\n        if (val != null) {\n          data.setItemVisual(idx, symbolPropName, val);\n        }\n      }\n    }\n    return {\n      dataEach: data.hasItemOption ? dataEach : null\n    };\n  }\n};\nexport { seriesSymbolTask, dataSymbolTask };","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nexport function getItemVisualFromData(data, dataIndex, key) {\n  switch (key) {\n    case 'color':\n      var style = data.getItemVisual(dataIndex, 'style');\n      return style[data.getVisual('drawType')];\n    case 'opacity':\n      return data.getItemVisual(dataIndex, 'style').opacity;\n    case 'symbol':\n    case 'symbolSize':\n    case 'liftZ':\n      return data.getItemVisual(dataIndex, key);\n    default:\n      if (process.env.NODE_ENV !== 'production') {\n        console.warn(\"Unknown visual type \" + key);\n      }\n  }\n}\nexport function getVisualFromData(data, key) {\n  switch (key) {\n    case 'color':\n      var style = data.getVisual('style');\n      return style[data.getVisual('drawType')];\n    case 'opacity':\n      return data.getVisual('style').opacity;\n    case 'symbol':\n    case 'symbolSize':\n    case 'liftZ':\n      return data.getVisual(key);\n    default:\n      if (process.env.NODE_ENV !== 'production') {\n        console.warn(\"Unknown visual type \" + key);\n      }\n  }\n}\nexport function setItemVisualFromData(data, dataIndex, key, value) {\n  switch (key) {\n    case 'color':\n      // Make sure not sharing style object.\n      var style = data.ensureUniqueItemVisual(dataIndex, 'style');\n      style[data.getVisual('drawType')] = value;\n      // Mark the color has been changed, not from palette anymore\n      data.setItemVisual(dataIndex, 'colorFromPalette', false);\n      break;\n    case 'opacity':\n      data.ensureUniqueItemVisual(dataIndex, 'style').opacity = value;\n      break;\n    case 'symbol':\n    case 'symbolSize':\n    case 'liftZ':\n      data.setItemVisual(dataIndex, key, value);\n      break;\n    default:\n      if (process.env.NODE_ENV !== 'production') {\n        console.warn(\"Unknown visual type \" + key);\n      }\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { extend, each, isArray, isString } from 'zrender/lib/core/util.js';\nimport { deprecateReplaceLog, deprecateLog } from '../util/log.js';\nimport { queryDataIndex } from '../util/model.js';\n// Legacy data selection action.\n// Includes: pieSelect, pieUnSelect, pieToggleSelect, mapSelect, mapUnSelect, mapToggleSelect\nexport function createLegacyDataSelectAction(seriesType, ecRegisterAction) {\n  function getSeriesIndices(ecModel, payload) {\n    var seriesIndices = [];\n    ecModel.eachComponent({\n      mainType: 'series',\n      subType: seriesType,\n      query: payload\n    }, function (seriesModel) {\n      seriesIndices.push(seriesModel.seriesIndex);\n    });\n    return seriesIndices;\n  }\n  each([[seriesType + 'ToggleSelect', 'toggleSelect'], [seriesType + 'Select', 'select'], [seriesType + 'UnSelect', 'unselect']], function (eventsMap) {\n    ecRegisterAction(eventsMap[0], function (payload, ecModel, api) {\n      payload = extend({}, payload);\n      if (process.env.NODE_ENV !== 'production') {\n        deprecateReplaceLog(payload.type, eventsMap[1]);\n      }\n      api.dispatchAction(extend(payload, {\n        type: eventsMap[1],\n        seriesIndex: getSeriesIndices(ecModel, payload)\n      }));\n    });\n  });\n}\nfunction handleSeriesLegacySelectEvents(type, eventPostfix, ecIns, ecModel, payload) {\n  var legacyEventName = type + eventPostfix;\n  if (!ecIns.isSilent(legacyEventName)) {\n    if (process.env.NODE_ENV !== 'production') {\n      deprecateLog(\"event \" + legacyEventName + \" is deprecated.\");\n    }\n    ecModel.eachComponent({\n      mainType: 'series',\n      subType: 'pie'\n    }, function (seriesModel) {\n      var seriesIndex = seriesModel.seriesIndex;\n      var selectedMap = seriesModel.option.selectedMap;\n      var selected = payload.selected;\n      for (var i = 0; i < selected.length; i++) {\n        if (selected[i].seriesIndex === seriesIndex) {\n          var data = seriesModel.getData();\n          var dataIndex = queryDataIndex(data, payload.fromActionPayload);\n          ecIns.trigger(legacyEventName, {\n            type: legacyEventName,\n            seriesId: seriesModel.id,\n            name: isArray(dataIndex) ? data.getName(dataIndex[0]) : data.getName(dataIndex),\n            selected: isString(selectedMap) ? selectedMap : extend({}, selectedMap)\n          });\n        }\n      }\n    });\n  }\n}\nexport function handleLegacySelectEvents(messageCenter, ecIns, api) {\n  messageCenter.on('selectchanged', function (params) {\n    var ecModel = api.getModel();\n    if (params.isFromClick) {\n      handleSeriesLegacySelectEvents('map', 'selectchanged', ecIns, ecModel, params);\n      handleSeriesLegacySelectEvents('pie', 'selectchanged', ecIns, ecModel, params);\n    } else if (params.fromAction === 'select') {\n      handleSeriesLegacySelectEvents('map', 'selected', ecIns, ecModel, params);\n      handleSeriesLegacySelectEvents('pie', 'selected', ecIns, ecModel, params);\n    } else if (params.fromAction === 'unselect') {\n      handleSeriesLegacySelectEvents('map', 'unselected', ecIns, ecModel, params);\n      handleSeriesLegacySelectEvents('pie', 'unselected', ecIns, ecModel, params);\n    }\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nexport function findEventDispatcher(target, det, returnFirstMatch) {\n  var found;\n  while (target) {\n    if (det(target)) {\n      found = target;\n      if (returnFirstMatch) {\n        break;\n      }\n    }\n    target = target.__hostTarget || target.parent;\n  }\n  return found;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Symbol factory\nimport { each, isArray, retrieve2 } from 'zrender/lib/core/util.js';\nimport * as graphic from './graphic.js';\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\nimport { calculateTextPosition } from 'zrender/lib/contain/text.js';\nimport { parsePercent } from './number.js';\nimport tokens from '../visual/tokens.js';\n/**\n * Triangle shape\n * @inner\n */\nvar Triangle = graphic.Path.extend({\n  type: 'triangle',\n  shape: {\n    cx: 0,\n    cy: 0,\n    width: 0,\n    height: 0\n  },\n  buildPath: function (path, shape) {\n    var cx = shape.cx;\n    var cy = shape.cy;\n    var width = shape.width / 2;\n    var height = shape.height / 2;\n    path.moveTo(cx, cy - height);\n    path.lineTo(cx + width, cy + height);\n    path.lineTo(cx - width, cy + height);\n    path.closePath();\n  }\n});\n/**\n * Diamond shape\n * @inner\n */\nvar Diamond = graphic.Path.extend({\n  type: 'diamond',\n  shape: {\n    cx: 0,\n    cy: 0,\n    width: 0,\n    height: 0\n  },\n  buildPath: function (path, shape) {\n    var cx = shape.cx;\n    var cy = shape.cy;\n    var width = shape.width / 2;\n    var height = shape.height / 2;\n    path.moveTo(cx, cy - height);\n    path.lineTo(cx + width, cy);\n    path.lineTo(cx, cy + height);\n    path.lineTo(cx - width, cy);\n    path.closePath();\n  }\n});\n/**\n * Pin shape\n * @inner\n */\nvar Pin = graphic.Path.extend({\n  type: 'pin',\n  shape: {\n    // x, y on the cusp\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0\n  },\n  buildPath: function (path, shape) {\n    var x = shape.x;\n    var y = shape.y;\n    var w = shape.width / 5 * 3;\n    // Height must be larger than width\n    var h = Math.max(w, shape.height);\n    var r = w / 2;\n    // Dist on y with tangent point and circle center\n    var dy = r * r / (h - r);\n    var cy = y - h + r + dy;\n    var angle = Math.asin(dy / r);\n    // Dist on x with tangent point and circle center\n    var dx = Math.cos(angle) * r;\n    var tanX = Math.sin(angle);\n    var tanY = Math.cos(angle);\n    var cpLen = r * 0.6;\n    var cpLen2 = r * 0.7;\n    path.moveTo(x - dx, cy + dy);\n    path.arc(x, cy, r, Math.PI - angle, Math.PI * 2 + angle);\n    path.bezierCurveTo(x + dx - tanX * cpLen, cy + dy + tanY * cpLen, x, y - cpLen2, x, y);\n    path.bezierCurveTo(x, y - cpLen2, x - dx + tanX * cpLen, cy + dy + tanY * cpLen, x - dx, cy + dy);\n    path.closePath();\n  }\n});\n/**\n * Arrow shape\n * @inner\n */\nvar Arrow = graphic.Path.extend({\n  type: 'arrow',\n  shape: {\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0\n  },\n  buildPath: function (ctx, shape) {\n    var height = shape.height;\n    var width = shape.width;\n    var x = shape.x;\n    var y = shape.y;\n    var dx = width / 3 * 2;\n    ctx.moveTo(x, y);\n    ctx.lineTo(x + dx, y + height);\n    ctx.lineTo(x, y + height / 4 * 3);\n    ctx.lineTo(x - dx, y + height);\n    ctx.lineTo(x, y);\n    ctx.closePath();\n  }\n});\n/**\n * Map of path constructors\n */\n// TODO Use function to build symbol path.\nvar symbolCtors = {\n  line: graphic.Line,\n  rect: graphic.Rect,\n  roundRect: graphic.Rect,\n  square: graphic.Rect,\n  circle: graphic.Circle,\n  diamond: Diamond,\n  pin: Pin,\n  arrow: Arrow,\n  triangle: Triangle\n};\nvar symbolShapeMakers = {\n  line: function (x, y, w, h, shape) {\n    shape.x1 = x;\n    shape.y1 = y + h / 2;\n    shape.x2 = x + w;\n    shape.y2 = y + h / 2;\n  },\n  rect: function (x, y, w, h, shape) {\n    shape.x = x;\n    shape.y = y;\n    shape.width = w;\n    shape.height = h;\n  },\n  roundRect: function (x, y, w, h, shape) {\n    shape.x = x;\n    shape.y = y;\n    shape.width = w;\n    shape.height = h;\n    shape.r = Math.min(w, h) / 4;\n  },\n  square: function (x, y, w, h, shape) {\n    var size = Math.min(w, h);\n    shape.x = x;\n    shape.y = y;\n    shape.width = size;\n    shape.height = size;\n  },\n  circle: function (x, y, w, h, shape) {\n    // Put circle in the center of square\n    shape.cx = x + w / 2;\n    shape.cy = y + h / 2;\n    shape.r = Math.min(w, h) / 2;\n  },\n  diamond: function (x, y, w, h, shape) {\n    shape.cx = x + w / 2;\n    shape.cy = y + h / 2;\n    shape.width = w;\n    shape.height = h;\n  },\n  pin: function (x, y, w, h, shape) {\n    shape.x = x + w / 2;\n    shape.y = y + h / 2;\n    shape.width = w;\n    shape.height = h;\n  },\n  arrow: function (x, y, w, h, shape) {\n    shape.x = x + w / 2;\n    shape.y = y + h / 2;\n    shape.width = w;\n    shape.height = h;\n  },\n  triangle: function (x, y, w, h, shape) {\n    shape.cx = x + w / 2;\n    shape.cy = y + h / 2;\n    shape.width = w;\n    shape.height = h;\n  }\n};\nexport var symbolBuildProxies = {};\neach(symbolCtors, function (Ctor, name) {\n  symbolBuildProxies[name] = new Ctor();\n});\nvar SymbolClz = graphic.Path.extend({\n  type: 'symbol',\n  shape: {\n    symbolType: '',\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0\n  },\n  calculateTextPosition: function (out, config, rect) {\n    var res = calculateTextPosition(out, config, rect);\n    var shape = this.shape;\n    if (shape && shape.symbolType === 'pin' && config.position === 'inside') {\n      res.y = rect.y + rect.height * 0.4;\n    }\n    return res;\n  },\n  buildPath: function (ctx, shape, inBundle) {\n    var symbolType = shape.symbolType;\n    if (symbolType !== 'none') {\n      var proxySymbol = symbolBuildProxies[symbolType];\n      if (!proxySymbol) {\n        // Default rect\n        symbolType = 'rect';\n        proxySymbol = symbolBuildProxies[symbolType];\n      }\n      symbolShapeMakers[symbolType](shape.x, shape.y, shape.width, shape.height, proxySymbol.shape);\n      proxySymbol.buildPath(ctx, proxySymbol.shape, inBundle);\n    }\n  }\n});\n// Provide setColor helper method to avoid determine if set the fill or stroke outside\nfunction symbolPathSetColor(color, innerColor) {\n  if (this.type !== 'image') {\n    var symbolStyle = this.style;\n    if (this.__isEmptyBrush) {\n      symbolStyle.stroke = color;\n      symbolStyle.fill = innerColor || tokens.color.neutral00;\n      // TODO Same width with lineStyle in LineView\n      symbolStyle.lineWidth = 2;\n    } else if (this.shape.symbolType === 'line') {\n      symbolStyle.stroke = color;\n    } else {\n      symbolStyle.fill = color;\n    }\n    this.markRedraw();\n  }\n}\n/**\n * Create a symbol element with given symbol configuration: shape, x, y, width, height, color\n */\nexport function createSymbol(symbolType, x, y, w, h, color,\n// whether to keep the ratio of w/h,\nkeepAspect) {\n  // TODO Support image object, DynamicImage.\n  var isEmpty = symbolType.indexOf('empty') === 0;\n  if (isEmpty) {\n    symbolType = symbolType.substr(5, 1).toLowerCase() + symbolType.substr(6);\n  }\n  var symbolPath;\n  if (symbolType.indexOf('image://') === 0) {\n    symbolPath = graphic.makeImage(symbolType.slice(8), new BoundingRect(x, y, w, h), keepAspect ? 'center' : 'cover');\n  } else if (symbolType.indexOf('path://') === 0) {\n    symbolPath = graphic.makePath(symbolType.slice(7), {}, new BoundingRect(x, y, w, h), keepAspect ? 'center' : 'cover');\n  } else {\n    symbolPath = new SymbolClz({\n      shape: {\n        symbolType: symbolType,\n        x: x,\n        y: y,\n        width: w,\n        height: h\n      }\n    });\n  }\n  symbolPath.__isEmptyBrush = isEmpty;\n  // TODO Should deprecate setColor\n  symbolPath.setColor = symbolPathSetColor;\n  if (color) {\n    symbolPath.setColor(color);\n  }\n  return symbolPath;\n}\nexport function normalizeSymbolSize(symbolSize) {\n  if (!isArray(symbolSize)) {\n    symbolSize = [+symbolSize, +symbolSize];\n  }\n  return [symbolSize[0] || 0, symbolSize[1] || 0];\n}\nexport function normalizeSymbolOffset(symbolOffset, symbolSize) {\n  if (symbolOffset == null) {\n    return;\n  }\n  if (!isArray(symbolOffset)) {\n    symbolOffset = [symbolOffset, symbolOffset];\n  }\n  return [parsePercent(symbolOffset[0], symbolSize[0]) || 0, parsePercent(retrieve2(symbolOffset[1], symbolOffset[0]), symbolSize[1]) || 0];\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport WeakMap from 'zrender/lib/core/WeakMap.js';\nimport LRU from 'zrender/lib/core/LRU.js';\nimport { defaults, map, isArray, isString, isNumber } from 'zrender/lib/core/util.js';\nimport { getLeastCommonMultiple } from './number.js';\nimport { createSymbol } from './symbol.js';\nimport { brushSingle } from 'zrender/lib/canvas/graphic.js';\nimport { platformApi } from 'zrender/lib/core/platform.js';\nvar decalMap = new WeakMap();\nvar decalCache = new LRU(100);\nvar decalKeys = ['symbol', 'symbolSize', 'symbolKeepAspect', 'color', 'backgroundColor', 'dashArrayX', 'dashArrayY', 'maxTileWidth', 'maxTileHeight'];\n/**\n * Create or update pattern image from decal options\n *\n * @param {InnerDecalObject | 'none'} decalObject decal options, 'none' if no decal\n * @return {Pattern} pattern with generated image, null if no decal\n */\nexport function createOrUpdatePatternFromDecal(decalObject, api) {\n  if (decalObject === 'none') {\n    return null;\n  }\n  var dpr = api.getDevicePixelRatio();\n  var zr = api.getZr();\n  var isSVG = zr.painter.type === 'svg';\n  if (decalObject.dirty) {\n    decalMap[\"delete\"](decalObject);\n  }\n  var oldPattern = decalMap.get(decalObject);\n  if (oldPattern) {\n    return oldPattern;\n  }\n  var decalOpt = defaults(decalObject, {\n    symbol: 'rect',\n    symbolSize: 1,\n    symbolKeepAspect: true,\n    color: 'rgba(0, 0, 0, 0.2)',\n    backgroundColor: null,\n    dashArrayX: 5,\n    dashArrayY: 5,\n    rotation: 0,\n    maxTileWidth: 512,\n    maxTileHeight: 512\n  });\n  if (decalOpt.backgroundColor === 'none') {\n    decalOpt.backgroundColor = null;\n  }\n  var pattern = {\n    repeat: 'repeat'\n  };\n  setPatternnSource(pattern);\n  pattern.rotation = decalOpt.rotation;\n  pattern.scaleX = pattern.scaleY = isSVG ? 1 : 1 / dpr;\n  decalMap.set(decalObject, pattern);\n  decalObject.dirty = false;\n  return pattern;\n  function setPatternnSource(pattern) {\n    var keys = [dpr];\n    var isValidKey = true;\n    for (var i = 0; i < decalKeys.length; ++i) {\n      var value = decalOpt[decalKeys[i]];\n      if (value != null && !isArray(value) && !isString(value) && !isNumber(value) && typeof value !== 'boolean') {\n        isValidKey = false;\n        break;\n      }\n      keys.push(value);\n    }\n    var cacheKey;\n    if (isValidKey) {\n      cacheKey = keys.join(',') + (isSVG ? '-svg' : '');\n      var cache = decalCache.get(cacheKey);\n      if (cache) {\n        isSVG ? pattern.svgElement = cache : pattern.image = cache;\n      }\n    }\n    var dashArrayX = normalizeDashArrayX(decalOpt.dashArrayX);\n    var dashArrayY = normalizeDashArrayY(decalOpt.dashArrayY);\n    var symbolArray = normalizeSymbolArray(decalOpt.symbol);\n    var lineBlockLengthsX = getLineBlockLengthX(dashArrayX);\n    var lineBlockLengthY = getLineBlockLengthY(dashArrayY);\n    var canvas = !isSVG && platformApi.createCanvas();\n    var svgRoot = isSVG && {\n      tag: 'g',\n      attrs: {},\n      key: 'dcl',\n      children: []\n    };\n    var pSize = getPatternSize();\n    var ctx;\n    if (canvas) {\n      canvas.width = pSize.width * dpr;\n      canvas.height = pSize.height * dpr;\n      ctx = canvas.getContext('2d');\n    }\n    brushDecal();\n    if (isValidKey) {\n      decalCache.put(cacheKey, canvas || svgRoot);\n    }\n    pattern.image = canvas;\n    pattern.svgElement = svgRoot;\n    pattern.svgWidth = pSize.width;\n    pattern.svgHeight = pSize.height;\n    /**\n     * Get minimum length that can make a repeatable pattern.\n     *\n     * @return {Object} pattern width and height\n     */\n    function getPatternSize() {\n      /**\n       * For example, if dash is [[3, 2], [2, 1]] for X, it looks like\n       * |---  ---  ---  ---  --- ...\n       * |-- -- -- -- -- -- -- -- ...\n       * |---  ---  ---  ---  --- ...\n       * |-- -- -- -- -- -- -- -- ...\n       * So the minimum length of X is 15,\n       * which is the least common multiple of `3 + 2` and `2 + 1`\n       * |---  ---  ---  |---  --- ...\n       * |-- -- -- -- -- |-- -- -- ...\n       */\n      var width = 1;\n      for (var i = 0, xlen = lineBlockLengthsX.length; i < xlen; ++i) {\n        width = getLeastCommonMultiple(width, lineBlockLengthsX[i]);\n      }\n      var symbolRepeats = 1;\n      for (var i = 0, xlen = symbolArray.length; i < xlen; ++i) {\n        symbolRepeats = getLeastCommonMultiple(symbolRepeats, symbolArray[i].length);\n      }\n      width *= symbolRepeats;\n      var height = lineBlockLengthY * lineBlockLengthsX.length * symbolArray.length;\n      if (process.env.NODE_ENV !== 'production') {\n        var warn = function (attrName) {\n          /* eslint-disable-next-line */\n          console.warn(\"Calculated decal size is greater than \" + attrName + \" due to decal option settings so \" + attrName + \" is used for the decal size. Please consider changing the decal option to make a smaller decal or set \" + attrName + \" to be larger to avoid incontinuity.\");\n        };\n        if (width > decalOpt.maxTileWidth) {\n          warn('maxTileWidth');\n        }\n        if (height > decalOpt.maxTileHeight) {\n          warn('maxTileHeight');\n        }\n      }\n      return {\n        width: Math.max(1, Math.min(width, decalOpt.maxTileWidth)),\n        height: Math.max(1, Math.min(height, decalOpt.maxTileHeight))\n      };\n    }\n    function brushDecal() {\n      if (ctx) {\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n        if (decalOpt.backgroundColor) {\n          ctx.fillStyle = decalOpt.backgroundColor;\n          ctx.fillRect(0, 0, canvas.width, canvas.height);\n        }\n      }\n      var ySum = 0;\n      for (var i = 0; i < dashArrayY.length; ++i) {\n        ySum += dashArrayY[i];\n      }\n      if (ySum <= 0) {\n        // dashArrayY is 0, draw nothing\n        return;\n      }\n      var y = -lineBlockLengthY;\n      var yId = 0;\n      var yIdTotal = 0;\n      var xId0 = 0;\n      while (y < pSize.height) {\n        if (yId % 2 === 0) {\n          var symbolYId = yIdTotal / 2 % symbolArray.length;\n          var x = 0;\n          var xId1 = 0;\n          var xId1Total = 0;\n          while (x < pSize.width * 2) {\n            var xSum = 0;\n            for (var i = 0; i < dashArrayX[xId0].length; ++i) {\n              xSum += dashArrayX[xId0][i];\n            }\n            if (xSum <= 0) {\n              // Skip empty line\n              break;\n            }\n            // E.g., [15, 5, 20, 5] draws only for 15 and 20\n            if (xId1 % 2 === 0) {\n              var size = (1 - decalOpt.symbolSize) * 0.5;\n              var left = x + dashArrayX[xId0][xId1] * size;\n              var top_1 = y + dashArrayY[yId] * size;\n              var width = dashArrayX[xId0][xId1] * decalOpt.symbolSize;\n              var height = dashArrayY[yId] * decalOpt.symbolSize;\n              var symbolXId = xId1Total / 2 % symbolArray[symbolYId].length;\n              brushSymbol(left, top_1, width, height, symbolArray[symbolYId][symbolXId]);\n            }\n            x += dashArrayX[xId0][xId1];\n            ++xId1Total;\n            ++xId1;\n            if (xId1 === dashArrayX[xId0].length) {\n              xId1 = 0;\n            }\n          }\n          ++xId0;\n          if (xId0 === dashArrayX.length) {\n            xId0 = 0;\n          }\n        }\n        y += dashArrayY[yId];\n        ++yIdTotal;\n        ++yId;\n        if (yId === dashArrayY.length) {\n          yId = 0;\n        }\n      }\n      function brushSymbol(x, y, width, height, symbolType) {\n        var scale = isSVG ? 1 : dpr;\n        var symbol = createSymbol(symbolType, x * scale, y * scale, width * scale, height * scale, decalOpt.color, decalOpt.symbolKeepAspect);\n        if (isSVG) {\n          var symbolVNode = zr.painter.renderOneToVNode(symbol);\n          if (symbolVNode) {\n            svgRoot.children.push(symbolVNode);\n          }\n        } else {\n          // Paint to canvas for all other renderers.\n          brushSingle(ctx, symbol);\n        }\n      }\n    }\n  }\n}\n/**\n * Convert symbol array into normalized array\n *\n * @param {string | (string | string[])[]} symbol symbol input\n * @return {string[][]} normolized symbol array\n */\nfunction normalizeSymbolArray(symbol) {\n  if (!symbol || symbol.length === 0) {\n    return [['rect']];\n  }\n  if (isString(symbol)) {\n    return [[symbol]];\n  }\n  var isAllString = true;\n  for (var i = 0; i < symbol.length; ++i) {\n    if (!isString(symbol[i])) {\n      isAllString = false;\n      break;\n    }\n  }\n  if (isAllString) {\n    return normalizeSymbolArray([symbol]);\n  }\n  var result = [];\n  for (var i = 0; i < symbol.length; ++i) {\n    if (isString(symbol[i])) {\n      result.push([symbol[i]]);\n    } else {\n      result.push(symbol[i]);\n    }\n  }\n  return result;\n}\n/**\n * Convert dash input into dashArray\n *\n * @param {DecalDashArrayX} dash dash input\n * @return {number[][]} normolized dash array\n */\nfunction normalizeDashArrayX(dash) {\n  if (!dash || dash.length === 0) {\n    return [[0, 0]];\n  }\n  if (isNumber(dash)) {\n    var dashValue = Math.ceil(dash);\n    return [[dashValue, dashValue]];\n  }\n  /**\n   * [20, 5] should be normalized into [[20, 5]],\n   * while [20, [5, 10]] should be normalized into [[20, 20], [5, 10]]\n   */\n  var isAllNumber = true;\n  for (var i = 0; i < dash.length; ++i) {\n    if (!isNumber(dash[i])) {\n      isAllNumber = false;\n      break;\n    }\n  }\n  if (isAllNumber) {\n    return normalizeDashArrayX([dash]);\n  }\n  var result = [];\n  for (var i = 0; i < dash.length; ++i) {\n    if (isNumber(dash[i])) {\n      var dashValue = Math.ceil(dash[i]);\n      result.push([dashValue, dashValue]);\n    } else {\n      var dashValue = map(dash[i], function (n) {\n        return Math.ceil(n);\n      });\n      if (dashValue.length % 2 === 1) {\n        // [4, 2, 1] means |----  -    -- |----  -    -- |\n        // so normalize it to be [4, 2, 1, 4, 2, 1]\n        result.push(dashValue.concat(dashValue));\n      } else {\n        result.push(dashValue);\n      }\n    }\n  }\n  return result;\n}\n/**\n * Convert dash input into dashArray\n *\n * @param {DecalDashArrayY} dash dash input\n * @return {number[]} normolized dash array\n */\nfunction normalizeDashArrayY(dash) {\n  if (!dash || typeof dash === 'object' && dash.length === 0) {\n    return [0, 0];\n  }\n  if (isNumber(dash)) {\n    var dashValue_1 = Math.ceil(dash);\n    return [dashValue_1, dashValue_1];\n  }\n  var dashValue = map(dash, function (n) {\n    return Math.ceil(n);\n  });\n  return dash.length % 2 ? dashValue.concat(dashValue) : dashValue;\n}\n/**\n * Get block length of each line. A block is the length of dash line and space.\n * For example, a line with [4, 1] has a dash line of 4 and a space of 1 after\n * that, so the block length of this line is 5.\n *\n * @param {number[][]} dash dash array of X or Y\n * @return {number[]} block length of each line\n */\nfunction getLineBlockLengthX(dash) {\n  return map(dash, function (line) {\n    return getLineBlockLengthY(line);\n  });\n}\nfunction getLineBlockLengthY(dash) {\n  var blockLength = 0;\n  for (var i = 0; i < dash.length; ++i) {\n    blockLength += dash[i];\n  }\n  if (dash.length % 2 === 1) {\n    // [4, 2, 1] means |----  -    -- |----  -    -- |\n    // So total length is (4 + 2 + 1) * 2\n    return blockLength * 2;\n  }\n  return blockLength;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { createOrUpdatePatternFromDecal } from '../util/decal.js';\nexport default function decalVisual(ecModel, api) {\n  ecModel.eachRawSeries(function (seriesModel) {\n    if (ecModel.isSeriesFiltered(seriesModel)) {\n      return;\n    }\n    var data = seriesModel.getData();\n    if (data.hasItemVisual()) {\n      data.each(function (idx) {\n        var decal = data.getItemVisual(idx, 'decal');\n        if (decal) {\n          var itemStyle = data.ensureUniqueItemVisual(idx, 'style');\n          itemStyle.decal = createOrUpdatePatternFromDecal(decal, api);\n        }\n      });\n    }\n    var decal = data.getVisual('decal');\n    if (decal) {\n      var style = data.getVisual('style');\n      style.decal = createOrUpdatePatternFromDecal(decal, api);\n    }\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport Eventful from 'zrender/lib/core/Eventful.js';\n;\nvar lifecycle = new Eventful();\nexport default lifecycle;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { error } from '../util/log.js';\n// Implementation of exported APIs. For example registerMap, getMap.\n// The implementations will be registered when installing the component.\n// Avoid these code being bundled to the core module.\nvar implsStore = {};\n// TODO Type\nexport function registerImpl(name, impl) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (implsStore[name]) {\n      error(\"Already has an implementation of \" + name + \".\");\n    }\n  }\n  implsStore[name] = impl;\n}\nexport function getImpl(name) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (!implsStore[name]) {\n      error(\"Implementation of \" + name + \" doesn't exists.\");\n    }\n  }\n  return implsStore[name];\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\nimport { __extends } from \"tslib\";\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrender from 'zrender/lib/zrender.js';\nimport { assert, each, isFunction, isObject, indexOf, bind, clone, setAsPrimitive, extend, createHashMap, map, defaults, isDom, isArray, noop, isString, retrieve2 } from 'zrender/lib/core/util.js';\nimport env from 'zrender/lib/core/env.js';\nimport timsort from 'zrender/lib/core/timsort.js';\nimport Eventful from 'zrender/lib/core/Eventful.js';\nimport GlobalModel from '../model/Global.js';\nimport ExtensionAPI from './ExtensionAPI.js';\nimport CoordinateSystemManager from './CoordinateSystem.js';\nimport OptionManager from '../model/OptionManager.js';\nimport backwardCompat from '../preprocessor/backwardCompat.js';\nimport dataStack from '../processor/dataStack.js';\nimport SeriesModel from '../model/Series.js';\nimport ComponentView from '../view/Component.js';\nimport ChartView from '../view/Chart.js';\nimport * as graphic from '../util/graphic.js';\nimport { getECData } from '../util/innerStore.js';\nimport { isHighDownDispatcher, HOVER_STATE_EMPHASIS, HOVER_STATE_BLUR, blurSeriesFromHighlightPayload, toggleSelectionFromPayload, updateSeriesElementSelection, getAllSelectedIndices, isSelectChangePayload, isHighDownPayload, HIGHLIGHT_ACTION_TYPE, DOWNPLAY_ACTION_TYPE, SELECT_ACTION_TYPE, UNSELECT_ACTION_TYPE, TOGGLE_SELECT_ACTION_TYPE, savePathStates, enterEmphasis, leaveEmphasis, leaveBlur, enterSelect, leaveSelect, enterBlur, allLeaveBlur, findComponentHighDownDispatchers, blurComponent, handleGlobalMouseOverForHighDown, handleGlobalMouseOutForHighDown, SELECT_CHANGED_EVENT_TYPE } from '../util/states.js';\nimport * as modelUtil from '../util/model.js';\nimport { throttle } from '../util/throttle.js';\nimport { seriesStyleTask, dataStyleTask, dataColorPaletteTask } from '../visual/style.js';\nimport loadingDefault from '../loading/default.js';\nimport Scheduler from './Scheduler.js';\nimport darkTheme from '../theme/dark.js';\nimport { parseClassType } from '../util/clazz.js';\nimport { ECEventProcessor } from '../util/ECEventProcessor.js';\nimport { seriesSymbolTask, dataSymbolTask } from '../visual/symbol.js';\nimport { getVisualFromData, getItemVisualFromData } from '../visual/helper.js';\nimport { deprecateLog, deprecateReplaceLog, error, warn } from '../util/log.js';\nimport { handleLegacySelectEvents } from '../legacy/dataSelectAction.js';\nimport { registerExternalTransform } from '../data/helper/transform.js';\nimport { createLocaleObject, SYSTEM_LANG } from './locale.js';\nimport { findEventDispatcher } from '../util/event.js';\nimport decal from '../visual/decal.js';\nimport lifecycle from './lifecycle.js';\nimport { platformApi, setPlatformAPI } from 'zrender/lib/core/platform.js';\nimport { getImpl } from './impl.js';\nimport { registerCustomSeries as registerCustom } from '../chart/custom/customSeriesRegister.js';\nexport var version = '6.0.0';\nexport var dependencies = {\n  zrender: '6.0.0'\n};\nvar TEST_FRAME_REMAIN_TIME = 1;\nvar PRIORITY_PROCESSOR_SERIES_FILTER = 800;\n// Some data processors depends on the stack result dimension (to calculate data extent).\n// So data stack stage should be in front of data processing stage.\nvar PRIORITY_PROCESSOR_DATASTACK = 900;\n// \"Data filter\" will block the stream, so it should be\n// put at the beginning of data processing.\nvar PRIORITY_PROCESSOR_FILTER = 1000;\nvar PRIORITY_PROCESSOR_DEFAULT = 2000;\nvar PRIORITY_PROCESSOR_STATISTIC = 5000;\nvar PRIORITY_VISUAL_LAYOUT = 1000;\nvar PRIORITY_VISUAL_PROGRESSIVE_LAYOUT = 1100;\nvar PRIORITY_VISUAL_GLOBAL = 2000;\nvar PRIORITY_VISUAL_CHART = 3000;\nvar PRIORITY_VISUAL_COMPONENT = 4000;\n// Visual property in data. Greater than `PRIORITY_VISUAL_COMPONENT` to enable to\n// overwrite the viusal result of component (like `visualMap`)\n// using data item specific setting (like itemStyle.xxx on data item)\nvar PRIORITY_VISUAL_CHART_DATA_CUSTOM = 4500;\n// Greater than `PRIORITY_VISUAL_CHART_DATA_CUSTOM` to enable to layout based on\n// visual result like `symbolSize`.\nvar PRIORITY_VISUAL_POST_CHART_LAYOUT = 4600;\nvar PRIORITY_VISUAL_BRUSH = 5000;\nvar PRIORITY_VISUAL_ARIA = 6000;\nvar PRIORITY_VISUAL_DECAL = 7000;\nexport var PRIORITY = {\n  PROCESSOR: {\n    FILTER: PRIORITY_PROCESSOR_FILTER,\n    SERIES_FILTER: PRIORITY_PROCESSOR_SERIES_FILTER,\n    STATISTIC: PRIORITY_PROCESSOR_STATISTIC\n  },\n  VISUAL: {\n    LAYOUT: PRIORITY_VISUAL_LAYOUT,\n    PROGRESSIVE_LAYOUT: PRIORITY_VISUAL_PROGRESSIVE_LAYOUT,\n    GLOBAL: PRIORITY_VISUAL_GLOBAL,\n    CHART: PRIORITY_VISUAL_CHART,\n    POST_CHART_LAYOUT: PRIORITY_VISUAL_POST_CHART_LAYOUT,\n    COMPONENT: PRIORITY_VISUAL_COMPONENT,\n    BRUSH: PRIORITY_VISUAL_BRUSH,\n    CHART_ITEM: PRIORITY_VISUAL_CHART_DATA_CUSTOM,\n    ARIA: PRIORITY_VISUAL_ARIA,\n    DECAL: PRIORITY_VISUAL_DECAL\n  }\n};\n// Main process have three entries: `setOption`, `dispatchAction` and `resize`,\n// where they must not be invoked nestedly, except the only case: invoke\n// dispatchAction with updateMethod \"none\" in main process.\n// This flag is used to carry out this rule.\n// All events will be triggered out side main process (i.e. when !this[IN_MAIN_PROCESS]).\nvar IN_MAIN_PROCESS_KEY = '__flagInMainProcess';\n// Useful for detecting outdated rendering results in scenarios that these issues are involved:\n//  - Use shortcut (such as, updateTransform, or no update) to start a main process.\n//  - Asynchronously update rendered view (e.g., graph force layout).\n//  - Multiple ChartView/ComponentView render to one group cooperatively.\nvar MAIN_PROCESS_VERSION_KEY = '__mainProcessVersion';\nvar PENDING_UPDATE = '__pendingUpdate';\nvar STATUS_NEEDS_UPDATE_KEY = '__needsUpdateStatus';\nvar ACTION_REG = /^[a-zA-Z0-9_]+$/;\nvar CONNECT_STATUS_KEY = '__connectUpdateStatus';\nvar CONNECT_STATUS_PENDING = 0;\nvar CONNECT_STATUS_UPDATING = 1;\nvar CONNECT_STATUS_UPDATED = 2;\n;\n;\nfunction createRegisterEventWithLowercaseECharts(method) {\n  return function () {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n    if (this.isDisposed()) {\n      disposedWarning(this.id);\n      return;\n    }\n    return toLowercaseNameAndCallEventful(this, method, args);\n  };\n}\nfunction createRegisterEventWithLowercaseMessageCenter(method) {\n  return function () {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n    return toLowercaseNameAndCallEventful(this, method, args);\n  };\n}\nfunction toLowercaseNameAndCallEventful(host, method, args) {\n  // `args[0]` is event name. Event name is all lowercase.\n  args[0] = args[0] && args[0].toLowerCase();\n  return Eventful.prototype[method].apply(host, args);\n}\nvar MessageCenter = /** @class */function (_super) {\n  __extends(MessageCenter, _super);\n  function MessageCenter() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  return MessageCenter;\n}(Eventful);\nvar messageCenterProto = MessageCenter.prototype;\nmessageCenterProto.on = createRegisterEventWithLowercaseMessageCenter('on');\nmessageCenterProto.off = createRegisterEventWithLowercaseMessageCenter('off');\n// ---------------------------------------\n// Internal method names for class ECharts\n// ---------------------------------------\nvar prepare;\nvar prepareView;\nvar updateDirectly;\nvar updateMethods;\nvar doConvertPixel;\nvar updateStreamModes;\nvar doDispatchAction;\nvar flushPendingActions;\nvar triggerUpdatedEvent;\nvar bindRenderedEvent;\nvar bindMouseEvent;\nvar render;\nvar renderComponents;\nvar renderSeries;\nvar createExtensionAPI;\nvar enableConnect;\nvar markStatusToUpdate;\nvar applyChangedStates;\nvar updateMainProcessVersion;\nvar ECharts = /** @class */function (_super) {\n  __extends(ECharts, _super);\n  function ECharts(dom,\n  // Theme name or themeOption.\n  theme, opts) {\n    var _this = _super.call(this, new ECEventProcessor()) || this;\n    _this._chartsViews = [];\n    _this._chartsMap = {};\n    _this._componentsViews = [];\n    _this._componentsMap = {};\n    // Can't dispatch action during rendering procedure\n    _this._pendingActions = [];\n    opts = opts || {};\n    _this._dom = dom;\n    var defaultRenderer = 'canvas';\n    var defaultCoarsePointer = 'auto';\n    var defaultUseDirtyRect = false;\n    _this[MAIN_PROCESS_VERSION_KEY] = 1;\n    if (process.env.NODE_ENV !== 'production') {\n      var root = /* eslint-disable-next-line */\n      env.hasGlobalWindow ? window : global;\n      if (root) {\n        defaultRenderer = retrieve2(root.__ECHARTS__DEFAULT__RENDERER__, defaultRenderer);\n        defaultCoarsePointer = retrieve2(root.__ECHARTS__DEFAULT__COARSE_POINTER, defaultCoarsePointer);\n        defaultUseDirtyRect = retrieve2(root.__ECHARTS__DEFAULT__USE_DIRTY_RECT__, defaultUseDirtyRect);\n      }\n    }\n    if (opts.ssr) {\n      zrender.registerSSRDataGetter(function (el) {\n        var ecData = getECData(el);\n        var dataIndex = ecData.dataIndex;\n        if (dataIndex == null) {\n          return;\n        }\n        var hashMap = createHashMap();\n        hashMap.set('series_index', ecData.seriesIndex);\n        hashMap.set('data_index', dataIndex);\n        ecData.ssrType && hashMap.set('ssr_type', ecData.ssrType);\n        return hashMap;\n      });\n    }\n    var zr = _this._zr = zrender.init(dom, {\n      renderer: opts.renderer || defaultRenderer,\n      devicePixelRatio: opts.devicePixelRatio,\n      width: opts.width,\n      height: opts.height,\n      ssr: opts.ssr,\n      useDirtyRect: retrieve2(opts.useDirtyRect, defaultUseDirtyRect),\n      useCoarsePointer: retrieve2(opts.useCoarsePointer, defaultCoarsePointer),\n      pointerSize: opts.pointerSize\n    });\n    _this._ssr = opts.ssr;\n    // Expect 60 fps.\n    _this._throttledZrFlush = throttle(bind(zr.flush, zr), 17);\n    _this._updateTheme(theme);\n    _this._locale = createLocaleObject(opts.locale || SYSTEM_LANG);\n    _this._coordSysMgr = new CoordinateSystemManager();\n    var api = _this._api = createExtensionAPI(_this);\n    // Sort on demand\n    function prioritySortFunc(a, b) {\n      return a.__prio - b.__prio;\n    }\n    timsort(visualFuncs, prioritySortFunc);\n    timsort(dataProcessorFuncs, prioritySortFunc);\n    _this._scheduler = new Scheduler(_this, api, dataProcessorFuncs, visualFuncs);\n    _this._messageCenter = new MessageCenter();\n    // Init mouse events\n    _this._initEvents();\n    // In case some people write `window.onresize = chart.resize`\n    _this.resize = bind(_this.resize, _this);\n    zr.animation.on('frame', _this._onframe, _this);\n    bindRenderedEvent(zr, _this);\n    bindMouseEvent(zr, _this);\n    // ECharts instance can be used as value.\n    setAsPrimitive(_this);\n    return _this;\n  }\n  ECharts.prototype._onframe = function () {\n    if (this._disposed) {\n      return;\n    }\n    applyChangedStates(this);\n    var scheduler = this._scheduler;\n    // Lazy update\n    if (this[PENDING_UPDATE]) {\n      var silent = this[PENDING_UPDATE].silent;\n      this[IN_MAIN_PROCESS_KEY] = true;\n      updateMainProcessVersion(this);\n      try {\n        prepare(this);\n        updateMethods.update.call(this, null, this[PENDING_UPDATE].updateParams);\n      } catch (e) {\n        this[IN_MAIN_PROCESS_KEY] = false;\n        this[PENDING_UPDATE] = null;\n        throw e;\n      }\n      // At present, in each frame, zrender performs:\n      //   (1) animation step forward.\n      //   (2) trigger('frame') (where this `_onframe` is called)\n      //   (3) zrender flush (render).\n      // If we do nothing here, since we use `setToFinal: true`, the step (3) above\n      // will render the final state of the elements before the real animation started.\n      this._zr.flush();\n      this[IN_MAIN_PROCESS_KEY] = false;\n      this[PENDING_UPDATE] = null;\n      flushPendingActions.call(this, silent);\n      triggerUpdatedEvent.call(this, silent);\n    }\n    // Avoid do both lazy update and progress in one frame.\n    else if (scheduler.unfinished) {\n      // Stream progress.\n      var remainTime = TEST_FRAME_REMAIN_TIME;\n      var ecModel = this._model;\n      var api = this._api;\n      scheduler.unfinished = false;\n      do {\n        var startTime = +new Date();\n        scheduler.performSeriesTasks(ecModel);\n        // Currently dataProcessorFuncs do not check threshold.\n        scheduler.performDataProcessorTasks(ecModel);\n        updateStreamModes(this, ecModel);\n        // Do not update coordinate system here. Because that coord system update in\n        // each frame is not a good user experience. So we follow the rule that\n        // the extent of the coordinate system is determined in the first frame (the\n        // frame is executed immediately after task reset.\n        // this._coordSysMgr.update(ecModel, api);\n        // console.log('--- ec frame visual ---', remainTime);\n        scheduler.performVisualTasks(ecModel);\n        renderSeries(this, this._model, api, 'remain', {});\n        remainTime -= +new Date() - startTime;\n      } while (remainTime > 0 && scheduler.unfinished);\n      // Call flush explicitly for trigger finished event.\n      if (!scheduler.unfinished) {\n        this._zr.flush();\n      }\n      // Else, zr flushing be ensue within the same frame,\n      // because zr flushing is after onframe event.\n    }\n  };\n  ECharts.prototype.getDom = function () {\n    return this._dom;\n  };\n  ECharts.prototype.getId = function () {\n    return this.id;\n  };\n  ECharts.prototype.getZr = function () {\n    return this._zr;\n  };\n  ECharts.prototype.isSSR = function () {\n    return this._ssr;\n  };\n  /* eslint-disable-next-line */\n  ECharts.prototype.setOption = function (option, notMerge, lazyUpdate) {\n    if (this[IN_MAIN_PROCESS_KEY]) {\n      if (process.env.NODE_ENV !== 'production') {\n        error('`setOption` should not be called during main process.');\n      }\n      return;\n    }\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n    var silent;\n    var replaceMerge;\n    var transitionOpt;\n    if (isObject(notMerge)) {\n      lazyUpdate = notMerge.lazyUpdate;\n      silent = notMerge.silent;\n      replaceMerge = notMerge.replaceMerge;\n      transitionOpt = notMerge.transition;\n      notMerge = notMerge.notMerge;\n    }\n    this[IN_MAIN_PROCESS_KEY] = true;\n    updateMainProcessVersion(this);\n    if (!this._model || notMerge) {\n      var optionManager = new OptionManager(this._api);\n      var theme = this._theme;\n      var ecModel = this._model = new GlobalModel();\n      ecModel.scheduler = this._scheduler;\n      ecModel.ssr = this._ssr;\n      ecModel.init(null, null, null, theme, this._locale, optionManager);\n    }\n    this._model.setOption(option, {\n      replaceMerge: replaceMerge\n    }, optionPreprocessorFuncs);\n    var updateParams = {\n      seriesTransition: transitionOpt,\n      optionChanged: true\n    };\n    if (lazyUpdate) {\n      this[PENDING_UPDATE] = {\n        silent: silent,\n        updateParams: updateParams\n      };\n      this[IN_MAIN_PROCESS_KEY] = false;\n      // `setOption(option, {lazyMode: true})` may be called when zrender has been slept.\n      // It should wake it up to make sure zrender start to render at the next frame.\n      this.getZr().wakeUp();\n    } else {\n      try {\n        prepare(this);\n        updateMethods.update.call(this, null, updateParams);\n      } catch (e) {\n        this[PENDING_UPDATE] = null;\n        this[IN_MAIN_PROCESS_KEY] = false;\n        throw e;\n      }\n      // Ensure zr refresh sychronously, and then pixel in canvas can be\n      // fetched after `setOption`.\n      if (!this._ssr) {\n        // not use flush when using ssr mode.\n        this._zr.flush();\n      }\n      this[PENDING_UPDATE] = null;\n      this[IN_MAIN_PROCESS_KEY] = false;\n      flushPendingActions.call(this, silent);\n      triggerUpdatedEvent.call(this, silent);\n    }\n  };\n  /**\n   * Update theme with name or theme option and repaint the chart.\n   * @param theme Theme name or theme option.\n   * @param opts Optional settings\n   */\n  ECharts.prototype.setTheme = function (theme, opts) {\n    if (this[IN_MAIN_PROCESS_KEY]) {\n      if (process.env.NODE_ENV !== 'production') {\n        error('`setTheme` should not be called during main process.');\n      }\n      return;\n    }\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n    var ecModel = this._model;\n    if (!ecModel) {\n      return;\n    }\n    var silent = opts && opts.silent;\n    var updateParams = null;\n    if (this[PENDING_UPDATE]) {\n      if (silent == null) {\n        silent = this[PENDING_UPDATE].silent;\n      }\n      updateParams = this[PENDING_UPDATE].updateParams;\n      this[PENDING_UPDATE] = null;\n    }\n    this[IN_MAIN_PROCESS_KEY] = true;\n    updateMainProcessVersion(this);\n    try {\n      this._updateTheme(theme);\n      ecModel.setTheme(this._theme);\n      prepare(this);\n      updateMethods.update.call(this, {\n        type: 'setTheme'\n      }, updateParams);\n    } catch (e) {\n      this[IN_MAIN_PROCESS_KEY] = false;\n      throw e;\n    }\n    this[IN_MAIN_PROCESS_KEY] = false;\n    flushPendingActions.call(this, silent);\n    triggerUpdatedEvent.call(this, silent);\n  };\n  ECharts.prototype._updateTheme = function (theme) {\n    if (isString(theme)) {\n      theme = themeStorage[theme];\n    }\n    if (theme) {\n      theme = clone(theme);\n      theme && backwardCompat(theme, true);\n      this._theme = theme;\n    }\n  };\n  // We don't want developers to use getModel directly.\n  ECharts.prototype.getModel = function () {\n    return this._model;\n  };\n  ECharts.prototype.getOption = function () {\n    return this._model && this._model.getOption();\n  };\n  ECharts.prototype.getWidth = function () {\n    return this._zr.getWidth();\n  };\n  ECharts.prototype.getHeight = function () {\n    return this._zr.getHeight();\n  };\n  ECharts.prototype.getDevicePixelRatio = function () {\n    return this._zr.painter.dpr\n    /* eslint-disable-next-line */ || env.hasGlobalWindow && window.devicePixelRatio || 1;\n  };\n  /**\n   * Get canvas which has all thing rendered\n   * @deprecated Use renderToCanvas instead.\n   */\n  ECharts.prototype.getRenderedCanvas = function (opts) {\n    if (process.env.NODE_ENV !== 'production') {\n      deprecateReplaceLog('getRenderedCanvas', 'renderToCanvas');\n    }\n    return this.renderToCanvas(opts);\n  };\n  ECharts.prototype.renderToCanvas = function (opts) {\n    opts = opts || {};\n    var painter = this._zr.painter;\n    if (process.env.NODE_ENV !== 'production') {\n      if (painter.type !== 'canvas') {\n        throw new Error('renderToCanvas can only be used in the canvas renderer.');\n      }\n    }\n    return painter.getRenderedCanvas({\n      backgroundColor: opts.backgroundColor || this._model.get('backgroundColor'),\n      pixelRatio: opts.pixelRatio || this.getDevicePixelRatio()\n    });\n  };\n  ECharts.prototype.renderToSVGString = function (opts) {\n    opts = opts || {};\n    var painter = this._zr.painter;\n    if (process.env.NODE_ENV !== 'production') {\n      if (painter.type !== 'svg') {\n        throw new Error('renderToSVGString can only be used in the svg renderer.');\n      }\n    }\n    return painter.renderToString({\n      useViewBox: opts.useViewBox\n    });\n  };\n  /**\n   * Get svg data url\n   */\n  ECharts.prototype.getSvgDataURL = function () {\n    var zr = this._zr;\n    var list = zr.storage.getDisplayList();\n    // Stop animations\n    each(list, function (el) {\n      el.stopAnimation(null, true);\n    });\n    return zr.painter.toDataURL();\n  };\n  ECharts.prototype.getDataURL = function (opts) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n    opts = opts || {};\n    var excludeComponents = opts.excludeComponents;\n    var ecModel = this._model;\n    var excludesComponentViews = [];\n    var self = this;\n    each(excludeComponents, function (componentType) {\n      ecModel.eachComponent({\n        mainType: componentType\n      }, function (component) {\n        var view = self._componentsMap[component.__viewId];\n        if (!view.group.ignore) {\n          excludesComponentViews.push(view);\n          view.group.ignore = true;\n        }\n      });\n    });\n    var url = this._zr.painter.getType() === 'svg' ? this.getSvgDataURL() : this.renderToCanvas(opts).toDataURL('image/' + (opts && opts.type || 'png'));\n    each(excludesComponentViews, function (view) {\n      view.group.ignore = false;\n    });\n    return url;\n  };\n  ECharts.prototype.getConnectedDataURL = function (opts) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n    var isSvg = opts.type === 'svg';\n    var groupId = this.group;\n    var mathMin = Math.min;\n    var mathMax = Math.max;\n    var MAX_NUMBER = Infinity;\n    if (connectedGroups[groupId]) {\n      var left_1 = MAX_NUMBER;\n      var top_1 = MAX_NUMBER;\n      var right_1 = -MAX_NUMBER;\n      var bottom_1 = -MAX_NUMBER;\n      var canvasList_1 = [];\n      var dpr_1 = opts && opts.pixelRatio || this.getDevicePixelRatio();\n      each(instances, function (chart, id) {\n        if (chart.group === groupId) {\n          var canvas = isSvg ? chart.getZr().painter.getSvgDom().innerHTML : chart.renderToCanvas(clone(opts));\n          var boundingRect = chart.getDom().getBoundingClientRect();\n          left_1 = mathMin(boundingRect.left, left_1);\n          top_1 = mathMin(boundingRect.top, top_1);\n          right_1 = mathMax(boundingRect.right, right_1);\n          bottom_1 = mathMax(boundingRect.bottom, bottom_1);\n          canvasList_1.push({\n            dom: canvas,\n            left: boundingRect.left,\n            top: boundingRect.top\n          });\n        }\n      });\n      left_1 *= dpr_1;\n      top_1 *= dpr_1;\n      right_1 *= dpr_1;\n      bottom_1 *= dpr_1;\n      var width = right_1 - left_1;\n      var height = bottom_1 - top_1;\n      var targetCanvas = platformApi.createCanvas();\n      var zr_1 = zrender.init(targetCanvas, {\n        renderer: isSvg ? 'svg' : 'canvas'\n      });\n      zr_1.resize({\n        width: width,\n        height: height\n      });\n      if (isSvg) {\n        var content_1 = '';\n        each(canvasList_1, function (item) {\n          var x = item.left - left_1;\n          var y = item.top - top_1;\n          content_1 += '<g transform=\"translate(' + x + ',' + y + ')\">' + item.dom + '</g>';\n        });\n        zr_1.painter.getSvgRoot().innerHTML = content_1;\n        if (opts.connectedBackgroundColor) {\n          zr_1.painter.setBackgroundColor(opts.connectedBackgroundColor);\n        }\n        zr_1.refreshImmediately();\n        return zr_1.painter.toDataURL();\n      } else {\n        // Background between the charts\n        if (opts.connectedBackgroundColor) {\n          zr_1.add(new graphic.Rect({\n            shape: {\n              x: 0,\n              y: 0,\n              width: width,\n              height: height\n            },\n            style: {\n              fill: opts.connectedBackgroundColor\n            }\n          }));\n        }\n        each(canvasList_1, function (item) {\n          var img = new graphic.Image({\n            style: {\n              x: item.left * dpr_1 - left_1,\n              y: item.top * dpr_1 - top_1,\n              image: item.dom\n            }\n          });\n          zr_1.add(img);\n        });\n        zr_1.refreshImmediately();\n        return targetCanvas.toDataURL('image/' + (opts && opts.type || 'png'));\n      }\n    } else {\n      return this.getDataURL(opts);\n    }\n  };\n  ECharts.prototype.convertToPixel = function (finder, value, opt) {\n    return doConvertPixel(this, 'convertToPixel', finder, value, opt);\n  };\n  /**\n   * Convert from logical coordinate system to pixel coordinate system.\n   * See CoordinateSystem#convertToPixel.\n   *\n   * @see CoordinateSystem['dataToLayout'] for parameters and return.\n   * @see CoordinateSystemDataCoord\n   */\n  ECharts.prototype.convertToLayout = function (finder, value, opt) {\n    return doConvertPixel(this, 'convertToLayout', finder, value, opt);\n  };\n  // The above are signatures from before v6, thus they should be preserved for backward compat.\n  ECharts.prototype.convertFromPixel = function (finder, value, opt) {\n    return doConvertPixel(this, 'convertFromPixel', finder, value, opt);\n  };\n  /**\n   * Is the specified coordinate systems or components contain the given pixel point.\n   * @param {Array|number} value\n   * @return {boolean} result\n   */\n  ECharts.prototype.containPixel = function (finder, value) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n    var ecModel = this._model;\n    var result;\n    var findResult = modelUtil.parseFinder(ecModel, finder);\n    each(findResult, function (models, key) {\n      key.indexOf('Models') >= 0 && each(models, function (model) {\n        var coordSys = model.coordinateSystem;\n        if (coordSys && coordSys.containPoint) {\n          result = result || !!coordSys.containPoint(value);\n        } else if (key === 'seriesModels') {\n          var view = this._chartsMap[model.__viewId];\n          if (view && view.containPoint) {\n            result = result || view.containPoint(value, model);\n          } else {\n            if (process.env.NODE_ENV !== 'production') {\n              warn(key + ': ' + (view ? 'The found component do not support containPoint.' : 'No view mapping to the found component.'));\n            }\n          }\n        } else {\n          if (process.env.NODE_ENV !== 'production') {\n            warn(key + ': containPoint is not supported');\n          }\n        }\n      }, this);\n    }, this);\n    return !!result;\n  };\n  /**\n   * Get visual from series or data.\n   * @param finder\n   *        If string, e.g., 'series', means {seriesIndex: 0}.\n   *        If Object, could contain some of these properties below:\n   *        {\n   *            seriesIndex / seriesId / seriesName,\n   *            dataIndex / dataIndexInside\n   *        }\n   *        If dataIndex is not specified, series visual will be fetched,\n   *        but not data item visual.\n   *        If all of seriesIndex, seriesId, seriesName are not specified,\n   *        visual will be fetched from first series.\n   * @param visualType 'color', 'symbol', 'symbolSize'\n   */\n  ECharts.prototype.getVisual = function (finder, visualType) {\n    var ecModel = this._model;\n    var parsedFinder = modelUtil.parseFinder(ecModel, finder, {\n      defaultMainType: 'series'\n    });\n    var seriesModel = parsedFinder.seriesModel;\n    if (process.env.NODE_ENV !== 'production') {\n      if (!seriesModel) {\n        warn('There is no specified series model');\n      }\n    }\n    var data = seriesModel.getData();\n    var dataIndexInside = parsedFinder.hasOwnProperty('dataIndexInside') ? parsedFinder.dataIndexInside : parsedFinder.hasOwnProperty('dataIndex') ? data.indexOfRawIndex(parsedFinder.dataIndex) : null;\n    return dataIndexInside != null ? getItemVisualFromData(data, dataIndexInside, visualType) : getVisualFromData(data, visualType);\n  };\n  /**\n   * Get view of corresponding component model\n   */\n  ECharts.prototype.getViewOfComponentModel = function (componentModel) {\n    return this._componentsMap[componentModel.__viewId];\n  };\n  /**\n   * Get view of corresponding series model\n   */\n  ECharts.prototype.getViewOfSeriesModel = function (seriesModel) {\n    return this._chartsMap[seriesModel.__viewId];\n  };\n  ECharts.prototype._initEvents = function () {\n    var _this = this;\n    each(MOUSE_EVENT_NAMES, function (eveName) {\n      var handler = function (e) {\n        var ecModel = _this.getModel();\n        var el = e.target;\n        var params;\n        var isGlobalOut = eveName === 'globalout';\n        // no e.target when 'globalout'.\n        if (isGlobalOut) {\n          params = {};\n        } else {\n          el && findEventDispatcher(el, function (parent) {\n            var ecData = getECData(parent);\n            if (ecData && ecData.dataIndex != null) {\n              var dataModel = ecData.dataModel || ecModel.getSeriesByIndex(ecData.seriesIndex);\n              params = dataModel && dataModel.getDataParams(ecData.dataIndex, ecData.dataType, el) || {};\n              return true;\n            }\n            // If element has custom eventData of components\n            else if (ecData.eventData) {\n              params = extend({}, ecData.eventData);\n              return true;\n            }\n          }, true);\n        }\n        // Contract: if params prepared in mouse event,\n        // these properties must be specified:\n        // {\n        //    componentType: string (component main type)\n        //    componentIndex: number\n        // }\n        // Otherwise event query can not work.\n        if (params) {\n          var componentType = params.componentType;\n          var componentIndex = params.componentIndex;\n          // Special handling for historic reason: when trigger by\n          // markLine/markPoint/markArea, the componentType is\n          // 'markLine'/'markPoint'/'markArea', but we should better\n          // enable them to be queried by seriesIndex, since their\n          // option is set in each series.\n          if (componentType === 'markLine' || componentType === 'markPoint' || componentType === 'markArea') {\n            componentType = 'series';\n            componentIndex = params.seriesIndex;\n          }\n          var model = componentType && componentIndex != null && ecModel.getComponent(componentType, componentIndex);\n          var view = model && _this[model.mainType === 'series' ? '_chartsMap' : '_componentsMap'][model.__viewId];\n          if (process.env.NODE_ENV !== 'production') {\n            // `event.componentType` and `event[componentTpype + 'Index']` must not\n            // be missed, otherwise there is no way to distinguish source component.\n            // See `dataFormat.getDataParams`.\n            if (!isGlobalOut && !(model && view)) {\n              warn('model or view can not be found by params');\n            }\n          }\n          params.event = e;\n          params.type = eveName;\n          _this._$eventProcessor.eventInfo = {\n            targetEl: el,\n            packedEvent: params,\n            model: model,\n            view: view\n          };\n          _this.trigger(eveName, params);\n        }\n      };\n      // Consider that some component (like tooltip, brush, ...)\n      // register zr event handler, but user event handler might\n      // do anything, such as call `setOption` or `dispatchAction`,\n      // which probably update any of the content and probably\n      // cause problem if it is called previous other inner handlers.\n      handler.zrEventfulCallAtLast = true;\n      _this._zr.on(eveName, handler, _this);\n    });\n    var messageCenter = this._messageCenter;\n    each(publicEventTypeMap, function (_, eventType) {\n      messageCenter.on(eventType, function (event) {\n        _this.trigger(eventType, event);\n      });\n    });\n    handleLegacySelectEvents(messageCenter, this, this._api);\n  };\n  ECharts.prototype.isDisposed = function () {\n    return this._disposed;\n  };\n  ECharts.prototype.clear = function () {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n    this.setOption({\n      series: []\n    }, true);\n  };\n  ECharts.prototype.dispose = function () {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n    this._disposed = true;\n    var dom = this.getDom();\n    if (dom) {\n      modelUtil.setAttribute(this.getDom(), DOM_ATTRIBUTE_KEY, '');\n    }\n    var chart = this;\n    var api = chart._api;\n    var ecModel = chart._model;\n    each(chart._componentsViews, function (component) {\n      component.dispose(ecModel, api);\n    });\n    each(chart._chartsViews, function (chart) {\n      chart.dispose(ecModel, api);\n    });\n    // Dispose after all views disposed\n    chart._zr.dispose();\n    // Set properties to null.\n    // To reduce the memory cost in case the top code still holds this instance unexpectedly.\n    chart._dom = chart._model = chart._chartsMap = chart._componentsMap = chart._chartsViews = chart._componentsViews = chart._scheduler = chart._api = chart._zr = chart._throttledZrFlush = chart._theme = chart._coordSysMgr = chart._messageCenter = null;\n    delete instances[chart.id];\n  };\n  /**\n   * Resize the chart\n   */\n  ECharts.prototype.resize = function (opts) {\n    if (this[IN_MAIN_PROCESS_KEY]) {\n      if (process.env.NODE_ENV !== 'production') {\n        error('`resize` should not be called during main process.');\n      }\n      return;\n    }\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n    this._zr.resize(opts);\n    var ecModel = this._model;\n    // Resize loading effect\n    this._loadingFX && this._loadingFX.resize();\n    if (!ecModel) {\n      return;\n    }\n    var needPrepare = ecModel.resetOption('media');\n    var silent = opts && opts.silent;\n    // There is some real cases that:\n    // chart.setOption(option, { lazyUpdate: true });\n    // chart.resize();\n    if (this[PENDING_UPDATE]) {\n      if (silent == null) {\n        silent = this[PENDING_UPDATE].silent;\n      }\n      needPrepare = true;\n      this[PENDING_UPDATE] = null;\n    }\n    this[IN_MAIN_PROCESS_KEY] = true;\n    updateMainProcessVersion(this);\n    try {\n      needPrepare && prepare(this);\n      updateMethods.update.call(this, {\n        type: 'resize',\n        animation: extend({\n          // Disable animation\n          duration: 0\n        }, opts && opts.animation)\n      });\n    } catch (e) {\n      this[IN_MAIN_PROCESS_KEY] = false;\n      throw e;\n    }\n    this[IN_MAIN_PROCESS_KEY] = false;\n    flushPendingActions.call(this, silent);\n    triggerUpdatedEvent.call(this, silent);\n  };\n  ECharts.prototype.showLoading = function (name, cfg) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n    if (isObject(name)) {\n      cfg = name;\n      name = '';\n    }\n    name = name || 'default';\n    this.hideLoading();\n    if (!loadingEffects[name]) {\n      if (process.env.NODE_ENV !== 'production') {\n        warn('Loading effects ' + name + ' not exists.');\n      }\n      return;\n    }\n    var el = loadingEffects[name](this._api, cfg);\n    var zr = this._zr;\n    this._loadingFX = el;\n    zr.add(el);\n  };\n  /**\n   * Hide loading effect\n   */\n  ECharts.prototype.hideLoading = function () {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n    this._loadingFX && this._zr.remove(this._loadingFX);\n    this._loadingFX = null;\n  };\n  ECharts.prototype.makeActionFromEvent = function (eventObj) {\n    var payload = extend({}, eventObj);\n    payload.type = connectionEventRevertMap[eventObj.type];\n    return payload;\n  };\n  /**\n   * @param opt If pass boolean, means opt.silent\n   * @param opt.silent Default `false`. Whether trigger events.\n   * @param opt.flush Default `undefined`.\n   *        true: Flush immediately, and then pixel in canvas can be fetched\n   *            immediately. Caution: it might affect performance.\n   *        false: Not flush.\n   *        undefined: Auto decide whether perform flush.\n   */\n  ECharts.prototype.dispatchAction = function (payload, opt) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n    if (!isObject(opt)) {\n      opt = {\n        silent: !!opt\n      };\n    }\n    if (!actions[payload.type]) {\n      return;\n    }\n    // Avoid dispatch action before setOption. Especially in `connect`.\n    if (!this._model) {\n      return;\n    }\n    // May dispatchAction in rendering procedure\n    if (this[IN_MAIN_PROCESS_KEY]) {\n      this._pendingActions.push(payload);\n      return;\n    }\n    var silent = opt.silent;\n    doDispatchAction.call(this, payload, silent);\n    var flush = opt.flush;\n    if (flush) {\n      this._zr.flush();\n    } else if (flush !== false && env.browser.weChat) {\n      // In WeChat embedded browser, `requestAnimationFrame` and `setInterval`\n      // hang when sliding page (on touch event), which cause that zr does not\n      // refresh until user interaction finished, which is not expected.\n      // But `dispatchAction` may be called too frequently when pan on touch\n      // screen, which impacts performance if do not throttle them.\n      this._throttledZrFlush();\n    }\n    flushPendingActions.call(this, silent);\n    triggerUpdatedEvent.call(this, silent);\n  };\n  ECharts.prototype.updateLabelLayout = function () {\n    lifecycle.trigger('series:layoutlabels', this._model, this._api, {\n      // Not adding series labels.\n      // TODO\n      updatedSeries: []\n    });\n  };\n  ECharts.prototype.appendData = function (params) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n    var seriesIndex = params.seriesIndex;\n    var ecModel = this.getModel();\n    var seriesModel = ecModel.getSeriesByIndex(seriesIndex);\n    if (process.env.NODE_ENV !== 'production') {\n      assert(params.data && seriesModel);\n    }\n    seriesModel.appendData(params);\n    // Note: `appendData` does not support that update extent of coordinate\n    // system, util some scenario require that. In the expected usage of\n    // `appendData`, the initial extent of coordinate system should better\n    // be fixed by axis `min`/`max` setting or initial data, otherwise if\n    // the extent changed while `appendData`, the location of the painted\n    // graphic elements have to be changed, which make the usage of\n    // `appendData` meaningless.\n    this._scheduler.unfinished = true;\n    this.getZr().wakeUp();\n  };\n  // A work around for no `internal` modifier in ts yet but\n  // need to strictly hide private methods to JS users.\n  ECharts.internalField = function () {\n    prepare = function (ecIns) {\n      var scheduler = ecIns._scheduler;\n      scheduler.restorePipelines(ecIns._model);\n      scheduler.prepareStageTasks();\n      prepareView(ecIns, true);\n      prepareView(ecIns, false);\n      scheduler.plan();\n    };\n    /**\n     * Prepare view instances of charts and components\n     */\n    prepareView = function (ecIns, isComponent) {\n      var ecModel = ecIns._model;\n      var scheduler = ecIns._scheduler;\n      var viewList = isComponent ? ecIns._componentsViews : ecIns._chartsViews;\n      var viewMap = isComponent ? ecIns._componentsMap : ecIns._chartsMap;\n      var zr = ecIns._zr;\n      var api = ecIns._api;\n      for (var i = 0; i < viewList.length; i++) {\n        viewList[i].__alive = false;\n      }\n      isComponent ? ecModel.eachComponent(function (componentType, model) {\n        componentType !== 'series' && doPrepare(model);\n      }) : ecModel.eachSeries(doPrepare);\n      function doPrepare(model) {\n        // By default view will be reused if possible for the case that `setOption` with \"notMerge\"\n        // mode and need to enable transition animation. (Usually, when they have the same id, or\n        // especially no id but have the same type & name & index. See the `model.id` generation\n        // rule in `makeIdAndName` and `viewId` generation rule here).\n        // But in `replaceMerge` mode, this feature should be able to disabled when it is clear that\n        // the new model has nothing to do with the old model.\n        var requireNewView = model.__requireNewView;\n        // This command should not work twice.\n        model.__requireNewView = false;\n        // Consider: id same and type changed.\n        var viewId = '_ec_' + model.id + '_' + model.type;\n        var view = !requireNewView && viewMap[viewId];\n        if (!view) {\n          var classType = parseClassType(model.type);\n          var Clazz = isComponent ? ComponentView.getClass(classType.main, classType.sub) :\n          // FIXME:TS\n          // (ChartView as ChartViewConstructor).getClass('series', classType.sub)\n          // For backward compat, still support a chart type declared as only subType\n          // like \"liquidfill\", but recommend \"series.liquidfill\"\n          // But need a base class to make a type series.\n          ChartView.getClass(classType.sub);\n          if (process.env.NODE_ENV !== 'production') {\n            assert(Clazz, classType.sub + ' does not exist.');\n          }\n          view = new Clazz();\n          view.init(ecModel, api);\n          viewMap[viewId] = view;\n          viewList.push(view);\n          zr.add(view.group);\n        }\n        model.__viewId = view.__id = viewId;\n        view.__alive = true;\n        view.__model = model;\n        view.group.__ecComponentInfo = {\n          mainType: model.mainType,\n          index: model.componentIndex\n        };\n        !isComponent && scheduler.prepareView(view, model, ecModel, api);\n      }\n      for (var i = 0; i < viewList.length;) {\n        var view = viewList[i];\n        if (!view.__alive) {\n          !isComponent && view.renderTask.dispose();\n          zr.remove(view.group);\n          view.dispose(ecModel, api);\n          viewList.splice(i, 1);\n          if (viewMap[view.__id] === view) {\n            delete viewMap[view.__id];\n          }\n          view.__id = view.group.__ecComponentInfo = null;\n        } else {\n          i++;\n        }\n      }\n    };\n    updateDirectly = function (ecIns, method, payload, mainType, subType) {\n      var ecModel = ecIns._model;\n      ecModel.setUpdatePayload(payload);\n      // broadcast\n      if (!mainType) {\n        // FIXME\n        // Chart will not be update directly here, except set dirty.\n        // But there is no such scenario now.\n        each([].concat(ecIns._componentsViews).concat(ecIns._chartsViews), callView);\n        return;\n      }\n      var query = {};\n      query[mainType + 'Id'] = payload[mainType + 'Id'];\n      query[mainType + 'Index'] = payload[mainType + 'Index'];\n      query[mainType + 'Name'] = payload[mainType + 'Name'];\n      var condition = {\n        mainType: mainType,\n        query: query\n      };\n      subType && (condition.subType = subType); // subType may be '' by parseClassType;\n      var excludeSeriesId = payload.excludeSeriesId;\n      var excludeSeriesIdMap;\n      if (excludeSeriesId != null) {\n        excludeSeriesIdMap = createHashMap();\n        each(modelUtil.normalizeToArray(excludeSeriesId), function (id) {\n          var modelId = modelUtil.convertOptionIdName(id, null);\n          if (modelId != null) {\n            excludeSeriesIdMap.set(modelId, true);\n          }\n        });\n      }\n      // If dispatchAction before setOption, do nothing.\n      ecModel && ecModel.eachComponent(condition, function (model) {\n        var isExcluded = excludeSeriesIdMap && excludeSeriesIdMap.get(model.id) != null;\n        if (isExcluded) {\n          return;\n        }\n        ;\n        if (isHighDownPayload(payload)) {\n          if (model instanceof SeriesModel) {\n            if (payload.type === HIGHLIGHT_ACTION_TYPE && !payload.notBlur && !model.get(['emphasis', 'disabled'])) {\n              blurSeriesFromHighlightPayload(model, payload, ecIns._api);\n            }\n          } else {\n            var _a = findComponentHighDownDispatchers(model.mainType, model.componentIndex, payload.name, ecIns._api),\n              focusSelf = _a.focusSelf,\n              dispatchers = _a.dispatchers;\n            if (payload.type === HIGHLIGHT_ACTION_TYPE && focusSelf && !payload.notBlur) {\n              blurComponent(model.mainType, model.componentIndex, ecIns._api);\n            }\n            // PENDING:\n            // Whether to put this \"enter emphasis\" code in `ComponentView`,\n            // which will be the same as `ChartView` but might be not necessary\n            // and will be far from this logic.\n            if (dispatchers) {\n              each(dispatchers, function (dispatcher) {\n                payload.type === HIGHLIGHT_ACTION_TYPE ? enterEmphasis(dispatcher) : leaveEmphasis(dispatcher);\n              });\n            }\n          }\n        } else if (isSelectChangePayload(payload)) {\n          // TODO geo\n          if (model instanceof SeriesModel) {\n            toggleSelectionFromPayload(model, payload, ecIns._api);\n            updateSeriesElementSelection(model);\n            markStatusToUpdate(ecIns);\n          }\n        }\n      }, ecIns);\n      ecModel && ecModel.eachComponent(condition, function (model) {\n        var isExcluded = excludeSeriesIdMap && excludeSeriesIdMap.get(model.id) != null;\n        if (isExcluded) {\n          return;\n        }\n        ;\n        callView(ecIns[mainType === 'series' ? '_chartsMap' : '_componentsMap'][model.__viewId]);\n      }, ecIns);\n      function callView(view) {\n        view && view.__alive && view[method] && view[method](view.__model, ecModel, ecIns._api, payload);\n      }\n    };\n    updateMethods = {\n      prepareAndUpdate: function (payload) {\n        prepare(this);\n        updateMethods.update.call(this, payload, payload && {\n          // Needs to mark option changed if newOption is given.\n          // It's from MagicType.\n          // TODO If use a separate flag optionChanged in payload?\n          optionChanged: payload.newOption != null\n        });\n      },\n      update: function (payload, updateParams) {\n        var ecModel = this._model;\n        var api = this._api;\n        var zr = this._zr;\n        var coordSysMgr = this._coordSysMgr;\n        var scheduler = this._scheduler;\n        // update before setOption\n        if (!ecModel) {\n          return;\n        }\n        ecModel.setUpdatePayload(payload);\n        scheduler.restoreData(ecModel, payload);\n        scheduler.performSeriesTasks(ecModel);\n        // TODO\n        // Save total ecModel here for undo/redo (after restoring data and before processing data).\n        // Undo (restoration of total ecModel) can be carried out in 'action' or outside API call.\n        // Create new coordinate system each update\n        // In LineView may save the old coordinate system and use it to get the original point.\n        coordSysMgr.create(ecModel, api);\n        scheduler.performDataProcessorTasks(ecModel, payload);\n        // Current stream render is not supported in data process. So we can update\n        // stream modes after data processing, where the filtered data is used to\n        // determine whether to use progressive rendering.\n        updateStreamModes(this, ecModel);\n        // We update stream modes before coordinate system updated, then the modes info\n        // can be fetched when coord sys updating (consider the barGrid extent fix). But\n        // the drawback is the full coord info can not be fetched. Fortunately this full\n        // coord is not required in stream mode updater currently.\n        coordSysMgr.update(ecModel, api);\n        clearColorPalette(ecModel);\n        scheduler.performVisualTasks(ecModel, payload);\n        // Set background and dark mode before rendering, because they affect auto-color-determination\n        // in zrender Text, and consequently affect the bounding rect if stroke is added.\n        var backgroundColor = ecModel.get('backgroundColor') || 'transparent';\n        zr.setBackgroundColor(backgroundColor);\n        // Force set dark mode.\n        var darkMode = ecModel.get('darkMode');\n        if (darkMode != null && darkMode !== 'auto') {\n          zr.setDarkMode(darkMode);\n        }\n        render(this, ecModel, api, payload, updateParams);\n        lifecycle.trigger('afterupdate', ecModel, api);\n      },\n      updateTransform: function (payload) {\n        var _this = this;\n        var ecModel = this._model;\n        var api = this._api;\n        // update before setOption\n        if (!ecModel) {\n          return;\n        }\n        ecModel.setUpdatePayload(payload);\n        // ChartView.markUpdateMethod(payload, 'updateTransform');\n        var componentDirtyList = [];\n        ecModel.eachComponent(function (componentType, componentModel) {\n          if (componentType === 'series') {\n            return;\n          }\n          var componentView = _this.getViewOfComponentModel(componentModel);\n          if (componentView && componentView.__alive) {\n            if (componentView.updateTransform) {\n              var result = componentView.updateTransform(componentModel, ecModel, api, payload);\n              result && result.update && componentDirtyList.push(componentView);\n            } else {\n              componentDirtyList.push(componentView);\n            }\n          }\n        });\n        var seriesDirtyMap = createHashMap();\n        ecModel.eachSeries(function (seriesModel) {\n          var chartView = _this._chartsMap[seriesModel.__viewId];\n          if (chartView.updateTransform) {\n            var result = chartView.updateTransform(seriesModel, ecModel, api, payload);\n            result && result.update && seriesDirtyMap.set(seriesModel.uid, 1);\n          } else {\n            seriesDirtyMap.set(seriesModel.uid, 1);\n          }\n        });\n        clearColorPalette(ecModel);\n        // Keep pipe to the exist pipeline because it depends on the render task of the full pipeline.\n        // this._scheduler.performVisualTasks(ecModel, payload, 'layout', true);\n        this._scheduler.performVisualTasks(ecModel, payload, {\n          setDirty: true,\n          dirtyMap: seriesDirtyMap\n        });\n        // Currently, not call render of components. Geo render cost a lot.\n        // renderComponents(ecIns, ecModel, api, payload, componentDirtyList);\n        renderSeries(this, ecModel, api, payload, {}, seriesDirtyMap);\n        lifecycle.trigger('afterupdate', ecModel, api);\n      },\n      updateView: function (payload) {\n        var ecModel = this._model;\n        // update before setOption\n        if (!ecModel) {\n          return;\n        }\n        ecModel.setUpdatePayload(payload);\n        ChartView.markUpdateMethod(payload, 'updateView');\n        clearColorPalette(ecModel);\n        // Keep pipe to the exist pipeline because it depends on the render task of the full pipeline.\n        this._scheduler.performVisualTasks(ecModel, payload, {\n          setDirty: true\n        });\n        render(this, ecModel, this._api, payload, {});\n        lifecycle.trigger('afterupdate', ecModel, this._api);\n      },\n      updateVisual: function (payload) {\n        // updateMethods.update.call(this, payload);\n        var _this = this;\n        var ecModel = this._model;\n        // update before setOption\n        if (!ecModel) {\n          return;\n        }\n        ecModel.setUpdatePayload(payload);\n        // clear all visual\n        ecModel.eachSeries(function (seriesModel) {\n          seriesModel.getData().clearAllVisual();\n        });\n        // Perform visual\n        ChartView.markUpdateMethod(payload, 'updateVisual');\n        clearColorPalette(ecModel);\n        // Keep pipe to the exist pipeline because it depends on the render task of the full pipeline.\n        this._scheduler.performVisualTasks(ecModel, payload, {\n          visualType: 'visual',\n          setDirty: true\n        });\n        ecModel.eachComponent(function (componentType, componentModel) {\n          if (componentType !== 'series') {\n            var componentView = _this.getViewOfComponentModel(componentModel);\n            componentView && componentView.__alive && componentView.updateVisual(componentModel, ecModel, _this._api, payload);\n          }\n        });\n        ecModel.eachSeries(function (seriesModel) {\n          var chartView = _this._chartsMap[seriesModel.__viewId];\n          chartView.updateVisual(seriesModel, ecModel, _this._api, payload);\n        });\n        lifecycle.trigger('afterupdate', ecModel, this._api);\n      },\n      updateLayout: function (payload) {\n        updateMethods.update.call(this, payload);\n      }\n    };\n    function doConvertPixelImpl(ecIns, methodName, finder, value, opt) {\n      if (ecIns._disposed) {\n        disposedWarning(ecIns.id);\n        return;\n      }\n      var ecModel = ecIns._model;\n      var coordSysList = ecIns._coordSysMgr.getCoordinateSystems();\n      var result;\n      var parsedFinder = modelUtil.parseFinder(ecModel, finder);\n      for (var i = 0; i < coordSysList.length; i++) {\n        var coordSys = coordSysList[i];\n        if (coordSys[methodName] && (result = coordSys[methodName](ecModel, parsedFinder, value, opt)) != null) {\n          return result;\n        }\n      }\n      if (process.env.NODE_ENV !== 'production') {\n        warn('No coordinate system that supports ' + methodName + ' found by the given finder.');\n      }\n    }\n    ;\n    doConvertPixel = doConvertPixelImpl;\n    updateStreamModes = function (ecIns, ecModel) {\n      var chartsMap = ecIns._chartsMap;\n      var scheduler = ecIns._scheduler;\n      ecModel.eachSeries(function (seriesModel) {\n        scheduler.updateStreamModes(seriesModel, chartsMap[seriesModel.__viewId]);\n      });\n    };\n    doDispatchAction = function (payload, silent) {\n      var _this = this;\n      var ecModel = this.getModel();\n      var payloadType = payload.type;\n      var escapeConnect = payload.escapeConnect;\n      var actionInfo = actions[payloadType];\n      var cptTypeTmp = (actionInfo.update || 'update').split(':');\n      var updateMethod = cptTypeTmp.pop();\n      var cptType = cptTypeTmp[0] != null && parseClassType(cptTypeTmp[0]);\n      this[IN_MAIN_PROCESS_KEY] = true;\n      updateMainProcessVersion(this);\n      var payloads = [payload];\n      var batched = false;\n      // Batch action\n      if (payload.batch) {\n        batched = true;\n        payloads = map(payload.batch, function (item) {\n          item = defaults(extend({}, item), payload);\n          item.batch = null;\n          return item;\n        });\n      }\n      var eventObjBatch = [];\n      var eventObj;\n      var actionResultBatch = [];\n      var nonRefinedEventType = actionInfo.nonRefinedEventType;\n      var isSelectChange = isSelectChangePayload(payload);\n      var isHighDown = isHighDownPayload(payload);\n      // Only leave blur once if there are multiple batches.\n      if (isHighDown) {\n        allLeaveBlur(this._api);\n      }\n      each(payloads, function (batchItem) {\n        // Action can specify the event by return it.\n        var actionResult = actionInfo.action(batchItem, ecModel, _this._api);\n        if (actionInfo.refineEvent) {\n          actionResultBatch.push(actionResult);\n        } else {\n          eventObj = actionResult;\n        }\n        eventObj = eventObj || extend({}, batchItem);\n        eventObj.type = nonRefinedEventType;\n        eventObjBatch.push(eventObj);\n        // light update does not perform data process, layout and visual.\n        if (isHighDown) {\n          var _a = modelUtil.preParseFinder(payload),\n            queryOptionMap = _a.queryOptionMap,\n            mainTypeSpecified = _a.mainTypeSpecified;\n          var componentMainType = mainTypeSpecified ? queryOptionMap.keys()[0] : 'series';\n          updateDirectly(_this, updateMethod, batchItem, componentMainType);\n          markStatusToUpdate(_this);\n        } else if (isSelectChange) {\n          // At present `dispatchAction({ type: 'select', ... })` is not supported on components.\n          // geo still use 'geoselect'.\n          updateDirectly(_this, updateMethod, batchItem, 'series');\n          markStatusToUpdate(_this);\n        } else if (cptType) {\n          updateDirectly(_this, updateMethod, batchItem, cptType.main, cptType.sub);\n        }\n      });\n      if (updateMethod !== 'none' && !isHighDown && !isSelectChange && !cptType) {\n        try {\n          // Still dirty\n          if (this[PENDING_UPDATE]) {\n            prepare(this);\n            updateMethods.update.call(this, payload);\n            this[PENDING_UPDATE] = null;\n          } else {\n            updateMethods[updateMethod].call(this, payload);\n          }\n        } catch (e) {\n          this[IN_MAIN_PROCESS_KEY] = false;\n          throw e;\n        }\n      }\n      // Follow the rule of action batch\n      if (batched) {\n        eventObj = {\n          type: nonRefinedEventType,\n          escapeConnect: escapeConnect,\n          batch: eventObjBatch\n        };\n      } else {\n        eventObj = eventObjBatch[0];\n      }\n      this[IN_MAIN_PROCESS_KEY] = false;\n      if (!silent) {\n        var refinedEvent = void 0;\n        if (actionInfo.refineEvent) {\n          var eventContent = actionInfo.refineEvent(actionResultBatch, payload, ecModel, this._api).eventContent;\n          assert(isObject(eventContent));\n          refinedEvent = defaults({\n            type: actionInfo.refinedEventType\n          }, eventContent);\n          refinedEvent.fromAction = payload.type;\n          refinedEvent.fromActionPayload = payload;\n          refinedEvent.escapeConnect = true;\n        }\n        var messageCenter = this._messageCenter;\n        // - If `refineEvent` created a `refinedEvent`, `eventObj` (replicated from the original payload)\n        //  is still needed to be triggered for the feature `connect`. But it will not be triggered to\n        //  users in this case.\n        // - If no `refineEvent` used, `eventObj` will be triggered for both `connect` and users.\n        messageCenter.trigger(eventObj.type, eventObj);\n        if (refinedEvent) {\n          messageCenter.trigger(refinedEvent.type, refinedEvent);\n        }\n      }\n    };\n    flushPendingActions = function (silent) {\n      var pendingActions = this._pendingActions;\n      while (pendingActions.length) {\n        var payload = pendingActions.shift();\n        doDispatchAction.call(this, payload, silent);\n      }\n    };\n    triggerUpdatedEvent = function (silent) {\n      !silent && this.trigger('updated');\n    };\n    /**\n     * Event `rendered` is triggered when zr\n     * rendered. It is useful for realtime\n     * snapshot (reflect animation).\n     *\n     * Event `finished` is triggered when:\n     * (1) zrender rendering finished.\n     * (2) initial animation finished.\n     * (3) progressive rendering finished.\n     * (4) no pending action.\n     * (5) no delayed setOption needs to be processed.\n     */\n    bindRenderedEvent = function (zr, ecIns) {\n      zr.on('rendered', function (params) {\n        ecIns.trigger('rendered', params);\n        // The `finished` event should not be triggered repeatedly,\n        // so it should only be triggered when rendering indeed happens\n        // in zrender. (Consider the case that dipatchAction is keep\n        // triggering when mouse move).\n        if (\n        // Although zr is dirty if initial animation is not finished\n        // and this checking is called on frame, we also check\n        // animation finished for robustness.\n        zr.animation.isFinished() && !ecIns[PENDING_UPDATE] && !ecIns._scheduler.unfinished && !ecIns._pendingActions.length) {\n          ecIns.trigger('finished');\n        }\n      });\n    };\n    bindMouseEvent = function (zr, ecIns) {\n      zr.on('mouseover', function (e) {\n        var el = e.target;\n        var dispatcher = findEventDispatcher(el, isHighDownDispatcher);\n        if (dispatcher) {\n          handleGlobalMouseOverForHighDown(dispatcher, e, ecIns._api);\n          markStatusToUpdate(ecIns);\n        }\n      }).on('mouseout', function (e) {\n        var el = e.target;\n        var dispatcher = findEventDispatcher(el, isHighDownDispatcher);\n        if (dispatcher) {\n          handleGlobalMouseOutForHighDown(dispatcher, e, ecIns._api);\n          markStatusToUpdate(ecIns);\n        }\n      }).on('click', function (e) {\n        var el = e.target;\n        var dispatcher = findEventDispatcher(el, function (target) {\n          return getECData(target).dataIndex != null;\n        }, true);\n        if (dispatcher) {\n          var actionType = dispatcher.selected ? 'unselect' : 'select';\n          var ecData = getECData(dispatcher);\n          ecIns._api.dispatchAction({\n            type: actionType,\n            dataType: ecData.dataType,\n            dataIndexInside: ecData.dataIndex,\n            seriesIndex: ecData.seriesIndex,\n            isFromClick: true\n          });\n        }\n      });\n    };\n    function clearColorPalette(ecModel) {\n      ecModel.clearColorPalette();\n      ecModel.eachSeries(function (seriesModel) {\n        seriesModel.clearColorPalette();\n      });\n    }\n    ;\n    // Allocate zlevels for series and components\n    function allocateZlevels(ecModel) {\n      ;\n      var componentZLevels = [];\n      var seriesZLevels = [];\n      var hasSeparateZLevel = false;\n      ecModel.eachComponent(function (componentType, componentModel) {\n        var zlevel = componentModel.get('zlevel') || 0;\n        var z = componentModel.get('z') || 0;\n        var zlevelKey = componentModel.getZLevelKey();\n        hasSeparateZLevel = hasSeparateZLevel || !!zlevelKey;\n        (componentType === 'series' ? seriesZLevels : componentZLevels).push({\n          zlevel: zlevel,\n          z: z,\n          idx: componentModel.componentIndex,\n          type: componentType,\n          key: zlevelKey\n        });\n      });\n      if (hasSeparateZLevel) {\n        // Series after component\n        var zLevels = componentZLevels.concat(seriesZLevels);\n        var lastSeriesZLevel_1;\n        var lastSeriesKey_1;\n        timsort(zLevels, function (a, b) {\n          if (a.zlevel === b.zlevel) {\n            return a.z - b.z;\n          }\n          return a.zlevel - b.zlevel;\n        });\n        each(zLevels, function (item) {\n          var componentModel = ecModel.getComponent(item.type, item.idx);\n          var zlevel = item.zlevel;\n          var key = item.key;\n          if (lastSeriesZLevel_1 != null) {\n            zlevel = Math.max(lastSeriesZLevel_1, zlevel);\n          }\n          if (key) {\n            if (zlevel === lastSeriesZLevel_1 && key !== lastSeriesKey_1) {\n              zlevel++;\n            }\n            lastSeriesKey_1 = key;\n          } else if (lastSeriesKey_1) {\n            if (zlevel === lastSeriesZLevel_1) {\n              zlevel++;\n            }\n            lastSeriesKey_1 = '';\n          }\n          lastSeriesZLevel_1 = zlevel;\n          componentModel.setZLevel(zlevel);\n        });\n      }\n    }\n    render = function (ecIns, ecModel, api, payload, updateParams) {\n      allocateZlevels(ecModel);\n      renderComponents(ecIns, ecModel, api, payload, updateParams);\n      each(ecIns._chartsViews, function (chart) {\n        chart.__alive = false;\n      });\n      renderSeries(ecIns, ecModel, api, payload, updateParams);\n      // Remove groups of unrendered charts\n      each(ecIns._chartsViews, function (chart) {\n        if (!chart.__alive) {\n          chart.remove(ecModel, api);\n        }\n      });\n    };\n    renderComponents = function (ecIns, ecModel, api, payload, updateParams, dirtyList) {\n      each(dirtyList || ecIns._componentsViews, function (componentView) {\n        var componentModel = componentView.__model;\n        clearStates(componentModel, componentView);\n        componentView.render(componentModel, ecModel, api, payload);\n        updateZ(componentModel, componentView);\n        updateStates(componentModel, componentView);\n      });\n    };\n    /**\n     * Render each chart and component\n     */\n    renderSeries = function (ecIns, ecModel, api, payload, updateParams, dirtyMap) {\n      // Render all charts\n      var scheduler = ecIns._scheduler;\n      updateParams = extend(updateParams || {}, {\n        updatedSeries: ecModel.getSeries()\n      });\n      // TODO progressive?\n      lifecycle.trigger('series:beforeupdate', ecModel, api, updateParams);\n      var unfinished = false;\n      ecModel.eachSeries(function (seriesModel) {\n        var chartView = ecIns._chartsMap[seriesModel.__viewId];\n        chartView.__alive = true;\n        var renderTask = chartView.renderTask;\n        scheduler.updatePayload(renderTask, payload);\n        // TODO states on marker.\n        clearStates(seriesModel, chartView);\n        if (dirtyMap && dirtyMap.get(seriesModel.uid)) {\n          renderTask.dirty();\n        }\n        if (renderTask.perform(scheduler.getPerformArgs(renderTask))) {\n          unfinished = true;\n        }\n        chartView.group.silent = !!seriesModel.get('silent');\n        // Should not call markRedraw on group, because it will disable zrender\n        // incremental render (always render from the __startIndex each frame)\n        // chartView.group.markRedraw();\n        updateBlend(seriesModel, chartView);\n        updateSeriesElementSelection(seriesModel);\n      });\n      scheduler.unfinished = unfinished || scheduler.unfinished;\n      lifecycle.trigger('series:layoutlabels', ecModel, api, updateParams);\n      // transition after label is layouted.\n      lifecycle.trigger('series:transition', ecModel, api, updateParams);\n      ecModel.eachSeries(function (seriesModel) {\n        var chartView = ecIns._chartsMap[seriesModel.__viewId];\n        // Update Z after labels updated. Before applying states.\n        updateZ(seriesModel, chartView);\n        // NOTE: Update states after label is updated.\n        // label should be in normal status when layouting.\n        updateStates(seriesModel, chartView);\n      });\n      // If use hover layer\n      updateHoverLayerStatus(ecIns, ecModel);\n      lifecycle.trigger('series:afterupdate', ecModel, api, updateParams);\n    };\n    markStatusToUpdate = function (ecIns) {\n      ecIns[STATUS_NEEDS_UPDATE_KEY] = true;\n      // Wake up zrender if it's sleep. Let it update states in the next frame.\n      ecIns.getZr().wakeUp();\n    };\n    updateMainProcessVersion = function (ecIns) {\n      ecIns[MAIN_PROCESS_VERSION_KEY] = (ecIns[MAIN_PROCESS_VERSION_KEY] + 1) % 1000;\n    };\n    applyChangedStates = function (ecIns) {\n      if (!ecIns[STATUS_NEEDS_UPDATE_KEY]) {\n        return;\n      }\n      ecIns.getZr().storage.traverse(function (el) {\n        // Not applied on removed elements, it may still in fading.\n        if (graphic.isElementRemoved(el)) {\n          return;\n        }\n        applyElementStates(el);\n      });\n      ecIns[STATUS_NEEDS_UPDATE_KEY] = false;\n    };\n    function applyElementStates(el) {\n      var newStates = [];\n      var oldStates = el.currentStates;\n      // Keep other states.\n      for (var i = 0; i < oldStates.length; i++) {\n        var stateName = oldStates[i];\n        if (!(stateName === 'emphasis' || stateName === 'blur' || stateName === 'select')) {\n          newStates.push(stateName);\n        }\n      }\n      // Only use states when it's exists.\n      if (el.selected && el.states.select) {\n        newStates.push('select');\n      }\n      if (el.hoverState === HOVER_STATE_EMPHASIS && el.states.emphasis) {\n        newStates.push('emphasis');\n      } else if (el.hoverState === HOVER_STATE_BLUR && el.states.blur) {\n        newStates.push('blur');\n      }\n      el.useStates(newStates);\n    }\n    function updateHoverLayerStatus(ecIns, ecModel) {\n      var zr = ecIns._zr;\n      var storage = zr.storage;\n      var elCount = 0;\n      storage.traverse(function (el) {\n        if (!el.isGroup) {\n          elCount++;\n        }\n      });\n      if (elCount > ecModel.get('hoverLayerThreshold') && !env.node && !env.worker) {\n        ecModel.eachSeries(function (seriesModel) {\n          if (seriesModel.preventUsingHoverLayer) {\n            return;\n          }\n          var chartView = ecIns._chartsMap[seriesModel.__viewId];\n          if (chartView.__alive) {\n            chartView.eachRendered(function (el) {\n              if (el.states.emphasis) {\n                el.states.emphasis.hoverLayer = true;\n              }\n            });\n          }\n        });\n      }\n    }\n    ;\n    /**\n     * Update chart and blend.\n     */\n    function updateBlend(seriesModel, chartView) {\n      var blendMode = seriesModel.get('blendMode') || null;\n      chartView.eachRendered(function (el) {\n        // FIXME marker and other components\n        if (!el.isGroup) {\n          // DON'T mark the element dirty. In case element is incremental and don't want to rerender.\n          el.style.blend = blendMode;\n        }\n      });\n    }\n    ;\n    function updateZ(model, view) {\n      if (model.preventAutoZ) {\n        return;\n      }\n      var zInfo = graphic.retrieveZInfo(model);\n      // Set z and zlevel\n      view.eachRendered(function (el) {\n        graphic.traverseUpdateZ(el, zInfo.z, zInfo.zlevel);\n        // Don't traverse the children because it has been traversed in _updateZ.\n        return true;\n      });\n    }\n    ;\n    // Clear states without animation.\n    // TODO States on component.\n    function clearStates(model, view) {\n      view.eachRendered(function (el) {\n        // Not applied on removed elements, it may still in fading.\n        if (graphic.isElementRemoved(el)) {\n          return;\n        }\n        var textContent = el.getTextContent();\n        var textGuide = el.getTextGuideLine();\n        if (el.stateTransition) {\n          el.stateTransition = null;\n        }\n        if (textContent && textContent.stateTransition) {\n          textContent.stateTransition = null;\n        }\n        if (textGuide && textGuide.stateTransition) {\n          textGuide.stateTransition = null;\n        }\n        // TODO If el is incremental.\n        if (el.hasState()) {\n          el.prevStates = el.currentStates;\n          el.clearStates();\n        } else if (el.prevStates) {\n          el.prevStates = null;\n        }\n      });\n    }\n    function updateStates(model, view) {\n      var stateAnimationModel = model.getModel('stateAnimation');\n      var enableAnimation = model.isAnimationEnabled();\n      var duration = stateAnimationModel.get('duration');\n      var stateTransition = duration > 0 ? {\n        duration: duration,\n        delay: stateAnimationModel.get('delay'),\n        easing: stateAnimationModel.get('easing')\n        // additive: stateAnimationModel.get('additive')\n      } : null;\n      view.eachRendered(function (el) {\n        if (el.states && el.states.emphasis) {\n          // Not applied on removed elements, it may still in fading.\n          if (graphic.isElementRemoved(el)) {\n            return;\n          }\n          if (el instanceof graphic.Path) {\n            savePathStates(el);\n          }\n          // Only updated on changed element. In case element is incremental and don't want to rerender.\n          // TODO, a more proper way?\n          if (el.__dirty) {\n            var prevStates = el.prevStates;\n            // Restore states without animation\n            if (prevStates) {\n              el.useStates(prevStates);\n            }\n          }\n          // Update state transition and enable animation again.\n          if (enableAnimation) {\n            el.stateTransition = stateTransition;\n            var textContent = el.getTextContent();\n            var textGuide = el.getTextGuideLine();\n            // TODO Is it necessary to animate label?\n            if (textContent) {\n              textContent.stateTransition = stateTransition;\n            }\n            if (textGuide) {\n              textGuide.stateTransition = stateTransition;\n            }\n          }\n          // Use highlighted and selected flag to toggle states.\n          if (el.__dirty) {\n            applyElementStates(el);\n          }\n        }\n      });\n    }\n    ;\n    createExtensionAPI = function (ecIns) {\n      return new (/** @class */function (_super) {\n        __extends(class_1, _super);\n        function class_1() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n        class_1.prototype.getCoordinateSystems = function () {\n          return ecIns._coordSysMgr.getCoordinateSystems();\n        };\n        class_1.prototype.getComponentByElement = function (el) {\n          while (el) {\n            var modelInfo = el.__ecComponentInfo;\n            if (modelInfo != null) {\n              return ecIns._model.getComponent(modelInfo.mainType, modelInfo.index);\n            }\n            el = el.parent;\n          }\n        };\n        class_1.prototype.enterEmphasis = function (el, highlightDigit) {\n          enterEmphasis(el, highlightDigit);\n          markStatusToUpdate(ecIns);\n        };\n        class_1.prototype.leaveEmphasis = function (el, highlightDigit) {\n          leaveEmphasis(el, highlightDigit);\n          markStatusToUpdate(ecIns);\n        };\n        class_1.prototype.enterBlur = function (el) {\n          enterBlur(el);\n          markStatusToUpdate(ecIns);\n        };\n        class_1.prototype.leaveBlur = function (el) {\n          leaveBlur(el);\n          markStatusToUpdate(ecIns);\n        };\n        class_1.prototype.enterSelect = function (el) {\n          enterSelect(el);\n          markStatusToUpdate(ecIns);\n        };\n        class_1.prototype.leaveSelect = function (el) {\n          leaveSelect(el);\n          markStatusToUpdate(ecIns);\n        };\n        class_1.prototype.getModel = function () {\n          return ecIns.getModel();\n        };\n        class_1.prototype.getViewOfComponentModel = function (componentModel) {\n          return ecIns.getViewOfComponentModel(componentModel);\n        };\n        class_1.prototype.getViewOfSeriesModel = function (seriesModel) {\n          return ecIns.getViewOfSeriesModel(seriesModel);\n        };\n        class_1.prototype.getMainProcessVersion = function () {\n          return ecIns[MAIN_PROCESS_VERSION_KEY];\n        };\n        return class_1;\n      }(ExtensionAPI))(ecIns);\n    };\n    enableConnect = function (chart) {\n      function updateConnectedChartsStatus(charts, status) {\n        for (var i = 0; i < charts.length; i++) {\n          var otherChart = charts[i];\n          otherChart[CONNECT_STATUS_KEY] = status;\n        }\n      }\n      each(connectionEventRevertMap, function (_, eventType) {\n        chart._messageCenter.on(eventType, function (event) {\n          if (connectedGroups[chart.group] && chart[CONNECT_STATUS_KEY] !== CONNECT_STATUS_PENDING) {\n            if (event && event.escapeConnect) {\n              return;\n            }\n            var action_1 = chart.makeActionFromEvent(event);\n            var otherCharts_1 = [];\n            each(instances, function (otherChart) {\n              if (otherChart !== chart && otherChart.group === chart.group) {\n                otherCharts_1.push(otherChart);\n              }\n            });\n            updateConnectedChartsStatus(otherCharts_1, CONNECT_STATUS_PENDING);\n            each(otherCharts_1, function (otherChart) {\n              if (otherChart[CONNECT_STATUS_KEY] !== CONNECT_STATUS_UPDATING) {\n                otherChart.dispatchAction(action_1);\n              }\n            });\n            updateConnectedChartsStatus(otherCharts_1, CONNECT_STATUS_UPDATED);\n          }\n        });\n      });\n    };\n  }();\n  return ECharts;\n}(Eventful);\nvar echartsProto = ECharts.prototype;\nechartsProto.on = createRegisterEventWithLowercaseECharts('on');\nechartsProto.off = createRegisterEventWithLowercaseECharts('off');\n/**\n * @deprecated\n */\n// @ts-ignore\nechartsProto.one = function (eventName, cb, ctx) {\n  var self = this;\n  deprecateLog('ECharts#one is deprecated.');\n  function wrapped() {\n    var args2 = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args2[_i] = arguments[_i];\n    }\n    cb && cb.apply && cb.apply(this, args2);\n    // @ts-ignore\n    self.off(eventName, wrapped);\n  }\n  ;\n  // @ts-ignore\n  this.on.call(this, eventName, wrapped, ctx);\n};\nvar MOUSE_EVENT_NAMES = ['click', 'dblclick', 'mouseover', 'mouseout', 'mousemove', 'mousedown', 'mouseup', 'globalout', 'contextmenu'];\nfunction disposedWarning(id) {\n  if (process.env.NODE_ENV !== 'production') {\n    warn('Instance ' + id + ' has been disposed');\n  }\n}\nvar actions = {};\n/**\n * Map event type to action type for reproducing action from event for `connect`.\n */\nvar connectionEventRevertMap = {};\n/**\n * To remove duplication.\n */\nvar publicEventTypeMap = {};\nvar dataProcessorFuncs = [];\nvar optionPreprocessorFuncs = [];\nvar visualFuncs = [];\nvar themeStorage = {};\nvar loadingEffects = {};\nvar instances = {};\nvar connectedGroups = {};\nvar idBase = +new Date() - 0;\nvar groupIdBase = +new Date() - 0;\nvar DOM_ATTRIBUTE_KEY = '_echarts_instance_';\n/**\n * @param opts.devicePixelRatio Use window.devicePixelRatio by default\n * @param opts.renderer Can choose 'canvas' or 'svg' to render the chart.\n * @param opts.width Use clientWidth of the input `dom` by default.\n *        Can be 'auto' (the same as null/undefined)\n * @param opts.height Use clientHeight of the input `dom` by default.\n *        Can be 'auto' (the same as null/undefined)\n * @param opts.locale Specify the locale.\n * @param opts.useDirtyRect Enable dirty rectangle rendering or not.\n */\nexport function init(dom, theme, opts) {\n  var isClient = !(opts && opts.ssr);\n  if (isClient) {\n    if (process.env.NODE_ENV !== 'production') {\n      if (!dom) {\n        throw new Error('Initialize failed: invalid dom.');\n      }\n    }\n    var existInstance = getInstanceByDom(dom);\n    if (existInstance) {\n      if (process.env.NODE_ENV !== 'production') {\n        warn('There is a chart instance already initialized on the dom.');\n      }\n      return existInstance;\n    }\n    if (process.env.NODE_ENV !== 'production') {\n      if (isDom(dom) && dom.nodeName.toUpperCase() !== 'CANVAS' && (!dom.clientWidth && (!opts || opts.width == null) || !dom.clientHeight && (!opts || opts.height == null))) {\n        warn('Can\\'t get DOM width or height. Please check ' + 'dom.clientWidth and dom.clientHeight. They should not be 0.' + 'For example, you may need to call this in the callback ' + 'of window.onload.');\n      }\n    }\n  }\n  var chart = new ECharts(dom, theme, opts);\n  chart.id = 'ec_' + idBase++;\n  instances[chart.id] = chart;\n  isClient && modelUtil.setAttribute(dom, DOM_ATTRIBUTE_KEY, chart.id);\n  enableConnect(chart);\n  lifecycle.trigger('afterinit', chart);\n  return chart;\n}\n/**\n * @usage\n * (A)\n * ```js\n * let chart1 = echarts.init(dom1);\n * let chart2 = echarts.init(dom2);\n * chart1.group = 'xxx';\n * chart2.group = 'xxx';\n * echarts.connect('xxx');\n * ```\n * (B)\n * ```js\n * let chart1 = echarts.init(dom1);\n * let chart2 = echarts.init(dom2);\n * echarts.connect('xxx', [chart1, chart2]);\n * ```\n */\nexport function connect(groupId) {\n  // Is array of charts\n  if (isArray(groupId)) {\n    var charts = groupId;\n    groupId = null;\n    // If any chart has group\n    each(charts, function (chart) {\n      if (chart.group != null) {\n        groupId = chart.group;\n      }\n    });\n    groupId = groupId || 'g_' + groupIdBase++;\n    each(charts, function (chart) {\n      chart.group = groupId;\n    });\n  }\n  connectedGroups[groupId] = true;\n  return groupId;\n}\nexport function disconnect(groupId) {\n  connectedGroups[groupId] = false;\n}\n/**\n * Alias and backward compatibility\n * @deprecated\n */\nexport var disConnect = disconnect;\n/**\n * Dispose a chart instance\n */\nexport function dispose(chart) {\n  if (isString(chart)) {\n    chart = instances[chart];\n  } else if (!(chart instanceof ECharts)) {\n    // Try to treat as dom\n    chart = getInstanceByDom(chart);\n  }\n  if (chart instanceof ECharts && !chart.isDisposed()) {\n    chart.dispose();\n  }\n}\nexport function getInstanceByDom(dom) {\n  return instances[modelUtil.getAttribute(dom, DOM_ATTRIBUTE_KEY)];\n}\nexport function getInstanceById(key) {\n  return instances[key];\n}\n/**\n * Register theme\n */\nexport function registerTheme(name, theme) {\n  themeStorage[name] = theme;\n}\n/**\n * Register option preprocessor\n */\nexport function registerPreprocessor(preprocessorFunc) {\n  if (indexOf(optionPreprocessorFuncs, preprocessorFunc) < 0) {\n    optionPreprocessorFuncs.push(preprocessorFunc);\n  }\n}\nexport function registerProcessor(priority, processor) {\n  normalizeRegister(dataProcessorFuncs, priority, processor, PRIORITY_PROCESSOR_DEFAULT);\n}\n/**\n * Register postIniter\n * @param {Function} postInitFunc\n */\nexport function registerPostInit(postInitFunc) {\n  registerUpdateLifecycle('afterinit', postInitFunc);\n}\n/**\n * Register postUpdater\n * @param {Function} postUpdateFunc\n */\nexport function registerPostUpdate(postUpdateFunc) {\n  registerUpdateLifecycle('afterupdate', postUpdateFunc);\n}\nexport function registerUpdateLifecycle(name, cb) {\n  lifecycle.on(name, cb);\n}\nexport function registerAction(arg0, arg1, action) {\n  var actionType;\n  var publicEventType;\n  var refineEvent;\n  var update;\n  var publishNonRefinedEvent;\n  if (isFunction(arg1)) {\n    action = arg1;\n    arg1 = '';\n  }\n  if (isObject(arg0)) {\n    actionType = arg0.type;\n    publicEventType = arg0.event;\n    update = arg0.update;\n    publishNonRefinedEvent = arg0.publishNonRefinedEvent;\n    if (!action) {\n      action = arg0.action;\n    }\n    refineEvent = arg0.refineEvent;\n  } else {\n    actionType = arg0;\n    publicEventType = arg1;\n  }\n  function createEventType(actionOrEventType) {\n    // Event type should be all lowercase\n    return actionOrEventType.toLowerCase();\n  }\n  publicEventType = createEventType(publicEventType || actionType);\n  // See comments on {ActionInfo} for the reason.\n  var nonRefinedEventType = refineEvent ? createEventType(actionType) : publicEventType;\n  // Support calling `registerAction` multiple times with the same action\n  // type; subsequent calls have no effect.\n  if (actions[actionType]) {\n    return;\n  }\n  // Validate action type and event name.\n  assert(ACTION_REG.test(actionType) && ACTION_REG.test(publicEventType));\n  if (refineEvent) {\n    // An event replicated from the action will be triggered internally for `connect` in this case.\n    assert(publicEventType !== actionType);\n  }\n  actions[actionType] = {\n    actionType: actionType,\n    refinedEventType: publicEventType,\n    nonRefinedEventType: nonRefinedEventType,\n    update: update,\n    action: action,\n    refineEvent: refineEvent\n  };\n  publicEventTypeMap[publicEventType] = 1;\n  if (refineEvent && publishNonRefinedEvent) {\n    publicEventTypeMap[nonRefinedEventType] = 1;\n  }\n  if (process.env.NODE_ENV !== 'production' && connectionEventRevertMap[nonRefinedEventType]) {\n    error(nonRefinedEventType + \" must not be shared; use \\\"refineEvent\\\" if you intend to share an event name.\");\n  }\n  connectionEventRevertMap[nonRefinedEventType] = actionType;\n}\nexport function registerCoordinateSystem(type, coordSysCreator) {\n  CoordinateSystemManager.register(type, coordSysCreator);\n}\n/**\n * Get dimensions of specified coordinate system.\n * @param {string} type\n * @return {Array.<string|Object>}\n */\nexport function getCoordinateSystemDimensions(type) {\n  var coordSysCreator = CoordinateSystemManager.get(type);\n  if (coordSysCreator) {\n    return coordSysCreator.getDimensionsInfo ? coordSysCreator.getDimensionsInfo() : coordSysCreator.dimensions.slice();\n  }\n}\nexport function registerCustomSeries(seriesType, renderItem) {\n  registerCustom(seriesType, renderItem);\n}\nexport { registerLocale } from './locale.js';\nfunction registerLayout(priority, layoutTask) {\n  normalizeRegister(visualFuncs, priority, layoutTask, PRIORITY_VISUAL_LAYOUT, 'layout');\n}\nfunction registerVisual(priority, visualTask) {\n  normalizeRegister(visualFuncs, priority, visualTask, PRIORITY_VISUAL_CHART, 'visual');\n}\nexport { registerLayout, registerVisual };\nvar registeredTasks = [];\nfunction normalizeRegister(targetList, priority, fn, defaultPriority, visualType) {\n  if (isFunction(priority) || isObject(priority)) {\n    fn = priority;\n    priority = defaultPriority;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    if (isNaN(priority) || priority == null) {\n      throw new Error('Illegal priority');\n    }\n    // Check duplicate\n    each(targetList, function (wrap) {\n      assert(wrap.__raw !== fn);\n    });\n  }\n  // Already registered\n  if (indexOf(registeredTasks, fn) >= 0) {\n    return;\n  }\n  registeredTasks.push(fn);\n  var stageHandler = Scheduler.wrapStageHandler(fn, visualType);\n  stageHandler.__prio = priority;\n  stageHandler.__raw = fn;\n  targetList.push(stageHandler);\n}\nexport function registerLoading(name, loadingFx) {\n  loadingEffects[name] = loadingFx;\n}\n/**\n * ZRender need a canvas context to do measureText.\n * But in node environment canvas may be created by node-canvas.\n * So we need to specify how to create a canvas instead of using document.createElement('canvas')\n *\n *\n * @deprecated use setPlatformAPI({ createCanvas }) instead.\n *\n * @example\n *     let Canvas = require('canvas');\n *     let echarts = require('echarts');\n *     echarts.setCanvasCreator(function () {\n *         // Small size is enough.\n *         return new Canvas(32, 32);\n *     });\n */\nexport function setCanvasCreator(creator) {\n  if (process.env.NODE_ENV !== 'production') {\n    deprecateLog('setCanvasCreator is deprecated. Use setPlatformAPI({ createCanvas }) instead.');\n  }\n  setPlatformAPI({\n    createCanvas: creator\n  });\n}\n/**\n * The parameters and usage: see `geoSourceManager.registerMap`.\n * Compatible with previous `echarts.registerMap`.\n */\nexport function registerMap(mapName, geoJson, specialAreas) {\n  var registerMap = getImpl('registerMap');\n  registerMap && registerMap(mapName, geoJson, specialAreas);\n}\nexport function getMap(mapName) {\n  var getMap = getImpl('getMap');\n  return getMap && getMap(mapName);\n}\nexport var registerTransform = registerExternalTransform;\n/**\n * Globa dispatchAction to a specified chart instance.\n */\n// export function dispatchAction(payload: { chartId: string } & Payload, opt?: Parameters<ECharts['dispatchAction']>[1]) {\n//     if (!payload || !payload.chartId) {\n//         // Must have chartId to find chart\n//         return;\n//     }\n//     const chart = instances[payload.chartId];\n//     if (chart) {\n//         chart.dispatchAction(payload, opt);\n//     }\n// }\n// Builtin global visual\nregisterVisual(PRIORITY_VISUAL_GLOBAL, seriesStyleTask);\nregisterVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM, dataStyleTask);\nregisterVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM, dataColorPaletteTask);\nregisterVisual(PRIORITY_VISUAL_GLOBAL, seriesSymbolTask);\nregisterVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM, dataSymbolTask);\nregisterVisual(PRIORITY_VISUAL_DECAL, decal);\nregisterPreprocessor(backwardCompat);\nregisterProcessor(PRIORITY_PROCESSOR_DATASTACK, dataStack);\nregisterLoading('default', loadingDefault);\n// Default actions\nregisterAction({\n  type: HIGHLIGHT_ACTION_TYPE,\n  event: HIGHLIGHT_ACTION_TYPE,\n  update: HIGHLIGHT_ACTION_TYPE\n}, noop);\nregisterAction({\n  type: DOWNPLAY_ACTION_TYPE,\n  event: DOWNPLAY_ACTION_TYPE,\n  update: DOWNPLAY_ACTION_TYPE\n}, noop);\nregisterAction({\n  type: SELECT_ACTION_TYPE,\n  event: SELECT_CHANGED_EVENT_TYPE,\n  update: SELECT_ACTION_TYPE,\n  action: noop,\n  refineEvent: makeSelectChangedEvent,\n  publishNonRefinedEvent: true\n});\nregisterAction({\n  type: UNSELECT_ACTION_TYPE,\n  event: SELECT_CHANGED_EVENT_TYPE,\n  update: UNSELECT_ACTION_TYPE,\n  action: noop,\n  refineEvent: makeSelectChangedEvent,\n  publishNonRefinedEvent: true\n});\nregisterAction({\n  type: TOGGLE_SELECT_ACTION_TYPE,\n  event: SELECT_CHANGED_EVENT_TYPE,\n  update: TOGGLE_SELECT_ACTION_TYPE,\n  action: noop,\n  refineEvent: makeSelectChangedEvent,\n  publishNonRefinedEvent: true\n});\nfunction makeSelectChangedEvent(actionResultBatch, payload, ecModel, api) {\n  return {\n    eventContent: {\n      selected: getAllSelectedIndices(ecModel),\n      isFromClick: payload.isFromClick || false\n    }\n  };\n}\n// Default theme, so that we can use `chart.setTheme('default')` to revert to\n// the default theme after changing to other themes.\nregisterTheme('default', {});\nregisterTheme('dark', darkTheme);\n// For backward compatibility, where the namespace `dataTool` will\n// be mounted on `echarts` is the extension `dataTool` is imported.\nexport var dataTool = {};","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction dataIndexMapValueLength(valNumOrArrLengthMoreThan2) {\n  return valNumOrArrLengthMoreThan2 == null ? 0 : valNumOrArrLengthMoreThan2.length || 1;\n}\nfunction defaultKeyGetter(item) {\n  return item;\n}\nvar DataDiffer = /** @class */function () {\n  /**\n   * @param context Can be visited by this.context in callback.\n   */\n  function DataDiffer(oldArr, newArr, oldKeyGetter, newKeyGetter, context,\n  // By default: 'oneToOne'.\n  diffMode) {\n    this._old = oldArr;\n    this._new = newArr;\n    this._oldKeyGetter = oldKeyGetter || defaultKeyGetter;\n    this._newKeyGetter = newKeyGetter || defaultKeyGetter;\n    // Visible in callback via `this.context`;\n    this.context = context;\n    this._diffModeMultiple = diffMode === 'multiple';\n  }\n  /**\n   * Callback function when add a data\n   */\n  DataDiffer.prototype.add = function (func) {\n    this._add = func;\n    return this;\n  };\n  /**\n   * Callback function when update a data\n   */\n  DataDiffer.prototype.update = function (func) {\n    this._update = func;\n    return this;\n  };\n  /**\n   * Callback function when update a data and only work in `cbMode: 'byKey'`.\n   */\n  DataDiffer.prototype.updateManyToOne = function (func) {\n    this._updateManyToOne = func;\n    return this;\n  };\n  /**\n   * Callback function when update a data and only work in `cbMode: 'byKey'`.\n   */\n  DataDiffer.prototype.updateOneToMany = function (func) {\n    this._updateOneToMany = func;\n    return this;\n  };\n  /**\n   * Callback function when update a data and only work in `cbMode: 'byKey'`.\n   */\n  DataDiffer.prototype.updateManyToMany = function (func) {\n    this._updateManyToMany = func;\n    return this;\n  };\n  /**\n   * Callback function when remove a data\n   */\n  DataDiffer.prototype.remove = function (func) {\n    this._remove = func;\n    return this;\n  };\n  DataDiffer.prototype.execute = function () {\n    this[this._diffModeMultiple ? '_executeMultiple' : '_executeOneToOne']();\n  };\n  DataDiffer.prototype._executeOneToOne = function () {\n    var oldArr = this._old;\n    var newArr = this._new;\n    var newDataIndexMap = {};\n    var oldDataKeyArr = new Array(oldArr.length);\n    var newDataKeyArr = new Array(newArr.length);\n    this._initIndexMap(oldArr, null, oldDataKeyArr, '_oldKeyGetter');\n    this._initIndexMap(newArr, newDataIndexMap, newDataKeyArr, '_newKeyGetter');\n    for (var i = 0; i < oldArr.length; i++) {\n      var oldKey = oldDataKeyArr[i];\n      var newIdxMapVal = newDataIndexMap[oldKey];\n      var newIdxMapValLen = dataIndexMapValueLength(newIdxMapVal);\n      // idx can never be empty array here. see 'set null' logic below.\n      if (newIdxMapValLen > 1) {\n        // Consider there is duplicate key (for example, use dataItem.name as key).\n        // We should make sure every item in newArr and oldArr can be visited.\n        var newIdx = newIdxMapVal.shift();\n        if (newIdxMapVal.length === 1) {\n          newDataIndexMap[oldKey] = newIdxMapVal[0];\n        }\n        this._update && this._update(newIdx, i);\n      } else if (newIdxMapValLen === 1) {\n        newDataIndexMap[oldKey] = null;\n        this._update && this._update(newIdxMapVal, i);\n      } else {\n        this._remove && this._remove(i);\n      }\n    }\n    this._performRestAdd(newDataKeyArr, newDataIndexMap);\n  };\n  /**\n   * For example, consider the case:\n   * oldData: [o0, o1, o2, o3, o4, o5, o6, o7],\n   * newData: [n0, n1, n2, n3, n4, n5, n6, n7, n8],\n   * Where:\n   *     o0, o1, n0 has key 'a' (many to one)\n   *     o5, n4, n5, n6 has key 'b' (one to many)\n   *     o2, n1 has key 'c' (one to one)\n   *     n2, n3 has key 'd' (add)\n   *     o3, o4 has key 'e' (remove)\n   *     o6, o7, n7, n8 has key 'f' (many to many, treated as add and remove)\n   * Then:\n   *     (The order of the following directives are not ensured.)\n   *     this._updateManyToOne(n0, [o0, o1]);\n   *     this._updateOneToMany([n4, n5, n6], o5);\n   *     this._update(n1, o2);\n   *     this._remove(o3);\n   *     this._remove(o4);\n   *     this._remove(o6);\n   *     this._remove(o7);\n   *     this._add(n2);\n   *     this._add(n3);\n   *     this._add(n7);\n   *     this._add(n8);\n   */\n  DataDiffer.prototype._executeMultiple = function () {\n    var oldArr = this._old;\n    var newArr = this._new;\n    var oldDataIndexMap = {};\n    var newDataIndexMap = {};\n    var oldDataKeyArr = [];\n    var newDataKeyArr = [];\n    this._initIndexMap(oldArr, oldDataIndexMap, oldDataKeyArr, '_oldKeyGetter');\n    this._initIndexMap(newArr, newDataIndexMap, newDataKeyArr, '_newKeyGetter');\n    for (var i = 0; i < oldDataKeyArr.length; i++) {\n      var oldKey = oldDataKeyArr[i];\n      var oldIdxMapVal = oldDataIndexMap[oldKey];\n      var newIdxMapVal = newDataIndexMap[oldKey];\n      var oldIdxMapValLen = dataIndexMapValueLength(oldIdxMapVal);\n      var newIdxMapValLen = dataIndexMapValueLength(newIdxMapVal);\n      if (oldIdxMapValLen > 1 && newIdxMapValLen === 1) {\n        this._updateManyToOne && this._updateManyToOne(newIdxMapVal, oldIdxMapVal);\n        newDataIndexMap[oldKey] = null;\n      } else if (oldIdxMapValLen === 1 && newIdxMapValLen > 1) {\n        this._updateOneToMany && this._updateOneToMany(newIdxMapVal, oldIdxMapVal);\n        newDataIndexMap[oldKey] = null;\n      } else if (oldIdxMapValLen === 1 && newIdxMapValLen === 1) {\n        this._update && this._update(newIdxMapVal, oldIdxMapVal);\n        newDataIndexMap[oldKey] = null;\n      } else if (oldIdxMapValLen > 1 && newIdxMapValLen > 1) {\n        this._updateManyToMany && this._updateManyToMany(newIdxMapVal, oldIdxMapVal);\n        newDataIndexMap[oldKey] = null;\n      } else if (oldIdxMapValLen > 1) {\n        for (var i_1 = 0; i_1 < oldIdxMapValLen; i_1++) {\n          this._remove && this._remove(oldIdxMapVal[i_1]);\n        }\n      } else {\n        this._remove && this._remove(oldIdxMapVal);\n      }\n    }\n    this._performRestAdd(newDataKeyArr, newDataIndexMap);\n  };\n  DataDiffer.prototype._performRestAdd = function (newDataKeyArr, newDataIndexMap) {\n    for (var i = 0; i < newDataKeyArr.length; i++) {\n      var newKey = newDataKeyArr[i];\n      var newIdxMapVal = newDataIndexMap[newKey];\n      var idxMapValLen = dataIndexMapValueLength(newIdxMapVal);\n      if (idxMapValLen > 1) {\n        for (var j = 0; j < idxMapValLen; j++) {\n          this._add && this._add(newIdxMapVal[j]);\n        }\n      } else if (idxMapValLen === 1) {\n        this._add && this._add(newIdxMapVal);\n      }\n      // Support both `newDataKeyArr` are duplication removed or not removed.\n      newDataIndexMap[newKey] = null;\n    }\n  };\n  DataDiffer.prototype._initIndexMap = function (arr,\n  // Can be null.\n  map,\n  // In 'byKey', the output `keyArr` is duplication removed.\n  // In 'byIndex', the output `keyArr` is not duplication removed and\n  //     its indices are accurately corresponding to `arr`.\n  keyArr, keyGetterName) {\n    var cbModeMultiple = this._diffModeMultiple;\n    for (var i = 0; i < arr.length; i++) {\n      // Add prefix to avoid conflict with Object.prototype.\n      var key = '_ec_' + this[keyGetterName](arr[i], i);\n      if (!cbModeMultiple) {\n        keyArr[i] = key;\n      }\n      if (!map) {\n        continue;\n      }\n      var idxMapVal = map[key];\n      var idxMapValLen = dataIndexMapValueLength(idxMapVal);\n      if (idxMapValLen === 0) {\n        // Simple optimize: in most cases, one index has one key,\n        // do not need array.\n        map[key] = i;\n        if (cbModeMultiple) {\n          keyArr.push(key);\n        }\n      } else if (idxMapValLen === 1) {\n        map[key] = [idxMapVal, i];\n      } else {\n        idxMapVal.push(i);\n      }\n    }\n  };\n  return DataDiffer;\n}();\nexport default DataDiffer;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { each, createHashMap, assert, map } from 'zrender/lib/core/util.js';\nimport { VISUAL_DIMENSIONS } from '../../util/types.js';\nvar DimensionUserOuput = /** @class */function () {\n  function DimensionUserOuput(encode, dimRequest) {\n    this._encode = encode;\n    this._schema = dimRequest;\n  }\n  DimensionUserOuput.prototype.get = function () {\n    return {\n      // Do not generate full dimension name until fist used.\n      fullDimensions: this._getFullDimensionNames(),\n      encode: this._encode\n    };\n  };\n  /**\n   * Get all data store dimension names.\n   * Theoretically a series data store is defined both by series and used dataset (if any).\n   * If some dimensions are omitted for performance reason in `this.dimensions`,\n   * the dimension name may not be auto-generated if user does not specify a dimension name.\n   * In this case, the dimension name is `null`/`undefined`.\n   */\n  DimensionUserOuput.prototype._getFullDimensionNames = function () {\n    if (!this._cachedDimNames) {\n      this._cachedDimNames = this._schema ? this._schema.makeOutputDimensionNames() : [];\n    }\n    return this._cachedDimNames;\n  };\n  return DimensionUserOuput;\n}();\n;\nexport function summarizeDimensions(data, schema) {\n  var summary = {};\n  var encode = summary.encode = {};\n  var notExtraCoordDimMap = createHashMap();\n  var defaultedLabel = [];\n  var defaultedTooltip = [];\n  var userOutputEncode = {};\n  each(data.dimensions, function (dimName) {\n    var dimItem = data.getDimensionInfo(dimName);\n    var coordDim = dimItem.coordDim;\n    if (coordDim) {\n      if (process.env.NODE_ENV !== 'production') {\n        assert(VISUAL_DIMENSIONS.get(coordDim) == null);\n      }\n      var coordDimIndex = dimItem.coordDimIndex;\n      getOrCreateEncodeArr(encode, coordDim)[coordDimIndex] = dimName;\n      if (!dimItem.isExtraCoord) {\n        notExtraCoordDimMap.set(coordDim, 1);\n        // Use the last coord dim (and label friendly) as default label,\n        // because when dataset is used, it is hard to guess which dimension\n        // can be value dimension. If both show x, y on label is not look good,\n        // and conventionally y axis is focused more.\n        if (mayLabelDimType(dimItem.type)) {\n          defaultedLabel[0] = dimName;\n        }\n        // User output encode do not contain generated coords.\n        // And it only has index. User can use index to retrieve value from the raw item array.\n        getOrCreateEncodeArr(userOutputEncode, coordDim)[coordDimIndex] = data.getDimensionIndex(dimItem.name);\n      }\n      if (dimItem.defaultTooltip) {\n        defaultedTooltip.push(dimName);\n      }\n    }\n    VISUAL_DIMENSIONS.each(function (v, otherDim) {\n      var encodeArr = getOrCreateEncodeArr(encode, otherDim);\n      var dimIndex = dimItem.otherDims[otherDim];\n      if (dimIndex != null && dimIndex !== false) {\n        encodeArr[dimIndex] = dimItem.name;\n      }\n    });\n  });\n  var dataDimsOnCoord = [];\n  var encodeFirstDimNotExtra = {};\n  notExtraCoordDimMap.each(function (v, coordDim) {\n    var dimArr = encode[coordDim];\n    encodeFirstDimNotExtra[coordDim] = dimArr[0];\n    // Not necessary to remove duplicate, because a data\n    // dim canot on more than one coordDim.\n    dataDimsOnCoord = dataDimsOnCoord.concat(dimArr);\n  });\n  summary.dataDimsOnCoord = dataDimsOnCoord;\n  summary.dataDimIndicesOnCoord = map(dataDimsOnCoord, function (dimName) {\n    return data.getDimensionInfo(dimName).storeDimIndex;\n  });\n  summary.encodeFirstDimNotExtra = encodeFirstDimNotExtra;\n  var encodeLabel = encode.label;\n  // FIXME `encode.label` is not recommended, because formatter cannot be set\n  // in this way. Use label.formatter instead. Maybe remove this approach someday.\n  if (encodeLabel && encodeLabel.length) {\n    defaultedLabel = encodeLabel.slice();\n  }\n  var encodeTooltip = encode.tooltip;\n  if (encodeTooltip && encodeTooltip.length) {\n    defaultedTooltip = encodeTooltip.slice();\n  } else if (!defaultedTooltip.length) {\n    defaultedTooltip = defaultedLabel.slice();\n  }\n  encode.defaultedLabel = defaultedLabel;\n  encode.defaultedTooltip = defaultedTooltip;\n  summary.userOutput = new DimensionUserOuput(userOutputEncode, schema);\n  return summary;\n}\nfunction getOrCreateEncodeArr(encode, dim) {\n  if (!encode.hasOwnProperty(dim)) {\n    encode[dim] = [];\n  }\n  return encode[dim];\n}\n// FIXME:TS should be type `AxisType`\nexport function getDimensionTypeByAxis(axisType) {\n  return axisType === 'category' ? 'ordinal' : axisType === 'time' ? 'time' : 'float';\n}\nfunction mayLabelDimType(dimType) {\n  // In most cases, ordinal and time do not suitable for label.\n  // Ordinal info can be displayed on axis. Time is too long.\n  return !(dimType === 'ordinal' || dimType === 'time');\n}\n// function findTheLastDimMayLabel(data) {\n//     // Get last value dim\n//     let dimensions = data.dimensions.slice();\n//     let valueType;\n//     let valueDim;\n//     while (dimensions.length && (\n//         valueDim = dimensions.pop(),\n//         valueType = data.getDimensionInfo(valueDim).type,\n//         valueType === 'ordinal' || valueType === 'time'\n//     )) {} // jshint ignore:line\n//     return valueDim;\n// }","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nvar SeriesDimensionDefine = /** @class */function () {\n  /**\n   * @param opt All of the fields will be shallow copied.\n   */\n  function SeriesDimensionDefine(opt) {\n    /**\n     * The format of `otherDims` is:\n     * ```js\n     * {\n     *     tooltip?: number\n     *     label?: number\n     *     itemName?: number\n     *     seriesName?: number\n     * }\n     * ```\n     *\n     * A `series.encode` can specified these fields:\n     * ```js\n     * encode: {\n     *     // \"3, 1, 5\" is the index of data dimension.\n     *     tooltip: [3, 1, 5],\n     *     label: [0, 3],\n     *     ...\n     * }\n     * ```\n     * `otherDims` is the parse result of the `series.encode` above, like:\n     * ```js\n     * // Suppose the index of this data dimension is `3`.\n     * this.otherDims = {\n     *     // `3` is at the index `0` of the `encode.tooltip`\n     *     tooltip: 0,\n     *     // `3` is at the index `1` of the `encode.label`\n     *     label: 1\n     * };\n     * ```\n     *\n     * This prop should never be `null`/`undefined` after initialized.\n     */\n    this.otherDims = {};\n    if (opt != null) {\n      zrUtil.extend(this, opt);\n    }\n  }\n  return SeriesDimensionDefine;\n}();\n;\nexport default SeriesDimensionDefine;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { createHashMap, isObject, retrieve2 } from 'zrender/lib/core/util.js';\nimport { makeInner } from '../../util/model.js';\nimport { shouldRetrieveDataByName } from '../Source.js';\nvar inner = makeInner();\nvar dimTypeShort = {\n  float: 'f',\n  int: 'i',\n  ordinal: 'o',\n  number: 'n',\n  time: 't'\n};\n/**\n * Represents the dimension requirement of a series.\n *\n * NOTICE:\n * When there are too many dimensions in dataset and many series, only the used dimensions\n * (i.e., used by coord sys and declared in `series.encode`) are add to `dimensionDefineList`.\n * But users may query data by other unused dimension names.\n * In this case, users can only query data if and only if they have defined dimension names\n * via ec option, so we provide `getDimensionIndexFromSource`, which only query them from\n * `source` dimensions.\n */\nvar SeriesDataSchema = /** @class */function () {\n  function SeriesDataSchema(opt) {\n    this.dimensions = opt.dimensions;\n    this._dimOmitted = opt.dimensionOmitted;\n    this.source = opt.source;\n    this._fullDimCount = opt.fullDimensionCount;\n    this._updateDimOmitted(opt.dimensionOmitted);\n  }\n  SeriesDataSchema.prototype.isDimensionOmitted = function () {\n    return this._dimOmitted;\n  };\n  SeriesDataSchema.prototype._updateDimOmitted = function (dimensionOmitted) {\n    this._dimOmitted = dimensionOmitted;\n    if (!dimensionOmitted) {\n      return;\n    }\n    if (!this._dimNameMap) {\n      this._dimNameMap = ensureSourceDimNameMap(this.source);\n    }\n  };\n  /**\n   * @caution Can only be used when `dimensionOmitted: true`.\n   *\n   * Get index by user defined dimension name (i.e., not internal generate name).\n   * That is, get index from `dimensionsDefine`.\n   * If no `dimensionsDefine`, or no name get, return -1.\n   */\n  SeriesDataSchema.prototype.getSourceDimensionIndex = function (dimName) {\n    return retrieve2(this._dimNameMap.get(dimName), -1);\n  };\n  /**\n   * @caution Can only be used when `dimensionOmitted: true`.\n   *\n   * Notice: may return `null`/`undefined` if user not specify dimension names.\n   */\n  SeriesDataSchema.prototype.getSourceDimension = function (dimIndex) {\n    var dimensionsDefine = this.source.dimensionsDefine;\n    if (dimensionsDefine) {\n      return dimensionsDefine[dimIndex];\n    }\n  };\n  SeriesDataSchema.prototype.makeStoreSchema = function () {\n    var dimCount = this._fullDimCount;\n    var willRetrieveDataByName = shouldRetrieveDataByName(this.source);\n    var makeHashStrict = !shouldOmitUnusedDimensions(dimCount);\n    // If source don't have dimensions or series don't omit unsed dimensions.\n    // Generate from seriesDimList directly\n    var dimHash = '';\n    var dims = [];\n    for (var fullDimIdx = 0, seriesDimIdx = 0; fullDimIdx < dimCount; fullDimIdx++) {\n      var property = void 0;\n      var type = void 0;\n      var ordinalMeta = void 0;\n      var seriesDimDef = this.dimensions[seriesDimIdx];\n      // The list has been sorted by `storeDimIndex` asc.\n      if (seriesDimDef && seriesDimDef.storeDimIndex === fullDimIdx) {\n        property = willRetrieveDataByName ? seriesDimDef.name : null;\n        type = seriesDimDef.type;\n        ordinalMeta = seriesDimDef.ordinalMeta;\n        seriesDimIdx++;\n      } else {\n        var sourceDimDef = this.getSourceDimension(fullDimIdx);\n        if (sourceDimDef) {\n          property = willRetrieveDataByName ? sourceDimDef.name : null;\n          type = sourceDimDef.type;\n        }\n      }\n      dims.push({\n        property: property,\n        type: type,\n        ordinalMeta: ordinalMeta\n      });\n      // If retrieving data by index,\n      //   use <index, type, ordinalMeta> to determine whether data can be shared.\n      //   (Because in this case there might be no dimension name defined in dataset, but indices always exists).\n      //   (Indices are always 0, 1, 2, ..., so we can ignore them to shorten the hash).\n      // Otherwise if retrieving data by property name (like `data: [{aa: 123, bb: 765}, ...]`),\n      //   use <property, type, ordinalMeta> in hash.\n      if (willRetrieveDataByName && property != null\n      // For data stack, we have make sure each series has its own dim on this store.\n      // So we do not add property to hash to make sure they can share this store.\n      && (!seriesDimDef || !seriesDimDef.isCalculationCoord)) {\n        dimHash += makeHashStrict\n        // Use escape character '`' in case that property name contains '$'.\n        ? property.replace(/\\`/g, '`1').replace(/\\$/g, '`2')\n        // For better performance, when there are large dimensions, tolerant this defects that hardly meet.\n        : property;\n      }\n      dimHash += '$';\n      dimHash += dimTypeShort[type] || 'f';\n      if (ordinalMeta) {\n        dimHash += ordinalMeta.uid;\n      }\n      dimHash += '$';\n    }\n    // Source from endpoint(usually series) will be read differently\n    // when seriesLayoutBy or startIndex(which is affected by sourceHeader) are different.\n    // So we use this three props as key.\n    var source = this.source;\n    var hash = [source.seriesLayoutBy, source.startIndex, dimHash].join('$$');\n    return {\n      dimensions: dims,\n      hash: hash\n    };\n  };\n  SeriesDataSchema.prototype.makeOutputDimensionNames = function () {\n    var result = [];\n    for (var fullDimIdx = 0, seriesDimIdx = 0; fullDimIdx < this._fullDimCount; fullDimIdx++) {\n      var name_1 = void 0;\n      var seriesDimDef = this.dimensions[seriesDimIdx];\n      // The list has been sorted by `storeDimIndex` asc.\n      if (seriesDimDef && seriesDimDef.storeDimIndex === fullDimIdx) {\n        if (!seriesDimDef.isCalculationCoord) {\n          name_1 = seriesDimDef.name;\n        }\n        seriesDimIdx++;\n      } else {\n        var sourceDimDef = this.getSourceDimension(fullDimIdx);\n        if (sourceDimDef) {\n          name_1 = sourceDimDef.name;\n        }\n      }\n      result.push(name_1);\n    }\n    return result;\n  };\n  SeriesDataSchema.prototype.appendCalculationDimension = function (dimDef) {\n    this.dimensions.push(dimDef);\n    dimDef.isCalculationCoord = true;\n    this._fullDimCount++;\n    // If append dimension on a data store, consider the store\n    // might be shared by different series, series dimensions not\n    // really map to store dimensions.\n    this._updateDimOmitted(true);\n  };\n  return SeriesDataSchema;\n}();\nexport { SeriesDataSchema };\nexport function isSeriesDataSchema(schema) {\n  return schema instanceof SeriesDataSchema;\n}\nexport function createDimNameMap(dimsDef) {\n  var dataDimNameMap = createHashMap();\n  for (var i = 0; i < (dimsDef || []).length; i++) {\n    var dimDefItemRaw = dimsDef[i];\n    var userDimName = isObject(dimDefItemRaw) ? dimDefItemRaw.name : dimDefItemRaw;\n    if (userDimName != null && dataDimNameMap.get(userDimName) == null) {\n      dataDimNameMap.set(userDimName, i);\n    }\n  }\n  return dataDimNameMap;\n}\nexport function ensureSourceDimNameMap(source) {\n  var innerSource = inner(source);\n  return innerSource.dimNameMap || (innerSource.dimNameMap = createDimNameMap(source.dimensionsDefine));\n}\nexport function shouldOmitUnusedDimensions(dimCount) {\n  return dimCount > 30;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n/* global Int32Array */\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport Model from '../model/Model.js';\nimport DataDiffer from './DataDiffer.js';\nimport { DefaultDataProvider } from './helper/dataProvider.js';\nimport { summarizeDimensions } from './helper/dimensionHelper.js';\nimport SeriesDimensionDefine from './SeriesDimensionDefine.js';\nimport { SOURCE_FORMAT_TYPED_ARRAY, SOURCE_FORMAT_ORIGINAL } from '../util/types.js';\nimport { convertOptionIdName, isDataItemOption } from '../util/model.js';\nimport { setCommonECData } from '../util/innerStore.js';\nimport { isSourceInstance } from './Source.js';\nimport DataStore from './DataStore.js';\nimport { isSeriesDataSchema } from './helper/SeriesDataSchema.js';\nvar isObject = zrUtil.isObject;\nvar map = zrUtil.map;\nvar CtorInt32Array = typeof Int32Array === 'undefined' ? Array : Int32Array;\n// Use prefix to avoid index to be the same as otherIdList[idx],\n// which will cause weird update animation.\nvar ID_PREFIX = 'e\\0\\0';\nvar INDEX_NOT_FOUND = -1;\n// type SeriesDimensionIndex = DimensionIndex;\nvar TRANSFERABLE_PROPERTIES = ['hasItemOption', '_nameList', '_idList', '_invertedIndicesMap', '_dimSummary', 'userOutput', '_rawData', '_dimValueGetter', '_nameDimIdx', '_idDimIdx', '_nameRepeatCount'];\nvar CLONE_PROPERTIES = ['_approximateExtent'];\n// -----------------------------\n// Internal method declarations:\n// -----------------------------\nvar prepareInvertedIndex;\nvar getId;\nvar getIdNameFromStore;\nvar normalizeDimensions;\nvar transferProperties;\nvar cloneListForMapAndSample;\nvar makeIdFromName;\nvar SeriesData = /** @class */function () {\n  /**\n   * @param dimensionsInput.dimensions\n   *        For example, ['someDimName', {name: 'someDimName', type: 'someDimType'}, ...].\n   *        Dimensions should be concrete names like x, y, z, lng, lat, angle, radius\n   */\n  function SeriesData(dimensionsInput, hostModel) {\n    this.type = 'list';\n    this._dimOmitted = false;\n    this._nameList = [];\n    this._idList = [];\n    // Models of data option is stored sparse for optimizing memory cost\n    // Never used yet (not used yet).\n    // private _optionModels: Model[] = [];\n    // Global visual properties after visual coding\n    this._visual = {};\n    // Global layout properties.\n    this._layout = {};\n    // Item visual properties after visual coding\n    this._itemVisuals = [];\n    // Item layout properties after layout\n    this._itemLayouts = [];\n    // Graphic elements\n    this._graphicEls = [];\n    // key: dim, value: extent\n    this._approximateExtent = {};\n    this._calculationInfo = {};\n    // Having detected that there is data item is non primitive type\n    // (in type `OptionDataItemObject`).\n    // Like `data: [ { value: xx, itemStyle: {...} }, ...]`\n    // At present it only happen in `SOURCE_FORMAT_ORIGINAL`.\n    this.hasItemOption = false;\n    // Methods that create a new list based on this list should be listed here.\n    // Notice that those method should `RETURN` the new list.\n    this.TRANSFERABLE_METHODS = ['cloneShallow', 'downSample', 'minmaxDownSample', 'lttbDownSample', 'map'];\n    // Methods that change indices of this list should be listed here.\n    this.CHANGABLE_METHODS = ['filterSelf', 'selectRange'];\n    this.DOWNSAMPLE_METHODS = ['downSample', 'minmaxDownSample', 'lttbDownSample'];\n    var dimensions;\n    var assignStoreDimIdx = false;\n    if (isSeriesDataSchema(dimensionsInput)) {\n      dimensions = dimensionsInput.dimensions;\n      this._dimOmitted = dimensionsInput.isDimensionOmitted();\n      this._schema = dimensionsInput;\n    } else {\n      assignStoreDimIdx = true;\n      dimensions = dimensionsInput;\n    }\n    dimensions = dimensions || ['x', 'y'];\n    var dimensionInfos = {};\n    var dimensionNames = [];\n    var invertedIndicesMap = {};\n    var needsHasOwn = false;\n    var emptyObj = {};\n    for (var i = 0; i < dimensions.length; i++) {\n      // Use the original dimensions[i], where other flag props may exists.\n      var dimInfoInput = dimensions[i];\n      var dimensionInfo = zrUtil.isString(dimInfoInput) ? new SeriesDimensionDefine({\n        name: dimInfoInput\n      }) : !(dimInfoInput instanceof SeriesDimensionDefine) ? new SeriesDimensionDefine(dimInfoInput) : dimInfoInput;\n      var dimensionName = dimensionInfo.name;\n      dimensionInfo.type = dimensionInfo.type || 'float';\n      if (!dimensionInfo.coordDim) {\n        dimensionInfo.coordDim = dimensionName;\n        dimensionInfo.coordDimIndex = 0;\n      }\n      var otherDims = dimensionInfo.otherDims = dimensionInfo.otherDims || {};\n      dimensionNames.push(dimensionName);\n      dimensionInfos[dimensionName] = dimensionInfo;\n      if (emptyObj[dimensionName] != null) {\n        needsHasOwn = true;\n      }\n      if (dimensionInfo.createInvertedIndices) {\n        invertedIndicesMap[dimensionName] = [];\n      }\n      var dimIdx = i;\n      if (zrUtil.isNumber(dimensionInfo.storeDimIndex)) {\n        dimIdx = dimensionInfo.storeDimIndex;\n      }\n      if (otherDims.itemName === 0) {\n        this._nameDimIdx = dimIdx;\n      }\n      if (otherDims.itemId === 0) {\n        this._idDimIdx = dimIdx;\n      }\n      if (process.env.NODE_ENV !== 'production') {\n        zrUtil.assert(assignStoreDimIdx || dimensionInfo.storeDimIndex >= 0);\n      }\n      if (assignStoreDimIdx) {\n        dimensionInfo.storeDimIndex = i;\n      }\n    }\n    this.dimensions = dimensionNames;\n    this._dimInfos = dimensionInfos;\n    this._initGetDimensionInfo(needsHasOwn);\n    this.hostModel = hostModel;\n    this._invertedIndicesMap = invertedIndicesMap;\n    if (this._dimOmitted) {\n      var dimIdxToName_1 = this._dimIdxToName = zrUtil.createHashMap();\n      zrUtil.each(dimensionNames, function (dimName) {\n        dimIdxToName_1.set(dimensionInfos[dimName].storeDimIndex, dimName);\n      });\n    }\n  }\n  /**\n   *\n   * Get concrete dimension name by dimension name or dimension index.\n   * If input a dimension name, do not validate whether the dimension name exits.\n   *\n   * @caution\n   * @param dim Must make sure the dimension is `SeriesDimensionLoose`.\n   * Because only those dimensions will have auto-generated dimension names if not\n   * have a user-specified name, and other dimensions will get a return of null/undefined.\n   *\n   * @notice Because of this reason, should better use `getDimensionIndex` instead, for examples:\n   * ```js\n   * const val = data.getStore().get(data.getDimensionIndex(dim), dataIdx);\n   * ```\n   *\n   * @return Concrete dim name.\n   */\n  SeriesData.prototype.getDimension = function (dim) {\n    var dimIdx = this._recognizeDimIndex(dim);\n    if (dimIdx == null) {\n      return dim;\n    }\n    dimIdx = dim;\n    if (!this._dimOmitted) {\n      return this.dimensions[dimIdx];\n    }\n    // Retrieve from series dimension definition because it probably contains\n    // generated dimension name (like 'x', 'y').\n    var dimName = this._dimIdxToName.get(dimIdx);\n    if (dimName != null) {\n      return dimName;\n    }\n    var sourceDimDef = this._schema.getSourceDimension(dimIdx);\n    if (sourceDimDef) {\n      return sourceDimDef.name;\n    }\n  };\n  /**\n   * Get dimension index in data store. Return -1 if not found.\n   * Can be used to index value from getRawValue.\n   */\n  SeriesData.prototype.getDimensionIndex = function (dim) {\n    var dimIdx = this._recognizeDimIndex(dim);\n    if (dimIdx != null) {\n      return dimIdx;\n    }\n    if (dim == null) {\n      return -1;\n    }\n    var dimInfo = this._getDimInfo(dim);\n    return dimInfo ? dimInfo.storeDimIndex : this._dimOmitted ? this._schema.getSourceDimensionIndex(dim) : -1;\n  };\n  /**\n   * The meanings of the input parameter `dim`:\n   *\n   * + If dim is a number (e.g., `1`), it means the index of the dimension.\n   *   For example, `getDimension(0)` will return 'x' or 'lng' or 'radius'.\n   * + If dim is a number-like string (e.g., `\"1\"`):\n   *     + If there is the same concrete dim name defined in `series.dimensions` or `dataset.dimensions`,\n   *        it means that concrete name.\n   *     + If not, it will be converted to a number, which means the index of the dimension.\n   *        (why? because of the backward compatibility. We have been tolerating number-like string in\n   *        dimension setting, although now it seems that it is not a good idea.)\n   *     For example, `visualMap[i].dimension: \"1\"` is the same meaning as `visualMap[i].dimension: 1`,\n   *     if no dimension name is defined as `\"1\"`.\n   * + If dim is a not-number-like string, it means the concrete dim name.\n   *   For example, it can be be default name `\"x\"`, `\"y\"`, `\"z\"`, `\"lng\"`, `\"lat\"`, `\"angle\"`, `\"radius\"`,\n   *   or customized in `dimensions` property of option like `\"age\"`.\n   *\n   * @return recognized `DimensionIndex`. Otherwise return null/undefined (means that dim is `DimensionName`).\n   */\n  SeriesData.prototype._recognizeDimIndex = function (dim) {\n    if (zrUtil.isNumber(dim)\n    // If being a number-like string but not being defined as a dimension name.\n    || dim != null && !isNaN(dim) && !this._getDimInfo(dim) && (!this._dimOmitted || this._schema.getSourceDimensionIndex(dim) < 0)) {\n      return +dim;\n    }\n  };\n  SeriesData.prototype._getStoreDimIndex = function (dim) {\n    var dimIdx = this.getDimensionIndex(dim);\n    if (process.env.NODE_ENV !== 'production') {\n      if (dimIdx == null) {\n        throw new Error('Unknown dimension ' + dim);\n      }\n    }\n    return dimIdx;\n  };\n  /**\n   * Get type and calculation info of particular dimension\n   * @param dim\n   *        Dimension can be concrete names like x, y, z, lng, lat, angle, radius\n   *        Or a ordinal number. For example getDimensionInfo(0) will return 'x' or 'lng' or 'radius'\n   */\n  SeriesData.prototype.getDimensionInfo = function (dim) {\n    // Do not clone, because there may be categories in dimInfo.\n    return this._getDimInfo(this.getDimension(dim));\n  };\n  SeriesData.prototype._initGetDimensionInfo = function (needsHasOwn) {\n    var dimensionInfos = this._dimInfos;\n    this._getDimInfo = needsHasOwn ? function (dimName) {\n      return dimensionInfos.hasOwnProperty(dimName) ? dimensionInfos[dimName] : undefined;\n    } : function (dimName) {\n      return dimensionInfos[dimName];\n    };\n  };\n  /**\n   * concrete dimension name list on coord.\n   */\n  SeriesData.prototype.getDimensionsOnCoord = function () {\n    return this._dimSummary.dataDimsOnCoord.slice();\n  };\n  SeriesData.prototype.mapDimension = function (coordDim, idx) {\n    var dimensionsSummary = this._dimSummary;\n    if (idx == null) {\n      return dimensionsSummary.encodeFirstDimNotExtra[coordDim];\n    }\n    var dims = dimensionsSummary.encode[coordDim];\n    return dims ? dims[idx] : null;\n  };\n  SeriesData.prototype.mapDimensionsAll = function (coordDim) {\n    var dimensionsSummary = this._dimSummary;\n    var dims = dimensionsSummary.encode[coordDim];\n    return (dims || []).slice();\n  };\n  SeriesData.prototype.getStore = function () {\n    return this._store;\n  };\n  /**\n   * Initialize from data\n   * @param data source or data or data store.\n   * @param nameList The name of a datum is used on data diff and\n   *        default label/tooltip.\n   *        A name can be specified in encode.itemName,\n   *        or dataItem.name (only for series option data),\n   *        or provided in nameList from outside.\n   */\n  SeriesData.prototype.initData = function (data, nameList, dimValueGetter) {\n    var _this = this;\n    var store;\n    if (data instanceof DataStore) {\n      store = data;\n    }\n    if (!store) {\n      var dimensions = this.dimensions;\n      var provider = isSourceInstance(data) || zrUtil.isArrayLike(data) ? new DefaultDataProvider(data, dimensions.length) : data;\n      store = new DataStore();\n      var dimensionInfos = map(dimensions, function (dimName) {\n        return {\n          type: _this._dimInfos[dimName].type,\n          property: dimName\n        };\n      });\n      store.initData(provider, dimensionInfos, dimValueGetter);\n    }\n    this._store = store;\n    // Reset\n    this._nameList = (nameList || []).slice();\n    this._idList = [];\n    this._nameRepeatCount = {};\n    this._doInit(0, store.count());\n    // Cache summary info for fast visit. See \"dimensionHelper\".\n    // Needs to be initialized after store is prepared.\n    this._dimSummary = summarizeDimensions(this, this._schema);\n    this.userOutput = this._dimSummary.userOutput;\n  };\n  /**\n   * Caution: Can be only called on raw data (before `this._indices` created).\n   */\n  SeriesData.prototype.appendData = function (data) {\n    var range = this._store.appendData(data);\n    this._doInit(range[0], range[1]);\n  };\n  /**\n   * Caution: Can be only called on raw data (before `this._indices` created).\n   * This method does not modify `rawData` (`dataProvider`), but only\n   * add values to store.\n   *\n   * The final count will be increased by `Math.max(values.length, names.length)`.\n   *\n   * @param values That is the SourceType: 'arrayRows', like\n   *        [\n   *            [12, 33, 44],\n   *            [NaN, 43, 1],\n   *            ['-', 'asdf', 0]\n   *        ]\n   *        Each item is exactly corresponding to a dimension.\n   */\n  SeriesData.prototype.appendValues = function (values, names) {\n    var _a = this._store.appendValues(values, names && names.length),\n      start = _a.start,\n      end = _a.end;\n    var shouldMakeIdFromName = this._shouldMakeIdFromName();\n    this._updateOrdinalMeta();\n    if (names) {\n      for (var idx = start; idx < end; idx++) {\n        var sourceIdx = idx - start;\n        this._nameList[idx] = names[sourceIdx];\n        if (shouldMakeIdFromName) {\n          makeIdFromName(this, idx);\n        }\n      }\n    }\n  };\n  SeriesData.prototype._updateOrdinalMeta = function () {\n    var store = this._store;\n    var dimensions = this.dimensions;\n    for (var i = 0; i < dimensions.length; i++) {\n      var dimInfo = this._dimInfos[dimensions[i]];\n      if (dimInfo.ordinalMeta) {\n        store.collectOrdinalMeta(dimInfo.storeDimIndex, dimInfo.ordinalMeta);\n      }\n    }\n  };\n  SeriesData.prototype._shouldMakeIdFromName = function () {\n    var provider = this._store.getProvider();\n    return this._idDimIdx == null && provider.getSource().sourceFormat !== SOURCE_FORMAT_TYPED_ARRAY && !provider.fillStorage;\n  };\n  SeriesData.prototype._doInit = function (start, end) {\n    if (start >= end) {\n      return;\n    }\n    var store = this._store;\n    var provider = store.getProvider();\n    this._updateOrdinalMeta();\n    var nameList = this._nameList;\n    var idList = this._idList;\n    var sourceFormat = provider.getSource().sourceFormat;\n    var isFormatOriginal = sourceFormat === SOURCE_FORMAT_ORIGINAL;\n    // Each data item is value\n    // [1, 2]\n    // 2\n    // Bar chart, line chart which uses category axis\n    // only gives the 'y' value. 'x' value is the indices of category\n    // Use a tempValue to normalize the value to be a (x, y) value\n    // If dataItem is {name: ...} or {id: ...}, it has highest priority.\n    // This kind of ids and names are always stored `_nameList` and `_idList`.\n    if (isFormatOriginal && !provider.pure) {\n      var sharedDataItem = [];\n      for (var idx = start; idx < end; idx++) {\n        // NOTICE: Try not to write things into dataItem\n        var dataItem = provider.getItem(idx, sharedDataItem);\n        if (!this.hasItemOption && isDataItemOption(dataItem)) {\n          this.hasItemOption = true;\n        }\n        if (dataItem) {\n          var itemName = dataItem.name;\n          if (nameList[idx] == null && itemName != null) {\n            nameList[idx] = convertOptionIdName(itemName, null);\n          }\n          var itemId = dataItem.id;\n          if (idList[idx] == null && itemId != null) {\n            idList[idx] = convertOptionIdName(itemId, null);\n          }\n        }\n      }\n    }\n    if (this._shouldMakeIdFromName()) {\n      for (var idx = start; idx < end; idx++) {\n        makeIdFromName(this, idx);\n      }\n    }\n    prepareInvertedIndex(this);\n  };\n  /**\n   * PENDING: In fact currently this function is only used to short-circuit\n   * the calling of `scale.unionExtentFromData` when data have been filtered by modules\n   * like \"dataZoom\". `scale.unionExtentFromData` is used to calculate data extent for series on\n   * an axis, but if a \"axis related data filter module\" is used, the extent of the axis have\n   * been fixed and no need to calling `scale.unionExtentFromData` actually.\n   * But if we add \"custom data filter\" in future, which is not \"axis related\", this method may\n   * be still needed.\n   *\n   * Optimize for the scenario that data is filtered by a given extent.\n   * Consider that if data amount is more than hundreds of thousand,\n   * extent calculation will cost more than 10ms and the cache will\n   * be erased because of the filtering.\n   */\n  SeriesData.prototype.getApproximateExtent = function (dim) {\n    return this._approximateExtent[dim] || this._store.getDataExtent(this._getStoreDimIndex(dim));\n  };\n  /**\n   * Calculate extent on a filtered data might be time consuming.\n   * Approximate extent is only used for: calculate extent of filtered data outside.\n   */\n  SeriesData.prototype.setApproximateExtent = function (extent, dim) {\n    dim = this.getDimension(dim);\n    this._approximateExtent[dim] = extent.slice();\n  };\n  SeriesData.prototype.getCalculationInfo = function (key) {\n    return this._calculationInfo[key];\n  };\n  SeriesData.prototype.setCalculationInfo = function (key, value) {\n    isObject(key) ? zrUtil.extend(this._calculationInfo, key) : this._calculationInfo[key] = value;\n  };\n  /**\n   * @return Never be null/undefined. `number` will be converted to string. Because:\n   * In most cases, name is used in display, where returning a string is more convenient.\n   * In other cases, name is used in query (see `indexOfName`), where we can keep the\n   * rule that name `2` equals to name `'2'`.\n   */\n  SeriesData.prototype.getName = function (idx) {\n    var rawIndex = this.getRawIndex(idx);\n    var name = this._nameList[rawIndex];\n    if (name == null && this._nameDimIdx != null) {\n      name = getIdNameFromStore(this, this._nameDimIdx, rawIndex);\n    }\n    if (name == null) {\n      name = '';\n    }\n    return name;\n  };\n  SeriesData.prototype._getCategory = function (dimIdx, idx) {\n    var ordinal = this._store.get(dimIdx, idx);\n    var ordinalMeta = this._store.getOrdinalMeta(dimIdx);\n    if (ordinalMeta) {\n      return ordinalMeta.categories[ordinal];\n    }\n    return ordinal;\n  };\n  /**\n   * @return Never null/undefined. `number` will be converted to string. Because:\n   * In all cases having encountered at present, id is used in making diff comparison, which\n   * are usually based on hash map. We can keep the rule that the internal id are always string\n   * (treat `2` is the same as `'2'`) to make the related logic simple.\n   */\n  SeriesData.prototype.getId = function (idx) {\n    return getId(this, this.getRawIndex(idx));\n  };\n  SeriesData.prototype.count = function () {\n    return this._store.count();\n  };\n  /**\n   * Get value. Return NaN if idx is out of range.\n   *\n   * @notice Should better to use `data.getStore().get(dimIndex, dataIdx)` instead.\n   */\n  SeriesData.prototype.get = function (dim, idx) {\n    var store = this._store;\n    var dimInfo = this._dimInfos[dim];\n    if (dimInfo) {\n      return store.get(dimInfo.storeDimIndex, idx);\n    }\n  };\n  /**\n   * @notice Should better to use `data.getStore().getByRawIndex(dimIndex, dataIdx)` instead.\n   */\n  SeriesData.prototype.getByRawIndex = function (dim, rawIdx) {\n    var store = this._store;\n    var dimInfo = this._dimInfos[dim];\n    if (dimInfo) {\n      return store.getByRawIndex(dimInfo.storeDimIndex, rawIdx);\n    }\n  };\n  SeriesData.prototype.getIndices = function () {\n    return this._store.getIndices();\n  };\n  SeriesData.prototype.getDataExtent = function (dim) {\n    return this._store.getDataExtent(this._getStoreDimIndex(dim));\n  };\n  SeriesData.prototype.getSum = function (dim) {\n    return this._store.getSum(this._getStoreDimIndex(dim));\n  };\n  SeriesData.prototype.getMedian = function (dim) {\n    return this._store.getMedian(this._getStoreDimIndex(dim));\n  };\n  SeriesData.prototype.getValues = function (dimensions, idx) {\n    var _this = this;\n    var store = this._store;\n    return zrUtil.isArray(dimensions) ? store.getValues(map(dimensions, function (dim) {\n      return _this._getStoreDimIndex(dim);\n    }), idx) : store.getValues(dimensions);\n  };\n  /**\n   * If value is NaN. Including '-'\n   * Only check the coord dimensions.\n   */\n  SeriesData.prototype.hasValue = function (idx) {\n    var dataDimIndicesOnCoord = this._dimSummary.dataDimIndicesOnCoord;\n    for (var i = 0, len = dataDimIndicesOnCoord.length; i < len; i++) {\n      // Ordinal type originally can be string or number.\n      // But when an ordinal type is used on coord, it can\n      // not be string but only number. So we can also use isNaN.\n      if (isNaN(this._store.get(dataDimIndicesOnCoord[i], idx))) {\n        return false;\n      }\n    }\n    return true;\n  };\n  /**\n   * Retrieve the index with given name\n   */\n  SeriesData.prototype.indexOfName = function (name) {\n    for (var i = 0, len = this._store.count(); i < len; i++) {\n      if (this.getName(i) === name) {\n        return i;\n      }\n    }\n    return -1;\n  };\n  SeriesData.prototype.getRawIndex = function (idx) {\n    return this._store.getRawIndex(idx);\n  };\n  SeriesData.prototype.indexOfRawIndex = function (rawIndex) {\n    return this._store.indexOfRawIndex(rawIndex);\n  };\n  /**\n   * Only support the dimension which inverted index created.\n   * Do not support other cases until required.\n   * @param dim concrete dim\n   * @param value ordinal index\n   * @return rawIndex\n   */\n  SeriesData.prototype.rawIndexOf = function (dim, value) {\n    var invertedIndices = dim && this._invertedIndicesMap[dim];\n    if (process.env.NODE_ENV !== 'production') {\n      if (!invertedIndices) {\n        throw new Error('Do not supported yet');\n      }\n    }\n    var rawIndex = invertedIndices && invertedIndices[value];\n    if (rawIndex == null || isNaN(rawIndex)) {\n      return INDEX_NOT_FOUND;\n    }\n    return rawIndex;\n  };\n  SeriesData.prototype.each = function (dims, cb, ctx) {\n    'use strict';\n\n    if (zrUtil.isFunction(dims)) {\n      ctx = cb;\n      cb = dims;\n      dims = [];\n    }\n    // ctxCompat just for compat echarts3\n    var fCtx = ctx || this;\n    var dimIndices = map(normalizeDimensions(dims), this._getStoreDimIndex, this);\n    this._store.each(dimIndices, fCtx ? zrUtil.bind(cb, fCtx) : cb);\n  };\n  SeriesData.prototype.filterSelf = function (dims, cb, ctx) {\n    'use strict';\n\n    if (zrUtil.isFunction(dims)) {\n      ctx = cb;\n      cb = dims;\n      dims = [];\n    }\n    // ctxCompat just for compat echarts3\n    var fCtx = ctx || this;\n    var dimIndices = map(normalizeDimensions(dims), this._getStoreDimIndex, this);\n    this._store = this._store.filter(dimIndices, fCtx ? zrUtil.bind(cb, fCtx) : cb);\n    return this;\n  };\n  /**\n   * Select data in range. (For optimization of filter)\n   * (Manually inline code, support 5 million data filtering in data zoom.)\n   */\n  SeriesData.prototype.selectRange = function (range) {\n    'use strict';\n\n    var _this = this;\n    var innerRange = {};\n    var dims = zrUtil.keys(range);\n    var dimIndices = [];\n    zrUtil.each(dims, function (dim) {\n      var dimIdx = _this._getStoreDimIndex(dim);\n      innerRange[dimIdx] = range[dim];\n      dimIndices.push(dimIdx);\n    });\n    this._store = this._store.selectRange(innerRange);\n    return this;\n  };\n  /* eslint-enable max-len */\n  SeriesData.prototype.mapArray = function (dims, cb, ctx) {\n    'use strict';\n\n    if (zrUtil.isFunction(dims)) {\n      ctx = cb;\n      cb = dims;\n      dims = [];\n    }\n    // ctxCompat just for compat echarts3\n    ctx = ctx || this;\n    var result = [];\n    this.each(dims, function () {\n      result.push(cb && cb.apply(this, arguments));\n    }, ctx);\n    return result;\n  };\n  SeriesData.prototype.map = function (dims, cb, ctx, ctxCompat) {\n    'use strict';\n\n    // ctxCompat just for compat echarts3\n    var fCtx = ctx || ctxCompat || this;\n    var dimIndices = map(normalizeDimensions(dims), this._getStoreDimIndex, this);\n    var list = cloneListForMapAndSample(this);\n    list._store = this._store.map(dimIndices, fCtx ? zrUtil.bind(cb, fCtx) : cb);\n    return list;\n  };\n  SeriesData.prototype.modify = function (dims, cb, ctx, ctxCompat) {\n    var _this = this;\n    // ctxCompat just for compat echarts3\n    var fCtx = ctx || ctxCompat || this;\n    if (process.env.NODE_ENV !== 'production') {\n      zrUtil.each(normalizeDimensions(dims), function (dim) {\n        var dimInfo = _this.getDimensionInfo(dim);\n        if (!dimInfo.isCalculationCoord) {\n          console.error('Danger: only stack dimension can be modified');\n        }\n      });\n    }\n    var dimIndices = map(normalizeDimensions(dims), this._getStoreDimIndex, this);\n    // If do shallow clone here, if there are too many stacked series,\n    // it still cost lots of memory, because `_store.dimensions` are not shared.\n    // We should consider there probably be shallow clone happen in each series\n    // in consequent filter/map.\n    this._store.modify(dimIndices, fCtx ? zrUtil.bind(cb, fCtx) : cb);\n  };\n  /**\n   * Large data down sampling on given dimension\n   * @param sampleIndex Sample index for name and id\n   */\n  SeriesData.prototype.downSample = function (dimension, rate, sampleValue, sampleIndex) {\n    var list = cloneListForMapAndSample(this);\n    list._store = this._store.downSample(this._getStoreDimIndex(dimension), rate, sampleValue, sampleIndex);\n    return list;\n  };\n  /**\n   * Large data down sampling using min-max\n   * @param {string} valueDimension\n   * @param {number} rate\n   */\n  SeriesData.prototype.minmaxDownSample = function (valueDimension, rate) {\n    var list = cloneListForMapAndSample(this);\n    list._store = this._store.minmaxDownSample(this._getStoreDimIndex(valueDimension), rate);\n    return list;\n  };\n  /**\n   * Large data down sampling using largest-triangle-three-buckets\n   * @param {string} valueDimension\n   * @param {number} targetCount\n   */\n  SeriesData.prototype.lttbDownSample = function (valueDimension, rate) {\n    var list = cloneListForMapAndSample(this);\n    list._store = this._store.lttbDownSample(this._getStoreDimIndex(valueDimension), rate);\n    return list;\n  };\n  SeriesData.prototype.getRawDataItem = function (idx) {\n    return this._store.getRawDataItem(idx);\n  };\n  /**\n   * Get model of one data item.\n   */\n  // TODO: Type of data item\n  SeriesData.prototype.getItemModel = function (idx) {\n    var hostModel = this.hostModel;\n    var dataItem = this.getRawDataItem(idx);\n    return new Model(dataItem, hostModel, hostModel && hostModel.ecModel);\n  };\n  /**\n   * Create a data differ\n   */\n  SeriesData.prototype.diff = function (otherList) {\n    var thisList = this;\n    return new DataDiffer(otherList ? otherList.getStore().getIndices() : [], this.getStore().getIndices(), function (idx) {\n      return getId(otherList, idx);\n    }, function (idx) {\n      return getId(thisList, idx);\n    });\n  };\n  /**\n   * Get visual property.\n   */\n  SeriesData.prototype.getVisual = function (key) {\n    var visual = this._visual;\n    return visual && visual[key];\n  };\n  SeriesData.prototype.setVisual = function (kvObj, val) {\n    this._visual = this._visual || {};\n    if (isObject(kvObj)) {\n      zrUtil.extend(this._visual, kvObj);\n    } else {\n      this._visual[kvObj] = val;\n    }\n  };\n  /**\n   * Get visual property of single data item\n   */\n  // eslint-disable-next-line\n  SeriesData.prototype.getItemVisual = function (idx, key) {\n    var itemVisual = this._itemVisuals[idx];\n    var val = itemVisual && itemVisual[key];\n    if (val == null) {\n      // Use global visual property\n      return this.getVisual(key);\n    }\n    return val;\n  };\n  /**\n   * If exists visual property of single data item\n   */\n  SeriesData.prototype.hasItemVisual = function () {\n    return this._itemVisuals.length > 0;\n  };\n  /**\n   * Make sure itemVisual property is unique\n   */\n  // TODO: use key to save visual to reduce memory.\n  SeriesData.prototype.ensureUniqueItemVisual = function (idx, key) {\n    var itemVisuals = this._itemVisuals;\n    var itemVisual = itemVisuals[idx];\n    if (!itemVisual) {\n      itemVisual = itemVisuals[idx] = {};\n    }\n    var val = itemVisual[key];\n    if (val == null) {\n      val = this.getVisual(key);\n      // TODO Performance?\n      if (zrUtil.isArray(val)) {\n        val = val.slice();\n      } else if (isObject(val)) {\n        val = zrUtil.extend({}, val);\n      }\n      itemVisual[key] = val;\n    }\n    return val;\n  };\n  // eslint-disable-next-line\n  SeriesData.prototype.setItemVisual = function (idx, key, value) {\n    var itemVisual = this._itemVisuals[idx] || {};\n    this._itemVisuals[idx] = itemVisual;\n    if (isObject(key)) {\n      zrUtil.extend(itemVisual, key);\n    } else {\n      itemVisual[key] = value;\n    }\n  };\n  /**\n   * Clear itemVisuals and list visual.\n   */\n  SeriesData.prototype.clearAllVisual = function () {\n    this._visual = {};\n    this._itemVisuals = [];\n  };\n  SeriesData.prototype.setLayout = function (key, val) {\n    isObject(key) ? zrUtil.extend(this._layout, key) : this._layout[key] = val;\n  };\n  /**\n   * Get layout property.\n   */\n  SeriesData.prototype.getLayout = function (key) {\n    return this._layout[key];\n  };\n  /**\n   * Get layout of single data item\n   */\n  SeriesData.prototype.getItemLayout = function (idx) {\n    return this._itemLayouts[idx];\n  };\n  /**\n   * Set layout of single data item\n   */\n  SeriesData.prototype.setItemLayout = function (idx, layout, merge) {\n    this._itemLayouts[idx] = merge ? zrUtil.extend(this._itemLayouts[idx] || {}, layout) : layout;\n  };\n  /**\n   * Clear all layout of single data item\n   */\n  SeriesData.prototype.clearItemLayouts = function () {\n    this._itemLayouts.length = 0;\n  };\n  /**\n   * Set graphic element relative to data. It can be set as null\n   */\n  SeriesData.prototype.setItemGraphicEl = function (idx, el) {\n    var seriesIndex = this.hostModel && this.hostModel.seriesIndex;\n    setCommonECData(seriesIndex, this.dataType, idx, el);\n    this._graphicEls[idx] = el;\n  };\n  SeriesData.prototype.getItemGraphicEl = function (idx) {\n    return this._graphicEls[idx];\n  };\n  SeriesData.prototype.eachItemGraphicEl = function (cb, context) {\n    zrUtil.each(this._graphicEls, function (el, idx) {\n      if (el) {\n        cb && cb.call(context, el, idx);\n      }\n    });\n  };\n  /**\n   * Shallow clone a new list except visual and layout properties, and graph elements.\n   * New list only change the indices.\n   */\n  SeriesData.prototype.cloneShallow = function (list) {\n    if (!list) {\n      list = new SeriesData(this._schema ? this._schema : map(this.dimensions, this._getDimInfo, this), this.hostModel);\n    }\n    transferProperties(list, this);\n    list._store = this._store;\n    return list;\n  };\n  /**\n   * Wrap some method to add more feature\n   */\n  SeriesData.prototype.wrapMethod = function (methodName, injectFunction) {\n    var originalMethod = this[methodName];\n    if (!zrUtil.isFunction(originalMethod)) {\n      return;\n    }\n    this.__wrappedMethods = this.__wrappedMethods || [];\n    this.__wrappedMethods.push(methodName);\n    this[methodName] = function () {\n      var res = originalMethod.apply(this, arguments);\n      return injectFunction.apply(this, [res].concat(zrUtil.slice(arguments)));\n    };\n  };\n  // ----------------------------------------------------------\n  // A work around for internal method visiting private member.\n  // ----------------------------------------------------------\n  SeriesData.internalField = function () {\n    prepareInvertedIndex = function (data) {\n      var invertedIndicesMap = data._invertedIndicesMap;\n      zrUtil.each(invertedIndicesMap, function (invertedIndices, dim) {\n        var dimInfo = data._dimInfos[dim];\n        // Currently, only dimensions that has ordinalMeta can create inverted indices.\n        var ordinalMeta = dimInfo.ordinalMeta;\n        var store = data._store;\n        if (ordinalMeta) {\n          invertedIndices = invertedIndicesMap[dim] = new CtorInt32Array(ordinalMeta.categories.length);\n          // The default value of TypedArray is 0. To avoid miss\n          // mapping to 0, we should set it as INDEX_NOT_FOUND.\n          for (var i = 0; i < invertedIndices.length; i++) {\n            invertedIndices[i] = INDEX_NOT_FOUND;\n          }\n          for (var i = 0; i < store.count(); i++) {\n            // Only support the case that all values are distinct.\n            invertedIndices[store.get(dimInfo.storeDimIndex, i)] = i;\n          }\n        }\n      });\n    };\n    getIdNameFromStore = function (data, dimIdx, idx) {\n      return convertOptionIdName(data._getCategory(dimIdx, idx), null);\n    };\n    /**\n     * @see the comment of `List['getId']`.\n     */\n    getId = function (data, rawIndex) {\n      var id = data._idList[rawIndex];\n      if (id == null && data._idDimIdx != null) {\n        id = getIdNameFromStore(data, data._idDimIdx, rawIndex);\n      }\n      if (id == null) {\n        id = ID_PREFIX + rawIndex;\n      }\n      return id;\n    };\n    normalizeDimensions = function (dimensions) {\n      if (!zrUtil.isArray(dimensions)) {\n        dimensions = dimensions != null ? [dimensions] : [];\n      }\n      return dimensions;\n    };\n    /**\n     * Data in excludeDimensions is copied, otherwise transferred.\n     */\n    cloneListForMapAndSample = function (original) {\n      var list = new SeriesData(original._schema ? original._schema : map(original.dimensions, original._getDimInfo, original), original.hostModel);\n      // FIXME If needs stackedOn, value may already been stacked\n      transferProperties(list, original);\n      return list;\n    };\n    transferProperties = function (target, source) {\n      zrUtil.each(TRANSFERABLE_PROPERTIES.concat(source.__wrappedMethods || []), function (propName) {\n        if (source.hasOwnProperty(propName)) {\n          target[propName] = source[propName];\n        }\n      });\n      target.__wrappedMethods = source.__wrappedMethods;\n      zrUtil.each(CLONE_PROPERTIES, function (propName) {\n        target[propName] = zrUtil.clone(source[propName]);\n      });\n      target._calculationInfo = zrUtil.extend({}, source._calculationInfo);\n    };\n    makeIdFromName = function (data, idx) {\n      var nameList = data._nameList;\n      var idList = data._idList;\n      var nameDimIdx = data._nameDimIdx;\n      var idDimIdx = data._idDimIdx;\n      var name = nameList[idx];\n      var id = idList[idx];\n      if (name == null && nameDimIdx != null) {\n        nameList[idx] = name = getIdNameFromStore(data, nameDimIdx, idx);\n      }\n      if (id == null && idDimIdx != null) {\n        idList[idx] = id = getIdNameFromStore(data, idDimIdx, idx);\n      }\n      if (id == null && name != null) {\n        var nameRepeatCount = data._nameRepeatCount;\n        var nmCnt = nameRepeatCount[name] = (nameRepeatCount[name] || 0) + 1;\n        id = name;\n        if (nmCnt > 1) {\n          id += '__ec__' + nmCnt;\n        }\n        idList[idx] = id;\n      }\n    };\n  }();\n  return SeriesData;\n}();\nexport default SeriesData;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { VISUAL_DIMENSIONS } from '../../util/types.js';\nimport SeriesDimensionDefine from '../SeriesDimensionDefine.js';\nimport { createHashMap, defaults, each, extend, isObject, isString } from 'zrender/lib/core/util.js';\nimport { createSourceFromSeriesDataOption, isSourceInstance } from '../Source.js';\nimport { CtorInt32Array } from '../DataStore.js';\nimport { normalizeToArray } from '../../util/model.js';\nimport { BE_ORDINAL, guessOrdinal } from './sourceHelper.js';\nimport { createDimNameMap, ensureSourceDimNameMap, SeriesDataSchema, shouldOmitUnusedDimensions } from './SeriesDataSchema.js';\n/**\n * For outside usage compat (like echarts-gl are using it).\n */\nexport function createDimensions(source, opt) {\n  return prepareSeriesDataSchema(source, opt).dimensions;\n}\n/**\n * This method builds the relationship between:\n * + \"what the coord sys or series requires (see `coordDimensions`)\",\n * + \"what the user defines (in `encode` and `dimensions`, see `opt.dimensionsDefine` and `opt.encodeDefine`)\"\n * + \"what the data source provids (see `source`)\".\n *\n * Some guess strategy will be adapted if user does not define something.\n * If no 'value' dimension specified, the first no-named dimension will be\n * named as 'value'.\n *\n * @return The results are always sorted by `storeDimIndex` asc.\n */\nexport default function prepareSeriesDataSchema(\n// TODO: TYPE completeDimensions type\nsource, opt) {\n  if (!isSourceInstance(source)) {\n    source = createSourceFromSeriesDataOption(source);\n  }\n  opt = opt || {};\n  var sysDims = opt.coordDimensions || [];\n  var dimsDef = opt.dimensionsDefine || source.dimensionsDefine || [];\n  var coordDimNameMap = createHashMap();\n  var resultList = [];\n  var dimCount = getDimCount(source, sysDims, dimsDef, opt.dimensionsCount);\n  // Try to ignore unused dimensions if sharing a high dimension datastore\n  // 30 is an experience value.\n  var omitUnusedDimensions = opt.canOmitUnusedDimensions && shouldOmitUnusedDimensions(dimCount);\n  var isUsingSourceDimensionsDef = dimsDef === source.dimensionsDefine;\n  var dataDimNameMap = isUsingSourceDimensionsDef ? ensureSourceDimNameMap(source) : createDimNameMap(dimsDef);\n  var encodeDef = opt.encodeDefine;\n  if (!encodeDef && opt.encodeDefaulter) {\n    encodeDef = opt.encodeDefaulter(source, dimCount);\n  }\n  var encodeDefMap = createHashMap(encodeDef);\n  var indicesMap = new CtorInt32Array(dimCount);\n  for (var i = 0; i < indicesMap.length; i++) {\n    indicesMap[i] = -1;\n  }\n  function getResultItem(dimIdx) {\n    var idx = indicesMap[dimIdx];\n    if (idx < 0) {\n      var dimDefItemRaw = dimsDef[dimIdx];\n      var dimDefItem = isObject(dimDefItemRaw) ? dimDefItemRaw : {\n        name: dimDefItemRaw\n      };\n      var resultItem = new SeriesDimensionDefine();\n      var userDimName = dimDefItem.name;\n      if (userDimName != null && dataDimNameMap.get(userDimName) != null) {\n        // Only if `series.dimensions` is defined in option\n        // displayName, will be set, and dimension will be displayed vertically in\n        // tooltip by default.\n        resultItem.name = resultItem.displayName = userDimName;\n      }\n      dimDefItem.type != null && (resultItem.type = dimDefItem.type);\n      dimDefItem.displayName != null && (resultItem.displayName = dimDefItem.displayName);\n      var newIdx = resultList.length;\n      indicesMap[dimIdx] = newIdx;\n      resultItem.storeDimIndex = dimIdx;\n      resultList.push(resultItem);\n      return resultItem;\n    }\n    return resultList[idx];\n  }\n  if (!omitUnusedDimensions) {\n    for (var i = 0; i < dimCount; i++) {\n      getResultItem(i);\n    }\n  }\n  // Set `coordDim` and `coordDimIndex` by `encodeDefMap` and normalize `encodeDefMap`.\n  encodeDefMap.each(function (dataDimsRaw, coordDim) {\n    var dataDims = normalizeToArray(dataDimsRaw).slice();\n    // Note: It is allowed that `dataDims.length` is `0`, e.g., options is\n    // `{encode: {x: -1, y: 1}}`. Should not filter anything in\n    // this case.\n    if (dataDims.length === 1 && !isString(dataDims[0]) && dataDims[0] < 0) {\n      encodeDefMap.set(coordDim, false);\n      return;\n    }\n    var validDataDims = encodeDefMap.set(coordDim, []);\n    each(dataDims, function (resultDimIdxOrName, idx) {\n      // The input resultDimIdx can be dim name or index.\n      var resultDimIdx = isString(resultDimIdxOrName) ? dataDimNameMap.get(resultDimIdxOrName) : resultDimIdxOrName;\n      if (resultDimIdx != null && resultDimIdx < dimCount) {\n        validDataDims[idx] = resultDimIdx;\n        applyDim(getResultItem(resultDimIdx), coordDim, idx);\n      }\n    });\n  });\n  // Apply templates and default order from `sysDims`.\n  var availDimIdx = 0;\n  each(sysDims, function (sysDimItemRaw) {\n    var coordDim;\n    var sysDimItemDimsDef;\n    var sysDimItemOtherDims;\n    var sysDimItem;\n    if (isString(sysDimItemRaw)) {\n      coordDim = sysDimItemRaw;\n      sysDimItem = {};\n    } else {\n      sysDimItem = sysDimItemRaw;\n      coordDim = sysDimItem.name;\n      var ordinalMeta = sysDimItem.ordinalMeta;\n      sysDimItem.ordinalMeta = null;\n      sysDimItem = extend({}, sysDimItem);\n      sysDimItem.ordinalMeta = ordinalMeta;\n      // `coordDimIndex` should not be set directly.\n      sysDimItemDimsDef = sysDimItem.dimsDef;\n      sysDimItemOtherDims = sysDimItem.otherDims;\n      sysDimItem.name = sysDimItem.coordDim = sysDimItem.coordDimIndex = sysDimItem.dimsDef = sysDimItem.otherDims = null;\n    }\n    var dataDims = encodeDefMap.get(coordDim);\n    // negative resultDimIdx means no need to mapping.\n    if (dataDims === false) {\n      return;\n    }\n    dataDims = normalizeToArray(dataDims);\n    // dimensions provides default dim sequences.\n    if (!dataDims.length) {\n      for (var i = 0; i < (sysDimItemDimsDef && sysDimItemDimsDef.length || 1); i++) {\n        while (availDimIdx < dimCount && getResultItem(availDimIdx).coordDim != null) {\n          availDimIdx++;\n        }\n        availDimIdx < dimCount && dataDims.push(availDimIdx++);\n      }\n    }\n    // Apply templates.\n    each(dataDims, function (resultDimIdx, coordDimIndex) {\n      var resultItem = getResultItem(resultDimIdx);\n      // Coordinate system has a higher priority on dim type than source.\n      if (isUsingSourceDimensionsDef && sysDimItem.type != null) {\n        resultItem.type = sysDimItem.type;\n      }\n      applyDim(defaults(resultItem, sysDimItem), coordDim, coordDimIndex);\n      if (resultItem.name == null && sysDimItemDimsDef) {\n        var sysDimItemDimsDefItem = sysDimItemDimsDef[coordDimIndex];\n        !isObject(sysDimItemDimsDefItem) && (sysDimItemDimsDefItem = {\n          name: sysDimItemDimsDefItem\n        });\n        resultItem.name = resultItem.displayName = sysDimItemDimsDefItem.name;\n        resultItem.defaultTooltip = sysDimItemDimsDefItem.defaultTooltip;\n      }\n      // FIXME refactor, currently only used in case: {otherDims: {tooltip: false}}\n      sysDimItemOtherDims && defaults(resultItem.otherDims, sysDimItemOtherDims);\n    });\n  });\n  function applyDim(resultItem, coordDim, coordDimIndex) {\n    if (VISUAL_DIMENSIONS.get(coordDim) != null) {\n      resultItem.otherDims[coordDim] = coordDimIndex;\n    } else {\n      resultItem.coordDim = coordDim;\n      resultItem.coordDimIndex = coordDimIndex;\n      coordDimNameMap.set(coordDim, true);\n    }\n  }\n  // Make sure the first extra dim is 'value'.\n  var generateCoord = opt.generateCoord;\n  var generateCoordCount = opt.generateCoordCount;\n  var fromZero = generateCoordCount != null;\n  generateCoordCount = generateCoord ? generateCoordCount || 1 : 0;\n  var extra = generateCoord || 'value';\n  function ifNoNameFillWithCoordName(resultItem) {\n    if (resultItem.name == null) {\n      // Duplication will be removed in the next step.\n      resultItem.name = resultItem.coordDim;\n    }\n  }\n  // Set dim `name` and other `coordDim` and other props.\n  if (!omitUnusedDimensions) {\n    for (var resultDimIdx = 0; resultDimIdx < dimCount; resultDimIdx++) {\n      var resultItem = getResultItem(resultDimIdx);\n      var coordDim = resultItem.coordDim;\n      if (coordDim == null) {\n        // TODO no need to generate coordDim for isExtraCoord?\n        resultItem.coordDim = genCoordDimName(extra, coordDimNameMap, fromZero);\n        resultItem.coordDimIndex = 0;\n        // Series specified generateCoord is using out.\n        if (!generateCoord || generateCoordCount <= 0) {\n          resultItem.isExtraCoord = true;\n        }\n        generateCoordCount--;\n      }\n      ifNoNameFillWithCoordName(resultItem);\n      if (resultItem.type == null && (guessOrdinal(source, resultDimIdx) === BE_ORDINAL.Must\n      // Consider the case:\n      // {\n      //    dataset: {source: [\n      //        ['2001', 123],\n      //        ['2002', 456],\n      //        ...\n      //        ['The others', 987],\n      //    ]},\n      //    series: {type: 'pie'}\n      // }\n      // The first column should better be treated as a \"ordinal\" although it\n      // might not be detected as an \"ordinal\" by `guessOrdinal`.\n      || resultItem.isExtraCoord && (resultItem.otherDims.itemName != null || resultItem.otherDims.seriesName != null))) {\n        resultItem.type = 'ordinal';\n      }\n    }\n  } else {\n    each(resultList, function (resultItem) {\n      // PENDING: guessOrdinal or let user specify type: 'ordinal' manually?\n      ifNoNameFillWithCoordName(resultItem);\n    });\n    // Sort dimensions: there are some rule that use the last dim as label,\n    // and for some latter travel process easier.\n    resultList.sort(function (item0, item1) {\n      return item0.storeDimIndex - item1.storeDimIndex;\n    });\n  }\n  removeDuplication(resultList);\n  return new SeriesDataSchema({\n    source: source,\n    dimensions: resultList,\n    fullDimensionCount: dimCount,\n    dimensionOmitted: omitUnusedDimensions\n  });\n}\nfunction removeDuplication(result) {\n  var duplicationMap = createHashMap();\n  for (var i = 0; i < result.length; i++) {\n    var dim = result[i];\n    var dimOriginalName = dim.name;\n    var count = duplicationMap.get(dimOriginalName) || 0;\n    if (count > 0) {\n      // Starts from 0.\n      dim.name = dimOriginalName + (count - 1);\n    }\n    count++;\n    duplicationMap.set(dimOriginalName, count);\n  }\n}\n// ??? TODO\n// Originally detect dimCount by data[0]. Should we\n// optimize it to only by sysDims and dimensions and encode.\n// So only necessary dims will be initialized.\n// But\n// (1) custom series should be considered. where other dims\n// may be visited.\n// (2) sometimes user need to calculate bubble size or use visualMap\n// on other dimensions besides coordSys needed.\n// So, dims that is not used by system, should be shared in data store?\nfunction getDimCount(source, sysDims, dimsDef, optDimCount) {\n  // Note that the result dimCount should not small than columns count\n  // of data, otherwise `dataDimNameMap` checking will be incorrect.\n  var dimCount = Math.max(source.dimensionsDetectedCount || 1, sysDims.length, dimsDef.length, optDimCount || 0);\n  each(sysDims, function (sysDimItem) {\n    var sysDimItemDimsDef;\n    if (isObject(sysDimItem) && (sysDimItemDimsDef = sysDimItem.dimsDef)) {\n      dimCount = Math.max(dimCount, sysDimItemDimsDef.length);\n    }\n  });\n  return dimCount;\n}\nfunction genCoordDimName(name, map, fromZero) {\n  if (fromZero || map.hasKey(name)) {\n    var i = 0;\n    while (map.hasKey(name + i)) {\n      i++;\n    }\n    name += i;\n  }\n  map.set(name, true);\n  return name;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n/**\n * Helper for model references.\n * There are many manners to refer axis/coordSys.\n */\n// TODO\n// merge relevant logic to this file?\n// check: \"modelHelper\" of tooltip and \"BrushTargetManager\".\nimport { createHashMap, retrieve, each } from 'zrender/lib/core/util.js';\nimport { SINGLE_REFERRING } from '../util/model.js';\n/**\n * @class\n * For example:\n * {\n *     coordSysName: 'cartesian2d',\n *     coordSysDims: ['x', 'y', ...],\n *     axisMap: HashMap({\n *         x: xAxisModel,\n *         y: yAxisModel\n *     }),\n *     categoryAxisMap: HashMap({\n *         x: xAxisModel,\n *         y: undefined\n *     }),\n *     // The index of the first category axis in `coordSysDims`.\n *     // `null/undefined` means no category axis exists.\n *     firstCategoryDimIndex: 1,\n *     // To replace user specified encode.\n * }\n */\nvar CoordSysInfo = /** @class */function () {\n  function CoordSysInfo(coordSysName) {\n    this.coordSysDims = [];\n    this.axisMap = createHashMap();\n    this.categoryAxisMap = createHashMap();\n    this.coordSysName = coordSysName;\n  }\n  return CoordSysInfo;\n}();\nexport function getCoordSysInfoBySeries(seriesModel) {\n  var coordSysName = seriesModel.get('coordinateSystem');\n  var result = new CoordSysInfo(coordSysName);\n  var fetch = fetchers[coordSysName];\n  if (fetch) {\n    fetch(seriesModel, result, result.axisMap, result.categoryAxisMap);\n    return result;\n  }\n}\n// TODO: refactor them to static member of each coord sys, rather than hard code here.\nvar fetchers = {\n  cartesian2d: function (seriesModel, result, axisMap, categoryAxisMap) {\n    var xAxisModel = seriesModel.getReferringComponents('xAxis', SINGLE_REFERRING).models[0];\n    var yAxisModel = seriesModel.getReferringComponents('yAxis', SINGLE_REFERRING).models[0];\n    if (process.env.NODE_ENV !== 'production') {\n      if (!xAxisModel) {\n        throw new Error('xAxis \"' + retrieve(seriesModel.get('xAxisIndex'), seriesModel.get('xAxisId'), 0) + '\" not found');\n      }\n      if (!yAxisModel) {\n        throw new Error('yAxis \"' + retrieve(seriesModel.get('xAxisIndex'), seriesModel.get('yAxisId'), 0) + '\" not found');\n      }\n    }\n    result.coordSysDims = ['x', 'y'];\n    axisMap.set('x', xAxisModel);\n    axisMap.set('y', yAxisModel);\n    if (isCategory(xAxisModel)) {\n      categoryAxisMap.set('x', xAxisModel);\n      result.firstCategoryDimIndex = 0;\n    }\n    if (isCategory(yAxisModel)) {\n      categoryAxisMap.set('y', yAxisModel);\n      result.firstCategoryDimIndex == null && (result.firstCategoryDimIndex = 1);\n    }\n  },\n  singleAxis: function (seriesModel, result, axisMap, categoryAxisMap) {\n    var singleAxisModel = seriesModel.getReferringComponents('singleAxis', SINGLE_REFERRING).models[0];\n    if (process.env.NODE_ENV !== 'production') {\n      if (!singleAxisModel) {\n        throw new Error('singleAxis should be specified.');\n      }\n    }\n    result.coordSysDims = ['single'];\n    axisMap.set('single', singleAxisModel);\n    if (isCategory(singleAxisModel)) {\n      categoryAxisMap.set('single', singleAxisModel);\n      result.firstCategoryDimIndex = 0;\n    }\n  },\n  polar: function (seriesModel, result, axisMap, categoryAxisMap) {\n    var polarModel = seriesModel.getReferringComponents('polar', SINGLE_REFERRING).models[0];\n    var radiusAxisModel = polarModel.findAxisModel('radiusAxis');\n    var angleAxisModel = polarModel.findAxisModel('angleAxis');\n    if (process.env.NODE_ENV !== 'production') {\n      if (!angleAxisModel) {\n        throw new Error('angleAxis option not found');\n      }\n      if (!radiusAxisModel) {\n        throw new Error('radiusAxis option not found');\n      }\n    }\n    result.coordSysDims = ['radius', 'angle'];\n    axisMap.set('radius', radiusAxisModel);\n    axisMap.set('angle', angleAxisModel);\n    if (isCategory(radiusAxisModel)) {\n      categoryAxisMap.set('radius', radiusAxisModel);\n      result.firstCategoryDimIndex = 0;\n    }\n    if (isCategory(angleAxisModel)) {\n      categoryAxisMap.set('angle', angleAxisModel);\n      result.firstCategoryDimIndex == null && (result.firstCategoryDimIndex = 1);\n    }\n  },\n  geo: function (seriesModel, result, axisMap, categoryAxisMap) {\n    result.coordSysDims = ['lng', 'lat'];\n  },\n  parallel: function (seriesModel, result, axisMap, categoryAxisMap) {\n    var ecModel = seriesModel.ecModel;\n    var parallelModel = ecModel.getComponent('parallel', seriesModel.get('parallelIndex'));\n    var coordSysDims = result.coordSysDims = parallelModel.dimensions.slice();\n    each(parallelModel.parallelAxisIndex, function (axisIndex, index) {\n      var axisModel = ecModel.getComponent('parallelAxis', axisIndex);\n      var axisDim = coordSysDims[index];\n      axisMap.set(axisDim, axisModel);\n      if (isCategory(axisModel)) {\n        categoryAxisMap.set(axisDim, axisModel);\n        if (result.firstCategoryDimIndex == null) {\n          result.firstCategoryDimIndex = index;\n        }\n      }\n    });\n  },\n  matrix: function (seriesModel, result, axisMap, categoryAxisMap) {\n    var matrixModel = seriesModel.getReferringComponents('matrix', SINGLE_REFERRING).models[0];\n    if (process.env.NODE_ENV !== 'production') {\n      if (!matrixModel) {\n        throw new Error('matrix coordinate system should be specified.');\n      }\n    }\n    result.coordSysDims = ['x', 'y'];\n    var xModel = matrixModel.getDimensionModel('x');\n    var yModel = matrixModel.getDimensionModel('y');\n    axisMap.set('x', xModel);\n    axisMap.set('y', yModel);\n    categoryAxisMap.set('x', xModel);\n    categoryAxisMap.set('y', yModel);\n  }\n};\nfunction isCategory(axisModel) {\n  return axisModel.get('type') === 'category';\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { each, isString } from 'zrender/lib/core/util.js';\nimport { isSeriesDataSchema } from './SeriesDataSchema.js';\n/**\n * Note that it is too complicated to support 3d stack by value\n * (have to create two-dimension inverted index), so in 3d case\n * we just support that stacked by index.\n *\n * @param seriesModel\n * @param dimensionsInput The same as the input of <module:echarts/data/SeriesData>.\n *        The input will be modified.\n * @param opt\n * @param opt.stackedCoordDimension Specify a coord dimension if needed.\n * @param opt.byIndex=false\n * @return calculationInfo\n * {\n *     stackedDimension: string\n *     stackedByDimension: string\n *     isStackedByIndex: boolean\n *     stackedOverDimension: string\n *     stackResultDimension: string\n * }\n */\nexport function enableDataStack(seriesModel, dimensionsInput, opt) {\n  opt = opt || {};\n  var byIndex = opt.byIndex;\n  var stackedCoordDimension = opt.stackedCoordDimension;\n  var dimensionDefineList;\n  var schema;\n  var store;\n  if (isLegacyDimensionsInput(dimensionsInput)) {\n    dimensionDefineList = dimensionsInput;\n  } else {\n    schema = dimensionsInput.schema;\n    dimensionDefineList = schema.dimensions;\n    store = dimensionsInput.store;\n  }\n  // Compatibal: when `stack` is set as '', do not stack.\n  var mayStack = !!(seriesModel && seriesModel.get('stack'));\n  var stackedByDimInfo;\n  var stackedDimInfo;\n  var stackResultDimension;\n  var stackedOverDimension;\n  each(dimensionDefineList, function (dimensionInfo, index) {\n    if (isString(dimensionInfo)) {\n      dimensionDefineList[index] = dimensionInfo = {\n        name: dimensionInfo\n      };\n    }\n    if (mayStack && !dimensionInfo.isExtraCoord) {\n      // Find the first ordinal dimension as the stackedByDimInfo.\n      if (!byIndex && !stackedByDimInfo && dimensionInfo.ordinalMeta) {\n        stackedByDimInfo = dimensionInfo;\n      }\n      // Find the first stackable dimension as the stackedDimInfo.\n      if (!stackedDimInfo && dimensionInfo.type !== 'ordinal' && dimensionInfo.type !== 'time' && (!stackedCoordDimension || stackedCoordDimension === dimensionInfo.coordDim)) {\n        stackedDimInfo = dimensionInfo;\n      }\n    }\n  });\n  if (stackedDimInfo && !byIndex && !stackedByDimInfo) {\n    // Compatible with previous design, value axis (time axis) only stack by index.\n    // It may make sense if the user provides elaborately constructed data.\n    byIndex = true;\n  }\n  // Add stack dimension, they can be both calculated by coordinate system in `unionExtent`.\n  // That put stack logic in List is for using conveniently in echarts extensions, but it\n  // might not be a good way.\n  if (stackedDimInfo) {\n    // Use a weird name that not duplicated with other names.\n    // Also need to use seriesModel.id as postfix because different\n    // series may share same data store. The stack dimension needs to be distinguished.\n    stackResultDimension = '__\\0ecstackresult_' + seriesModel.id;\n    stackedOverDimension = '__\\0ecstackedover_' + seriesModel.id;\n    // Create inverted index to fast query index by value.\n    if (stackedByDimInfo) {\n      stackedByDimInfo.createInvertedIndices = true;\n    }\n    var stackedDimCoordDim_1 = stackedDimInfo.coordDim;\n    var stackedDimType = stackedDimInfo.type;\n    var stackedDimCoordIndex_1 = 0;\n    each(dimensionDefineList, function (dimensionInfo) {\n      if (dimensionInfo.coordDim === stackedDimCoordDim_1) {\n        stackedDimCoordIndex_1++;\n      }\n    });\n    var stackedOverDimensionDefine = {\n      name: stackResultDimension,\n      coordDim: stackedDimCoordDim_1,\n      coordDimIndex: stackedDimCoordIndex_1,\n      type: stackedDimType,\n      isExtraCoord: true,\n      isCalculationCoord: true,\n      storeDimIndex: dimensionDefineList.length\n    };\n    var stackResultDimensionDefine = {\n      name: stackedOverDimension,\n      // This dimension contains stack base (generally, 0), so do not set it as\n      // `stackedDimCoordDim` to avoid extent calculation, consider log scale.\n      coordDim: stackedOverDimension,\n      coordDimIndex: stackedDimCoordIndex_1 + 1,\n      type: stackedDimType,\n      isExtraCoord: true,\n      isCalculationCoord: true,\n      storeDimIndex: dimensionDefineList.length + 1\n    };\n    if (schema) {\n      if (store) {\n        stackedOverDimensionDefine.storeDimIndex = store.ensureCalculationDimension(stackedOverDimension, stackedDimType);\n        stackResultDimensionDefine.storeDimIndex = store.ensureCalculationDimension(stackResultDimension, stackedDimType);\n      }\n      schema.appendCalculationDimension(stackedOverDimensionDefine);\n      schema.appendCalculationDimension(stackResultDimensionDefine);\n    } else {\n      dimensionDefineList.push(stackedOverDimensionDefine);\n      dimensionDefineList.push(stackResultDimensionDefine);\n    }\n  }\n  return {\n    stackedDimension: stackedDimInfo && stackedDimInfo.name,\n    stackedByDimension: stackedByDimInfo && stackedByDimInfo.name,\n    isStackedByIndex: byIndex,\n    stackedOverDimension: stackedOverDimension,\n    stackResultDimension: stackResultDimension\n  };\n}\nfunction isLegacyDimensionsInput(dimensionsInput) {\n  return !isSeriesDataSchema(dimensionsInput.schema);\n}\nexport function isDimensionStacked(data, stackedDim) {\n  // Each single series only maps to one pair of axis. So we do not need to\n  // check stackByDim, whatever stacked by a dimension or stacked by index.\n  return !!stackedDim && stackedDim === data.getCalculationInfo('stackedDimension');\n}\nexport function getStackedDimension(data, targetDim) {\n  return isDimensionStacked(data, targetDim) ? data.getCalculationInfo('stackResultDimension') : targetDim;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport SeriesData from '../../data/SeriesData.js';\nimport prepareSeriesDataSchema from '../../data/helper/createDimensions.js';\nimport { getDimensionTypeByAxis } from '../../data/helper/dimensionHelper.js';\nimport { getDataItemValue } from '../../util/model.js';\nimport CoordinateSystem from '../../core/CoordinateSystem.js';\nimport { getCoordSysInfoBySeries } from '../../model/referHelper.js';\nimport { createSourceFromSeriesDataOption } from '../../data/Source.js';\nimport { enableDataStack } from '../../data/helper/dataStackHelper.js';\nimport { makeSeriesEncodeForAxisCoordSys } from '../../data/helper/sourceHelper.js';\nimport { SOURCE_FORMAT_ORIGINAL } from '../../util/types.js';\nfunction getCoordSysDimDefs(seriesModel, coordSysInfo) {\n  var coordSysName = seriesModel.get('coordinateSystem');\n  var registeredCoordSys = CoordinateSystem.get(coordSysName);\n  var coordSysDimDefs;\n  if (coordSysInfo && coordSysInfo.coordSysDims) {\n    coordSysDimDefs = zrUtil.map(coordSysInfo.coordSysDims, function (dim) {\n      var dimInfo = {\n        name: dim\n      };\n      var axisModel = coordSysInfo.axisMap.get(dim);\n      if (axisModel) {\n        var axisType = axisModel.get('type');\n        dimInfo.type = getDimensionTypeByAxis(axisType);\n      }\n      return dimInfo;\n    });\n  }\n  if (!coordSysDimDefs) {\n    // Get dimensions from registered coordinate system\n    coordSysDimDefs = registeredCoordSys && (registeredCoordSys.getDimensionsInfo ? registeredCoordSys.getDimensionsInfo() : registeredCoordSys.dimensions.slice()) || ['x', 'y'];\n  }\n  return coordSysDimDefs;\n}\nfunction injectOrdinalMeta(dimInfoList, createInvertedIndices, coordSysInfo) {\n  var firstCategoryDimIndex;\n  var hasNameEncode;\n  coordSysInfo && zrUtil.each(dimInfoList, function (dimInfo, dimIndex) {\n    var coordDim = dimInfo.coordDim;\n    var categoryAxisModel = coordSysInfo.categoryAxisMap.get(coordDim);\n    if (categoryAxisModel) {\n      if (firstCategoryDimIndex == null) {\n        firstCategoryDimIndex = dimIndex;\n      }\n      dimInfo.ordinalMeta = categoryAxisModel.getOrdinalMeta();\n      if (createInvertedIndices) {\n        dimInfo.createInvertedIndices = true;\n      }\n    }\n    if (dimInfo.otherDims.itemName != null) {\n      hasNameEncode = true;\n    }\n  });\n  if (!hasNameEncode && firstCategoryDimIndex != null) {\n    dimInfoList[firstCategoryDimIndex].otherDims.itemName = 0;\n  }\n  return firstCategoryDimIndex;\n}\n/**\n * Caution: there are side effects to `sourceManager` in this method.\n * Should better only be called in `Series['getInitialData']`.\n */\nfunction createSeriesData(sourceRaw, seriesModel, opt) {\n  opt = opt || {};\n  var sourceManager = seriesModel.getSourceManager();\n  var source;\n  var isOriginalSource = false;\n  if (sourceRaw) {\n    isOriginalSource = true;\n    source = createSourceFromSeriesDataOption(sourceRaw);\n  } else {\n    source = sourceManager.getSource();\n    // Is series.data. not dataset.\n    isOriginalSource = source.sourceFormat === SOURCE_FORMAT_ORIGINAL;\n  }\n  var coordSysInfo = getCoordSysInfoBySeries(seriesModel);\n  var coordSysDimDefs = getCoordSysDimDefs(seriesModel, coordSysInfo);\n  var useEncodeDefaulter = opt.useEncodeDefaulter;\n  var encodeDefaulter = zrUtil.isFunction(useEncodeDefaulter) ? useEncodeDefaulter : useEncodeDefaulter ? zrUtil.curry(makeSeriesEncodeForAxisCoordSys, coordSysDimDefs, seriesModel) : null;\n  var createDimensionOptions = {\n    coordDimensions: coordSysDimDefs,\n    generateCoord: opt.generateCoord,\n    encodeDefine: seriesModel.getEncode(),\n    encodeDefaulter: encodeDefaulter,\n    canOmitUnusedDimensions: !isOriginalSource\n  };\n  var schema = prepareSeriesDataSchema(source, createDimensionOptions);\n  var firstCategoryDimIndex = injectOrdinalMeta(schema.dimensions, opt.createInvertedIndices, coordSysInfo);\n  var store = !isOriginalSource ? sourceManager.getSharedDataStore(schema) : null;\n  var stackCalculationInfo = enableDataStack(seriesModel, {\n    schema: schema,\n    store: store\n  });\n  var data = new SeriesData(schema, seriesModel);\n  data.setCalculationInfo(stackCalculationInfo);\n  var dimValueGetter = firstCategoryDimIndex != null && isNeedCompleteOrdinalData(source)\n  /**\n   * This serves this case:\n   *  var echarts_option = {\n   *      xAxis: { data: ['a', 'b', 'c'] },\n   *      yAxis: {}\n   *      series: { data: [555, 666, 777] }\n   *  };\n   * The `series.data` is completed to:\n   *  [[0, 555], [1, 666], [2, 777]]\n   */ ? function (itemOpt, dimName, dataIndex, dimIndex) {\n    // Use dataIndex as ordinal value in categoryAxis\n    return dimIndex === firstCategoryDimIndex ? dataIndex : this.defaultDimValueGetter(itemOpt, dimName, dataIndex, dimIndex);\n  } : null;\n  data.hasItemOption = false;\n  data.initData(\n  // Try to reuse the data store in sourceManager if using dataset.\n  isOriginalSource ? source : store, null, dimValueGetter);\n  return data;\n}\nfunction isNeedCompleteOrdinalData(source) {\n  if (source.sourceFormat === SOURCE_FORMAT_ORIGINAL) {\n    var sampleItem = firstDataNotNull(source.data || []);\n    return !zrUtil.isArray(getDataItemValue(sampleItem));\n  }\n}\nfunction firstDataNotNull(arr) {\n  var i = 0;\n  while (i < arr.length && arr[i] == null) {\n    i++;\n  }\n  return arr[i];\n}\nexport default createSeriesData;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { getPrecision, round, nice, quantityExponent } from '../util/number.js';\nimport { bind } from 'zrender/lib/core/util.js';\nexport function isValueNice(val) {\n  var exp10 = Math.pow(10, quantityExponent(Math.abs(val)));\n  var f = Math.abs(val / exp10);\n  return f === 0 || f === 1 || f === 2 || f === 3 || f === 5;\n}\nexport function isIntervalOrLogScale(scale) {\n  return scale.type === 'interval' || scale.type === 'log';\n}\n/**\n * @param extent Both extent[0] and extent[1] should be valid number.\n *               Should be extent[0] < extent[1].\n * @param splitNumber splitNumber should be >= 1.\n */\nexport function intervalScaleNiceTicks(extent, spanWithBreaks, splitNumber, minInterval, maxInterval) {\n  var result = {};\n  var interval = result.interval = nice(spanWithBreaks / splitNumber, true);\n  if (minInterval != null && interval < minInterval) {\n    interval = result.interval = minInterval;\n  }\n  if (maxInterval != null && interval > maxInterval) {\n    interval = result.interval = maxInterval;\n  }\n  // Tow more digital for tick.\n  var precision = result.intervalPrecision = getIntervalPrecision(interval);\n  // Niced extent inside original extent\n  var niceTickExtent = result.niceTickExtent = [round(Math.ceil(extent[0] / interval) * interval, precision), round(Math.floor(extent[1] / interval) * interval, precision)];\n  fixExtent(niceTickExtent, extent);\n  return result;\n}\nexport function increaseInterval(interval) {\n  var exp10 = Math.pow(10, quantityExponent(interval));\n  // Increase interval\n  var f = interval / exp10;\n  if (!f) {\n    f = 1;\n  } else if (f === 2) {\n    f = 3;\n  } else if (f === 3) {\n    f = 5;\n  } else {\n    // f is 1 or 5\n    f *= 2;\n  }\n  return round(f * exp10);\n}\n/**\n * @return interval precision\n */\nexport function getIntervalPrecision(interval) {\n  // Tow more digital for tick.\n  return getPrecision(interval) + 2;\n}\nfunction clamp(niceTickExtent, idx, extent) {\n  niceTickExtent[idx] = Math.max(Math.min(niceTickExtent[idx], extent[1]), extent[0]);\n}\n// In some cases (e.g., splitNumber is 1), niceTickExtent may be out of extent.\nexport function fixExtent(niceTickExtent, extent) {\n  !isFinite(niceTickExtent[0]) && (niceTickExtent[0] = extent[0]);\n  !isFinite(niceTickExtent[1]) && (niceTickExtent[1] = extent[1]);\n  clamp(niceTickExtent, 0, extent);\n  clamp(niceTickExtent, 1, extent);\n  if (niceTickExtent[0] > niceTickExtent[1]) {\n    niceTickExtent[0] = niceTickExtent[1];\n  }\n}\nexport function contain(val, extent) {\n  return val >= extent[0] && val <= extent[1];\n}\nvar ScaleCalculator = /** @class */function () {\n  function ScaleCalculator() {\n    this.normalize = normalize;\n    this.scale = scale;\n  }\n  ScaleCalculator.prototype.updateMethods = function (brkCtx) {\n    if (brkCtx.hasBreaks()) {\n      this.normalize = bind(brkCtx.normalize, brkCtx);\n      this.scale = bind(brkCtx.scale, brkCtx);\n    } else {\n      this.normalize = normalize;\n      this.scale = scale;\n    }\n  };\n  return ScaleCalculator;\n}();\nexport { ScaleCalculator };\nfunction normalize(val, extent) {\n  if (extent[1] === extent[0]) {\n    return 0.5;\n  }\n  return (val - extent[0]) / (extent[1] - extent[0]);\n}\nfunction scale(val, extent) {\n  return val * (extent[1] - extent[0]) + extent[0];\n}\nexport function logTransform(base, extent, noClampNegative) {\n  var loggedBase = Math.log(base);\n  return [\n  // log(negative) is NaN, so safe guard here.\n  // PENDING: But even getting a -Infinity still does not make sense in extent.\n  //  Just keep it as is, getting a NaN to make some previous cases works by coincidence.\n  Math.log(noClampNegative ? extent[0] : Math.max(0, extent[0])) / loggedBase, Math.log(noClampNegative ? extent[1] : Math.max(0, extent[1])) / loggedBase];\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as clazzUtil from '../util/clazz.js';\nimport { ScaleCalculator } from './helper.js';\nimport { bind } from 'zrender/lib/core/util.js';\nimport { getScaleBreakHelper } from './break.js';\nvar Scale = /** @class */function () {\n  function Scale(setting) {\n    this._calculator = new ScaleCalculator();\n    this._setting = setting || {};\n    this._extent = [Infinity, -Infinity];\n    var scaleBreakHelper = getScaleBreakHelper();\n    if (scaleBreakHelper) {\n      this._brkCtx = scaleBreakHelper.createScaleBreakContext();\n      this._brkCtx.update(this._extent);\n    }\n  }\n  Scale.prototype.getSetting = function (name) {\n    return this._setting[name];\n  };\n  /**\n   * [CAVEAT]: It should not be overridden!\n   */\n  Scale.prototype._innerUnionExtent = function (other) {\n    var extent = this._extent;\n    // Considered that number could be NaN and should not write into the extent.\n    this._innerSetExtent(other[0] < extent[0] ? other[0] : extent[0], other[1] > extent[1] ? other[1] : extent[1]);\n  };\n  /**\n   * Set extent from data\n   */\n  Scale.prototype.unionExtentFromData = function (data, dim) {\n    this._innerUnionExtent(data.getApproximateExtent(dim));\n  };\n  /**\n   * Get a new slice of extent.\n   * Extent is always in increase order.\n   */\n  Scale.prototype.getExtent = function () {\n    return this._extent.slice();\n  };\n  Scale.prototype.setExtent = function (start, end) {\n    this._innerSetExtent(start, end);\n  };\n  /**\n   * [CAVEAT]: It should not be overridden!\n   */\n  Scale.prototype._innerSetExtent = function (start, end) {\n    var thisExtent = this._extent;\n    if (!isNaN(start)) {\n      thisExtent[0] = start;\n    }\n    if (!isNaN(end)) {\n      thisExtent[1] = end;\n    }\n    this._brkCtx && this._brkCtx.update(thisExtent);\n  };\n  /**\n   * Prerequisite: Scale#parse is ready.\n   */\n  Scale.prototype.setBreaksFromOption = function (breakOptionList) {\n    var scaleBreakHelper = getScaleBreakHelper();\n    if (scaleBreakHelper) {\n      this._innerSetBreak(scaleBreakHelper.parseAxisBreakOption(breakOptionList, bind(this.parse, this)));\n    }\n  };\n  /**\n   * [CAVEAT]: It should not be overridden!\n   */\n  Scale.prototype._innerSetBreak = function (parsed) {\n    if (this._brkCtx) {\n      this._brkCtx.setBreaks(parsed);\n      this._calculator.updateMethods(this._brkCtx);\n      this._brkCtx.update(this._extent);\n    }\n  };\n  /**\n   * [CAVEAT]: It should not be overridden!\n   */\n  Scale.prototype._innerGetBreaks = function () {\n    return this._brkCtx ? this._brkCtx.breaks : [];\n  };\n  /**\n   * Do not expose the internal `_breaks` unless necessary.\n   */\n  Scale.prototype.hasBreaks = function () {\n    return this._brkCtx ? this._brkCtx.hasBreaks() : false;\n  };\n  Scale.prototype._getExtentSpanWithBreaks = function () {\n    return this._brkCtx && this._brkCtx.hasBreaks() ? this._brkCtx.getExtentSpan() : this._extent[1] - this._extent[0];\n  };\n  /**\n   * If value is in extent range\n   */\n  Scale.prototype.isInExtentRange = function (value) {\n    return this._extent[0] <= value && this._extent[1] >= value;\n  };\n  /**\n   * When axis extent depends on data and no data exists,\n   * axis ticks should not be drawn, which is named 'blank'.\n   */\n  Scale.prototype.isBlank = function () {\n    return this._isBlank;\n  };\n  /**\n   * When axis extent depends on data and no data exists,\n   * axis ticks should not be drawn, which is named 'blank'.\n   */\n  Scale.prototype.setBlank = function (isBlank) {\n    this._isBlank = isBlank;\n  };\n  return Scale;\n}();\nclazzUtil.enableClassManagement(Scale);\nexport default Scale;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { createHashMap, isObject, map, isString } from 'zrender/lib/core/util.js';\nvar uidBase = 0;\nvar OrdinalMeta = /** @class */function () {\n  /**\n   * PENDING - Regarding forcibly converting to string:\n   *  In the early days, the underlying hash map impl used JS plain object and converted the key to\n   *  string; later in https://github.com/ecomfe/zrender/pull/966 it was changed to a JS Map (in supported\n   *  platforms), which does not require string keys. But consider any input that `scale/Ordinal['parse']`\n   *  is involved, a number input represents an `OrdinalNumber` (i.e., an index), and affect the query\n   *  behavior:\n   *    - If forcbily converting to string:\n   *      pros: users can use numeric string (such as, '123') to query the raw data (123), tho it's probably\n   *      still confusing.\n   *      cons: NaN/null/undefined in data will be equals to 'NaN'/'null'/'undefined', if simply using\n   *      `val + ''` to convert them, like currently `getName` does.\n   *    - Otherwise:\n   *      pros: see NaN/null/undefined case above.\n   *      cons: users cannot query the raw data (123) any more.\n   *  There are two inconsistent behaviors in the current impl:\n   *    - Force conversion is applied on the case `xAxis{data: ['aaa', 'bbb', ...]}`,\n   *      but no conversion applied to the case `xAxis{data: [{value: 'aaa'}, ...]}` and\n   *      the case `dataset: {source: [['aaa', 123], ['bbb', 234], ...]}`.\n   *    - behaves differently according to whether JS Map is supported (the polyfill is simply using JS\n   *      plain object) (tho it seems rare platform that do not support it).\n   *  Since there's no sufficient good solution to offset cost of the breaking change, we preserve the\n   *  current behavior, until real issues is reported.\n   */\n  function OrdinalMeta(opt) {\n    this.categories = opt.categories || [];\n    this._needCollect = opt.needCollect;\n    this._deduplication = opt.deduplication;\n    this.uid = ++uidBase;\n    this._onCollect = opt.onCollect;\n  }\n  OrdinalMeta.createByAxisModel = function (axisModel) {\n    var option = axisModel.option;\n    var data = option.data;\n    var categories = data && map(data, getName);\n    return new OrdinalMeta({\n      categories: categories,\n      needCollect: !categories,\n      // deduplication is default in axis.\n      deduplication: option.dedplication !== false\n    });\n  };\n  ;\n  OrdinalMeta.prototype.getOrdinal = function (category) {\n    return this._getOrCreateMap().get(category);\n  };\n  /**\n   * @return The ordinal. If not found, return NaN.\n   */\n  OrdinalMeta.prototype.parseAndCollect = function (category) {\n    var index;\n    var needCollect = this._needCollect;\n    // The value of category dim can be the index of the given category set.\n    // This feature is only supported when !needCollect, because we should\n    // consider a common case: a value is 2017, which is a number but is\n    // expected to be tread as a category. This case usually happen in dataset,\n    // where it happent to be no need of the index feature.\n    if (!isString(category) && !needCollect) {\n      return category;\n    }\n    // Optimize for the scenario:\n    // category is ['2012-01-01', '2012-01-02', ...], where the input\n    // data has been ensured not duplicate and is large data.\n    // Notice, if a dataset dimension provide categroies, usually echarts\n    // should remove duplication except user tell echarts dont do that\n    // (set axis.deduplication = false), because echarts do not know whether\n    // the values in the category dimension has duplication (consider the\n    // parallel-aqi example)\n    if (needCollect && !this._deduplication) {\n      index = this.categories.length;\n      this.categories[index] = category;\n      this._onCollect && this._onCollect(category, index);\n      return index;\n    }\n    var map = this._getOrCreateMap();\n    index = map.get(category);\n    if (index == null) {\n      if (needCollect) {\n        index = this.categories.length;\n        this.categories[index] = category;\n        map.set(category, index);\n        this._onCollect && this._onCollect(category, index);\n      } else {\n        index = NaN;\n      }\n    }\n    return index;\n  };\n  // Consider big data, do not create map until needed.\n  OrdinalMeta.prototype._getOrCreateMap = function () {\n    return this._map || (this._map = createHashMap(this.categories));\n  };\n  return OrdinalMeta;\n}();\nfunction getName(obj) {\n  if (isObject(obj) && obj.value != null) {\n    return obj.value;\n  } else {\n    return obj + '';\n  }\n}\nexport default OrdinalMeta;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n/**\n * Linear continuous scale\n * http://en.wikipedia.org/wiki/Level_of_measurement\n */\n// FIXME only one data\nimport Scale from './Scale.js';\nimport OrdinalMeta from '../data/OrdinalMeta.js';\nimport * as scaleHelper from './helper.js';\nimport { isArray, map, isObject, isString } from 'zrender/lib/core/util.js';\nvar OrdinalScale = /** @class */function (_super) {\n  __extends(OrdinalScale, _super);\n  function OrdinalScale(setting) {\n    var _this = _super.call(this, setting) || this;\n    _this.type = 'ordinal';\n    var ordinalMeta = _this.getSetting('ordinalMeta');\n    // Caution: Should not use instanceof, consider ec-extensions using\n    // import approach to get OrdinalMeta class.\n    if (!ordinalMeta) {\n      ordinalMeta = new OrdinalMeta({});\n    }\n    if (isArray(ordinalMeta)) {\n      ordinalMeta = new OrdinalMeta({\n        categories: map(ordinalMeta, function (item) {\n          return isObject(item) ? item.value : item;\n        })\n      });\n    }\n    _this._ordinalMeta = ordinalMeta;\n    _this._extent = _this.getSetting('extent') || [0, ordinalMeta.categories.length - 1];\n    return _this;\n  }\n  OrdinalScale.prototype.parse = function (val) {\n    // Caution: Math.round(null) will return `0` rather than `NaN`\n    if (val == null) {\n      return NaN;\n    }\n    return isString(val) ? this._ordinalMeta.getOrdinal(val)\n    // val might be float.\n    : Math.round(val);\n  };\n  OrdinalScale.prototype.contain = function (val) {\n    return scaleHelper.contain(val, this._extent) && val >= 0 && val < this._ordinalMeta.categories.length;\n  };\n  /**\n   * Normalize given rank or name to linear [0, 1]\n   * @param val raw ordinal number.\n   * @return normalized value in [0, 1].\n   */\n  OrdinalScale.prototype.normalize = function (val) {\n    val = this._getTickNumber(val);\n    return this._calculator.normalize(val, this._extent);\n  };\n  /**\n   * @param val normalized value in [0, 1].\n   * @return raw ordinal number.\n   */\n  OrdinalScale.prototype.scale = function (val) {\n    val = Math.round(this._calculator.scale(val, this._extent));\n    return this.getRawOrdinalNumber(val);\n  };\n  OrdinalScale.prototype.getTicks = function () {\n    var ticks = [];\n    var extent = this._extent;\n    var rank = extent[0];\n    while (rank <= extent[1]) {\n      ticks.push({\n        value: rank\n      });\n      rank++;\n    }\n    return ticks;\n  };\n  OrdinalScale.prototype.getMinorTicks = function (splitNumber) {\n    // Not support.\n    return;\n  };\n  /**\n   * @see `Ordinal['_ordinalNumbersByTick']`\n   */\n  OrdinalScale.prototype.setSortInfo = function (info) {\n    if (info == null) {\n      this._ordinalNumbersByTick = this._ticksByOrdinalNumber = null;\n      return;\n    }\n    var infoOrdinalNumbers = info.ordinalNumbers;\n    var ordinalsByTick = this._ordinalNumbersByTick = [];\n    var ticksByOrdinal = this._ticksByOrdinalNumber = [];\n    // Unnecessary support negative tick in `realtimeSort`.\n    var tickNum = 0;\n    var allCategoryLen = this._ordinalMeta.categories.length;\n    for (var len = Math.min(allCategoryLen, infoOrdinalNumbers.length); tickNum < len; ++tickNum) {\n      var ordinalNumber = infoOrdinalNumbers[tickNum];\n      ordinalsByTick[tickNum] = ordinalNumber;\n      ticksByOrdinal[ordinalNumber] = tickNum;\n    }\n    // Handle that `series.data` only covers part of the `axis.category.data`.\n    var unusedOrdinal = 0;\n    for (; tickNum < allCategoryLen; ++tickNum) {\n      while (ticksByOrdinal[unusedOrdinal] != null) {\n        unusedOrdinal++;\n      }\n      ;\n      ordinalsByTick.push(unusedOrdinal);\n      ticksByOrdinal[unusedOrdinal] = tickNum;\n    }\n  };\n  OrdinalScale.prototype._getTickNumber = function (ordinal) {\n    var ticksByOrdinalNumber = this._ticksByOrdinalNumber;\n    // also support ordinal out of range of `ordinalMeta.categories.length`,\n    // where ordinal numbers are used as tick value directly.\n    return ticksByOrdinalNumber && ordinal >= 0 && ordinal < ticksByOrdinalNumber.length ? ticksByOrdinalNumber[ordinal] : ordinal;\n  };\n  /**\n   * @usage\n   * ```js\n   * const ordinalNumber = ordinalScale.getRawOrdinalNumber(tickVal);\n   *\n   * // case0\n   * const rawOrdinalValue = axisModel.getCategories()[ordinalNumber];\n   * // case1\n   * const rawOrdinalValue = this._ordinalMeta.categories[ordinalNumber];\n   * // case2\n   * const coord = axis.dataToCoord(ordinalNumber);\n   * ```\n   *\n   * @param {OrdinalNumber} tickNumber index of display\n   */\n  OrdinalScale.prototype.getRawOrdinalNumber = function (tickNumber) {\n    var ordinalNumbersByTick = this._ordinalNumbersByTick;\n    // tickNumber may be out of range, e.g., when axis max is larger than `ordinalMeta.categories.length`.,\n    // where ordinal numbers are used as tick value directly.\n    return ordinalNumbersByTick && tickNumber >= 0 && tickNumber < ordinalNumbersByTick.length ? ordinalNumbersByTick[tickNumber] : tickNumber;\n  };\n  /**\n   * Get item on tick\n   */\n  OrdinalScale.prototype.getLabel = function (tick) {\n    if (!this.isBlank()) {\n      var ordinalNumber = this.getRawOrdinalNumber(tick.value);\n      var cateogry = this._ordinalMeta.categories[ordinalNumber];\n      // Note that if no data, ordinalMeta.categories is an empty array.\n      // Return empty if it's not exist.\n      return cateogry == null ? '' : cateogry + '';\n    }\n  };\n  OrdinalScale.prototype.count = function () {\n    return this._extent[1] - this._extent[0] + 1;\n  };\n  /**\n   * @override\n   * If value is in extent range\n   */\n  OrdinalScale.prototype.isInExtentRange = function (value) {\n    value = this._getTickNumber(value);\n    return this._extent[0] <= value && this._extent[1] >= value;\n  };\n  OrdinalScale.prototype.getOrdinalMeta = function () {\n    return this._ordinalMeta;\n  };\n  OrdinalScale.prototype.calcNiceTicks = function () {};\n  OrdinalScale.prototype.calcNiceExtent = function () {};\n  OrdinalScale.type = 'ordinal';\n  return OrdinalScale;\n}(Scale);\nScale.registerClass(OrdinalScale);\nexport default OrdinalScale;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as numberUtil from '../util/number.js';\nimport * as formatUtil from '../util/format.js';\nimport Scale from './Scale.js';\nimport * as helper from './helper.js';\nimport { getScaleBreakHelper } from './break.js';\nvar roundNumber = numberUtil.round;\nvar IntervalScale = /** @class */function (_super) {\n  __extends(IntervalScale, _super);\n  function IntervalScale() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = 'interval';\n    // Step is calculated in adjustExtent.\n    _this._interval = 0;\n    _this._intervalPrecision = 2;\n    return _this;\n  }\n  IntervalScale.prototype.parse = function (val) {\n    // `Scale#parse` (and its overrids) are typically applied at the axis values input\n    // in echarts option. e.g., `axis.min/max`, `dataZoom.min/max`, etc.\n    // but `series.data` is not included, which uses `dataValueHelper.ts`#`parseDataValue`.\n    // `Scale#parse` originally introduced in fb8c813215098b9d2458966229bb95c510883d5e\n    // at 2016 for dataZoom start/end settings (See `parseAxisModelMinMax`).\n    //\n    // Historically `scale/Interval.ts` returns the input value directly. But numeric\n    // values (such as a number-like string '123') effectively passed through here and\n    // were involved in calculations, which was error-prone and inconsistent with the\n    // declared TS return type. Previously such issues are fixed separately in different\n    // places case by case (such as #2475).\n    //\n    // Now, we perform actual parse to ensure its `number` type here. The parsing rule\n    // follows the series data parsing rule (`dataValueHelper.ts`#`parseDataValue`)\n    // and maintains compatibility as much as possible (thus a more strict parsing\n    // `number.ts`#`numericToNumber` is not used here.)\n    //\n    // FIXME: `ScaleDataValue` also need to be modified to include numeric string type,\n    //  since it effectively does.\n    return val == null || val === '' ? NaN\n    // If string (like '-'), using '+' parse to NaN\n    // If object, also parse to NaN\n    : Number(val);\n  };\n  IntervalScale.prototype.contain = function (val) {\n    return helper.contain(val, this._extent);\n  };\n  IntervalScale.prototype.normalize = function (val) {\n    return this._calculator.normalize(val, this._extent);\n  };\n  IntervalScale.prototype.scale = function (val) {\n    return this._calculator.scale(val, this._extent);\n  };\n  IntervalScale.prototype.getInterval = function () {\n    return this._interval;\n  };\n  IntervalScale.prototype.setInterval = function (interval) {\n    this._interval = interval;\n    // Dropped auto calculated niceExtent and use user-set extent.\n    // We assume user wants to set both interval, min, max to get a better result.\n    this._niceExtent = this._extent.slice();\n    this._intervalPrecision = helper.getIntervalPrecision(interval);\n  };\n  /**\n   * @override\n   */\n  IntervalScale.prototype.getTicks = function (opt) {\n    opt = opt || {};\n    var interval = this._interval;\n    var extent = this._extent;\n    var niceTickExtent = this._niceExtent;\n    var intervalPrecision = this._intervalPrecision;\n    var scaleBreakHelper = getScaleBreakHelper();\n    var ticks = [];\n    // If interval is 0, return [];\n    if (!interval) {\n      return ticks;\n    }\n    if (opt.breakTicks === 'only_break' && scaleBreakHelper) {\n      scaleBreakHelper.addBreaksToTicks(ticks, this._brkCtx.breaks, this._extent);\n      return ticks;\n    }\n    // Consider this case: using dataZoom toolbox, zoom and zoom.\n    var safeLimit = 10000;\n    if (extent[0] < niceTickExtent[0]) {\n      if (opt.expandToNicedExtent) {\n        ticks.push({\n          value: roundNumber(niceTickExtent[0] - interval, intervalPrecision)\n        });\n      } else {\n        ticks.push({\n          value: extent[0]\n        });\n      }\n    }\n    var estimateNiceMultiple = function (tickVal, targetTick) {\n      return Math.round((targetTick - tickVal) / interval);\n    };\n    var tick = niceTickExtent[0];\n    while (tick <= niceTickExtent[1]) {\n      ticks.push({\n        value: tick\n      });\n      // Avoid rounding error\n      tick = roundNumber(tick + interval, intervalPrecision);\n      if (this._brkCtx) {\n        var moreMultiple = this._brkCtx.calcNiceTickMultiple(tick, estimateNiceMultiple);\n        if (moreMultiple >= 0) {\n          tick = roundNumber(tick + moreMultiple * interval, intervalPrecision);\n        }\n      }\n      if (ticks.length > 0 && tick === ticks[ticks.length - 1].value) {\n        // Consider out of safe float point, e.g.,\n        // -3711126.9907707 + 2e-10 === -3711126.9907707\n        break;\n      }\n      if (ticks.length > safeLimit) {\n        return [];\n      }\n    }\n    // Consider this case: the last item of ticks is smaller\n    // than niceTickExtent[1] and niceTickExtent[1] === extent[1].\n    var lastNiceTick = ticks.length ? ticks[ticks.length - 1].value : niceTickExtent[1];\n    if (extent[1] > lastNiceTick) {\n      if (opt.expandToNicedExtent) {\n        ticks.push({\n          value: roundNumber(lastNiceTick + interval, intervalPrecision)\n        });\n      } else {\n        ticks.push({\n          value: extent[1]\n        });\n      }\n    }\n    if (scaleBreakHelper) {\n      scaleBreakHelper.pruneTicksByBreak(opt.pruneByBreak, ticks, this._brkCtx.breaks, function (item) {\n        return item.value;\n      }, this._interval, this._extent);\n    }\n    if (opt.breakTicks !== 'none' && scaleBreakHelper) {\n      scaleBreakHelper.addBreaksToTicks(ticks, this._brkCtx.breaks, this._extent);\n    }\n    return ticks;\n  };\n  IntervalScale.prototype.getMinorTicks = function (splitNumber) {\n    var ticks = this.getTicks({\n      expandToNicedExtent: true\n    });\n    // NOTE: In log-scale, do not support minor ticks when breaks exist.\n    //  because currently log-scale minor ticks is calculated based on raw values\n    //  rather than log-transformed value, due to an odd effect when breaks exist.\n    var minorTicks = [];\n    var extent = this.getExtent();\n    for (var i = 1; i < ticks.length; i++) {\n      var nextTick = ticks[i];\n      var prevTick = ticks[i - 1];\n      if (prevTick[\"break\"] || nextTick[\"break\"]) {\n        // Do not build minor ticks to the adjacent ticks to breaks ticks,\n        // since the interval might be irregular.\n        continue;\n      }\n      var count = 0;\n      var minorTicksGroup = [];\n      var interval = nextTick.value - prevTick.value;\n      var minorInterval = interval / splitNumber;\n      var minorIntervalPrecision = helper.getIntervalPrecision(minorInterval);\n      while (count < splitNumber - 1) {\n        var minorTick = roundNumber(prevTick.value + (count + 1) * minorInterval, minorIntervalPrecision);\n        // For the first and last interval. The count may be less than splitNumber.\n        if (minorTick > extent[0] && minorTick < extent[1]) {\n          minorTicksGroup.push(minorTick);\n        }\n        count++;\n      }\n      var scaleBreakHelper = getScaleBreakHelper();\n      scaleBreakHelper && scaleBreakHelper.pruneTicksByBreak('auto', minorTicksGroup, this._getNonTransBreaks(), function (value) {\n        return value;\n      }, this._interval, extent);\n      minorTicks.push(minorTicksGroup);\n    }\n    return minorTicks;\n  };\n  IntervalScale.prototype._getNonTransBreaks = function () {\n    return this._brkCtx ? this._brkCtx.breaks : [];\n  };\n  /**\n   * @param opt.precision If 'auto', use nice presision.\n   * @param opt.pad returns 1.50 but not 1.5 if precision is 2.\n   */\n  IntervalScale.prototype.getLabel = function (data, opt) {\n    if (data == null) {\n      return '';\n    }\n    var precision = opt && opt.precision;\n    if (precision == null) {\n      precision = numberUtil.getPrecision(data.value) || 0;\n    } else if (precision === 'auto') {\n      // Should be more precise then tick.\n      precision = this._intervalPrecision;\n    }\n    // (1) If `precision` is set, 12.005 should be display as '12.00500'.\n    // (2) Use roundNumber (toFixed) to avoid scientific notation like '3.5e-7'.\n    var dataNum = roundNumber(data.value, precision, true);\n    return formatUtil.addCommas(dataNum);\n  };\n  /**\n   * FIXME: refactor - disallow override, use composition instead.\n   *\n   * The override of `calcNiceTicks` should ensure these members are provided:\n   *  this._intervalPrecision\n   *  this._interval\n   *\n   * @param splitNumber By default `5`.\n   */\n  IntervalScale.prototype.calcNiceTicks = function (splitNumber, minInterval, maxInterval) {\n    splitNumber = splitNumber || 5;\n    var extent = this._extent.slice();\n    var span = this._getExtentSpanWithBreaks();\n    if (!isFinite(span)) {\n      return;\n    }\n    // User may set axis min 0 and data are all negative\n    // FIXME If it needs to reverse ?\n    if (span < 0) {\n      span = -span;\n      extent.reverse();\n      this._innerSetExtent(extent[0], extent[1]);\n      extent = this._extent.slice();\n    }\n    var result = helper.intervalScaleNiceTicks(extent, span, splitNumber, minInterval, maxInterval);\n    this._intervalPrecision = result.intervalPrecision;\n    this._interval = result.interval;\n    this._niceExtent = result.niceTickExtent;\n  };\n  IntervalScale.prototype.calcNiceExtent = function (opt) {\n    var extent = this._extent.slice();\n    // If extent start and end are same, expand them\n    if (extent[0] === extent[1]) {\n      if (extent[0] !== 0) {\n        // Expand extent\n        // Note that extents can be both negative. See #13154\n        var expandSize = Math.abs(extent[0]);\n        // In the fowllowing case\n        //      Axis has been fixed max 100\n        //      Plus data are all 100 and axis extent are [100, 100].\n        // Extend to the both side will cause expanded max is larger than fixed max.\n        // So only expand to the smaller side.\n        if (!opt.fixMax) {\n          extent[1] += expandSize / 2;\n          extent[0] -= expandSize / 2;\n        } else {\n          extent[0] -= expandSize / 2;\n        }\n      } else {\n        extent[1] = 1;\n      }\n    }\n    var span = extent[1] - extent[0];\n    // If there are no data and extent are [Infinity, -Infinity]\n    if (!isFinite(span)) {\n      extent[0] = 0;\n      extent[1] = 1;\n    }\n    this._innerSetExtent(extent[0], extent[1]);\n    extent = this._extent.slice();\n    this.calcNiceTicks(opt.splitNumber, opt.minInterval, opt.maxInterval);\n    var interval = this._interval;\n    var intervalPrecition = this._intervalPrecision;\n    if (!opt.fixMin) {\n      extent[0] = roundNumber(Math.floor(extent[0] / interval) * interval, intervalPrecition);\n    }\n    if (!opt.fixMax) {\n      extent[1] = roundNumber(Math.ceil(extent[1] / interval) * interval, intervalPrecition);\n    }\n    this._innerSetExtent(extent[0], extent[1]);\n  };\n  IntervalScale.prototype.setNiceExtent = function (min, max) {\n    this._niceExtent = [min, max];\n  };\n  IntervalScale.type = 'interval';\n  return IntervalScale;\n}(Scale);\nScale.registerClass(IntervalScale);\nexport default IntervalScale;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { each, defaults, keys } from 'zrender/lib/core/util.js';\nimport { parsePercent } from '../util/number.js';\nimport { isDimensionStacked } from '../data/helper/dataStackHelper.js';\nimport createRenderPlanner from '../chart/helper/createRenderPlanner.js';\nimport { createFloat32Array } from '../util/vendor.js';\nvar STACK_PREFIX = '__ec_stack_';\nfunction getSeriesStackId(seriesModel) {\n  return seriesModel.get('stack') || STACK_PREFIX + seriesModel.seriesIndex;\n}\nfunction getAxisKey(axis) {\n  return axis.dim + axis.index;\n}\n/**\n * @return {Object} {width, offset, offsetCenter} If axis.type is not 'category', return undefined.\n */\nexport function getLayoutOnAxis(opt) {\n  var params = [];\n  var baseAxis = opt.axis;\n  var axisKey = 'axis0';\n  if (baseAxis.type !== 'category') {\n    return;\n  }\n  var bandWidth = baseAxis.getBandWidth();\n  for (var i = 0; i < opt.count || 0; i++) {\n    params.push(defaults({\n      bandWidth: bandWidth,\n      axisKey: axisKey,\n      stackId: STACK_PREFIX + i\n    }, opt));\n  }\n  var widthAndOffsets = doCalBarWidthAndOffset(params);\n  var result = [];\n  for (var i = 0; i < opt.count; i++) {\n    var item = widthAndOffsets[axisKey][STACK_PREFIX + i];\n    item.offsetCenter = item.offset + item.width / 2;\n    result.push(item);\n  }\n  return result;\n}\nexport function prepareLayoutBarSeries(seriesType, ecModel) {\n  var seriesModels = [];\n  ecModel.eachSeriesByType(seriesType, function (seriesModel) {\n    // Check series coordinate, do layout for cartesian2d only\n    if (isOnCartesian(seriesModel)) {\n      seriesModels.push(seriesModel);\n    }\n  });\n  return seriesModels;\n}\n/**\n * Map from (baseAxis.dim + '_' + baseAxis.index) to min gap of two adjacent\n * values.\n * This works for time axes, value axes, and log axes.\n * For a single time axis, return value is in the form like\n * {'x_0': [1000000]}.\n * The value of 1000000 is in milliseconds.\n */\nfunction getValueAxesMinGaps(barSeries) {\n  /**\n   * Map from axis.index to values.\n   * For a single time axis, axisValues is in the form like\n   * {'x_0': [1495555200000, 1495641600000, 1495728000000]}.\n   * Items in axisValues[x], e.g. 1495555200000, are time values of all\n   * series.\n   */\n  var axisValues = {};\n  each(barSeries, function (seriesModel) {\n    var cartesian = seriesModel.coordinateSystem;\n    var baseAxis = cartesian.getBaseAxis();\n    if (baseAxis.type !== 'time' && baseAxis.type !== 'value') {\n      return;\n    }\n    var data = seriesModel.getData();\n    var key = baseAxis.dim + '_' + baseAxis.index;\n    var dimIdx = data.getDimensionIndex(data.mapDimension(baseAxis.dim));\n    var store = data.getStore();\n    for (var i = 0, cnt = store.count(); i < cnt; ++i) {\n      var value = store.get(dimIdx, i);\n      if (!axisValues[key]) {\n        // No previous data for the axis\n        axisValues[key] = [value];\n      } else {\n        // No value in previous series\n        axisValues[key].push(value);\n      }\n      // Ignore duplicated time values in the same axis\n    }\n  });\n  var axisMinGaps = {};\n  for (var key in axisValues) {\n    if (axisValues.hasOwnProperty(key)) {\n      var valuesInAxis = axisValues[key];\n      if (valuesInAxis) {\n        // Sort axis values into ascending order to calculate gaps\n        valuesInAxis.sort(function (a, b) {\n          return a - b;\n        });\n        var min = null;\n        for (var j = 1; j < valuesInAxis.length; ++j) {\n          var delta = valuesInAxis[j] - valuesInAxis[j - 1];\n          if (delta > 0) {\n            // Ignore 0 delta because they are of the same axis value\n            min = min === null ? delta : Math.min(min, delta);\n          }\n        }\n        // Set to null if only have one data\n        axisMinGaps[key] = min;\n      }\n    }\n  }\n  return axisMinGaps;\n}\nexport function makeColumnLayout(barSeries) {\n  var axisMinGaps = getValueAxesMinGaps(barSeries);\n  var seriesInfoList = [];\n  each(barSeries, function (seriesModel) {\n    var cartesian = seriesModel.coordinateSystem;\n    var baseAxis = cartesian.getBaseAxis();\n    var axisExtent = baseAxis.getExtent();\n    var bandWidth;\n    if (baseAxis.type === 'category') {\n      bandWidth = baseAxis.getBandWidth();\n    } else if (baseAxis.type === 'value' || baseAxis.type === 'time') {\n      var key = baseAxis.dim + '_' + baseAxis.index;\n      var minGap = axisMinGaps[key];\n      var extentSpan = Math.abs(axisExtent[1] - axisExtent[0]);\n      var scale = baseAxis.scale.getExtent();\n      var scaleSpan = Math.abs(scale[1] - scale[0]);\n      bandWidth = minGap ? extentSpan / scaleSpan * minGap : extentSpan; // When there is only one data value\n    } else {\n      var data = seriesModel.getData();\n      bandWidth = Math.abs(axisExtent[1] - axisExtent[0]) / data.count();\n    }\n    var barWidth = parsePercent(seriesModel.get('barWidth'), bandWidth);\n    var barMaxWidth = parsePercent(seriesModel.get('barMaxWidth'), bandWidth);\n    var barMinWidth = parsePercent(\n    // barMinWidth by default is 0.5 / 1 in cartesian. Because in value axis,\n    // the auto-calculated bar width might be less than 0.5 / 1.\n    seriesModel.get('barMinWidth') || (isInLargeMode(seriesModel) ? 0.5 : 1), bandWidth);\n    var barGap = seriesModel.get('barGap');\n    var barCategoryGap = seriesModel.get('barCategoryGap');\n    var defaultBarGap = seriesModel.get('defaultBarGap');\n    seriesInfoList.push({\n      bandWidth: bandWidth,\n      barWidth: barWidth,\n      barMaxWidth: barMaxWidth,\n      barMinWidth: barMinWidth,\n      barGap: barGap,\n      barCategoryGap: barCategoryGap,\n      defaultBarGap: defaultBarGap,\n      axisKey: getAxisKey(baseAxis),\n      stackId: getSeriesStackId(seriesModel)\n    });\n  });\n  return doCalBarWidthAndOffset(seriesInfoList);\n}\nfunction doCalBarWidthAndOffset(seriesInfoList) {\n  // Columns info on each category axis. Key is cartesian name\n  var columnsMap = {};\n  each(seriesInfoList, function (seriesInfo, idx) {\n    var axisKey = seriesInfo.axisKey;\n    var bandWidth = seriesInfo.bandWidth;\n    var columnsOnAxis = columnsMap[axisKey] || {\n      bandWidth: bandWidth,\n      remainedWidth: bandWidth,\n      autoWidthCount: 0,\n      categoryGap: null,\n      gap: seriesInfo.defaultBarGap || 0,\n      stacks: {}\n    };\n    var stacks = columnsOnAxis.stacks;\n    columnsMap[axisKey] = columnsOnAxis;\n    var stackId = seriesInfo.stackId;\n    if (!stacks[stackId]) {\n      columnsOnAxis.autoWidthCount++;\n    }\n    stacks[stackId] = stacks[stackId] || {\n      width: 0,\n      maxWidth: 0\n    };\n    // Caution: In a single coordinate system, these barGrid attributes\n    // will be shared by series. Consider that they have default values,\n    // only the attributes set on the last series will work.\n    // Do not change this fact unless there will be a break change.\n    var barWidth = seriesInfo.barWidth;\n    if (barWidth && !stacks[stackId].width) {\n      // See #6312, do not restrict width.\n      stacks[stackId].width = barWidth;\n      barWidth = Math.min(columnsOnAxis.remainedWidth, barWidth);\n      columnsOnAxis.remainedWidth -= barWidth;\n    }\n    var barMaxWidth = seriesInfo.barMaxWidth;\n    barMaxWidth && (stacks[stackId].maxWidth = barMaxWidth);\n    var barMinWidth = seriesInfo.barMinWidth;\n    barMinWidth && (stacks[stackId].minWidth = barMinWidth);\n    var barGap = seriesInfo.barGap;\n    barGap != null && (columnsOnAxis.gap = barGap);\n    var barCategoryGap = seriesInfo.barCategoryGap;\n    barCategoryGap != null && (columnsOnAxis.categoryGap = barCategoryGap);\n  });\n  var result = {};\n  each(columnsMap, function (columnsOnAxis, coordSysName) {\n    result[coordSysName] = {};\n    var stacks = columnsOnAxis.stacks;\n    var bandWidth = columnsOnAxis.bandWidth;\n    var categoryGapPercent = columnsOnAxis.categoryGap;\n    if (categoryGapPercent == null) {\n      var columnCount = keys(stacks).length;\n      // More columns in one group\n      // the spaces between group is smaller. Or the column will be too thin.\n      categoryGapPercent = Math.max(35 - columnCount * 4, 15) + '%';\n    }\n    var categoryGap = parsePercent(categoryGapPercent, bandWidth);\n    var barGapPercent = parsePercent(columnsOnAxis.gap, 1);\n    var remainedWidth = columnsOnAxis.remainedWidth;\n    var autoWidthCount = columnsOnAxis.autoWidthCount;\n    var autoWidth = (remainedWidth - categoryGap) / (autoWidthCount + (autoWidthCount - 1) * barGapPercent);\n    autoWidth = Math.max(autoWidth, 0);\n    // Find if any auto calculated bar exceeded maxBarWidth\n    each(stacks, function (column) {\n      var maxWidth = column.maxWidth;\n      var minWidth = column.minWidth;\n      if (!column.width) {\n        var finalWidth = autoWidth;\n        if (maxWidth && maxWidth < finalWidth) {\n          finalWidth = Math.min(maxWidth, remainedWidth);\n        }\n        // `minWidth` has higher priority. `minWidth` decide that whether the\n        // bar is able to be visible. So `minWidth` should not be restricted\n        // by `maxWidth` or `remainedWidth` (which is from `bandWidth`). In\n        // the extreme cases for `value` axis, bars are allowed to overlap\n        // with each other if `minWidth` specified.\n        if (minWidth && minWidth > finalWidth) {\n          finalWidth = minWidth;\n        }\n        if (finalWidth !== autoWidth) {\n          column.width = finalWidth;\n          remainedWidth -= finalWidth + barGapPercent * finalWidth;\n          autoWidthCount--;\n        }\n      } else {\n        // `barMinWidth/barMaxWidth` has higher priority than `barWidth`, as\n        // CSS does. Because barWidth can be a percent value, where\n        // `barMaxWidth` can be used to restrict the final width.\n        var finalWidth = column.width;\n        if (maxWidth) {\n          finalWidth = Math.min(finalWidth, maxWidth);\n        }\n        // `minWidth` has higher priority, as described above\n        if (minWidth) {\n          finalWidth = Math.max(finalWidth, minWidth);\n        }\n        column.width = finalWidth;\n        remainedWidth -= finalWidth + barGapPercent * finalWidth;\n        autoWidthCount--;\n      }\n    });\n    // Recalculate width again\n    autoWidth = (remainedWidth - categoryGap) / (autoWidthCount + (autoWidthCount - 1) * barGapPercent);\n    autoWidth = Math.max(autoWidth, 0);\n    var widthSum = 0;\n    var lastColumn;\n    each(stacks, function (column, idx) {\n      if (!column.width) {\n        column.width = autoWidth;\n      }\n      lastColumn = column;\n      widthSum += column.width * (1 + barGapPercent);\n    });\n    if (lastColumn) {\n      widthSum -= lastColumn.width * barGapPercent;\n    }\n    var offset = -widthSum / 2;\n    each(stacks, function (column, stackId) {\n      result[coordSysName][stackId] = result[coordSysName][stackId] || {\n        bandWidth: bandWidth,\n        offset: offset,\n        width: column.width\n      };\n      offset += column.width * (1 + barGapPercent);\n    });\n  });\n  return result;\n}\nfunction retrieveColumnLayout(barWidthAndOffset, axis, seriesModel) {\n  if (barWidthAndOffset && axis) {\n    var result = barWidthAndOffset[getAxisKey(axis)];\n    if (result != null && seriesModel != null) {\n      return result[getSeriesStackId(seriesModel)];\n    }\n    return result;\n  }\n}\nexport { retrieveColumnLayout };\nexport function layout(seriesType, ecModel) {\n  var seriesModels = prepareLayoutBarSeries(seriesType, ecModel);\n  var barWidthAndOffset = makeColumnLayout(seriesModels);\n  each(seriesModels, function (seriesModel) {\n    var data = seriesModel.getData();\n    var cartesian = seriesModel.coordinateSystem;\n    var baseAxis = cartesian.getBaseAxis();\n    var stackId = getSeriesStackId(seriesModel);\n    var columnLayoutInfo = barWidthAndOffset[getAxisKey(baseAxis)][stackId];\n    var columnOffset = columnLayoutInfo.offset;\n    var columnWidth = columnLayoutInfo.width;\n    data.setLayout({\n      bandWidth: columnLayoutInfo.bandWidth,\n      offset: columnOffset,\n      size: columnWidth\n    });\n  });\n}\n// TODO: Do not support stack in large mode yet.\nexport function createProgressiveLayout(seriesType) {\n  return {\n    seriesType: seriesType,\n    plan: createRenderPlanner(),\n    reset: function (seriesModel) {\n      if (!isOnCartesian(seriesModel)) {\n        return;\n      }\n      var data = seriesModel.getData();\n      var cartesian = seriesModel.coordinateSystem;\n      var baseAxis = cartesian.getBaseAxis();\n      var valueAxis = cartesian.getOtherAxis(baseAxis);\n      var valueDimIdx = data.getDimensionIndex(data.mapDimension(valueAxis.dim));\n      var baseDimIdx = data.getDimensionIndex(data.mapDimension(baseAxis.dim));\n      var drawBackground = seriesModel.get('showBackground', true);\n      var valueDim = data.mapDimension(valueAxis.dim);\n      var stackResultDim = data.getCalculationInfo('stackResultDimension');\n      var stacked = isDimensionStacked(data, valueDim) && !!data.getCalculationInfo('stackedOnSeries');\n      var isValueAxisH = valueAxis.isHorizontal();\n      var valueAxisStart = getValueAxisStart(baseAxis, valueAxis);\n      var isLarge = isInLargeMode(seriesModel);\n      var barMinHeight = seriesModel.get('barMinHeight') || 0;\n      var stackedDimIdx = stackResultDim && data.getDimensionIndex(stackResultDim);\n      // Layout info.\n      var columnWidth = data.getLayout('size');\n      var columnOffset = data.getLayout('offset');\n      return {\n        progress: function (params, data) {\n          var count = params.count;\n          var largePoints = isLarge && createFloat32Array(count * 3);\n          var largeBackgroundPoints = isLarge && drawBackground && createFloat32Array(count * 3);\n          var largeDataIndices = isLarge && createFloat32Array(count);\n          var coordLayout = cartesian.master.getRect();\n          var bgSize = isValueAxisH ? coordLayout.width : coordLayout.height;\n          var dataIndex;\n          var store = data.getStore();\n          var idxOffset = 0;\n          while ((dataIndex = params.next()) != null) {\n            var value = store.get(stacked ? stackedDimIdx : valueDimIdx, dataIndex);\n            var baseValue = store.get(baseDimIdx, dataIndex);\n            var baseCoord = valueAxisStart;\n            var stackStartValue = void 0;\n            // Because of the barMinHeight, we can not use the value in\n            // stackResultDimension directly.\n            if (stacked) {\n              stackStartValue = +value - store.get(valueDimIdx, dataIndex);\n            }\n            var x = void 0;\n            var y = void 0;\n            var width = void 0;\n            var height = void 0;\n            if (isValueAxisH) {\n              var coord = cartesian.dataToPoint([value, baseValue]);\n              if (stacked) {\n                var startCoord = cartesian.dataToPoint([stackStartValue, baseValue]);\n                baseCoord = startCoord[0];\n              }\n              x = baseCoord;\n              y = coord[1] + columnOffset;\n              width = coord[0] - baseCoord;\n              height = columnWidth;\n              if (Math.abs(width) < barMinHeight) {\n                width = (width < 0 ? -1 : 1) * barMinHeight;\n              }\n            } else {\n              var coord = cartesian.dataToPoint([baseValue, value]);\n              if (stacked) {\n                var startCoord = cartesian.dataToPoint([baseValue, stackStartValue]);\n                baseCoord = startCoord[1];\n              }\n              x = coord[0] + columnOffset;\n              y = baseCoord;\n              width = columnWidth;\n              height = coord[1] - baseCoord;\n              if (Math.abs(height) < barMinHeight) {\n                // Include zero to has a positive bar\n                height = (height <= 0 ? -1 : 1) * barMinHeight;\n              }\n            }\n            if (!isLarge) {\n              data.setItemLayout(dataIndex, {\n                x: x,\n                y: y,\n                width: width,\n                height: height\n              });\n            } else {\n              largePoints[idxOffset] = x;\n              largePoints[idxOffset + 1] = y;\n              largePoints[idxOffset + 2] = isValueAxisH ? width : height;\n              if (largeBackgroundPoints) {\n                largeBackgroundPoints[idxOffset] = isValueAxisH ? coordLayout.x : x;\n                largeBackgroundPoints[idxOffset + 1] = isValueAxisH ? y : coordLayout.y;\n                largeBackgroundPoints[idxOffset + 2] = bgSize;\n              }\n              largeDataIndices[dataIndex] = dataIndex;\n            }\n            idxOffset += 3;\n          }\n          if (isLarge) {\n            data.setLayout({\n              largePoints: largePoints,\n              largeDataIndices: largeDataIndices,\n              largeBackgroundPoints: largeBackgroundPoints,\n              valueAxisHorizontal: isValueAxisH\n            });\n          }\n        }\n      };\n    }\n  };\n}\nfunction isOnCartesian(seriesModel) {\n  return seriesModel.coordinateSystem && seriesModel.coordinateSystem.type === 'cartesian2d';\n}\nfunction isInLargeMode(seriesModel) {\n  return seriesModel.pipelineContext && seriesModel.pipelineContext.large;\n}\n// See cases in `test/bar-start.html` and `#7412`, `#8747`.\nfunction getValueAxisStart(baseAxis, valueAxis) {\n  var startValue = valueAxis.model.get('startValue');\n  if (!startValue) {\n    startValue = 0;\n  }\n  return valueAxis.toGlobalCoord(valueAxis.dataToCoord(valueAxis.type === 'log' ? startValue > 0 ? startValue : 1 : startValue));\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n/*\n* A third-party license is embedded for some of the code in this file:\n* The \"scaleLevels\" was originally copied from \"d3.js\" with some\n* modifications made for this project.\n* (See more details in the comment on the definition of \"scaleLevels\" below.)\n* The use of the source code of this file is also subject to the terms\n* and consitions of the license of \"d3.js\" (BSD-3Clause, see\n* </licenses/LICENSE-d3>).\n*/\n// [About UTC and local time zone]:\n// In most cases, `number.parseDate` will treat input data string as local time\n// (except time zone is specified in time string). And `format.formateTime` returns\n// local time by default. option.useUTC is false by default. This design has\n// considered these common cases:\n// (1) Time that is persistent in server is in UTC, but it is needed to be displayed\n// in local time by default.\n// (2) By default, the input data string (e.g., '2011-01-02') should be displayed\n// as its original time, without any time difference.\nimport * as numberUtil from '../util/number.js';\nimport { ONE_SECOND, ONE_MINUTE, ONE_HOUR, ONE_DAY, ONE_YEAR, format, leveledFormat, timeUnits, fullLeveledFormatter, getPrimaryTimeUnit, isPrimaryTimeUnit, getDefaultFormatPrecisionOfInterval, fullYearGetterName, monthSetterName, fullYearSetterName, dateSetterName, hoursGetterName, hoursSetterName, minutesSetterName, secondsSetterName, millisecondsSetterName, monthGetterName, dateGetterName, minutesGetterName, secondsGetterName, millisecondsGetterName, getUnitFromValue, primaryTimeUnits, roundTime } from '../util/time.js';\nimport * as scaleHelper from './helper.js';\nimport IntervalScale from './Interval.js';\nimport Scale from './Scale.js';\nimport { warn } from '../util/log.js';\nimport { each, filter, indexOf, isNumber, map } from 'zrender/lib/core/util.js';\nimport { getScaleBreakHelper } from './break.js';\n// FIXME 公用？\nvar bisect = function (a, x, lo, hi) {\n  while (lo < hi) {\n    var mid = lo + hi >>> 1;\n    if (a[mid][1] < x) {\n      lo = mid + 1;\n    } else {\n      hi = mid;\n    }\n  }\n  return lo;\n};\nvar TimeScale = /** @class */function (_super) {\n  __extends(TimeScale, _super);\n  function TimeScale(settings) {\n    var _this = _super.call(this, settings) || this;\n    _this.type = 'time';\n    return _this;\n  }\n  /**\n   * Get label is mainly for other components like dataZoom, tooltip.\n   */\n  TimeScale.prototype.getLabel = function (tick) {\n    var useUTC = this.getSetting('useUTC');\n    return format(tick.value, fullLeveledFormatter[getDefaultFormatPrecisionOfInterval(getPrimaryTimeUnit(this._minLevelUnit))] || fullLeveledFormatter.second, useUTC, this.getSetting('locale'));\n  };\n  TimeScale.prototype.getFormattedLabel = function (tick, idx, labelFormatter) {\n    var isUTC = this.getSetting('useUTC');\n    var lang = this.getSetting('locale');\n    return leveledFormat(tick, idx, labelFormatter, lang, isUTC);\n  };\n  /**\n   * @override\n   */\n  TimeScale.prototype.getTicks = function (opt) {\n    opt = opt || {};\n    var interval = this._interval;\n    var extent = this._extent;\n    var scaleBreakHelper = getScaleBreakHelper();\n    var ticks = [];\n    // If interval is 0, return [];\n    if (!interval) {\n      return ticks;\n    }\n    var useUTC = this.getSetting('useUTC');\n    if (scaleBreakHelper && opt.breakTicks === 'only_break') {\n      getScaleBreakHelper().addBreaksToTicks(ticks, this._brkCtx.breaks, this._extent);\n      return ticks;\n    }\n    var extent0Unit = getUnitFromValue(extent[1], useUTC);\n    ticks.push({\n      value: extent[0],\n      time: {\n        level: 0,\n        upperTimeUnit: extent0Unit,\n        lowerTimeUnit: extent0Unit\n      }\n    });\n    var innerTicks = getIntervalTicks(this._minLevelUnit, this._approxInterval, useUTC, extent, this._getExtentSpanWithBreaks(), this._brkCtx);\n    ticks = ticks.concat(innerTicks);\n    var extent1Unit = getUnitFromValue(extent[1], useUTC);\n    ticks.push({\n      value: extent[1],\n      time: {\n        level: 0,\n        upperTimeUnit: extent1Unit,\n        lowerTimeUnit: extent1Unit\n      }\n    });\n    var isUTC = this.getSetting('useUTC');\n    var upperUnitIndex = primaryTimeUnits.length - 1;\n    var maxLevel = 0;\n    each(ticks, function (tick) {\n      upperUnitIndex = Math.min(upperUnitIndex, indexOf(primaryTimeUnits, tick.time.upperTimeUnit));\n      maxLevel = Math.max(maxLevel, tick.time.level);\n    });\n    if (scaleBreakHelper) {\n      getScaleBreakHelper().pruneTicksByBreak(opt.pruneByBreak, ticks, this._brkCtx.breaks, function (item) {\n        return item.value;\n      }, this._approxInterval, this._extent);\n    }\n    if (scaleBreakHelper && opt.breakTicks !== 'none') {\n      getScaleBreakHelper().addBreaksToTicks(ticks, this._brkCtx.breaks, this._extent, function (trimmedBrk) {\n        // @see `parseTimeAxisLabelFormatterDictionary`.\n        var lowerBrkUnitIndex = Math.max(indexOf(primaryTimeUnits, getUnitFromValue(trimmedBrk.vmin, isUTC)), indexOf(primaryTimeUnits, getUnitFromValue(trimmedBrk.vmax, isUTC)));\n        var upperBrkUnitIndex = 0;\n        for (var unitIdx = 0; unitIdx < primaryTimeUnits.length; unitIdx++) {\n          if (!isPrimaryUnitValueAndGreaterSame(primaryTimeUnits[unitIdx], trimmedBrk.vmin, trimmedBrk.vmax, isUTC)) {\n            upperBrkUnitIndex = unitIdx;\n            break;\n          }\n        }\n        var upperIdx = Math.min(upperBrkUnitIndex, upperUnitIndex);\n        var lowerIdx = Math.max(upperIdx, lowerBrkUnitIndex);\n        return {\n          level: maxLevel,\n          lowerTimeUnit: primaryTimeUnits[lowerIdx],\n          upperTimeUnit: primaryTimeUnits[upperIdx]\n        };\n      });\n    }\n    return ticks;\n  };\n  TimeScale.prototype.calcNiceExtent = function (opt) {\n    var extent = this.getExtent();\n    // If extent start and end are same, expand them\n    if (extent[0] === extent[1]) {\n      // Expand extent\n      extent[0] -= ONE_DAY;\n      extent[1] += ONE_DAY;\n    }\n    // If there are no data and extent are [Infinity, -Infinity]\n    if (extent[1] === -Infinity && extent[0] === Infinity) {\n      var d = new Date();\n      extent[1] = +new Date(d.getFullYear(), d.getMonth(), d.getDate());\n      extent[0] = extent[1] - ONE_DAY;\n    }\n    this._innerSetExtent(extent[0], extent[1]);\n    this.calcNiceTicks(opt.splitNumber, opt.minInterval, opt.maxInterval);\n  };\n  TimeScale.prototype.calcNiceTicks = function (approxTickNum, minInterval, maxInterval) {\n    approxTickNum = approxTickNum || 10;\n    var span = this._getExtentSpanWithBreaks();\n    this._approxInterval = span / approxTickNum;\n    if (minInterval != null && this._approxInterval < minInterval) {\n      this._approxInterval = minInterval;\n    }\n    if (maxInterval != null && this._approxInterval > maxInterval) {\n      this._approxInterval = maxInterval;\n    }\n    var scaleIntervalsLen = scaleIntervals.length;\n    var idx = Math.min(bisect(scaleIntervals, this._approxInterval, 0, scaleIntervalsLen), scaleIntervalsLen - 1);\n    // Interval that can be used to calculate ticks\n    this._interval = scaleIntervals[idx][1];\n    this._intervalPrecision = scaleHelper.getIntervalPrecision(this._interval);\n    // Min level used when picking ticks from top down.\n    // We check one more level to avoid the ticks are to sparse in some case.\n    this._minLevelUnit = scaleIntervals[Math.max(idx - 1, 0)][0];\n  };\n  TimeScale.prototype.parse = function (val) {\n    // val might be float.\n    return isNumber(val) ? val : +numberUtil.parseDate(val);\n  };\n  TimeScale.prototype.contain = function (val) {\n    return scaleHelper.contain(val, this._extent);\n  };\n  TimeScale.prototype.normalize = function (val) {\n    return this._calculator.normalize(val, this._extent);\n  };\n  TimeScale.prototype.scale = function (val) {\n    return this._calculator.scale(val, this._extent);\n  };\n  TimeScale.type = 'time';\n  return TimeScale;\n}(IntervalScale);\n/**\n * This implementation was originally copied from \"d3.js\"\n * <https://github.com/d3/d3/blob/b516d77fb8566b576088e73410437494717ada26/src/time/scale.js>\n * with some modifications made for this program.\n * See the license statement at the head of this file.\n */\nvar scaleIntervals = [\n// Format                           interval\n['second', ONE_SECOND], ['minute', ONE_MINUTE], ['hour', ONE_HOUR], ['quarter-day', ONE_HOUR * 6], ['half-day', ONE_HOUR * 12], ['day', ONE_DAY * 1.2], ['half-week', ONE_DAY * 3.5], ['week', ONE_DAY * 7], ['month', ONE_DAY * 31], ['quarter', ONE_DAY * 95], ['half-year', ONE_YEAR / 2], ['year', ONE_YEAR] // 1Y\n];\nfunction isPrimaryUnitValueAndGreaterSame(unit, valueA, valueB, isUTC) {\n  return roundTime(new Date(valueA), unit, isUTC).getTime() === roundTime(new Date(valueB), unit, isUTC).getTime();\n}\n// function isUnitValueSame(\n//     unit: PrimaryTimeUnit,\n//     valueA: number,\n//     valueB: number,\n//     isUTC: boolean\n// ): boolean {\n//     const dateA = numberUtil.parseDate(valueA) as any;\n//     const dateB = numberUtil.parseDate(valueB) as any;\n//     const isSame = (unit: PrimaryTimeUnit) => {\n//         return getUnitValue(dateA, unit, isUTC)\n//             === getUnitValue(dateB, unit, isUTC);\n//     };\n//     const isSameYear = () => isSame('year');\n//     // const isSameHalfYear = () => isSameYear() && isSame('half-year');\n//     // const isSameQuater = () => isSameYear() && isSame('quarter');\n//     const isSameMonth = () => isSameYear() && isSame('month');\n//     const isSameDay = () => isSameMonth() && isSame('day');\n//     // const isSameHalfDay = () => isSameDay() && isSame('half-day');\n//     const isSameHour = () => isSameDay() && isSame('hour');\n//     const isSameMinute = () => isSameHour() && isSame('minute');\n//     const isSameSecond = () => isSameMinute() && isSame('second');\n//     const isSameMilliSecond = () => isSameSecond() && isSame('millisecond');\n//     switch (unit) {\n//         case 'year':\n//             return isSameYear();\n//         case 'month':\n//             return isSameMonth();\n//         case 'day':\n//             return isSameDay();\n//         case 'hour':\n//             return isSameHour();\n//         case 'minute':\n//             return isSameMinute();\n//         case 'second':\n//             return isSameSecond();\n//         case 'millisecond':\n//             return isSameMilliSecond();\n//     }\n// }\n// const primaryUnitGetters = {\n//     year: fullYearGetterName(),\n//     month: monthGetterName(),\n//     day: dateGetterName(),\n//     hour: hoursGetterName(),\n//     minute: minutesGetterName(),\n//     second: secondsGetterName(),\n//     millisecond: millisecondsGetterName()\n// };\n// const primaryUnitUTCGetters = {\n//     year: fullYearGetterName(true),\n//     month: monthGetterName(true),\n//     day: dateGetterName(true),\n//     hour: hoursGetterName(true),\n//     minute: minutesGetterName(true),\n//     second: secondsGetterName(true),\n//     millisecond: millisecondsGetterName(true)\n// };\n// function moveTick(date: Date, unitName: TimeUnit, step: number, isUTC: boolean) {\n//     step = step || 1;\n//     switch (getPrimaryTimeUnit(unitName)) {\n//         case 'year':\n//             date[fullYearSetterName(isUTC)](date[fullYearGetterName(isUTC)]() + step);\n//             break;\n//         case 'month':\n//             date[monthSetterName(isUTC)](date[monthGetterName(isUTC)]() + step);\n//             break;\n//         case 'day':\n//             date[dateSetterName(isUTC)](date[dateGetterName(isUTC)]() + step);\n//             break;\n//         case 'hour':\n//             date[hoursSetterName(isUTC)](date[hoursGetterName(isUTC)]() + step);\n//             break;\n//         case 'minute':\n//             date[minutesSetterName(isUTC)](date[minutesGetterName(isUTC)]() + step);\n//             break;\n//         case 'second':\n//             date[secondsSetterName(isUTC)](date[secondsGetterName(isUTC)]() + step);\n//             break;\n//         case 'millisecond':\n//             date[millisecondsSetterName(isUTC)](date[millisecondsGetterName(isUTC)]() + step);\n//             break;\n//     }\n//     return date.getTime();\n// }\n// const DATE_INTERVALS = [[8, 7.5], [4, 3.5], [2, 1.5]];\n// const MONTH_INTERVALS = [[6, 5.5], [3, 2.5], [2, 1.5]];\n// const MINUTES_SECONDS_INTERVALS = [[30, 30], [20, 20], [15, 15], [10, 10], [5, 5], [2, 2]];\nfunction getDateInterval(approxInterval, daysInMonth) {\n  approxInterval /= ONE_DAY;\n  return approxInterval > 16 ? 16\n  // Math.floor(daysInMonth / 2) + 1  // In this case we only want one tick between two months.\n  : approxInterval > 7.5 ? 7 // TODO week 7 or day 8?\n  : approxInterval > 3.5 ? 4 : approxInterval > 1.5 ? 2 : 1;\n}\nfunction getMonthInterval(approxInterval) {\n  var APPROX_ONE_MONTH = 30 * ONE_DAY;\n  approxInterval /= APPROX_ONE_MONTH;\n  return approxInterval > 6 ? 6 : approxInterval > 3 ? 3 : approxInterval > 2 ? 2 : 1;\n}\nfunction getHourInterval(approxInterval) {\n  approxInterval /= ONE_HOUR;\n  return approxInterval > 12 ? 12 : approxInterval > 6 ? 6 : approxInterval > 3.5 ? 4 : approxInterval > 2 ? 2 : 1;\n}\nfunction getMinutesAndSecondsInterval(approxInterval, isMinutes) {\n  approxInterval /= isMinutes ? ONE_MINUTE : ONE_SECOND;\n  return approxInterval > 30 ? 30 : approxInterval > 20 ? 20 : approxInterval > 15 ? 15 : approxInterval > 10 ? 10 : approxInterval > 5 ? 5 : approxInterval > 2 ? 2 : 1;\n}\nfunction getMillisecondsInterval(approxInterval) {\n  return numberUtil.nice(approxInterval, true);\n}\n// e.g., if the input unit is 'day', start calculate ticks from the first day of\n// that month to make ticks \"nice\".\nfunction getFirstTimestampOfUnit(timestamp, unitName, isUTC) {\n  var upperUnitIdx = Math.max(0, indexOf(primaryTimeUnits, unitName) - 1);\n  return roundTime(new Date(timestamp), primaryTimeUnits[upperUnitIdx], isUTC).getTime();\n}\nfunction createEstimateNiceMultiple(setMethodName, dateMethodInterval) {\n  var tmpDate = new Date(0);\n  tmpDate[setMethodName](1);\n  var tmpTime = tmpDate.getTime();\n  tmpDate[setMethodName](1 + dateMethodInterval);\n  var approxTimeInterval = tmpDate.getTime() - tmpTime;\n  return function (tickVal, targetValue) {\n    // Only in month that accurate result can not get by division of\n    // timestamp interval, but no need accurate here.\n    return Math.max(0, Math.round((targetValue - tickVal) / approxTimeInterval));\n  };\n}\nfunction getIntervalTicks(bottomUnitName, approxInterval, isUTC, extent, extentSpanWithBreaks, brkCtx) {\n  var safeLimit = 10000;\n  var unitNames = timeUnits;\n  var iter = 0;\n  function addTicksInSpan(interval, minTimestamp, maxTimestamp, getMethodName, setMethodName, isDate, out) {\n    var estimateNiceMultiple = createEstimateNiceMultiple(setMethodName, interval);\n    var dateTime = minTimestamp;\n    var date = new Date(dateTime);\n    // if (isDate) {\n    //     d -= 1; // Starts with 0;   PENDING\n    // }\n    while (dateTime < maxTimestamp && dateTime <= extent[1]) {\n      out.push({\n        value: dateTime\n      });\n      if (iter++ > safeLimit) {\n        if (process.env.NODE_ENV !== 'production') {\n          warn('Exceed safe limit in time scale.');\n        }\n        break;\n      }\n      date[setMethodName](date[getMethodName]() + interval);\n      dateTime = date.getTime();\n      if (brkCtx) {\n        var moreMultiple = brkCtx.calcNiceTickMultiple(dateTime, estimateNiceMultiple);\n        if (moreMultiple > 0) {\n          date[setMethodName](date[getMethodName]() + moreMultiple * interval);\n          dateTime = date.getTime();\n        }\n      }\n    }\n    // This extra tick is for calcuating ticks of next level. Will not been added to the final result\n    out.push({\n      value: dateTime,\n      notAdd: true\n    });\n  }\n  function addLevelTicks(unitName, lastLevelTicks, levelTicks) {\n    var newAddedTicks = [];\n    var isFirstLevel = !lastLevelTicks.length;\n    if (isPrimaryUnitValueAndGreaterSame(getPrimaryTimeUnit(unitName), extent[0], extent[1], isUTC)) {\n      return;\n    }\n    if (isFirstLevel) {\n      lastLevelTicks = [{\n        value: getFirstTimestampOfUnit(extent[0], unitName, isUTC)\n      }, {\n        value: extent[1]\n      }];\n    }\n    for (var i = 0; i < lastLevelTicks.length - 1; i++) {\n      var startTick = lastLevelTicks[i].value;\n      var endTick = lastLevelTicks[i + 1].value;\n      if (startTick === endTick) {\n        continue;\n      }\n      var interval = void 0;\n      var getterName = void 0;\n      var setterName = void 0;\n      var isDate = false;\n      switch (unitName) {\n        case 'year':\n          interval = Math.max(1, Math.round(approxInterval / ONE_DAY / 365));\n          getterName = fullYearGetterName(isUTC);\n          setterName = fullYearSetterName(isUTC);\n          break;\n        case 'half-year':\n        case 'quarter':\n        case 'month':\n          interval = getMonthInterval(approxInterval);\n          getterName = monthGetterName(isUTC);\n          setterName = monthSetterName(isUTC);\n          break;\n        case 'week': // PENDING If week is added. Ignore day.\n        case 'half-week':\n        case 'day':\n          interval = getDateInterval(approxInterval, 31); // Use 32 days and let interval been 16\n          getterName = dateGetterName(isUTC);\n          setterName = dateSetterName(isUTC);\n          isDate = true;\n          break;\n        case 'half-day':\n        case 'quarter-day':\n        case 'hour':\n          interval = getHourInterval(approxInterval);\n          getterName = hoursGetterName(isUTC);\n          setterName = hoursSetterName(isUTC);\n          break;\n        case 'minute':\n          interval = getMinutesAndSecondsInterval(approxInterval, true);\n          getterName = minutesGetterName(isUTC);\n          setterName = minutesSetterName(isUTC);\n          break;\n        case 'second':\n          interval = getMinutesAndSecondsInterval(approxInterval, false);\n          getterName = secondsGetterName(isUTC);\n          setterName = secondsSetterName(isUTC);\n          break;\n        case 'millisecond':\n          interval = getMillisecondsInterval(approxInterval);\n          getterName = millisecondsGetterName(isUTC);\n          setterName = millisecondsSetterName(isUTC);\n          break;\n      }\n      // Notice: This expansion by `getFirstTimestampOfUnit` may cause too many ticks and\n      // iteration. e.g., when three levels of ticks is displayed, which can be caused by\n      // data zoom and axis breaks. Thus trim them here.\n      if (endTick >= extent[0] && startTick <= extent[1]) {\n        addTicksInSpan(interval, startTick, endTick, getterName, setterName, isDate, newAddedTicks);\n      }\n      if (unitName === 'year' && levelTicks.length > 1 && i === 0) {\n        // Add nearest years to the left extent.\n        levelTicks.unshift({\n          value: levelTicks[0].value - interval\n        });\n      }\n    }\n    for (var i = 0; i < newAddedTicks.length; i++) {\n      levelTicks.push(newAddedTicks[i]);\n    }\n  }\n  var levelsTicks = [];\n  var currentLevelTicks = [];\n  var tickCount = 0;\n  var lastLevelTickCount = 0;\n  for (var i = 0; i < unitNames.length; ++i) {\n    var primaryTimeUnit = getPrimaryTimeUnit(unitNames[i]);\n    if (!isPrimaryTimeUnit(unitNames[i])) {\n      // TODO\n      continue;\n    }\n    addLevelTicks(unitNames[i], levelsTicks[levelsTicks.length - 1] || [], currentLevelTicks);\n    var nextPrimaryTimeUnit = unitNames[i + 1] ? getPrimaryTimeUnit(unitNames[i + 1]) : null;\n    if (primaryTimeUnit !== nextPrimaryTimeUnit) {\n      if (currentLevelTicks.length) {\n        lastLevelTickCount = tickCount;\n        // Remove the duplicate so the tick count can be precisely.\n        currentLevelTicks.sort(function (a, b) {\n          return a.value - b.value;\n        });\n        var levelTicksRemoveDuplicated = [];\n        for (var i_1 = 0; i_1 < currentLevelTicks.length; ++i_1) {\n          var tickValue = currentLevelTicks[i_1].value;\n          if (i_1 === 0 || currentLevelTicks[i_1 - 1].value !== tickValue) {\n            levelTicksRemoveDuplicated.push(currentLevelTicks[i_1]);\n            if (tickValue >= extent[0] && tickValue <= extent[1]) {\n              tickCount++;\n            }\n          }\n        }\n        var targetTickNum = extentSpanWithBreaks / approxInterval;\n        // Added too much in this level and not too less in last level\n        if (tickCount > targetTickNum * 1.5 && lastLevelTickCount > targetTickNum / 1.5) {\n          break;\n        }\n        // Only treat primary time unit as one level.\n        levelsTicks.push(levelTicksRemoveDuplicated);\n        if (tickCount > targetTickNum || bottomUnitName === unitNames[i]) {\n          break;\n        }\n      }\n      // Reset if next unitName is primary\n      currentLevelTicks = [];\n    }\n  }\n  var levelsTicksInExtent = filter(map(levelsTicks, function (levelTicks) {\n    return filter(levelTicks, function (tick) {\n      return tick.value >= extent[0] && tick.value <= extent[1] && !tick.notAdd;\n    });\n  }), function (levelTicks) {\n    return levelTicks.length > 0;\n  });\n  var ticks = [];\n  var maxLevel = levelsTicksInExtent.length - 1;\n  for (var i = 0; i < levelsTicksInExtent.length; ++i) {\n    var levelTicks = levelsTicksInExtent[i];\n    for (var k = 0; k < levelTicks.length; ++k) {\n      var unit = getUnitFromValue(levelTicks[k].value, isUTC);\n      ticks.push({\n        value: levelTicks[k].value,\n        time: {\n          level: maxLevel - i,\n          upperTimeUnit: unit,\n          lowerTimeUnit: unit\n        }\n      });\n    }\n  }\n  ticks.sort(function (a, b) {\n    return a.value - b.value;\n  });\n  // Remove duplicates\n  var result = [];\n  for (var i = 0; i < ticks.length; ++i) {\n    if (i === 0 || ticks[i].value !== ticks[i - 1].value) {\n      result.push(ticks[i]);\n    }\n  }\n  return result;\n}\nScale.registerClass(TimeScale);\nexport default TimeScale;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport Scale from './Scale.js';\nimport * as numberUtil from '../util/number.js';\n// Use some method of IntervalScale\nimport IntervalScale from './Interval.js';\nimport { getIntervalPrecision, logTransform } from './helper.js';\nimport { getScaleBreakHelper } from './break.js';\nvar fixRound = numberUtil.round;\nvar mathFloor = Math.floor;\nvar mathCeil = Math.ceil;\nvar mathPow = Math.pow;\nvar mathLog = Math.log;\nvar LogScale = /** @class */function (_super) {\n  __extends(LogScale, _super);\n  function LogScale() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = 'log';\n    _this.base = 10;\n    _this._originalScale = new IntervalScale();\n    return _this;\n  }\n  /**\n   * @param Whether expand the ticks to niced extent.\n   */\n  LogScale.prototype.getTicks = function (opt) {\n    opt = opt || {};\n    var extent = this._extent.slice();\n    var originalExtent = this._originalScale.getExtent();\n    var ticks = _super.prototype.getTicks.call(this, opt);\n    var base = this.base;\n    var originalBreaks = this._originalScale._innerGetBreaks();\n    var scaleBreakHelper = getScaleBreakHelper();\n    return zrUtil.map(ticks, function (tick) {\n      var val = tick.value;\n      var roundingCriterion = null;\n      var powVal = mathPow(base, val);\n      // Fix #4158\n      if (val === extent[0] && this._fixMin) {\n        roundingCriterion = originalExtent[0];\n      } else if (val === extent[1] && this._fixMax) {\n        roundingCriterion = originalExtent[1];\n      }\n      var vBreak;\n      if (scaleBreakHelper) {\n        var transformed = scaleBreakHelper.getTicksLogTransformBreak(tick, base, originalBreaks, fixRoundingError);\n        vBreak = transformed.vBreak;\n        if (roundingCriterion == null) {\n          roundingCriterion = transformed.brkRoundingCriterion;\n        }\n      }\n      if (roundingCriterion != null) {\n        powVal = fixRoundingError(powVal, roundingCriterion);\n      }\n      return {\n        value: powVal,\n        \"break\": vBreak\n      };\n    }, this);\n  };\n  LogScale.prototype._getNonTransBreaks = function () {\n    return this._originalScale._innerGetBreaks();\n  };\n  LogScale.prototype.setExtent = function (start, end) {\n    this._originalScale.setExtent(start, end);\n    var loggedExtent = logTransform(this.base, [start, end]);\n    _super.prototype.setExtent.call(this, loggedExtent[0], loggedExtent[1]);\n  };\n  /**\n   * @return {number} end\n   */\n  LogScale.prototype.getExtent = function () {\n    var base = this.base;\n    var extent = _super.prototype.getExtent.call(this);\n    extent[0] = mathPow(base, extent[0]);\n    extent[1] = mathPow(base, extent[1]);\n    // Fix #4158\n    var originalExtent = this._originalScale.getExtent();\n    this._fixMin && (extent[0] = fixRoundingError(extent[0], originalExtent[0]));\n    this._fixMax && (extent[1] = fixRoundingError(extent[1], originalExtent[1]));\n    return extent;\n  };\n  LogScale.prototype.unionExtentFromData = function (data, dim) {\n    this._originalScale.unionExtentFromData(data, dim);\n    var loggedOther = logTransform(this.base, data.getApproximateExtent(dim), true);\n    this._innerUnionExtent(loggedOther);\n  };\n  /**\n   * Update interval and extent of intervals for nice ticks\n   * @param approxTickNum default 10 Given approx tick number\n   */\n  LogScale.prototype.calcNiceTicks = function (approxTickNum) {\n    approxTickNum = approxTickNum || 10;\n    var extent = this._extent.slice();\n    var span = this._getExtentSpanWithBreaks();\n    if (!isFinite(span) || span <= 0) {\n      return;\n    }\n    var interval = numberUtil.quantity(span);\n    var err = approxTickNum / span * interval;\n    // Filter ticks to get closer to the desired count.\n    if (err <= 0.5) {\n      interval *= 10;\n    }\n    // Interval should be integer\n    while (!isNaN(interval) && Math.abs(interval) < 1 && Math.abs(interval) > 0) {\n      interval *= 10;\n    }\n    var niceExtent = [fixRound(mathCeil(extent[0] / interval) * interval), fixRound(mathFloor(extent[1] / interval) * interval)];\n    this._interval = interval;\n    this._intervalPrecision = getIntervalPrecision(interval);\n    this._niceExtent = niceExtent;\n  };\n  LogScale.prototype.calcNiceExtent = function (opt) {\n    _super.prototype.calcNiceExtent.call(this, opt);\n    this._fixMin = opt.fixMin;\n    this._fixMax = opt.fixMax;\n  };\n  LogScale.prototype.contain = function (val) {\n    val = mathLog(val) / mathLog(this.base);\n    return _super.prototype.contain.call(this, val);\n  };\n  LogScale.prototype.normalize = function (val) {\n    val = mathLog(val) / mathLog(this.base);\n    return _super.prototype.normalize.call(this, val);\n  };\n  LogScale.prototype.scale = function (val) {\n    val = _super.prototype.scale.call(this, val);\n    return mathPow(this.base, val);\n  };\n  LogScale.prototype.setBreaksFromOption = function (breakOptionList) {\n    var scaleBreakHelper = getScaleBreakHelper();\n    if (!scaleBreakHelper) {\n      return;\n    }\n    var _a = scaleBreakHelper.logarithmicParseBreaksFromOption(breakOptionList, this.base, zrUtil.bind(this.parse, this)),\n      parsedOriginal = _a.parsedOriginal,\n      parsedLogged = _a.parsedLogged;\n    this._originalScale._innerSetBreak(parsedOriginal);\n    this._innerSetBreak(parsedLogged);\n  };\n  LogScale.type = 'log';\n  return LogScale;\n}(IntervalScale);\nfunction fixRoundingError(val, originalVal) {\n  return fixRound(val, numberUtil.getPrecision(originalVal));\n}\nScale.registerClass(LogScale);\nexport default LogScale;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { assert, isArray, eqNaN, isFunction } from 'zrender/lib/core/util.js';\nimport { parsePercent } from 'zrender/lib/contain/text.js';\nvar ScaleRawExtentInfo = /** @class */function () {\n  function ScaleRawExtentInfo(scale, model,\n  // Usually: data extent from all series on this axis.\n  originalExtent) {\n    this._prepareParams(scale, model, originalExtent);\n  }\n  /**\n   * Parameters depending on outside (like model, user callback)\n   * are prepared and fixed here.\n   */\n  ScaleRawExtentInfo.prototype._prepareParams = function (scale, model,\n  // Usually: data extent from all series on this axis.\n  dataExtent) {\n    if (dataExtent[1] < dataExtent[0]) {\n      dataExtent = [NaN, NaN];\n    }\n    this._dataMin = dataExtent[0];\n    this._dataMax = dataExtent[1];\n    var isOrdinal = this._isOrdinal = scale.type === 'ordinal';\n    this._needCrossZero = scale.type === 'interval' && model.getNeedCrossZero && model.getNeedCrossZero();\n    var axisMinValue = model.get('min', true);\n    if (axisMinValue == null) {\n      axisMinValue = model.get('startValue', true);\n    }\n    var modelMinRaw = this._modelMinRaw = axisMinValue;\n    if (isFunction(modelMinRaw)) {\n      // This callback always provides users the full data extent (before data is filtered).\n      this._modelMinNum = parseAxisModelMinMax(scale, modelMinRaw({\n        min: dataExtent[0],\n        max: dataExtent[1]\n      }));\n    } else if (modelMinRaw !== 'dataMin') {\n      this._modelMinNum = parseAxisModelMinMax(scale, modelMinRaw);\n    }\n    var modelMaxRaw = this._modelMaxRaw = model.get('max', true);\n    if (isFunction(modelMaxRaw)) {\n      // This callback always provides users the full data extent (before data is filtered).\n      this._modelMaxNum = parseAxisModelMinMax(scale, modelMaxRaw({\n        min: dataExtent[0],\n        max: dataExtent[1]\n      }));\n    } else if (modelMaxRaw !== 'dataMax') {\n      this._modelMaxNum = parseAxisModelMinMax(scale, modelMaxRaw);\n    }\n    if (isOrdinal) {\n      // FIXME: there is a flaw here: if there is no \"block\" data processor like `dataZoom`,\n      // and progressive rendering is using, here the category result might just only contain\n      // the processed chunk rather than the entire result.\n      this._axisDataLen = model.getCategories().length;\n    } else {\n      var boundaryGap = model.get('boundaryGap');\n      var boundaryGapArr = isArray(boundaryGap) ? boundaryGap : [boundaryGap || 0, boundaryGap || 0];\n      if (typeof boundaryGapArr[0] === 'boolean' || typeof boundaryGapArr[1] === 'boolean') {\n        if (process.env.NODE_ENV !== 'production') {\n          console.warn('Boolean type for boundaryGap is only ' + 'allowed for ordinal axis. Please use string in ' + 'percentage instead, e.g., \"20%\". Currently, ' + 'boundaryGap is set to be 0.');\n        }\n        this._boundaryGapInner = [0, 0];\n      } else {\n        this._boundaryGapInner = [parsePercent(boundaryGapArr[0], 1), parsePercent(boundaryGapArr[1], 1)];\n      }\n    }\n  };\n  /**\n   * Calculate extent by prepared parameters.\n   * This method has no external dependency and can be called duplicatedly,\n   * getting the same result.\n   * If parameters changed, should call this method to recalcuate.\n   */\n  ScaleRawExtentInfo.prototype.calculate = function () {\n    // Notice: When min/max is not set (that is, when there are null/undefined,\n    // which is the most common case), these cases should be ensured:\n    // (1) For 'ordinal', show all axis.data.\n    // (2) For others:\n    //      + `boundaryGap` is applied (if min/max set, boundaryGap is\n    //      disabled).\n    //      + If `needCrossZero`, min/max should be zero, otherwise, min/max should\n    //      be the result that originalExtent enlarged by boundaryGap.\n    // (3) If no data, it should be ensured that `scale.setBlank` is set.\n    var isOrdinal = this._isOrdinal;\n    var dataMin = this._dataMin;\n    var dataMax = this._dataMax;\n    var axisDataLen = this._axisDataLen;\n    var boundaryGapInner = this._boundaryGapInner;\n    var span = !isOrdinal ? dataMax - dataMin || Math.abs(dataMin) : null;\n    // Currently if a `'value'` axis model min is specified as 'dataMin'/'dataMax',\n    // `boundaryGap` will not be used. It's the different from specifying as `null`/`undefined`.\n    var min = this._modelMinRaw === 'dataMin' ? dataMin : this._modelMinNum;\n    var max = this._modelMaxRaw === 'dataMax' ? dataMax : this._modelMaxNum;\n    // If `_modelMinNum`/`_modelMaxNum` is `null`/`undefined`, should not be fixed.\n    var minFixed = min != null;\n    var maxFixed = max != null;\n    if (min == null) {\n      min = isOrdinal ? axisDataLen ? 0 : NaN : dataMin - boundaryGapInner[0] * span;\n    }\n    if (max == null) {\n      max = isOrdinal ? axisDataLen ? axisDataLen - 1 : NaN : dataMax + boundaryGapInner[1] * span;\n    }\n    (min == null || !isFinite(min)) && (min = NaN);\n    (max == null || !isFinite(max)) && (max = NaN);\n    var isBlank = eqNaN(min) || eqNaN(max) || isOrdinal && !axisDataLen;\n    // If data extent modified, need to recalculated to ensure cross zero.\n    if (this._needCrossZero) {\n      // Axis is over zero and min is not set\n      if (min > 0 && max > 0 && !minFixed) {\n        min = 0;\n        // minFixed = true;\n      }\n      // Axis is under zero and max is not set\n      if (min < 0 && max < 0 && !maxFixed) {\n        max = 0;\n        // maxFixed = true;\n      }\n      // PENDING:\n      // When `needCrossZero` and all data is positive/negative, should it be ensured\n      // that the results processed by boundaryGap are positive/negative?\n      // If so, here `minFixed`/`maxFixed` need to be set.\n    }\n    var determinedMin = this._determinedMin;\n    var determinedMax = this._determinedMax;\n    if (determinedMin != null) {\n      min = determinedMin;\n      minFixed = true;\n    }\n    if (determinedMax != null) {\n      max = determinedMax;\n      maxFixed = true;\n    }\n    // Ensure min/max be finite number or NaN here. (not to be null/undefined)\n    // `NaN` means min/max axis is blank.\n    return {\n      min: min,\n      max: max,\n      minFixed: minFixed,\n      maxFixed: maxFixed,\n      isBlank: isBlank\n    };\n  };\n  ScaleRawExtentInfo.prototype.modifyDataMinMax = function (minMaxName, val) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(!this.frozen);\n    }\n    this[DATA_MIN_MAX_ATTR[minMaxName]] = val;\n  };\n  ScaleRawExtentInfo.prototype.setDeterminedMinMax = function (minMaxName, val) {\n    var attr = DETERMINED_MIN_MAX_ATTR[minMaxName];\n    if (process.env.NODE_ENV !== 'production') {\n      assert(!this.frozen\n      // Earse them usually means logic flaw.\n      && this[attr] == null);\n    }\n    this[attr] = val;\n  };\n  ScaleRawExtentInfo.prototype.freeze = function () {\n    // @ts-ignore\n    this.frozen = true;\n  };\n  return ScaleRawExtentInfo;\n}();\nexport { ScaleRawExtentInfo };\nvar DETERMINED_MIN_MAX_ATTR = {\n  min: '_determinedMin',\n  max: '_determinedMax'\n};\nvar DATA_MIN_MAX_ATTR = {\n  min: '_dataMin',\n  max: '_dataMax'\n};\n/**\n * Get scale min max and related info only depends on model settings.\n * This method can be called after coordinate system created.\n * For example, in data processing stage.\n *\n * Scale extent info probably be required multiple times during a workflow.\n * For example:\n * (1) `dataZoom` depends it to get the axis extent in \"100%\" state.\n * (2) `processor/extentCalculator` depends it to make sure whether axis extent is specified.\n * (3) `coordSys.update` use it to finally decide the scale extent.\n * But the callback of `min`/`max` should not be called multiple times.\n * The code below should not be implemented repeatedly either.\n * So we cache the result in the scale instance, which will be recreated at the beginning\n * of the workflow (because `scale` instance will be recreated each round of the workflow).\n */\nexport function ensureScaleRawExtentInfo(scale, model,\n// Usually: data extent from all series on this axis.\noriginalExtent) {\n  // Do not permit to recreate.\n  var rawExtentInfo = scale.rawExtentInfo;\n  if (rawExtentInfo) {\n    return rawExtentInfo;\n  }\n  rawExtentInfo = new ScaleRawExtentInfo(scale, model, originalExtent);\n  // @ts-ignore\n  scale.rawExtentInfo = rawExtentInfo;\n  return rawExtentInfo;\n}\nexport function parseAxisModelMinMax(scale, minMax) {\n  return minMax == null ? null : eqNaN(minMax) ? NaN : scale.parse(minMax);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport OrdinalScale from '../scale/Ordinal.js';\nimport IntervalScale from '../scale/Interval.js';\nimport Scale from '../scale/Scale.js';\nimport { prepareLayoutBarSeries, makeColumnLayout, retrieveColumnLayout } from '../layout/barGrid.js';\nimport TimeScale from '../scale/Time.js';\nimport LogScale from '../scale/Log.js';\nimport { getStackedDimension } from '../data/helper/dataStackHelper.js';\nimport { ensureScaleRawExtentInfo } from './scaleRawExtentInfo.js';\nimport { parseTimeAxisLabelFormatter } from '../util/time.js';\nimport { getScaleBreakHelper } from '../scale/break.js';\nimport { error } from '../util/log.js';\n/**\n * Get axis scale extent before niced.\n * Item of returned array can only be number (including Infinity and NaN).\n *\n * Caution:\n * Precondition of calling this method:\n * The scale extent has been initialized using series data extent via\n * `scale.setExtent` or `scale.unionExtentFromData`;\n */\nexport function getScaleExtent(scale, model) {\n  var scaleType = scale.type;\n  var rawExtentResult = ensureScaleRawExtentInfo(scale, model, scale.getExtent()).calculate();\n  scale.setBlank(rawExtentResult.isBlank);\n  var min = rawExtentResult.min;\n  var max = rawExtentResult.max;\n  // If bars are placed on a base axis of type time or interval account for axis boundary overflow and current axis\n  // is base axis\n  // FIXME\n  // (1) Consider support value axis, where below zero and axis `onZero` should be handled properly.\n  // (2) Refactor the logic with `barGrid`. Is it not need to `makeBarWidthAndOffsetInfo` twice with different extent?\n  //     Should not depend on series type `bar`?\n  // (3) Fix that might overlap when using dataZoom.\n  // (4) Consider other chart types using `barGrid`?\n  // See #6728, #4862, `test/bar-overflow-time-plot.html`\n  var ecModel = model.ecModel;\n  if (ecModel && scaleType === 'time' /* || scaleType === 'interval' */) {\n    var barSeriesModels = prepareLayoutBarSeries('bar', ecModel);\n    var isBaseAxisAndHasBarSeries_1 = false;\n    zrUtil.each(barSeriesModels, function (seriesModel) {\n      isBaseAxisAndHasBarSeries_1 = isBaseAxisAndHasBarSeries_1 || seriesModel.getBaseAxis() === model.axis;\n    });\n    if (isBaseAxisAndHasBarSeries_1) {\n      // Calculate placement of bars on axis. TODO should be decoupled\n      // with barLayout\n      var barWidthAndOffset = makeColumnLayout(barSeriesModels);\n      // Adjust axis min and max to account for overflow\n      var adjustedScale = adjustScaleForOverflow(min, max, model, barWidthAndOffset);\n      min = adjustedScale.min;\n      max = adjustedScale.max;\n    }\n  }\n  return {\n    extent: [min, max],\n    // \"fix\" means \"fixed\", the value should not be\n    // changed in the subsequent steps.\n    fixMin: rawExtentResult.minFixed,\n    fixMax: rawExtentResult.maxFixed\n  };\n}\nfunction adjustScaleForOverflow(min, max, model,\n// Only support cartesian coord yet.\nbarWidthAndOffset) {\n  // Get Axis Length\n  var axisExtent = model.axis.getExtent();\n  var axisLength = Math.abs(axisExtent[1] - axisExtent[0]);\n  // Get bars on current base axis and calculate min and max overflow\n  var barsOnCurrentAxis = retrieveColumnLayout(barWidthAndOffset, model.axis);\n  if (barsOnCurrentAxis === undefined) {\n    return {\n      min: min,\n      max: max\n    };\n  }\n  var minOverflow = Infinity;\n  zrUtil.each(barsOnCurrentAxis, function (item) {\n    minOverflow = Math.min(item.offset, minOverflow);\n  });\n  var maxOverflow = -Infinity;\n  zrUtil.each(barsOnCurrentAxis, function (item) {\n    maxOverflow = Math.max(item.offset + item.width, maxOverflow);\n  });\n  minOverflow = Math.abs(minOverflow);\n  maxOverflow = Math.abs(maxOverflow);\n  var totalOverFlow = minOverflow + maxOverflow;\n  // Calculate required buffer based on old range and overflow\n  var oldRange = max - min;\n  var oldRangePercentOfNew = 1 - (minOverflow + maxOverflow) / axisLength;\n  var overflowBuffer = oldRange / oldRangePercentOfNew - oldRange;\n  max += overflowBuffer * (maxOverflow / totalOverFlow);\n  min -= overflowBuffer * (minOverflow / totalOverFlow);\n  return {\n    min: min,\n    max: max\n  };\n}\n// Precondition of calling this method:\n// The scale extent has been initialized using series data extent via\n// `scale.setExtent` or `scale.unionExtentFromData`;\nexport function niceScaleExtent(scale, inModel) {\n  var model = inModel;\n  var extentInfo = getScaleExtent(scale, model);\n  var extent = extentInfo.extent;\n  var splitNumber = model.get('splitNumber');\n  if (scale instanceof LogScale) {\n    scale.base = model.get('logBase');\n  }\n  var scaleType = scale.type;\n  var interval = model.get('interval');\n  var isIntervalOrTime = scaleType === 'interval' || scaleType === 'time';\n  scale.setBreaksFromOption(retrieveAxisBreaksOption(model));\n  scale.setExtent(extent[0], extent[1]);\n  scale.calcNiceExtent({\n    splitNumber: splitNumber,\n    fixMin: extentInfo.fixMin,\n    fixMax: extentInfo.fixMax,\n    minInterval: isIntervalOrTime ? model.get('minInterval') : null,\n    maxInterval: isIntervalOrTime ? model.get('maxInterval') : null\n  });\n  // If some one specified the min, max. And the default calculated interval\n  // is not good enough. He can specify the interval. It is often appeared\n  // in angle axis with angle 0 - 360. Interval calculated in interval scale is hard\n  // to be 60.\n  // FIXME\n  if (interval != null) {\n    scale.setInterval && scale.setInterval(interval);\n  }\n}\n/**\n * @param axisType Default retrieve from model.type\n */\nexport function createScaleByModel(model, axisType) {\n  axisType = axisType || model.get('type');\n  if (axisType) {\n    switch (axisType) {\n      // Buildin scale\n      case 'category':\n        return new OrdinalScale({\n          ordinalMeta: model.getOrdinalMeta ? model.getOrdinalMeta() : model.getCategories(),\n          extent: [Infinity, -Infinity]\n        });\n      case 'time':\n        return new TimeScale({\n          locale: model.ecModel.getLocaleModel(),\n          useUTC: model.ecModel.get('useUTC')\n        });\n      default:\n        // case 'value'/'interval', 'log', or others.\n        return new (Scale.getClass(axisType) || IntervalScale)();\n    }\n  }\n}\n/**\n * Check if the axis cross 0\n */\nexport function ifAxisCrossZero(axis) {\n  var dataExtent = axis.scale.getExtent();\n  var min = dataExtent[0];\n  var max = dataExtent[1];\n  return !(min > 0 && max > 0 || min < 0 && max < 0);\n}\n/**\n * @param axis\n * @return Label formatter function.\n *         param: {number} tickValue,\n *         param: {number} idx, the index in all ticks.\n *                         If category axis, this param is not required.\n *         return: {string} label string.\n */\nexport function makeLabelFormatter(axis) {\n  var labelFormatter = axis.getLabelModel().get('formatter');\n  if (axis.type === 'time') {\n    var parsed_1 = parseTimeAxisLabelFormatter(labelFormatter);\n    return function (tick, idx) {\n      return axis.scale.getFormattedLabel(tick, idx, parsed_1);\n    };\n  } else if (zrUtil.isString(labelFormatter)) {\n    return function (tick) {\n      // For category axis, get raw value; for numeric axis,\n      // get formatted label like '1,333,444'.\n      var label = axis.scale.getLabel(tick);\n      var text = labelFormatter.replace('{value}', label != null ? label : '');\n      return text;\n    };\n  } else if (zrUtil.isFunction(labelFormatter)) {\n    if (axis.type === 'category') {\n      return function (tick, idx) {\n        // The original intention of `idx` is \"the index of the tick in all ticks\".\n        // But the previous implementation of category axis do not consider the\n        // `axisLabel.interval`, which cause that, for example, the `interval` is\n        // `1`, then the ticks \"name5\", \"name7\", \"name9\" are displayed, where the\n        // corresponding `idx` are `0`, `2`, `4`, but not `0`, `1`, `2`. So we keep\n        // the definition here for back compatibility.\n        return labelFormatter(getAxisRawValue(axis, tick), tick.value - axis.scale.getExtent()[0], null // Using `null` just for backward compat.\n        );\n      };\n    }\n    var scaleBreakHelper_1 = getScaleBreakHelper();\n    return function (tick, idx) {\n      // Using `null` just for backward compat. It's been found that in the `test/axis-customTicks.html`,\n      // there is a formatter `function (value, index, revers = true) { ... }`. Although the third param\n      // `revers` is incorrect and always `null`, changing it might introduce a breaking change.\n      var extra = null;\n      if (scaleBreakHelper_1) {\n        extra = scaleBreakHelper_1.makeAxisLabelFormatterParamBreak(extra, tick[\"break\"]);\n      }\n      return labelFormatter(getAxisRawValue(axis, tick), idx, extra);\n    };\n  } else {\n    return function (tick) {\n      return axis.scale.getLabel(tick);\n    };\n  }\n}\nexport function getAxisRawValue(axis, tick) {\n  // In category axis with data zoom, tick is not the original\n  // index of axis.data. So tick should not be exposed to user\n  // in category axis.\n  return axis.type === 'category' ? axis.scale.getLabel(tick) : tick.value;\n}\n/**\n * @param model axisLabelModel or axisTickModel\n * @return {number|String} Can be null|'auto'|number|function\n */\nexport function getOptionCategoryInterval(model) {\n  var interval = model.get('interval');\n  return interval == null ? 'auto' : interval;\n}\n/**\n * Set `categoryInterval` as 0 implicitly indicates that\n * show all labels regardless of overlap.\n * @param {Object} axis axisModel.axis\n */\nexport function shouldShowAllLabels(axis) {\n  return axis.type === 'category' && getOptionCategoryInterval(axis.getLabelModel()) === 0;\n}\nexport function getDataDimensionsOnAxis(data, axisDim) {\n  // Remove duplicated dat dimensions caused by `getStackedDimension`.\n  var dataDimMap = {};\n  // Currently `mapDimensionsAll` will contain stack result dimension ('__\\0ecstackresult').\n  // PENDING: is it reasonable? Do we need to remove the original dim from \"coord dim\" since\n  // there has been stacked result dim?\n  zrUtil.each(data.mapDimensionsAll(axisDim), function (dataDim) {\n    // For example, the extent of the original dimension\n    // is [0.1, 0.5], the extent of the `stackResultDimension`\n    // is [7, 9], the final extent should NOT include [0.1, 0.5],\n    // because there is no graphic corresponding to [0.1, 0.5].\n    // See the case in `test/area-stack.html` `main1`, where area line\n    // stack needs `yAxis` not start from 0.\n    dataDimMap[getStackedDimension(data, dataDim)] = true;\n  });\n  return zrUtil.keys(dataDimMap);\n}\nexport function unionAxisExtentFromData(dataExtent, data, axisDim) {\n  if (data) {\n    zrUtil.each(getDataDimensionsOnAxis(data, axisDim), function (dim) {\n      var seriesExtent = data.getApproximateExtent(dim);\n      seriesExtent[0] < dataExtent[0] && (dataExtent[0] = seriesExtent[0]);\n      seriesExtent[1] > dataExtent[1] && (dataExtent[1] = seriesExtent[1]);\n    });\n  }\n}\nexport function isNameLocationCenter(nameLocation) {\n  return nameLocation === 'middle' || nameLocation === 'center';\n}\nexport function shouldAxisShow(axisModel) {\n  return axisModel.getShallow('show');\n}\nexport function retrieveAxisBreaksOption(model) {\n  var option = model.get('breaks', true);\n  if (option != null) {\n    if (!getScaleBreakHelper()) {\n      if (process.env.NODE_ENV !== 'production') {\n        error('Must `import {AxisBreak} from \"echarts/features.js\"; use(AxisBreak);` first if using breaks option.');\n      }\n      return undefined;\n    }\n    if (!isSupportAxisBreak(model.axis)) {\n      if (process.env.NODE_ENV !== 'production') {\n        error(\"Axis '\" + model.axis.dim + \"'-'\" + model.axis.type + \"' does not support break.\");\n      }\n      return undefined;\n    }\n    return option;\n  }\n}\nfunction isSupportAxisBreak(axis) {\n  // The polar radius axis can also support break feasibly. Do not do it until the requirements are met.\n  return (axis.dim === 'x' || axis.dim === 'y' || axis.dim === 'z' || axis.dim === 'single') && axis.type !== 'category';\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nvar AxisModelCommonMixin = /** @class */function () {\n  function AxisModelCommonMixin() {}\n  AxisModelCommonMixin.prototype.getNeedCrossZero = function () {\n    var option = this.option;\n    return !option.scale;\n  };\n  /**\n   * Should be implemented by each axis model if necessary.\n   * @return coordinate system model\n   */\n  AxisModelCommonMixin.prototype.getCoordSysModel = function () {\n    return;\n  };\n  return AxisModelCommonMixin;\n}();\nexport { AxisModelCommonMixin };","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { registerPreprocessor, registerProcessor, registerPostInit, registerPostUpdate, registerAction, registerCoordinateSystem, registerLayout, registerVisual, registerTransform, registerLoading, registerMap, registerUpdateLifecycle, PRIORITY } from './core/echarts.js';\nimport ComponentView from './view/Component.js';\nimport ChartView from './view/Chart.js';\nimport ComponentModel from './model/Component.js';\nimport SeriesModel from './model/Series.js';\nimport { isFunction, indexOf, isArray, each } from 'zrender/lib/core/util.js';\nimport { registerImpl } from './core/impl.js';\nimport { registerPainter } from 'zrender/lib/zrender.js';\nimport { registerCustomSeries } from './chart/custom/customSeriesRegister.js';\nvar extensions = [];\nvar extensionRegisters = {\n  registerPreprocessor: registerPreprocessor,\n  registerProcessor: registerProcessor,\n  registerPostInit: registerPostInit,\n  registerPostUpdate: registerPostUpdate,\n  registerUpdateLifecycle: registerUpdateLifecycle,\n  registerAction: registerAction,\n  registerCoordinateSystem: registerCoordinateSystem,\n  registerLayout: registerLayout,\n  registerVisual: registerVisual,\n  registerTransform: registerTransform,\n  registerLoading: registerLoading,\n  registerMap: registerMap,\n  registerImpl: registerImpl,\n  PRIORITY: PRIORITY,\n  ComponentModel: ComponentModel,\n  ComponentView: ComponentView,\n  SeriesModel: SeriesModel,\n  ChartView: ChartView,\n  // TODO Use ComponentModel and SeriesModel instead of Constructor\n  registerComponentModel: function (ComponentModelClass) {\n    ComponentModel.registerClass(ComponentModelClass);\n  },\n  registerComponentView: function (ComponentViewClass) {\n    ComponentView.registerClass(ComponentViewClass);\n  },\n  registerSeriesModel: function (SeriesModelClass) {\n    SeriesModel.registerClass(SeriesModelClass);\n  },\n  registerChartView: function (ChartViewClass) {\n    ChartView.registerClass(ChartViewClass);\n  },\n  registerCustomSeries: function (seriesType, renderItem) {\n    registerCustomSeries(seriesType, renderItem);\n  },\n  registerSubTypeDefaulter: function (componentType, defaulter) {\n    ComponentModel.registerSubTypeDefaulter(componentType, defaulter);\n  },\n  registerPainter: function (painterType, PainterCtor) {\n    registerPainter(painterType, PainterCtor);\n  }\n};\nexport function use(ext) {\n  if (isArray(ext)) {\n    // use([ChartLine, ChartBar]);\n    each(ext, function (singleExt) {\n      use(singleExt);\n    });\n    return;\n  }\n  if (indexOf(extensions, ext) >= 0) {\n    return;\n  }\n  extensions.push(ext);\n  if (isFunction(ext)) {\n    ext = {\n      install: ext\n    };\n  }\n  ext.install(extensionRegisters);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as textContain from 'zrender/lib/contain/text.js';\nimport { makeInner } from '../util/model.js';\nimport { makeLabelFormatter, getOptionCategoryInterval, shouldShowAllLabels } from './axisHelper.js';\nvar modelInner = makeInner();\nvar axisInner = makeInner();\nexport var AxisTickLabelComputingKind = {\n  estimate: 1,\n  determine: 2\n};\nexport function createAxisLabelsComputingContext(kind) {\n  return {\n    out: {\n      noPxChangeTryDetermine: []\n    },\n    kind: kind\n  };\n}\nfunction tickValuesToNumbers(axis, values) {\n  var nums = zrUtil.map(values, function (val) {\n    return axis.scale.parse(val);\n  });\n  if (axis.type === 'time' && nums.length > 0) {\n    // Time axis needs duplicate first/last tick (see TimeScale.getTicks())\n    // The first and last tick/label don't get drawn\n    nums.sort();\n    nums.unshift(nums[0]);\n    nums.push(nums[nums.length - 1]);\n  }\n  return nums;\n}\nexport function createAxisLabels(axis, ctx) {\n  var custom = axis.getLabelModel().get('customValues');\n  if (custom) {\n    var labelFormatter_1 = makeLabelFormatter(axis);\n    var extent_1 = axis.scale.getExtent();\n    var tickNumbers = tickValuesToNumbers(axis, custom);\n    var ticks = zrUtil.filter(tickNumbers, function (val) {\n      return val >= extent_1[0] && val <= extent_1[1];\n    });\n    return {\n      labels: zrUtil.map(ticks, function (numval) {\n        var tick = {\n          value: numval\n        };\n        return {\n          formattedLabel: labelFormatter_1(tick),\n          rawLabel: axis.scale.getLabel(tick),\n          tickValue: numval,\n          time: undefined,\n          \"break\": undefined\n        };\n      })\n    };\n  }\n  // Only ordinal scale support tick interval\n  return axis.type === 'category' ? makeCategoryLabels(axis, ctx) : makeRealNumberLabels(axis);\n}\n/**\n * @param tickModel For example, can be axisTick, splitLine, splitArea.\n */\nexport function createAxisTicks(axis, tickModel, opt) {\n  var custom = axis.getTickModel().get('customValues');\n  if (custom) {\n    var extent_2 = axis.scale.getExtent();\n    var tickNumbers = tickValuesToNumbers(axis, custom);\n    return {\n      ticks: zrUtil.filter(tickNumbers, function (val) {\n        return val >= extent_2[0] && val <= extent_2[1];\n      })\n    };\n  }\n  // Only ordinal scale support tick interval\n  return axis.type === 'category' ? makeCategoryTicks(axis, tickModel) : {\n    ticks: zrUtil.map(axis.scale.getTicks(opt), function (tick) {\n      return tick.value;\n    })\n  };\n}\nfunction makeCategoryLabels(axis, ctx) {\n  var labelModel = axis.getLabelModel();\n  var result = makeCategoryLabelsActually(axis, labelModel, ctx);\n  return !labelModel.get('show') || axis.scale.isBlank() ? {\n    labels: []\n  } : result;\n}\nfunction makeCategoryLabelsActually(axis, labelModel, ctx) {\n  var labelsCache = ensureCategoryLabelCache(axis);\n  var optionLabelInterval = getOptionCategoryInterval(labelModel);\n  var isEstimate = ctx.kind === AxisTickLabelComputingKind.estimate;\n  // In AxisTickLabelComputingKind.estimate, the result likely varies during a single\n  // pass of ec main process,due to the change of axisExtent, and will not be shared with\n  // splitLine. Therefore no cache is used.\n  if (!isEstimate) {\n    // PENDING: check necessary?\n    var result_1 = axisCacheGet(labelsCache, optionLabelInterval);\n    if (result_1) {\n      return result_1;\n    }\n  }\n  var labels;\n  var numericLabelInterval;\n  if (zrUtil.isFunction(optionLabelInterval)) {\n    labels = makeLabelsByCustomizedCategoryInterval(axis, optionLabelInterval);\n  } else {\n    numericLabelInterval = optionLabelInterval === 'auto' ? makeAutoCategoryInterval(axis, ctx) : optionLabelInterval;\n    labels = makeLabelsByNumericCategoryInterval(axis, numericLabelInterval);\n  }\n  var result = {\n    labels: labels,\n    labelCategoryInterval: numericLabelInterval\n  };\n  if (!isEstimate) {\n    axisCacheSet(labelsCache, optionLabelInterval, result);\n  } else {\n    ctx.out.noPxChangeTryDetermine.push(function () {\n      axisCacheSet(labelsCache, optionLabelInterval, result);\n      return true;\n    });\n  }\n  return result;\n}\nfunction makeCategoryTicks(axis, tickModel) {\n  var ticksCache = ensureCategoryTickCache(axis);\n  var optionTickInterval = getOptionCategoryInterval(tickModel);\n  var result = axisCacheGet(ticksCache, optionTickInterval);\n  if (result) {\n    return result;\n  }\n  var ticks;\n  var tickCategoryInterval;\n  // Optimize for the case that large category data and no label displayed,\n  // we should not return all ticks.\n  if (!tickModel.get('show') || axis.scale.isBlank()) {\n    ticks = [];\n  }\n  if (zrUtil.isFunction(optionTickInterval)) {\n    ticks = makeLabelsByCustomizedCategoryInterval(axis, optionTickInterval, true);\n  }\n  // Always use label interval by default despite label show. Consider this\n  // scenario, Use multiple grid with the xAxis sync, and only one xAxis shows\n  // labels. `splitLine` and `axisTick` should be consistent in this case.\n  else if (optionTickInterval === 'auto') {\n    var labelsResult = makeCategoryLabelsActually(axis, axis.getLabelModel(), createAxisLabelsComputingContext(AxisTickLabelComputingKind.determine));\n    tickCategoryInterval = labelsResult.labelCategoryInterval;\n    ticks = zrUtil.map(labelsResult.labels, function (labelItem) {\n      return labelItem.tickValue;\n    });\n  } else {\n    tickCategoryInterval = optionTickInterval;\n    ticks = makeLabelsByNumericCategoryInterval(axis, tickCategoryInterval, true);\n  }\n  // Cache to avoid calling interval function repeatedly.\n  return axisCacheSet(ticksCache, optionTickInterval, {\n    ticks: ticks,\n    tickCategoryInterval: tickCategoryInterval\n  });\n}\nfunction makeRealNumberLabels(axis) {\n  var ticks = axis.scale.getTicks();\n  var labelFormatter = makeLabelFormatter(axis);\n  return {\n    labels: zrUtil.map(ticks, function (tick, idx) {\n      return {\n        formattedLabel: labelFormatter(tick, idx),\n        rawLabel: axis.scale.getLabel(tick),\n        tickValue: tick.value,\n        time: tick.time,\n        \"break\": tick[\"break\"]\n      };\n    })\n  };\n}\n// Large category data calculation is performance sensitive, and ticks and label probably will\n// be fetched multiple times (e.g. shared by splitLine and axisTick). So we cache the result.\n// axis is created each time during a ec process, so we do not need to clear cache.\nvar ensureCategoryTickCache = initAxisCacheMethod('axisTick');\nvar ensureCategoryLabelCache = initAxisCacheMethod('axisLabel');\n/**\n * PENDING: refactor to JS Map? Because key can be a function or more complicated object, and\n * cache size always is small, and currently no JS Map object key polyfill, we use a simple\n * array cache instead of plain object hash.\n */\nfunction initAxisCacheMethod(prop) {\n  return function ensureCache(axis) {\n    return axisInner(axis)[prop] || (axisInner(axis)[prop] = {\n      list: []\n    });\n  };\n}\nfunction axisCacheGet(cache, key) {\n  for (var i = 0; i < cache.list.length; i++) {\n    if (cache.list[i].key === key) {\n      return cache.list[i].value;\n    }\n  }\n}\nfunction axisCacheSet(cache, key, value) {\n  cache.list.push({\n    key: key,\n    value: value\n  });\n  return value;\n}\nfunction makeAutoCategoryInterval(axis, ctx) {\n  if (ctx.kind === AxisTickLabelComputingKind.estimate) {\n    // Currently axisTick is not involved in estimate kind, and the result likely varies during a\n    // single pass of ec main process, due to the change of axisExtent. Therefore no cache is used.\n    var result_2 = axis.calculateCategoryInterval(ctx);\n    ctx.out.noPxChangeTryDetermine.push(function () {\n      axisInner(axis).autoInterval = result_2;\n      return true;\n    });\n    return result_2;\n  }\n  // Both tick and label uses this result, cacah it to avoid recompute.\n  var result = axisInner(axis).autoInterval;\n  return result != null ? result : axisInner(axis).autoInterval = axis.calculateCategoryInterval(ctx);\n}\n/**\n * Calculate interval for category axis ticks and labels.\n * Use a stretegy to try to avoid overlapping.\n * To get precise result, at least one of `getRotate` and `isHorizontal`\n * should be implemented in axis.\n */\nexport function calculateCategoryInterval(axis, ctx) {\n  var kind = ctx.kind;\n  var params = fetchAutoCategoryIntervalCalculationParams(axis);\n  var labelFormatter = makeLabelFormatter(axis);\n  var rotation = (params.axisRotate - params.labelRotate) / 180 * Math.PI;\n  var ordinalScale = axis.scale;\n  var ordinalExtent = ordinalScale.getExtent();\n  // Providing this method is for optimization:\n  // avoid generating a long array by `getTicks`\n  // in large category data case.\n  var tickCount = ordinalScale.count();\n  if (ordinalExtent[1] - ordinalExtent[0] < 1) {\n    return 0;\n  }\n  var step = 1;\n  // Simple optimization. Arbitrary value.\n  var maxCount = 40;\n  if (tickCount > maxCount) {\n    step = Math.max(1, Math.floor(tickCount / maxCount));\n  }\n  var tickValue = ordinalExtent[0];\n  var unitSpan = axis.dataToCoord(tickValue + 1) - axis.dataToCoord(tickValue);\n  var unitW = Math.abs(unitSpan * Math.cos(rotation));\n  var unitH = Math.abs(unitSpan * Math.sin(rotation));\n  var maxW = 0;\n  var maxH = 0;\n  // Caution: Performance sensitive for large category data.\n  // Consider dataZoom, we should make appropriate step to avoid O(n) loop.\n  for (; tickValue <= ordinalExtent[1]; tickValue += step) {\n    var width = 0;\n    var height = 0;\n    // Not precise, do not consider align and vertical align\n    // and each distance from axis line yet.\n    var rect = textContain.getBoundingRect(labelFormatter({\n      value: tickValue\n    }), params.font, 'center', 'top');\n    // Magic number\n    width = rect.width * 1.3;\n    height = rect.height * 1.3;\n    // Min size, void long loop.\n    maxW = Math.max(maxW, width, 7);\n    maxH = Math.max(maxH, height, 7);\n  }\n  var dw = maxW / unitW;\n  var dh = maxH / unitH;\n  // 0/0 is NaN, 1/0 is Infinity.\n  isNaN(dw) && (dw = Infinity);\n  isNaN(dh) && (dh = Infinity);\n  var interval = Math.max(0, Math.floor(Math.min(dw, dh)));\n  if (kind === AxisTickLabelComputingKind.estimate) {\n    // In estimate kind, the inteval likely varies, thus do not erase the cache.\n    ctx.out.noPxChangeTryDetermine.push(zrUtil.bind(calculateCategoryIntervalTryDetermine, null, axis, interval, tickCount));\n    return interval;\n  }\n  var lastInterval = calculateCategoryIntervalDealCache(axis, interval, tickCount);\n  return lastInterval != null ? lastInterval : interval;\n}\nfunction calculateCategoryIntervalTryDetermine(axis, interval, tickCount) {\n  return calculateCategoryIntervalDealCache(axis, interval, tickCount) == null;\n}\n// Return the lastInterval if need to use it, otherwise return NullUndefined and save cache.\nfunction calculateCategoryIntervalDealCache(axis, interval, tickCount) {\n  var cache = modelInner(axis.model);\n  var axisExtent = axis.getExtent();\n  var lastAutoInterval = cache.lastAutoInterval;\n  var lastTickCount = cache.lastTickCount;\n  // Use cache to keep interval stable while moving zoom window,\n  // otherwise the calculated interval might jitter when the zoom\n  // window size is close to the interval-changing size.\n  // For example, if all of the axis labels are `a, b, c, d, e, f, g`.\n  // The jitter will cause that sometimes the displayed labels are\n  // `a, d, g` (interval: 2) sometimes `a, c, e`(interval: 1).\n  if (lastAutoInterval != null && lastTickCount != null && Math.abs(lastAutoInterval - interval) <= 1 && Math.abs(lastTickCount - tickCount) <= 1\n  // Always choose the bigger one, otherwise the critical\n  // point is not the same when zooming in or zooming out.\n  && lastAutoInterval > interval\n  // If the axis change is caused by chart resize, the cache should not\n  // be used. Otherwise some hidden labels might not be shown again.\n  && cache.axisExtent0 === axisExtent[0] && cache.axisExtent1 === axisExtent[1]) {\n    return lastAutoInterval;\n  }\n  // Only update cache if cache not used, otherwise the\n  // changing of interval is too insensitive.\n  else {\n    cache.lastTickCount = tickCount;\n    cache.lastAutoInterval = interval;\n    cache.axisExtent0 = axisExtent[0];\n    cache.axisExtent1 = axisExtent[1];\n  }\n}\nfunction fetchAutoCategoryIntervalCalculationParams(axis) {\n  var labelModel = axis.getLabelModel();\n  return {\n    axisRotate: axis.getRotate ? axis.getRotate() : axis.isHorizontal && !axis.isHorizontal() ? 90 : 0,\n    labelRotate: labelModel.get('rotate') || 0,\n    font: labelModel.getFont()\n  };\n}\nfunction makeLabelsByNumericCategoryInterval(axis, categoryInterval, onlyTick) {\n  var labelFormatter = makeLabelFormatter(axis);\n  var ordinalScale = axis.scale;\n  var ordinalExtent = ordinalScale.getExtent();\n  var labelModel = axis.getLabelModel();\n  var result = [];\n  // TODO: axisType: ordinalTime, pick the tick from each month/day/year/...\n  var step = Math.max((categoryInterval || 0) + 1, 1);\n  var startTick = ordinalExtent[0];\n  var tickCount = ordinalScale.count();\n  // Calculate start tick based on zero if possible to keep label consistent\n  // while zooming and moving while interval > 0. Otherwise the selection\n  // of displayable ticks and symbols probably keep changing.\n  // 3 is empirical value.\n  if (startTick !== 0 && step > 1 && tickCount / step > 2) {\n    startTick = Math.round(Math.ceil(startTick / step) * step);\n  }\n  // (1) Only add min max label here but leave overlap checking\n  // to render stage, which also ensure the returned list\n  // suitable for splitLine and splitArea rendering.\n  // (2) Scales except category always contain min max label so\n  // do not need to perform this process.\n  var showAllLabel = shouldShowAllLabels(axis);\n  var includeMinLabel = labelModel.get('showMinLabel') || showAllLabel;\n  var includeMaxLabel = labelModel.get('showMaxLabel') || showAllLabel;\n  if (includeMinLabel && startTick !== ordinalExtent[0]) {\n    addItem(ordinalExtent[0]);\n  }\n  // Optimize: avoid generating large array by `ordinalScale.getTicks()`.\n  var tickValue = startTick;\n  for (; tickValue <= ordinalExtent[1]; tickValue += step) {\n    addItem(tickValue);\n  }\n  if (includeMaxLabel && tickValue - step !== ordinalExtent[1]) {\n    addItem(ordinalExtent[1]);\n  }\n  function addItem(tickValue) {\n    var tickObj = {\n      value: tickValue\n    };\n    result.push(onlyTick ? tickValue : {\n      formattedLabel: labelFormatter(tickObj),\n      rawLabel: ordinalScale.getLabel(tickObj),\n      tickValue: tickValue,\n      time: undefined,\n      \"break\": undefined\n    });\n  }\n  return result;\n}\nfunction makeLabelsByCustomizedCategoryInterval(axis, categoryInterval, onlyTick) {\n  var ordinalScale = axis.scale;\n  var labelFormatter = makeLabelFormatter(axis);\n  var result = [];\n  zrUtil.each(ordinalScale.getTicks(), function (tick) {\n    var rawLabel = ordinalScale.getLabel(tick);\n    var tickValue = tick.value;\n    if (categoryInterval(tick.value, rawLabel)) {\n      result.push(onlyTick ? tickValue : {\n        formattedLabel: labelFormatter(tick),\n        rawLabel: rawLabel,\n        tickValue: tickValue,\n        time: undefined,\n        \"break\": undefined\n      });\n    }\n  });\n  return result;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { each, map } from 'zrender/lib/core/util.js';\nimport { linearMap, getPixelPrecision, round } from '../util/number.js';\nimport { createAxisTicks, createAxisLabels, calculateCategoryInterval, AxisTickLabelComputingKind, createAxisLabelsComputingContext } from './axisTickLabelBuilder.js';\nvar NORMALIZED_EXTENT = [0, 1];\n/**\n * Base class of Axis.\n *\n * Lifetime: recreate for each main process.\n * [NOTICE]: Some caches is stored on the axis instance (see `axisTickLabelBuilder.ts`)\n *  which is based on this lifetime.\n */\nvar Axis = /** @class */function () {\n  function Axis(dim, scale, extent) {\n    this.onBand = false;\n    // Make sure that `extent[0] > extent[1]` only if `inverse: true`.\n    // `inverse` can be inferred by `extent` unless `extent[0] === extent[1]`.\n    this.inverse = false;\n    this.dim = dim;\n    this.scale = scale;\n    this._extent = extent || [0, 0];\n  }\n  /**\n   * If axis extent contain given coord\n   */\n  Axis.prototype.contain = function (coord) {\n    var extent = this._extent;\n    var min = Math.min(extent[0], extent[1]);\n    var max = Math.max(extent[0], extent[1]);\n    return coord >= min && coord <= max;\n  };\n  /**\n   * If axis extent contain given data\n   */\n  Axis.prototype.containData = function (data) {\n    return this.scale.contain(this.scale.parse(data));\n  };\n  /**\n   * Get coord extent.\n   */\n  Axis.prototype.getExtent = function () {\n    return this._extent.slice();\n  };\n  /**\n   * Get precision used for formatting\n   */\n  Axis.prototype.getPixelPrecision = function (dataExtent) {\n    return getPixelPrecision(dataExtent || this.scale.getExtent(), this._extent);\n  };\n  /**\n   * Set coord extent\n   */\n  Axis.prototype.setExtent = function (start, end) {\n    var extent = this._extent;\n    extent[0] = start;\n    extent[1] = end;\n  };\n  /**\n   * Convert data to coord. Data is the rank if it has an ordinal scale\n   */\n  Axis.prototype.dataToCoord = function (data, clamp) {\n    var extent = this._extent;\n    var scale = this.scale;\n    data = scale.normalize(scale.parse(data));\n    if (this.onBand && scale.type === 'ordinal') {\n      extent = extent.slice();\n      fixExtentWithBands(extent, scale.count());\n    }\n    return linearMap(data, NORMALIZED_EXTENT, extent, clamp);\n  };\n  /**\n   * Convert coord to data. Data is the rank if it has an ordinal scale\n   */\n  Axis.prototype.coordToData = function (coord, clamp) {\n    var extent = this._extent;\n    var scale = this.scale;\n    if (this.onBand && scale.type === 'ordinal') {\n      extent = extent.slice();\n      fixExtentWithBands(extent, scale.count());\n    }\n    var t = linearMap(coord, extent, NORMALIZED_EXTENT, clamp);\n    return this.scale.scale(t);\n  };\n  /**\n   * Convert pixel point to data in axis\n   */\n  Axis.prototype.pointToData = function (point, clamp) {\n    // Should be implemented in derived class if necessary.\n    return;\n  };\n  /**\n   * Different from `zrUtil.map(axis.getTicks(), axis.dataToCoord, axis)`,\n   * `axis.getTicksCoords` considers `onBand`, which is used by\n   * `boundaryGap:true` of category axis and splitLine and splitArea.\n   * @param opt.tickModel default: axis.model.getModel('axisTick')\n   * @param opt.clamp If `true`, the first and the last\n   *        tick must be at the axis end points. Otherwise, clip ticks\n   *        that outside the axis extent.\n   */\n  Axis.prototype.getTicksCoords = function (opt) {\n    opt = opt || {};\n    var tickModel = opt.tickModel || this.getTickModel();\n    var result = createAxisTicks(this, tickModel, {\n      breakTicks: opt.breakTicks,\n      pruneByBreak: opt.pruneByBreak\n    });\n    var ticks = result.ticks;\n    var ticksCoords = map(ticks, function (tickVal) {\n      return {\n        coord: this.dataToCoord(this.scale.type === 'ordinal' ? this.scale.getRawOrdinalNumber(tickVal) : tickVal),\n        tickValue: tickVal\n      };\n    }, this);\n    var alignWithLabel = tickModel.get('alignWithLabel');\n    fixOnBandTicksCoords(this, ticksCoords, alignWithLabel, opt.clamp);\n    return ticksCoords;\n  };\n  Axis.prototype.getMinorTicksCoords = function () {\n    if (this.scale.type === 'ordinal') {\n      // Category axis doesn't support minor ticks\n      return [];\n    }\n    var minorTickModel = this.model.getModel('minorTick');\n    var splitNumber = minorTickModel.get('splitNumber');\n    // Protection.\n    if (!(splitNumber > 0 && splitNumber < 100)) {\n      splitNumber = 5;\n    }\n    var minorTicks = this.scale.getMinorTicks(splitNumber);\n    var minorTicksCoords = map(minorTicks, function (minorTicksGroup) {\n      return map(minorTicksGroup, function (minorTick) {\n        return {\n          coord: this.dataToCoord(minorTick),\n          tickValue: minorTick\n        };\n      }, this);\n    }, this);\n    return minorTicksCoords;\n  };\n  Axis.prototype.getViewLabels = function (ctx) {\n    ctx = ctx || createAxisLabelsComputingContext(AxisTickLabelComputingKind.determine);\n    return createAxisLabels(this, ctx).labels;\n  };\n  Axis.prototype.getLabelModel = function () {\n    return this.model.getModel('axisLabel');\n  };\n  /**\n   * Notice here we only get the default tick model. For splitLine\n   * or splitArea, we should pass the splitLineModel or splitAreaModel\n   * manually when calling `getTicksCoords`.\n   * In GL, this method may be overridden to:\n   * `axisModel.getModel('axisTick', grid3DModel.getModel('axisTick'));`\n   */\n  Axis.prototype.getTickModel = function () {\n    return this.model.getModel('axisTick');\n  };\n  /**\n   * Get width of band\n   */\n  Axis.prototype.getBandWidth = function () {\n    var axisExtent = this._extent;\n    var dataExtent = this.scale.getExtent();\n    var len = dataExtent[1] - dataExtent[0] + (this.onBand ? 1 : 0);\n    // Fix #2728, avoid NaN when only one data.\n    len === 0 && (len = 1);\n    var size = Math.abs(axisExtent[1] - axisExtent[0]);\n    return Math.abs(size) / len;\n  };\n  /**\n   * Only be called in category axis.\n   * Can be overridden, consider other axes like in 3D.\n   * @return Auto interval for cateogry axis tick and label\n   */\n  Axis.prototype.calculateCategoryInterval = function (ctx) {\n    ctx = ctx || createAxisLabelsComputingContext(AxisTickLabelComputingKind.determine);\n    return calculateCategoryInterval(this, ctx);\n  };\n  return Axis;\n}();\nfunction fixExtentWithBands(extent, nTick) {\n  var size = extent[1] - extent[0];\n  var len = nTick;\n  var margin = size / len / 2;\n  extent[0] += margin;\n  extent[1] -= margin;\n}\n// If axis has labels [1, 2, 3, 4]. Bands on the axis are\n// |---1---|---2---|---3---|---4---|.\n// So the displayed ticks and splitLine/splitArea should between\n// each data item, otherwise cause misleading (e.g., split tow bars\n// of a single data item when there are two bar series).\n// Also consider if tickCategoryInterval > 0 and onBand, ticks and\n// splitLine/spliteArea should layout appropriately corresponding\n// to displayed labels. (So we should not use `getBandWidth` in this\n// case).\nfunction fixOnBandTicksCoords(axis, ticksCoords, alignWithLabel, clamp) {\n  var ticksLen = ticksCoords.length;\n  if (!axis.onBand || alignWithLabel || !ticksLen) {\n    return;\n  }\n  var axisExtent = axis.getExtent();\n  var last;\n  var diffSize;\n  if (ticksLen === 1) {\n    ticksCoords[0].coord = axisExtent[0];\n    ticksCoords[0].onBand = true;\n    last = ticksCoords[1] = {\n      coord: axisExtent[1],\n      tickValue: ticksCoords[0].tickValue,\n      onBand: true\n    };\n  } else {\n    var crossLen = ticksCoords[ticksLen - 1].tickValue - ticksCoords[0].tickValue;\n    var shift_1 = (ticksCoords[ticksLen - 1].coord - ticksCoords[0].coord) / crossLen;\n    each(ticksCoords, function (ticksItem) {\n      ticksItem.coord -= shift_1 / 2;\n      ticksItem.onBand = true;\n    });\n    var dataExtent = axis.scale.getExtent();\n    diffSize = 1 + dataExtent[1] - ticksCoords[ticksLen - 1].tickValue;\n    last = {\n      coord: ticksCoords[ticksLen - 1].coord + shift_1 * diffSize,\n      tickValue: dataExtent[1] + 1,\n      onBand: true\n    };\n    ticksCoords.push(last);\n  }\n  var inverse = axisExtent[0] > axisExtent[1];\n  // Handling clamp.\n  if (littleThan(ticksCoords[0].coord, axisExtent[0])) {\n    clamp ? ticksCoords[0].coord = axisExtent[0] : ticksCoords.shift();\n  }\n  if (clamp && littleThan(axisExtent[0], ticksCoords[0].coord)) {\n    ticksCoords.unshift({\n      coord: axisExtent[0],\n      onBand: true\n    });\n  }\n  if (littleThan(axisExtent[1], last.coord)) {\n    clamp ? last.coord = axisExtent[1] : ticksCoords.pop();\n  }\n  if (clamp && littleThan(last.coord, axisExtent[1])) {\n    ticksCoords.push({\n      coord: axisExtent[1],\n      onBand: true\n    });\n  }\n  function littleThan(a, b) {\n    // Avoid rounding error cause calculated tick coord different with extent.\n    // It may cause an extra unnecessary tick added.\n    a = round(a);\n    b = round(b);\n    return inverse ? a > b : a < b;\n  }\n}\nexport default Axis;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { OrientedBoundingRect, WH, XY, ensureCopyRect, ensureCopyTransform, expandOrShrinkRect, isBoundingRectAxisAligned } from '../util/graphic.js';\nimport { LabelMarginType } from './labelStyle.js';\nvar LABEL_LAYOUT_BASE_PROPS = ['label', 'labelLine', 'layoutOption', 'priority', 'defaultAttr', 'marginForce', 'minMarginForce', 'marginDefault', 'suggestIgnore'];\nvar LABEL_LAYOUT_DIRTY_BIT_OTHERS = 1;\nvar LABEL_LAYOUT_DIRTY_BIT_OBB = 2;\nvar LABEL_LAYOUT_DIRTY_ALL = LABEL_LAYOUT_DIRTY_BIT_OTHERS | LABEL_LAYOUT_DIRTY_BIT_OBB;\nexport function setLabelLayoutDirty(labelGeometry, dirtyOrClear, dirtyBits) {\n  dirtyBits = dirtyBits || LABEL_LAYOUT_DIRTY_ALL;\n  dirtyOrClear ? labelGeometry.dirty |= dirtyBits : labelGeometry.dirty &= ~dirtyBits;\n}\nfunction isLabelLayoutDirty(labelGeometry, dirtyBits) {\n  dirtyBits = dirtyBits || LABEL_LAYOUT_DIRTY_ALL;\n  return labelGeometry.dirty == null || !!(labelGeometry.dirty & dirtyBits);\n}\n/**\n * [CAUTION]\n *  - No auto dirty propagation mechanism yet. If the transform of the raw label or any of its ancestors is\n *    changed, must sync the changes to the props of `LabelGeometry` by:\n *    either explicitly call:\n *      `setLabelLayoutDirty(labelLayout, true); ensureLabelLayoutWithGeometry(labelLayout);`\n *    or call (if only translation is performed):\n *      `labelLayoutApplyTranslation(labelLayout);`\n *  - `label.ignore` is not necessarily falsy, and not considered in computing `LabelGeometry`,\n *    since it might be modified by some overlap resolving handling.\n *  - To duplicate or make a variation:\n *    use `newLabelLayoutWithGeometry`.\n *\n * The result can also be the input of this method.\n * @return `NullUndefined` if and only if `labelLayout` is `NullUndefined`.\n */\nexport function ensureLabelLayoutWithGeometry(labelLayout) {\n  if (!labelLayout) {\n    return;\n  }\n  if (isLabelLayoutDirty(labelLayout)) {\n    computeLabelGeometry(labelLayout, labelLayout.label, labelLayout);\n  }\n  return labelLayout;\n}\n/**\n * The props in `out` will be filled if existing, or created.\n */\nexport function computeLabelGeometry(out, label, opt) {\n  // [CAUTION] These props may be modified directly for performance consideration,\n  //  therefore, do not output the internal data structure of zrender Element.\n  var rawTransform = label.getComputedTransform();\n  out.transform = ensureCopyTransform(out.transform, rawTransform);\n  // NOTE: should call `getBoundingRect` after `getComputedTransform`, or may get an inaccurate bounding rect.\n  //  The reason is that `getComputedTransform` calls `__host.updateInnerText()` internally, which updates the label\n  //  by `textConfig` mounted on the host.\n  // PENDING: add a dirty bit for that in zrender?\n  var outLocalRect = out.localRect = ensureCopyRect(out.localRect, label.getBoundingRect());\n  var labelStyleExt = label.style;\n  var margin = labelStyleExt.margin;\n  var marginForce = opt && opt.marginForce;\n  var minMarginForce = opt && opt.minMarginForce;\n  var marginDefault = opt && opt.marginDefault;\n  var marginType = labelStyleExt.__marginType;\n  if (marginType == null && marginDefault) {\n    margin = marginDefault;\n    marginType = LabelMarginType.textMargin;\n  }\n  // `textMargin` and `minMargin` can not exist both.\n  for (var i = 0; i < 4; i++) {\n    _tmpLabelMargin[i] = marginType === LabelMarginType.minMargin && minMarginForce && minMarginForce[i] != null ? minMarginForce[i] : marginForce && marginForce[i] != null ? marginForce[i] : margin ? margin[i] : 0;\n  }\n  if (marginType === LabelMarginType.textMargin) {\n    expandOrShrinkRect(outLocalRect, _tmpLabelMargin, false, false);\n  }\n  var outGlobalRect = out.rect = ensureCopyRect(out.rect, outLocalRect);\n  if (rawTransform) {\n    outGlobalRect.applyTransform(rawTransform);\n  }\n  // Notice: label.style.margin is actually `minMargin / 2`, handled by `setTextStyleCommon`.\n  if (marginType === LabelMarginType.minMargin) {\n    expandOrShrinkRect(outGlobalRect, _tmpLabelMargin, false, false);\n  }\n  out.axisAligned = isBoundingRectAxisAligned(rawTransform);\n  (out.label = out.label || {}).ignore = label.ignore;\n  setLabelLayoutDirty(out, false);\n  setLabelLayoutDirty(out, true, LABEL_LAYOUT_DIRTY_BIT_OBB);\n  // Do not remove `obb` (if existing) for reuse, just reset the dirty bit.\n  return out;\n}\nvar _tmpLabelMargin = [0, 0, 0, 0];\n/**\n * The props in `out` will be filled if existing, or created.\n */\nexport function computeLabelGeometry2(out, rawLocalRect, rawTransform) {\n  out.transform = ensureCopyTransform(out.transform, rawTransform);\n  out.localRect = ensureCopyRect(out.localRect, rawLocalRect);\n  out.rect = ensureCopyRect(out.rect, rawLocalRect);\n  if (rawTransform) {\n    out.rect.applyTransform(rawTransform);\n  }\n  out.axisAligned = isBoundingRectAxisAligned(rawTransform);\n  out.obb = undefined; // Reset to undefined, will be created by `ensureOBB` when using.\n  (out.label = out.label || {}).ignore = false;\n  return out;\n}\n/**\n * This is a shortcut of\n *   ```js\n *   labelLayout.label.x = newX;\n *   labelLayout.label.y = newY;\n *   setLabelLayoutDirty(labelLayout, true);\n *   ensureLabelLayoutWithGeometry(labelLayout);\n *   ```\n * and provide better performance in this common case.\n */\nexport function labelLayoutApplyTranslation(labelLayout, offset) {\n  if (!labelLayout) {\n    return;\n  }\n  labelLayout.label.x += offset.x;\n  labelLayout.label.y += offset.y;\n  labelLayout.label.markRedraw();\n  var transform = labelLayout.transform;\n  if (transform) {\n    transform[4] += offset.x;\n    transform[5] += offset.y;\n  }\n  var globalRect = labelLayout.rect;\n  if (globalRect) {\n    globalRect.x += offset.x;\n    globalRect.y += offset.y;\n  }\n  var obb = labelLayout.obb;\n  if (obb) {\n    obb.fromBoundingRect(labelLayout.localRect, transform);\n  }\n}\n/**\n * To duplicate or make a variation of a label layout.\n * Copy the only relevant properties to avoid the conflict or wrongly reuse of the props of `LabelLayoutWithGeometry`.\n */\nexport function newLabelLayoutWithGeometry(newBaseWithDefaults, source) {\n  for (var i = 0; i < LABEL_LAYOUT_BASE_PROPS.length; i++) {\n    var prop = LABEL_LAYOUT_BASE_PROPS[i];\n    if (newBaseWithDefaults[prop] == null) {\n      newBaseWithDefaults[prop] = source[prop];\n    }\n  }\n  return ensureLabelLayoutWithGeometry(newBaseWithDefaults);\n}\n/**\n * Create obb if no one, can cache it.\n */\nfunction ensureOBB(labelGeometry) {\n  var obb = labelGeometry.obb;\n  if (!obb || isLabelLayoutDirty(labelGeometry, LABEL_LAYOUT_DIRTY_BIT_OBB)) {\n    labelGeometry.obb = obb = obb || new OrientedBoundingRect();\n    obb.fromBoundingRect(labelGeometry.localRect, labelGeometry.transform);\n    setLabelLayoutDirty(labelGeometry, false, LABEL_LAYOUT_DIRTY_BIT_OBB);\n  }\n  return obb;\n}\n/**\n * Adjust labels on x/y direction to avoid overlap.\n *\n * PENDING: the current implementation is based on the global bounding rect rather than the local rect,\n *  which may be not preferable in some edge cases when the label has rotation, but works for most cases,\n *  since rotation is unnecessary when there is sufficient space, while squeezing is applied regardless\n *  of overlapping when there is no enough space.\n *\n * NOTICE:\n *  - The input `list` and its content will be modified (sort, label.x/y, rect).\n *  - The caller should sync the modifications to the other parts by\n *    `setLabelLayoutDirty` and `ensureLabelLayoutWithGeometry` if needed.\n *\n * @return adjusted\n */\nexport function shiftLayoutOnXY(list, xyDimIdx,\n// 0 for x, 1 for y\nminBound,\n// for x, leftBound; for y, topBound\nmaxBound,\n// for x, rightBound; for y, bottomBound\n// If average the shifts on all labels and add them to 0\n// TODO: Not sure if should enable it.\n// Pros: The angle of lines will distribute more equally\n// Cons: In some layout. It may not what user wanted. like in pie. the label of last sector is usually changed unexpectedly.\nbalanceShift) {\n  var len = list.length;\n  var xyDim = XY[xyDimIdx];\n  var sizeDim = WH[xyDimIdx];\n  if (len < 2) {\n    return false;\n  }\n  list.sort(function (a, b) {\n    return a.rect[xyDim] - b.rect[xyDim];\n  });\n  var lastPos = 0;\n  var delta;\n  var adjusted = false;\n  // const shifts = [];\n  var totalShifts = 0;\n  for (var i = 0; i < len; i++) {\n    var item = list[i];\n    var rect = item.rect;\n    delta = rect[xyDim] - lastPos;\n    if (delta < 0) {\n      // shiftForward(i, len, -delta);\n      rect[xyDim] -= delta;\n      item.label[xyDim] -= delta;\n      adjusted = true;\n    }\n    var shift = Math.max(-delta, 0);\n    // shifts.push(shift);\n    totalShifts += shift;\n    lastPos = rect[xyDim] + rect[sizeDim];\n  }\n  if (totalShifts > 0 && balanceShift) {\n    // Shift back to make the distribution more equally.\n    shiftList(-totalShifts / len, 0, len);\n  }\n  // TODO bleedMargin?\n  var first = list[0];\n  var last = list[len - 1];\n  var minGap;\n  var maxGap;\n  updateMinMaxGap();\n  // If ends exceed two bounds, squeeze at most 80%, then take the gap of two bounds.\n  minGap < 0 && squeezeGaps(-minGap, 0.8);\n  maxGap < 0 && squeezeGaps(maxGap, 0.8);\n  updateMinMaxGap();\n  takeBoundsGap(minGap, maxGap, 1);\n  takeBoundsGap(maxGap, minGap, -1);\n  // Handle bailout when there is not enough space.\n  updateMinMaxGap();\n  if (minGap < 0) {\n    squeezeWhenBailout(-minGap);\n  }\n  if (maxGap < 0) {\n    squeezeWhenBailout(maxGap);\n  }\n  function updateMinMaxGap() {\n    minGap = first.rect[xyDim] - minBound;\n    maxGap = maxBound - last.rect[xyDim] - last.rect[sizeDim];\n  }\n  function takeBoundsGap(gapThisBound, gapOtherBound, moveDir) {\n    if (gapThisBound < 0) {\n      // Move from other gap if can.\n      var moveFromMaxGap = Math.min(gapOtherBound, -gapThisBound);\n      if (moveFromMaxGap > 0) {\n        shiftList(moveFromMaxGap * moveDir, 0, len);\n        var remained = moveFromMaxGap + gapThisBound;\n        if (remained < 0) {\n          squeezeGaps(-remained * moveDir, 1);\n        }\n      } else {\n        squeezeGaps(-gapThisBound * moveDir, 1);\n      }\n    }\n  }\n  function shiftList(delta, start, end) {\n    if (delta !== 0) {\n      adjusted = true;\n    }\n    for (var i = start; i < end; i++) {\n      var item = list[i];\n      var rect = item.rect;\n      rect[xyDim] += delta;\n      item.label[xyDim] += delta;\n    }\n  }\n  // Squeeze gaps if the labels exceed margin.\n  function squeezeGaps(delta, maxSqeezePercent) {\n    var gaps = [];\n    var totalGaps = 0;\n    for (var i = 1; i < len; i++) {\n      var prevItemRect = list[i - 1].rect;\n      var gap = Math.max(list[i].rect[xyDim] - prevItemRect[xyDim] - prevItemRect[sizeDim], 0);\n      gaps.push(gap);\n      totalGaps += gap;\n    }\n    if (!totalGaps) {\n      return;\n    }\n    var squeezePercent = Math.min(Math.abs(delta) / totalGaps, maxSqeezePercent);\n    if (delta > 0) {\n      for (var i = 0; i < len - 1; i++) {\n        // Distribute the shift delta to all gaps.\n        var movement = gaps[i] * squeezePercent;\n        // Forward\n        shiftList(movement, 0, i + 1);\n      }\n    } else {\n      // Backward\n      for (var i = len - 1; i > 0; i--) {\n        // Distribute the shift delta to all gaps.\n        var movement = gaps[i - 1] * squeezePercent;\n        shiftList(-movement, i, len);\n      }\n    }\n  }\n  /**\n   * Squeeze to allow overlap if there is no more space available.\n   * Let other overlapping strategy like hideOverlap do the job instead of keep exceeding the bounds.\n   */\n  function squeezeWhenBailout(delta) {\n    var dir = delta < 0 ? -1 : 1;\n    delta = Math.abs(delta);\n    var moveForEachLabel = Math.ceil(delta / (len - 1));\n    for (var i = 0; i < len - 1; i++) {\n      if (dir > 0) {\n        // Forward\n        shiftList(moveForEachLabel, 0, i + 1);\n      } else {\n        // Backward\n        shiftList(-moveForEachLabel, len - i - 1, len);\n      }\n      delta -= moveForEachLabel;\n      if (delta <= 0) {\n        return;\n      }\n    }\n  }\n  return adjusted;\n}\n/**\n * @see `SavedLabelAttr` in `LabelManager.ts`\n * @see `hideOverlap`\n */\nexport function restoreIgnore(labelList) {\n  for (var i = 0; i < labelList.length; i++) {\n    var labelItem = labelList[i];\n    var defaultAttr = labelItem.defaultAttr;\n    var labelLine = labelItem.labelLine;\n    labelItem.label.attr('ignore', defaultAttr.ignore);\n    labelLine && labelLine.attr('ignore', defaultAttr.labelGuideIgnore);\n  }\n}\n/**\n * [NOTICE - restore]:\n *  'series:layoutlabels' may be triggered during some shortcut passes, such as zooming in series.graph/geo\n *  (`updateLabelLayout`), where the modified `Element` props should be restorable from `defaultAttr`.\n *  @see `SavedLabelAttr` in `LabelManager.ts`\n *  `restoreIgnore` can be called to perform the restore, if needed.\n *\n * [NOTICE - state]:\n *  Regarding Element's states, this method is only designed for the normal state.\n *  PENDING: although currently this method is effectively called in other states in `updateLabelLayout` case,\n *      the bad case is not noticeable in the zooming scenario.\n */\nexport function hideOverlap(labelList) {\n  var displayedLabels = [];\n  // TODO, render overflow visible first, put in the displayedLabels.\n  labelList.sort(function (a, b) {\n    return (b.suggestIgnore ? 1 : 0) - (a.suggestIgnore ? 1 : 0) || b.priority - a.priority;\n  });\n  function hideEl(el) {\n    if (!el.ignore) {\n      // Show on emphasis.\n      var emphasisState = el.ensureState('emphasis');\n      if (emphasisState.ignore == null) {\n        emphasisState.ignore = false;\n      }\n    }\n    el.ignore = true;\n  }\n  for (var i = 0; i < labelList.length; i++) {\n    var labelItem = ensureLabelLayoutWithGeometry(labelList[i]);\n    // The current `el.ignore` is involved, since some previous overlap\n    // resolving strategies may have set `el.ignore` to true.\n    if (labelItem.label.ignore) {\n      continue;\n    }\n    var label = labelItem.label;\n    var labelLine = labelItem.labelLine;\n    // NOTICE: even when the with/height of globalRect of a label is 0, the label line should\n    // still be displayed, since we should follow the concept of \"truncation\", meaning that\n    // something exists even if it cannot be fully displayed. A visible label line is necessary\n    // to allow users to get a tooltip with label info on hover.\n    var overlapped = false;\n    for (var j = 0; j < displayedLabels.length; j++) {\n      if (labelIntersect(labelItem, displayedLabels[j], null, {\n        touchThreshold: 0.05\n      })) {\n        overlapped = true;\n        break;\n      }\n    }\n    // TODO Callback to determine if this overlap should be handled?\n    if (overlapped) {\n      hideEl(label);\n      labelLine && hideEl(labelLine);\n    } else {\n      displayedLabels.push(labelItem);\n    }\n  }\n}\n/**\n * Enable fast check for performance; use obb if inevitable.\n * If `mtv` is used, `targetLayoutInfo` can be moved based on the values filled into `mtv`.\n *\n * This method is based only on the current `Element` states (regardless of other states).\n * Typically this method (and the entire layout process) is performed in normal state.\n */\nexport function labelIntersect(baseLayoutInfo, targetLayoutInfo, mtv, intersectOpt) {\n  if (!baseLayoutInfo || !targetLayoutInfo) {\n    return false;\n  }\n  if (baseLayoutInfo.label && baseLayoutInfo.label.ignore || targetLayoutInfo.label && targetLayoutInfo.label.ignore) {\n    return false;\n  }\n  // Fast rejection.\n  if (!baseLayoutInfo.rect.intersect(targetLayoutInfo.rect, mtv, intersectOpt)) {\n    return false;\n  }\n  if (baseLayoutInfo.axisAligned && targetLayoutInfo.axisAligned) {\n    return true; // obb is the same as the normal bounding rect.\n  }\n  return ensureOBB(baseLayoutInfo).intersect(ensureOBB(targetLayoutInfo), mtv, intersectOpt);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { retrieveRawValue } from '../../data/helper/dataProvider.js';\nimport { isArray } from 'zrender/lib/core/util.js';\n/**\n * @return label string. Not null/undefined\n */\nexport function getDefaultLabel(data, dataIndex) {\n  var labelDims = data.mapDimensionsAll('defaultedLabel');\n  var len = labelDims.length;\n  // Simple optimization (in lots of cases, label dims length is 1)\n  if (len === 1) {\n    var rawVal = retrieveRawValue(data, dataIndex, labelDims[0]);\n    return rawVal != null ? rawVal + '' : null;\n  } else if (len) {\n    var vals = [];\n    for (var i = 0; i < labelDims.length; i++) {\n      vals.push(retrieveRawValue(data, dataIndex, labelDims[i]));\n    }\n    return vals.join(' ');\n  }\n}\nexport function getDefaultInterpolatedLabel(data, interpolatedValue) {\n  var labelDims = data.mapDimensionsAll('defaultedLabel');\n  if (!isArray(interpolatedValue)) {\n    return interpolatedValue + '';\n  }\n  var vals = [];\n  for (var i = 0; i < labelDims.length; i++) {\n    var dimIndex = data.getDimensionIndex(labelDims[i]);\n    if (dimIndex >= 0) {\n      vals.push(interpolatedValue[dimIndex]);\n    }\n  }\n  return vals.join(' ');\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport { createSymbol, normalizeSymbolOffset, normalizeSymbolSize } from '../../util/symbol.js';\nimport * as graphic from '../../util/graphic.js';\nimport { getECData } from '../../util/innerStore.js';\nimport { enterEmphasis, leaveEmphasis, toggleHoverEmphasis } from '../../util/states.js';\nimport { getDefaultLabel } from './labelHelper.js';\nimport { extend, retrieve2 } from 'zrender/lib/core/util.js';\nimport { setLabelStyle, getLabelStatesModels } from '../../label/labelStyle.js';\nimport ZRImage from 'zrender/lib/graphic/Image.js';\nimport { saveOldStyle } from '../../animation/basicTransition.js';\nvar Symbol = /** @class */function (_super) {\n  __extends(Symbol, _super);\n  function Symbol(data, idx, seriesScope, opts) {\n    var _this = _super.call(this) || this;\n    _this.updateData(data, idx, seriesScope, opts);\n    return _this;\n  }\n  Symbol.prototype._createSymbol = function (symbolType, data, idx, symbolSize, z2, keepAspect) {\n    // Remove paths created before\n    this.removeAll();\n    // let symbolPath = createSymbol(\n    //     symbolType, -0.5, -0.5, 1, 1, color\n    // );\n    // If width/height are set too small (e.g., set to 1) on ios10\n    // and macOS Sierra, a circle stroke become a rect, no matter what\n    // the scale is set. So we set width/height as 2. See #4150.\n    var symbolPath = createSymbol(symbolType, -1, -1, 2, 2, null, keepAspect);\n    symbolPath.attr({\n      z2: retrieve2(z2, 100),\n      culling: true,\n      scaleX: symbolSize[0] / 2,\n      scaleY: symbolSize[1] / 2\n    });\n    // Rewrite drift method\n    symbolPath.drift = driftSymbol;\n    this._symbolType = symbolType;\n    this.add(symbolPath);\n  };\n  /**\n   * Stop animation\n   * @param {boolean} toLastFrame\n   */\n  Symbol.prototype.stopSymbolAnimation = function (toLastFrame) {\n    this.childAt(0).stopAnimation(null, toLastFrame);\n  };\n  Symbol.prototype.getSymbolType = function () {\n    return this._symbolType;\n  };\n  /**\n   * FIXME:\n   * Caution: This method breaks the encapsulation of this module,\n   * but it indeed brings convenience. So do not use the method\n   * unless you detailedly know all the implements of `Symbol`,\n   * especially animation.\n   *\n   * Get symbol path element.\n   */\n  Symbol.prototype.getSymbolPath = function () {\n    return this.childAt(0);\n  };\n  /**\n   * Highlight symbol\n   */\n  Symbol.prototype.highlight = function () {\n    enterEmphasis(this.childAt(0));\n  };\n  /**\n   * Downplay symbol\n   */\n  Symbol.prototype.downplay = function () {\n    leaveEmphasis(this.childAt(0));\n  };\n  /**\n   * @param {number} zlevel\n   * @param {number} z\n   */\n  Symbol.prototype.setZ = function (zlevel, z) {\n    var symbolPath = this.childAt(0);\n    symbolPath.zlevel = zlevel;\n    symbolPath.z = z;\n  };\n  Symbol.prototype.setDraggable = function (draggable, hasCursorOption) {\n    var symbolPath = this.childAt(0);\n    symbolPath.draggable = draggable;\n    symbolPath.cursor = !hasCursorOption && draggable ? 'move' : symbolPath.cursor;\n  };\n  /**\n   * Update symbol properties\n   */\n  Symbol.prototype.updateData = function (data, idx, seriesScope, opts) {\n    this.silent = false;\n    var symbolType = data.getItemVisual(idx, 'symbol') || 'circle';\n    var seriesModel = data.hostModel;\n    var symbolSize = Symbol.getSymbolSize(data, idx);\n    var z2 = Symbol.getSymbolZ2(data, idx);\n    var isInit = symbolType !== this._symbolType;\n    var disableAnimation = opts && opts.disableAnimation;\n    if (isInit) {\n      var keepAspect = data.getItemVisual(idx, 'symbolKeepAspect');\n      this._createSymbol(symbolType, data, idx, symbolSize, z2, keepAspect);\n    } else {\n      var symbolPath = this.childAt(0);\n      symbolPath.silent = false;\n      var target = {\n        scaleX: symbolSize[0] / 2,\n        scaleY: symbolSize[1] / 2\n      };\n      disableAnimation ? symbolPath.attr(target) : graphic.updateProps(symbolPath, target, seriesModel, idx);\n      saveOldStyle(symbolPath);\n    }\n    this._updateCommon(data, idx, symbolSize, seriesScope, opts);\n    if (isInit) {\n      var symbolPath = this.childAt(0);\n      if (!disableAnimation) {\n        var target = {\n          scaleX: this._sizeX,\n          scaleY: this._sizeY,\n          style: {\n            // Always fadeIn. Because it has fadeOut animation when symbol is removed..\n            opacity: symbolPath.style.opacity\n          }\n        };\n        symbolPath.scaleX = symbolPath.scaleY = 0;\n        symbolPath.style.opacity = 0;\n        graphic.initProps(symbolPath, target, seriesModel, idx);\n      }\n    }\n    if (disableAnimation) {\n      // Must stop leave transition manually if don't call initProps or updateProps.\n      this.childAt(0).stopAnimation('leave');\n    }\n  };\n  Symbol.prototype._updateCommon = function (data, idx, symbolSize, seriesScope, opts) {\n    var symbolPath = this.childAt(0);\n    var seriesModel = data.hostModel;\n    var emphasisItemStyle;\n    var blurItemStyle;\n    var selectItemStyle;\n    var focus;\n    var blurScope;\n    var emphasisDisabled;\n    var labelStatesModels;\n    var hoverScale;\n    var cursorStyle;\n    if (seriesScope) {\n      emphasisItemStyle = seriesScope.emphasisItemStyle;\n      blurItemStyle = seriesScope.blurItemStyle;\n      selectItemStyle = seriesScope.selectItemStyle;\n      focus = seriesScope.focus;\n      blurScope = seriesScope.blurScope;\n      labelStatesModels = seriesScope.labelStatesModels;\n      hoverScale = seriesScope.hoverScale;\n      cursorStyle = seriesScope.cursorStyle;\n      emphasisDisabled = seriesScope.emphasisDisabled;\n    }\n    if (!seriesScope || data.hasItemOption) {\n      var itemModel = seriesScope && seriesScope.itemModel ? seriesScope.itemModel : data.getItemModel(idx);\n      var emphasisModel = itemModel.getModel('emphasis');\n      emphasisItemStyle = emphasisModel.getModel('itemStyle').getItemStyle();\n      selectItemStyle = itemModel.getModel(['select', 'itemStyle']).getItemStyle();\n      blurItemStyle = itemModel.getModel(['blur', 'itemStyle']).getItemStyle();\n      focus = emphasisModel.get('focus');\n      blurScope = emphasisModel.get('blurScope');\n      emphasisDisabled = emphasisModel.get('disabled');\n      labelStatesModels = getLabelStatesModels(itemModel);\n      hoverScale = emphasisModel.getShallow('scale');\n      cursorStyle = itemModel.getShallow('cursor');\n    }\n    var symbolRotate = data.getItemVisual(idx, 'symbolRotate');\n    symbolPath.attr('rotation', (symbolRotate || 0) * Math.PI / 180 || 0);\n    var symbolOffset = normalizeSymbolOffset(data.getItemVisual(idx, 'symbolOffset'), symbolSize);\n    if (symbolOffset) {\n      symbolPath.x = symbolOffset[0];\n      symbolPath.y = symbolOffset[1];\n    }\n    cursorStyle && symbolPath.attr('cursor', cursorStyle);\n    var symbolStyle = data.getItemVisual(idx, 'style');\n    var visualColor = symbolStyle.fill;\n    if (symbolPath instanceof ZRImage) {\n      var pathStyle = symbolPath.style;\n      symbolPath.useStyle(extend({\n        // TODO other properties like x, y ?\n        image: pathStyle.image,\n        x: pathStyle.x,\n        y: pathStyle.y,\n        width: pathStyle.width,\n        height: pathStyle.height\n      }, symbolStyle));\n    } else {\n      if (symbolPath.__isEmptyBrush) {\n        // fill and stroke will be swapped if it's empty.\n        // So we cloned a new style to avoid it affecting the original style in visual storage.\n        // TODO Better implementation. No empty logic!\n        symbolPath.useStyle(extend({}, symbolStyle));\n      } else {\n        symbolPath.useStyle(symbolStyle);\n      }\n      // Disable decal because symbol scale will been applied on the decal.\n      symbolPath.style.decal = null;\n      symbolPath.setColor(visualColor, opts && opts.symbolInnerColor);\n      symbolPath.style.strokeNoScale = true;\n    }\n    var liftZ = data.getItemVisual(idx, 'liftZ');\n    var z2Origin = this._z2;\n    if (liftZ != null) {\n      if (z2Origin == null) {\n        this._z2 = symbolPath.z2;\n        symbolPath.z2 += liftZ;\n      }\n    } else if (z2Origin != null) {\n      symbolPath.z2 = z2Origin;\n      this._z2 = null;\n    }\n    var useNameLabel = opts && opts.useNameLabel;\n    setLabelStyle(symbolPath, labelStatesModels, {\n      labelFetcher: seriesModel,\n      labelDataIndex: idx,\n      defaultText: getLabelDefaultText,\n      inheritColor: visualColor,\n      defaultOpacity: symbolStyle.opacity\n    });\n    // Do not execute util needed.\n    function getLabelDefaultText(idx) {\n      return useNameLabel ? data.getName(idx) : getDefaultLabel(data, idx);\n    }\n    this._sizeX = symbolSize[0] / 2;\n    this._sizeY = symbolSize[1] / 2;\n    var emphasisState = symbolPath.ensureState('emphasis');\n    emphasisState.style = emphasisItemStyle;\n    symbolPath.ensureState('select').style = selectItemStyle;\n    symbolPath.ensureState('blur').style = blurItemStyle;\n    // null / undefined / true means to use default strategy.\n    // 0 / false / negative number / NaN / Infinity means no scale.\n    var scaleRatio = hoverScale == null || hoverScale === true ? Math.max(1.1, 3 / this._sizeY)\n    // PENDING: restrict hoverScale > 1? It seems unreasonable to scale down\n    : isFinite(hoverScale) && hoverScale > 0 ? +hoverScale : 1;\n    // always set scale to allow resetting\n    emphasisState.scaleX = this._sizeX * scaleRatio;\n    emphasisState.scaleY = this._sizeY * scaleRatio;\n    this.setSymbolScale(1);\n    toggleHoverEmphasis(this, focus, blurScope, emphasisDisabled);\n  };\n  Symbol.prototype.setSymbolScale = function (scale) {\n    this.scaleX = this.scaleY = scale;\n  };\n  Symbol.prototype.fadeOut = function (cb, seriesModel, opt) {\n    var symbolPath = this.childAt(0);\n    var dataIndex = getECData(this).dataIndex;\n    var animationOpt = opt && opt.animation;\n    // Avoid mistaken hover when fading out\n    this.silent = symbolPath.silent = true;\n    // Not show text when animating\n    if (opt && opt.fadeLabel) {\n      var textContent = symbolPath.getTextContent();\n      if (textContent) {\n        graphic.removeElement(textContent, {\n          style: {\n            opacity: 0\n          }\n        }, seriesModel, {\n          dataIndex: dataIndex,\n          removeOpt: animationOpt,\n          cb: function () {\n            symbolPath.removeTextContent();\n          }\n        });\n      }\n    } else {\n      symbolPath.removeTextContent();\n    }\n    graphic.removeElement(symbolPath, {\n      style: {\n        opacity: 0\n      },\n      scaleX: 0,\n      scaleY: 0\n    }, seriesModel, {\n      dataIndex: dataIndex,\n      cb: cb,\n      removeOpt: animationOpt\n    });\n  };\n  Symbol.getSymbolSize = function (data, idx) {\n    return normalizeSymbolSize(data.getItemVisual(idx, 'symbolSize'));\n  };\n  Symbol.getSymbolZ2 = function (data, idx) {\n    return data.getItemVisual(idx, 'z2');\n  };\n  return Symbol;\n}(graphic.Group);\nfunction driftSymbol(dx, dy) {\n  this.parent.drift(dx, dy);\n}\nexport default Symbol;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as graphic from '../../util/graphic.js';\nimport SymbolClz from './Symbol.js';\nimport { isObject } from 'zrender/lib/core/util.js';\nimport { getLabelStatesModels } from '../../label/labelStyle.js';\nfunction symbolNeedsDraw(data, point, idx, opt) {\n  return point && !isNaN(point[0]) && !isNaN(point[1]) && !(opt.isIgnore && opt.isIgnore(idx))\n  // We do not set clipShape on group, because it will cut part of\n  // the symbol element shape. We use the same clip shape here as\n  // the line clip.\n  && !(opt.clipShape && !opt.clipShape.contain(point[0], point[1])) && data.getItemVisual(idx, 'symbol') !== 'none';\n}\nfunction normalizeUpdateOpt(opt) {\n  if (opt != null && !isObject(opt)) {\n    opt = {\n      isIgnore: opt\n    };\n  }\n  return opt || {};\n}\nfunction makeSeriesScope(data) {\n  var seriesModel = data.hostModel;\n  var emphasisModel = seriesModel.getModel('emphasis');\n  return {\n    emphasisItemStyle: emphasisModel.getModel('itemStyle').getItemStyle(),\n    blurItemStyle: seriesModel.getModel(['blur', 'itemStyle']).getItemStyle(),\n    selectItemStyle: seriesModel.getModel(['select', 'itemStyle']).getItemStyle(),\n    focus: emphasisModel.get('focus'),\n    blurScope: emphasisModel.get('blurScope'),\n    emphasisDisabled: emphasisModel.get('disabled'),\n    hoverScale: emphasisModel.get('scale'),\n    labelStatesModels: getLabelStatesModels(seriesModel),\n    cursorStyle: seriesModel.get('cursor')\n  };\n}\nvar SymbolDraw = /** @class */function () {\n  function SymbolDraw(SymbolCtor) {\n    this.group = new graphic.Group();\n    this._SymbolCtor = SymbolCtor || SymbolClz;\n  }\n  /**\n   * Update symbols draw by new data\n   */\n  SymbolDraw.prototype.updateData = function (data, opt) {\n    // Remove progressive els.\n    this._progressiveEls = null;\n    opt = normalizeUpdateOpt(opt);\n    var group = this.group;\n    var seriesModel = data.hostModel;\n    var oldData = this._data;\n    var SymbolCtor = this._SymbolCtor;\n    var disableAnimation = opt.disableAnimation;\n    var seriesScope = makeSeriesScope(data);\n    var symbolUpdateOpt = {\n      disableAnimation: disableAnimation\n    };\n    var getSymbolPoint = opt.getSymbolPoint || function (idx) {\n      return data.getItemLayout(idx);\n    };\n    // There is no oldLineData only when first rendering or switching from\n    // stream mode to normal mode, where previous elements should be removed.\n    if (!oldData) {\n      group.removeAll();\n    }\n    data.diff(oldData).add(function (newIdx) {\n      var point = getSymbolPoint(newIdx);\n      if (symbolNeedsDraw(data, point, newIdx, opt)) {\n        var symbolEl = new SymbolCtor(data, newIdx, seriesScope, symbolUpdateOpt);\n        symbolEl.setPosition(point);\n        data.setItemGraphicEl(newIdx, symbolEl);\n        group.add(symbolEl);\n      }\n    }).update(function (newIdx, oldIdx) {\n      var symbolEl = oldData.getItemGraphicEl(oldIdx);\n      var point = getSymbolPoint(newIdx);\n      if (!symbolNeedsDraw(data, point, newIdx, opt)) {\n        group.remove(symbolEl);\n        return;\n      }\n      var newSymbolType = data.getItemVisual(newIdx, 'symbol') || 'circle';\n      var oldSymbolType = symbolEl && symbolEl.getSymbolType && symbolEl.getSymbolType();\n      if (!symbolEl\n      // Create a new if symbol type changed.\n      || oldSymbolType && oldSymbolType !== newSymbolType) {\n        group.remove(symbolEl);\n        symbolEl = new SymbolCtor(data, newIdx, seriesScope, symbolUpdateOpt);\n        symbolEl.setPosition(point);\n      } else {\n        symbolEl.updateData(data, newIdx, seriesScope, symbolUpdateOpt);\n        var target = {\n          x: point[0],\n          y: point[1]\n        };\n        disableAnimation ? symbolEl.attr(target) : graphic.updateProps(symbolEl, target, seriesModel);\n      }\n      // Add back\n      group.add(symbolEl);\n      data.setItemGraphicEl(newIdx, symbolEl);\n    }).remove(function (oldIdx) {\n      var el = oldData.getItemGraphicEl(oldIdx);\n      el && el.fadeOut(function () {\n        group.remove(el);\n      }, seriesModel);\n    }).execute();\n    this._getSymbolPoint = getSymbolPoint;\n    this._data = data;\n  };\n  ;\n  SymbolDraw.prototype.updateLayout = function () {\n    var _this = this;\n    var data = this._data;\n    if (data) {\n      // Not use animation\n      data.eachItemGraphicEl(function (el, idx) {\n        var point = _this._getSymbolPoint(idx);\n        el.setPosition(point);\n        el.markRedraw();\n      });\n    }\n  };\n  ;\n  SymbolDraw.prototype.incrementalPrepareUpdate = function (data) {\n    this._seriesScope = makeSeriesScope(data);\n    this._data = null;\n    this.group.removeAll();\n  };\n  ;\n  /**\n   * Update symbols draw by new data\n   */\n  SymbolDraw.prototype.incrementalUpdate = function (taskParams, data, opt) {\n    // Clear\n    this._progressiveEls = [];\n    opt = normalizeUpdateOpt(opt);\n    function updateIncrementalAndHover(el) {\n      if (!el.isGroup) {\n        el.incremental = true;\n        el.ensureState('emphasis').hoverLayer = true;\n      }\n    }\n    for (var idx = taskParams.start; idx < taskParams.end; idx++) {\n      var point = data.getItemLayout(idx);\n      if (symbolNeedsDraw(data, point, idx, opt)) {\n        var el = new this._SymbolCtor(data, idx, this._seriesScope);\n        el.traverse(updateIncrementalAndHover);\n        el.setPosition(point);\n        this.group.add(el);\n        data.setItemGraphicEl(idx, el);\n        this._progressiveEls.push(el);\n      }\n    }\n  };\n  ;\n  SymbolDraw.prototype.eachRendered = function (cb) {\n    graphic.traverseElements(this._progressiveEls || this.group, cb);\n  };\n  SymbolDraw.prototype.remove = function (enableAnimation) {\n    var group = this.group;\n    var data = this._data;\n    // Incremental model do not have this._data.\n    if (data && enableAnimation) {\n      data.eachItemGraphicEl(function (el) {\n        el.fadeOut(function () {\n          group.remove(el);\n        }, data.hostModel);\n      });\n    } else {\n      group.removeAll();\n    }\n  };\n  ;\n  return SymbolDraw;\n}();\nexport default SymbolDraw;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n/**\n * LegendVisualProvider is an bridge that pick encoded color from data and\n * provide to the legend component.\n */\nvar LegendVisualProvider = /** @class */function () {\n  function LegendVisualProvider(\n  // Function to get data after filtered. It stores all the encoding info\n  getDataWithEncodedVisual,\n  // Function to get raw data before filtered.\n  getRawData) {\n    this._getDataWithEncodedVisual = getDataWithEncodedVisual;\n    this._getRawData = getRawData;\n  }\n  LegendVisualProvider.prototype.getAllNames = function () {\n    var rawData = this._getRawData();\n    // We find the name from the raw data. In case it's filtered by the legend component.\n    // Normally, the name can be found in rawData, but can't be found in filtered data will display as gray.\n    return rawData.mapArray(rawData.getName);\n  };\n  LegendVisualProvider.prototype.containName = function (name) {\n    var rawData = this._getRawData();\n    return rawData.indexOfName(name) >= 0;\n  };\n  LegendVisualProvider.prototype.indexOfName = function (name) {\n    // Only get data when necessary.\n    // Because LegendVisualProvider constructor may be new in the stage that data is not prepared yet.\n    // Invoking Series#getData immediately will throw an error.\n    var dataWithEncodedVisual = this._getDataWithEncodedVisual();\n    return dataWithEncodedVisual.indexOfName(name);\n  };\n  LegendVisualProvider.prototype.getItemVisual = function (dataIndex, key) {\n    // Get encoded visual properties from final filtered data.\n    var dataWithEncodedVisual = this._getDataWithEncodedVisual();\n    return dataWithEncodedVisual.getItemVisual(dataIndex, key);\n  };\n  return LegendVisualProvider;\n}();\nexport default LegendVisualProvider;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport ComponentModel from '../../model/Component.js';\nimport { getLayoutParams, mergeLayoutParam } from '../../util/layout.js';\nimport tokens from '../../visual/tokens.js';\n// For backward compatibility, do not use a margin. Although the labels might touch the edge of\n// the canvas, the chart canvas probably does not have an border or a different background color within a page.\nexport var OUTER_BOUNDS_DEFAULT = {\n  left: 0,\n  right: 0,\n  top: 0,\n  bottom: 0\n};\nexport var OUTER_BOUNDS_CLAMP_DEFAULT = ['25%', '25%'];\nvar GridModel = /** @class */function (_super) {\n  __extends(GridModel, _super);\n  function GridModel() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  GridModel.prototype.mergeDefaultAndTheme = function (option, ecModel) {\n    var outerBoundsCp = getLayoutParams(option.outerBounds);\n    _super.prototype.mergeDefaultAndTheme.apply(this, arguments);\n    if (outerBoundsCp && option.outerBounds) {\n      mergeLayoutParam(option.outerBounds, outerBoundsCp);\n    }\n  };\n  GridModel.prototype.mergeOption = function (newOption, ecModel) {\n    _super.prototype.mergeOption.apply(this, arguments);\n    if (this.option.outerBounds && newOption.outerBounds) {\n      mergeLayoutParam(this.option.outerBounds, newOption.outerBounds);\n    }\n  };\n  GridModel.type = 'grid';\n  GridModel.dependencies = ['xAxis', 'yAxis'];\n  GridModel.layoutMode = 'box';\n  GridModel.defaultOption = {\n    show: false,\n    // zlevel: 0,\n    z: 0,\n    left: '15%',\n    top: 65,\n    right: '10%',\n    bottom: 80,\n    // If grid size contain label\n    containLabel: false,\n    outerBoundsMode: 'auto',\n    outerBounds: OUTER_BOUNDS_DEFAULT,\n    outerBoundsContain: 'all',\n    outerBoundsClampWidth: OUTER_BOUNDS_CLAMP_DEFAULT[0],\n    outerBoundsClampHeight: OUTER_BOUNDS_CLAMP_DEFAULT[1],\n    // width: {totalWidth} - left - right,\n    // height: {totalHeight} - top - bottom,\n    backgroundColor: tokens.color.transparent,\n    borderWidth: 1,\n    borderColor: tokens.color.neutral30\n  };\n  return GridModel;\n}(ComponentModel);\nexport default GridModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport ComponentModel from '../../model/Component.js';\nimport { AxisModelCommonMixin } from '../axisModelCommonMixin.js';\nimport { SINGLE_REFERRING } from '../../util/model.js';\nvar CartesianAxisModel = /** @class */function (_super) {\n  __extends(CartesianAxisModel, _super);\n  function CartesianAxisModel() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  CartesianAxisModel.prototype.getCoordSysModel = function () {\n    return this.getReferringComponents('grid', SINGLE_REFERRING).models[0];\n  };\n  CartesianAxisModel.type = 'cartesian2dAxis';\n  return CartesianAxisModel;\n}(ComponentModel);\nexport { CartesianAxisModel };\nzrUtil.mixin(CartesianAxisModel, AxisModelCommonMixin);\nexport default CartesianAxisModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport tokens from '../visual/tokens.js';\nvar defaultOption = {\n  show: true,\n  // zlevel: 0,\n  z: 0,\n  // Inverse the axis.\n  inverse: false,\n  // Axis name displayed.\n  name: '',\n  // 'start' | 'middle' | 'end'\n  nameLocation: 'end',\n  // By degree. By default auto rotate by nameLocation.\n  nameRotate: null,\n  nameTruncate: {\n    maxWidth: null,\n    ellipsis: '...',\n    placeholder: '.'\n  },\n  // Use global text style by default.\n  nameTextStyle: {\n    // textMargin: never, // The default value will be specified based on `nameLocation`.\n  },\n  // The gap between axisName and axisLine.\n  nameGap: 15,\n  // Default `false` to support tooltip.\n  silent: false,\n  // Default `false` to avoid legacy user event listener fail.\n  triggerEvent: false,\n  tooltip: {\n    show: false\n  },\n  axisPointer: {},\n  axisLine: {\n    show: true,\n    onZero: true,\n    onZeroAxisIndex: null,\n    lineStyle: {\n      color: tokens.color.axisLine,\n      width: 1,\n      type: 'solid'\n    },\n    // The arrow at both ends the the axis.\n    symbol: ['none', 'none'],\n    symbolSize: [10, 15],\n    breakLine: true\n  },\n  axisTick: {\n    show: true,\n    // Whether axisTick is inside the grid or outside the grid.\n    inside: false,\n    // The length of axisTick.\n    length: 5,\n    lineStyle: {\n      width: 1\n    }\n  },\n  axisLabel: {\n    show: true,\n    // Whether axisLabel is inside the grid or outside the grid.\n    inside: false,\n    rotate: 0,\n    // true | false | null/undefined (auto)\n    showMinLabel: null,\n    // true | false | null/undefined (auto)\n    showMaxLabel: null,\n    margin: 8,\n    // formatter: null,\n    fontSize: 12,\n    color: tokens.color.axisLabel,\n    // In scenarios like axis labels, when labels text's progression direction matches the label\n    // layout direction (e.g., when all letters are in a single line), extra start/end margin is\n    // needed to prevent the text from appearing visually joined. In the other case, when lables\n    // are stacked (e.g., having rotation or horizontal labels on yAxis), the layout needs to be\n    // compact, so NO extra top/bottom margin should be applied.\n    textMargin: [0, 3]\n  },\n  splitLine: {\n    show: true,\n    showMinLine: true,\n    showMaxLine: true,\n    lineStyle: {\n      color: tokens.color.axisSplitLine,\n      width: 1,\n      type: 'solid'\n    }\n  },\n  splitArea: {\n    show: false,\n    areaStyle: {\n      color: [tokens.color.backgroundTint, tokens.color.backgroundTransparent]\n    }\n  },\n  breakArea: {\n    show: true,\n    itemStyle: {\n      color: tokens.color.neutral00,\n      // Break border color should be darker than the splitLine\n      // because it has opacity and should be more prominent\n      borderColor: tokens.color.border,\n      borderWidth: 1,\n      borderType: [3, 3],\n      opacity: 0.6\n    },\n    zigzagAmplitude: 4,\n    zigzagMinSpan: 4,\n    zigzagMaxSpan: 20,\n    zigzagZ: 100,\n    expandOnClick: true\n  },\n  breakLabelLayout: {\n    moveOverlap: 'auto'\n  }\n};\nvar categoryAxis = zrUtil.merge({\n  // The gap at both ends of the axis. For categoryAxis, boolean.\n  boundaryGap: true,\n  // Set false to faster category collection.\n  deduplication: null,\n  jitter: 0,\n  jitterOverlap: true,\n  jitterMargin: 2,\n  // splitArea: {\n  // show: false\n  // },\n  splitLine: {\n    show: false\n  },\n  axisTick: {\n    // If tick is align with label when boundaryGap is true\n    alignWithLabel: false,\n    interval: 'auto',\n    show: 'auto'\n  },\n  axisLabel: {\n    interval: 'auto'\n  }\n}, defaultOption);\nvar valueAxis = zrUtil.merge({\n  boundaryGap: [0, 0],\n  axisLine: {\n    // Not shown when other axis is categoryAxis in cartesian\n    show: 'auto'\n  },\n  axisTick: {\n    // Not shown when other axis is categoryAxis in cartesian\n    show: 'auto'\n  },\n  // TODO\n  // min/max: [30, datamin, 60] or [20, datamin] or [datamin, 60]\n  splitNumber: 5,\n  minorTick: {\n    // Minor tick, not available for cateogry axis.\n    show: false,\n    // Split number of minor ticks. The value should be in range of (0, 100)\n    splitNumber: 5,\n    // Length of minor tick\n    length: 3,\n    // Line style\n    lineStyle: {\n      // Default to be same with axisTick\n    }\n  },\n  minorSplitLine: {\n    show: false,\n    lineStyle: {\n      color: tokens.color.axisMinorSplitLine,\n      width: 1\n    }\n  }\n}, defaultOption);\nvar timeAxis = zrUtil.merge({\n  splitNumber: 6,\n  axisLabel: {\n    // To eliminate labels that are not nice\n    showMinLabel: false,\n    showMaxLabel: false,\n    rich: {\n      primary: {\n        fontWeight: 'bold'\n      }\n    }\n  },\n  splitLine: {\n    show: false\n  }\n}, valueAxis);\nvar logAxis = zrUtil.defaults({\n  logBase: 10\n}, valueAxis);\nexport default {\n  category: categoryAxis,\n  value: valueAxis,\n  time: timeAxis,\n  log: logAxis\n};","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nexport var AXIS_TYPES = {\n  value: 1,\n  category: 1,\n  time: 1,\n  log: 1\n};","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _impl = null;\nexport function registerAxisBreakHelperImpl(impl) {\n  if (!_impl) {\n    _impl = impl;\n  }\n}\nexport function getAxisBreakHelper() {\n  return _impl;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport axisDefault from './axisDefault.js';\nimport { getLayoutParams, mergeLayoutParam, fetchLayoutMode } from '../util/layout.js';\nimport OrdinalMeta from '../data/OrdinalMeta.js';\nimport { AXIS_TYPES } from './axisCommonTypes.js';\nimport { each, merge } from 'zrender/lib/core/util.js';\nimport { getAxisBreakHelper } from '../component/axis/axisBreakHelper.js';\n/**\n * Generate sub axis model class\n * @param axisName 'x' 'y' 'radius' 'angle' 'parallel' ...\n */\nexport default function axisModelCreator(registers, axisName, BaseAxisModelClass, extraDefaultOption) {\n  each(AXIS_TYPES, function (v, axisType) {\n    var defaultOption = merge(merge({}, axisDefault[axisType], true), extraDefaultOption, true);\n    var AxisModel = /** @class */function (_super) {\n      __extends(AxisModel, _super);\n      function AxisModel() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = axisName + 'Axis.' + axisType;\n        return _this;\n      }\n      AxisModel.prototype.mergeDefaultAndTheme = function (option, ecModel) {\n        var layoutMode = fetchLayoutMode(this);\n        var inputPositionParams = layoutMode ? getLayoutParams(option) : {};\n        var themeModel = ecModel.getTheme();\n        merge(option, themeModel.get(axisType + 'Axis'));\n        merge(option, this.getDefaultOption());\n        option.type = getAxisType(option);\n        if (layoutMode) {\n          mergeLayoutParam(option, inputPositionParams, layoutMode);\n        }\n      };\n      AxisModel.prototype.optionUpdated = function () {\n        var thisOption = this.option;\n        if (thisOption.type === 'category') {\n          this.__ordinalMeta = OrdinalMeta.createByAxisModel(this);\n        }\n      };\n      /**\n       * Should not be called before all of 'getInitailData' finished.\n       * Because categories are collected during initializing data.\n       */\n      AxisModel.prototype.getCategories = function (rawData) {\n        var option = this.option;\n        // FIXME\n        // warning if called before all of 'getInitailData' finished.\n        if (option.type === 'category') {\n          if (rawData) {\n            return option.data;\n          }\n          return this.__ordinalMeta.categories;\n        }\n      };\n      AxisModel.prototype.getOrdinalMeta = function () {\n        return this.__ordinalMeta;\n      };\n      AxisModel.prototype.updateAxisBreaks = function (payload) {\n        var axisBreakHelper = getAxisBreakHelper();\n        return axisBreakHelper ? axisBreakHelper.updateModelAxisBreak(this, payload) : {\n          breaks: []\n        };\n      };\n      AxisModel.type = axisName + 'Axis.' + axisType;\n      AxisModel.defaultOption = defaultOption;\n      return AxisModel;\n    }(BaseAxisModelClass);\n    registers.registerComponentModel(AxisModel);\n  });\n  registers.registerSubTypeDefaulter(axisName + 'Axis', getAxisType);\n}\nfunction getAxisType(option) {\n  // Default axis with data is category axis\n  return option.type || (option.data ? 'category' : 'value');\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nvar Cartesian = /** @class */function () {\n  function Cartesian(name) {\n    this.type = 'cartesian';\n    this._dimList = [];\n    this._axes = {};\n    this.name = name || '';\n  }\n  Cartesian.prototype.getAxis = function (dim) {\n    return this._axes[dim];\n  };\n  Cartesian.prototype.getAxes = function () {\n    return zrUtil.map(this._dimList, function (dim) {\n      return this._axes[dim];\n    }, this);\n  };\n  Cartesian.prototype.getAxesByScale = function (scaleType) {\n    scaleType = scaleType.toLowerCase();\n    return zrUtil.filter(this.getAxes(), function (axis) {\n      return axis.scale.type === scaleType;\n    });\n  };\n  Cartesian.prototype.addAxis = function (axis) {\n    var dim = axis.dim;\n    this._axes[dim] = axis;\n    this._dimList.push(dim);\n  };\n  return Cartesian;\n}();\n;\nexport default Cartesian;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\nimport Cartesian from './Cartesian.js';\nimport { invert } from 'zrender/lib/core/matrix.js';\nimport { applyTransform } from 'zrender/lib/core/vector.js';\nexport var cartesian2DDimensions = ['x', 'y'];\nfunction canCalculateAffineTransform(scale) {\n  return (scale.type === 'interval' || scale.type === 'time') && !scale.hasBreaks();\n}\nvar Cartesian2D = /** @class */function (_super) {\n  __extends(Cartesian2D, _super);\n  function Cartesian2D() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = 'cartesian2d';\n    _this.dimensions = cartesian2DDimensions;\n    return _this;\n  }\n  /**\n   * Calculate an affine transform matrix if two axes are time or value.\n   * It's mainly for accelartion on the large time series data.\n   */\n  Cartesian2D.prototype.calcAffineTransform = function () {\n    this._transform = this._invTransform = null;\n    var xAxisScale = this.getAxis('x').scale;\n    var yAxisScale = this.getAxis('y').scale;\n    if (!canCalculateAffineTransform(xAxisScale) || !canCalculateAffineTransform(yAxisScale)) {\n      return;\n    }\n    var xScaleExtent = xAxisScale.getExtent();\n    var yScaleExtent = yAxisScale.getExtent();\n    var start = this.dataToPoint([xScaleExtent[0], yScaleExtent[0]]);\n    var end = this.dataToPoint([xScaleExtent[1], yScaleExtent[1]]);\n    var xScaleSpan = xScaleExtent[1] - xScaleExtent[0];\n    var yScaleSpan = yScaleExtent[1] - yScaleExtent[0];\n    if (!xScaleSpan || !yScaleSpan) {\n      return;\n    }\n    // Accelerate data to point calculation on the special large time series data.\n    var scaleX = (end[0] - start[0]) / xScaleSpan;\n    var scaleY = (end[1] - start[1]) / yScaleSpan;\n    var translateX = start[0] - xScaleExtent[0] * scaleX;\n    var translateY = start[1] - yScaleExtent[0] * scaleY;\n    var m = this._transform = [scaleX, 0, 0, scaleY, translateX, translateY];\n    this._invTransform = invert([], m);\n  };\n  /**\n   * Base axis will be used on stacking.\n   */\n  Cartesian2D.prototype.getBaseAxis = function () {\n    return this.getAxesByScale('ordinal')[0] || this.getAxesByScale('time')[0] || this.getAxis('x');\n  };\n  Cartesian2D.prototype.containPoint = function (point) {\n    var axisX = this.getAxis('x');\n    var axisY = this.getAxis('y');\n    return axisX.contain(axisX.toLocalCoord(point[0])) && axisY.contain(axisY.toLocalCoord(point[1]));\n  };\n  Cartesian2D.prototype.containData = function (data) {\n    return this.getAxis('x').containData(data[0]) && this.getAxis('y').containData(data[1]);\n  };\n  Cartesian2D.prototype.containZone = function (data1, data2) {\n    var zoneDiag1 = this.dataToPoint(data1);\n    var zoneDiag2 = this.dataToPoint(data2);\n    var area = this.getArea();\n    var zone = new BoundingRect(zoneDiag1[0], zoneDiag1[1], zoneDiag2[0] - zoneDiag1[0], zoneDiag2[1] - zoneDiag1[1]);\n    return area.intersect(zone);\n  };\n  Cartesian2D.prototype.dataToPoint = function (data, clamp, out) {\n    out = out || [];\n    var xVal = data[0];\n    var yVal = data[1];\n    // [CAVEAT]: Do not add time consuming operation within and before fast path.\n    // Fast path.\n    if (this._transform\n    // It's supported that if data is like `[Inifity, 123]`, where only Y pixel calculated.\n    && xVal != null && isFinite(xVal) && yVal != null && isFinite(yVal)) {\n      return applyTransform(out, data, this._transform);\n    }\n    var xAxis = this.getAxis('x');\n    var yAxis = this.getAxis('y');\n    out[0] = xAxis.toGlobalCoord(xAxis.dataToCoord(xVal, clamp));\n    out[1] = yAxis.toGlobalCoord(yAxis.dataToCoord(yVal, clamp));\n    return out;\n  };\n  Cartesian2D.prototype.clampData = function (data, out) {\n    var xScale = this.getAxis('x').scale;\n    var yScale = this.getAxis('y').scale;\n    var xAxisExtent = xScale.getExtent();\n    var yAxisExtent = yScale.getExtent();\n    var x = xScale.parse(data[0]);\n    var y = yScale.parse(data[1]);\n    out = out || [];\n    out[0] = Math.min(Math.max(Math.min(xAxisExtent[0], xAxisExtent[1]), x), Math.max(xAxisExtent[0], xAxisExtent[1]));\n    out[1] = Math.min(Math.max(Math.min(yAxisExtent[0], yAxisExtent[1]), y), Math.max(yAxisExtent[0], yAxisExtent[1]));\n    return out;\n  };\n  Cartesian2D.prototype.pointToData = function (point, clamp, out) {\n    out = out || [];\n    if (this._invTransform) {\n      return applyTransform(out, point, this._invTransform);\n    }\n    var xAxis = this.getAxis('x');\n    var yAxis = this.getAxis('y');\n    out[0] = xAxis.coordToData(xAxis.toLocalCoord(point[0]), clamp);\n    out[1] = yAxis.coordToData(yAxis.toLocalCoord(point[1]), clamp);\n    return out;\n  };\n  Cartesian2D.prototype.getOtherAxis = function (axis) {\n    return this.getAxis(axis.dim === 'x' ? 'y' : 'x');\n  };\n  /**\n   * Get rect area of cartesian.\n   * Area will have a contain function to determine if a point is in the coordinate system.\n   */\n  Cartesian2D.prototype.getArea = function (tolerance) {\n    tolerance = tolerance || 0;\n    var xExtent = this.getAxis('x').getGlobalExtent();\n    var yExtent = this.getAxis('y').getGlobalExtent();\n    var x = Math.min(xExtent[0], xExtent[1]) - tolerance;\n    var y = Math.min(yExtent[0], yExtent[1]) - tolerance;\n    var width = Math.max(xExtent[0], xExtent[1]) - x + tolerance;\n    var height = Math.max(yExtent[0], yExtent[1]) - y + tolerance;\n    return new BoundingRect(x, y, width, height);\n  };\n  return Cartesian2D;\n}(Cartesian);\n;\nexport default Cartesian2D;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport Axis from '../Axis.js';\nvar Axis2D = /** @class */function (_super) {\n  __extends(Axis2D, _super);\n  function Axis2D(dim, scale, coordExtent, axisType, position) {\n    var _this = _super.call(this, dim, scale, coordExtent) || this;\n    /**\n     * Index of axis, can be used as key\n     * Injected outside.\n     */\n    _this.index = 0;\n    _this.type = axisType || 'value';\n    _this.position = position || 'bottom';\n    return _this;\n  }\n  Axis2D.prototype.isHorizontal = function () {\n    var position = this.position;\n    return position === 'top' || position === 'bottom';\n  };\n  /**\n   * Each item cooresponds to this.getExtent(), which\n   * means globalExtent[0] may greater than globalExtent[1],\n   * unless `asc` is input.\n   *\n   * @param {boolean} [asc]\n   * @return {Array.<number>}\n   */\n  Axis2D.prototype.getGlobalExtent = function (asc) {\n    var ret = this.getExtent();\n    ret[0] = this.toGlobalCoord(ret[0]);\n    ret[1] = this.toGlobalCoord(ret[1]);\n    asc && ret[0] > ret[1] && ret.reverse();\n    return ret;\n  };\n  Axis2D.prototype.pointToData = function (point, clamp) {\n    return this.coordToData(this.toLocalCoord(point[this.dim === 'x' ? 0 : 1]), clamp);\n  };\n  /**\n   * Set ordinalSortInfo\n   * @param info new OrdinalSortInfo\n   */\n  Axis2D.prototype.setCategorySortInfo = function (info) {\n    if (this.type !== 'category') {\n      return false;\n    }\n    this.model.option.categorySortInfo = info;\n    this.scale.setSortInfo(info);\n  };\n  return Axis2D;\n}(Axis);\nexport default Axis2D;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { parseFinder } from '../../util/model.js';\nimport { defaults, each } from 'zrender/lib/core/util.js';\nexport var AXIS_BREAK_EXPAND_ACTION_TYPE = 'expandAxisBreak';\nexport var AXIS_BREAK_COLLAPSE_ACTION_TYPE = 'collapseAxisBreak';\nexport var AXIS_BREAK_TOGGLE_ACTION_TYPE = 'toggleAxisBreak';\nvar AXIS_BREAK_CHANGED_EVENT_TYPE = 'axisbreakchanged';\nvar expandAxisBreakActionInfo = {\n  type: AXIS_BREAK_EXPAND_ACTION_TYPE,\n  event: AXIS_BREAK_CHANGED_EVENT_TYPE,\n  update: 'update',\n  refineEvent: refineAxisBreakChangeEvent\n};\nvar collapseAxisBreakActionInfo = {\n  type: AXIS_BREAK_COLLAPSE_ACTION_TYPE,\n  event: AXIS_BREAK_CHANGED_EVENT_TYPE,\n  update: 'update',\n  refineEvent: refineAxisBreakChangeEvent\n};\nvar toggleAxisBreakActionInfo = {\n  type: AXIS_BREAK_TOGGLE_ACTION_TYPE,\n  event: AXIS_BREAK_CHANGED_EVENT_TYPE,\n  update: 'update',\n  refineEvent: refineAxisBreakChangeEvent\n};\nfunction refineAxisBreakChangeEvent(actionResultBatch, payload, ecModel, api) {\n  var breaks = [];\n  each(actionResultBatch, function (actionResult) {\n    breaks = breaks.concat(actionResult.eventBreaks);\n  });\n  return {\n    eventContent: {\n      breaks: breaks\n    }\n  };\n}\nexport function registerAction(registers) {\n  registers.registerAction(expandAxisBreakActionInfo, actionHandler);\n  registers.registerAction(collapseAxisBreakActionInfo, actionHandler);\n  registers.registerAction(toggleAxisBreakActionInfo, actionHandler);\n  function actionHandler(payload, ecModel) {\n    var eventBreaks = [];\n    var finderResult = parseFinder(ecModel, payload);\n    function dealUpdate(modelProp, indexProp) {\n      each(finderResult[modelProp], function (axisModel) {\n        var result = axisModel.updateAxisBreaks(payload);\n        each(result.breaks, function (item) {\n          var _a;\n          eventBreaks.push(defaults((_a = {}, _a[indexProp] = axisModel.componentIndex, _a), item));\n        });\n      });\n    }\n    dealUpdate('xAxisModels', 'xAxisIndex');\n    dealUpdate('yAxisModels', 'yAxisIndex');\n    dealUpdate('singleAxisModels', 'singleAxisIndex');\n    return {\n      eventBreaks: eventBreaks\n    };\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { retrieve, defaults, extend, each, isObject, isString, isNumber, isFunction, retrieve2, assert, map, retrieve3, filter } from 'zrender/lib/core/util.js';\nimport * as graphic from '../../util/graphic.js';\nimport { getECData } from '../../util/innerStore.js';\nimport { createTextStyle } from '../../label/labelStyle.js';\nimport Model from '../../model/Model.js';\nimport { isRadianAroundZero, remRadian } from '../../util/number.js';\nimport { createSymbol, normalizeSymbolOffset } from '../../util/symbol.js';\nimport * as matrixUtil from 'zrender/lib/core/matrix.js';\nimport { applyTransform as v2ApplyTransform } from 'zrender/lib/core/vector.js';\nimport { isNameLocationCenter, shouldShowAllLabels } from '../../coord/axisHelper.js';\nimport { hideOverlap, labelIntersect, computeLabelGeometry2, ensureLabelLayoutWithGeometry, labelLayoutApplyTranslation, setLabelLayoutDirty, newLabelLayoutWithGeometry } from '../../label/labelLayoutHelper.js';\nimport { makeInner } from '../../util/model.js';\nimport { getAxisBreakHelper } from './axisBreakHelper.js';\nimport { AXIS_BREAK_EXPAND_ACTION_TYPE } from './axisAction.js';\nimport { getScaleBreakHelper } from '../../scale/break.js';\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\nimport Point from 'zrender/lib/core/Point.js';\nimport { copyTransform } from 'zrender/lib/core/Transformable.js';\nimport { AxisTickLabelComputingKind, createAxisLabelsComputingContext } from '../../coord/axisTickLabelBuilder.js';\nvar PI = Math.PI;\nvar DEFAULT_CENTER_NAME_MARGIN_LEVELS = [[1, 2, 1, 2], [5, 3, 5, 3], [8, 3, 8, 3]];\nvar DEFAULT_ENDS_NAME_MARGIN_LEVELS = [[0, 1, 0, 1], [0, 3, 0, 3], [0, 3, 0, 3]];\nexport var getLabelInner = makeInner();\nvar getTickInner = makeInner();\n/**\n * A context shared by difference axisBuilder instances.\n * For cross-axes overlap resolving.\n *\n * Lifecycle constraint: should not over a pass of ec main process.\n *  If model is changed, the context must be disposed.\n *\n * @see AxisBuilderLocalContext\n */\nvar AxisBuilderSharedContext = /** @class */function () {\n  function AxisBuilderSharedContext(resolveAxisNameOverlap) {\n    /**\n     * [CAUTION] Do not modify this data structure outside this class.\n     */\n    this.recordMap = {};\n    this.resolveAxisNameOverlap = resolveAxisNameOverlap;\n  }\n  AxisBuilderSharedContext.prototype.ensureRecord = function (axisModel) {\n    var dim = axisModel.axis.dim;\n    var idx = axisModel.componentIndex;\n    var recordMap = this.recordMap;\n    var records = recordMap[dim] || (recordMap[dim] = []);\n    return records[idx] || (records[idx] = {\n      ready: {}\n    });\n  };\n  return AxisBuilderSharedContext;\n}();\nexport { AxisBuilderSharedContext };\n;\n/**\n * [CAUTION]\n *  1. The call of this function must be after axisLabel overlap handlings\n *     (such as `hideOverlap`, `fixMinMaxLabelShow`) and after transform calculating.\n *  2. Can be called multiple times and should be idempotent.\n */\nfunction resetOverlapRecordToShared(cfg, shared, axisModel, labelLayoutList) {\n  var axis = axisModel.axis;\n  var record = shared.ensureRecord(axisModel);\n  var labelInfoList = [];\n  var stOccupiedRect;\n  var useStOccupiedRect = hasAxisName(cfg.axisName) && isNameLocationCenter(cfg.nameLocation);\n  each(labelLayoutList, function (layout) {\n    var layoutInfo = ensureLabelLayoutWithGeometry(layout);\n    if (!layoutInfo || layoutInfo.label.ignore) {\n      return;\n    }\n    labelInfoList.push(layoutInfo);\n    var transGroup = record.transGroup;\n    if (useStOccupiedRect) {\n      // Transform to \"standard axis\" for creating stOccupiedRect (the label rects union).\n      transGroup.transform ? matrixUtil.invert(_stTransTmp, transGroup.transform) : matrixUtil.identity(_stTransTmp);\n      if (layoutInfo.transform) {\n        matrixUtil.mul(_stTransTmp, _stTransTmp, layoutInfo.transform);\n      }\n      BoundingRect.copy(_stLabelRectTmp, layoutInfo.localRect);\n      _stLabelRectTmp.applyTransform(_stTransTmp);\n      stOccupiedRect ? stOccupiedRect.union(_stLabelRectTmp) : BoundingRect.copy(stOccupiedRect = new BoundingRect(0, 0, 0, 0), _stLabelRectTmp);\n    }\n  });\n  var sortByDim = Math.abs(record.dirVec.x) > 0.1 ? 'x' : 'y';\n  var sortByValue = record.transGroup[sortByDim];\n  labelInfoList.sort(function (info1, info2) {\n    return Math.abs(info1.label[sortByDim] - sortByValue) - Math.abs(info2.label[sortByDim] - sortByValue);\n  });\n  if (useStOccupiedRect && stOccupiedRect) {\n    var extent = axis.getExtent();\n    var axisLineX = Math.min(extent[0], extent[1]);\n    var axisLineWidth = Math.max(extent[0], extent[1]) - axisLineX;\n    // If `nameLocation` is 'middle', enlarge axis labels boundingRect to axisLine to avoid bad\n    //  case like that axis name is placed in the gap between axis labels and axis line.\n    // If only one label exists, the entire band should be occupied for\n    // visual consistency, so extent it to [0, canvas width].\n    stOccupiedRect.union(new BoundingRect(axisLineX, 0, axisLineWidth, 1));\n  }\n  record.stOccupiedRect = stOccupiedRect;\n  record.labelInfoList = labelInfoList;\n}\nvar _stTransTmp = matrixUtil.create();\nvar _stLabelRectTmp = new BoundingRect(0, 0, 0, 0);\n/**\n * The default resolver does not involve other axes within the same coordinate system.\n */\nexport var resolveAxisNameOverlapDefault = function (cfg, ctx, axisModel, nameLayoutInfo, nameMoveDirVec, thisRecord) {\n  if (isNameLocationCenter(cfg.nameLocation)) {\n    var stOccupiedRect = thisRecord.stOccupiedRect;\n    if (stOccupiedRect) {\n      moveIfOverlap(computeLabelGeometry2({}, stOccupiedRect, thisRecord.transGroup.transform), nameLayoutInfo, nameMoveDirVec);\n    }\n  } else {\n    moveIfOverlapByLinearLabels(thisRecord.labelInfoList, thisRecord.dirVec, nameLayoutInfo, nameMoveDirVec);\n  }\n};\n// [NOTICE] not consider ignore.\nfunction moveIfOverlap(basedLayoutInfo, movableLayoutInfo, moveDirVec) {\n  var mtv = new Point();\n  if (labelIntersect(basedLayoutInfo, movableLayoutInfo, mtv, {\n    direction: Math.atan2(moveDirVec.y, moveDirVec.x),\n    bidirectional: false,\n    touchThreshold: 0.05\n  })) {\n    labelLayoutApplyTranslation(movableLayoutInfo, mtv);\n  }\n}\nexport function moveIfOverlapByLinearLabels(baseLayoutInfoList, baseDirVec, movableLayoutInfo, moveDirVec) {\n  // Detect and move from far to close.\n  var sameDir = Point.dot(moveDirVec, baseDirVec) >= 0;\n  for (var idx = 0, len = baseLayoutInfoList.length; idx < len; idx++) {\n    var labelInfo = baseLayoutInfoList[sameDir ? idx : len - 1 - idx];\n    if (!labelInfo.label.ignore) {\n      moveIfOverlap(labelInfo, movableLayoutInfo, moveDirVec);\n    }\n  }\n}\n/**\n * @caution\n * - Ensure it is called after the data processing stage finished.\n * - It might be called before `CahrtView#render`, sush as called at `CoordinateSystem#update`,\n *  thus ensure the result the same whenever it is called.\n *\n * A builder for a straight-line axis.\n *\n * A final axis is translated and rotated from a \"standard axis\".\n * So opt.position and opt.rotation is required.\n *\n * A \"standard axis\" is the axis [0,0]-->[abs(axisExtent[1]-axisExtent[0]),0]\n * for example: [0,0]-->[50,0]\n */\nvar AxisBuilder = /** @class */function () {\n  /**\n   * [CAUTION]: axisModel.axis.extent/scale must be ready to use.\n   */\n  function AxisBuilder(axisModel, api, opt, shared) {\n    this.group = new graphic.Group();\n    this._axisModel = axisModel;\n    this._api = api;\n    this._local = {};\n    this._shared = shared || new AxisBuilderSharedContext(resolveAxisNameOverlapDefault);\n    this._resetCfgDetermined(opt);\n  }\n  /**\n   * Regarding axis label related configurations, only the change of label.x/y is supported; other\n   * changes are not necessary and not performant. To be specific, only `axis.position`\n   * (and consequently `labelOffset`) and `axis.extent` can be changed, and assume everything in\n   * `axisModel` are not changed.\n   * Axis line related configurations can be changed since this method can only be called\n   * before they are created.\n   */\n  AxisBuilder.prototype.updateCfg = function (opt) {\n    if (process.env.NODE_ENV !== 'production') {\n      var ready = this._shared.ensureRecord(this._axisModel).ready;\n      // After that, changing cfg is not supported; avoid unnecessary complexity.\n      assert(!ready.axisLine && !ready.axisTickLabelDetermine);\n      // Have to be called again if cfg changed.\n      ready.axisName = ready.axisTickLabelEstimate = false;\n    }\n    var raw = this._cfg.raw;\n    raw.position = opt.position;\n    raw.labelOffset = opt.labelOffset;\n    this._resetCfgDetermined(raw);\n  };\n  /**\n   * [CAUTION] For debug usage. Never change it outside!\n   */\n  AxisBuilder.prototype.__getRawCfg = function () {\n    return this._cfg.raw;\n  };\n  AxisBuilder.prototype._resetCfgDetermined = function (raw) {\n    var axisModel = this._axisModel;\n    // FIXME:\n    //  Currently there is no uniformed way to set default values if an option\n    //  is specified null/undefined by user (intentionally or unintentionally),\n    //  e.g. null/undefined is not a illegal value for `nameLocation`.\n    //  Try to use `getDefaultOption` to address it. But radar has no `getDefaultOption`.\n    var axisModelDefaultOption = axisModel.getDefaultOption ? axisModel.getDefaultOption() : {};\n    // Default value\n    var axisName = retrieve2(raw.axisName, axisModel.get('name'));\n    var nameMoveOverlapOption = axisModel.get('nameMoveOverlap');\n    if (nameMoveOverlapOption == null || nameMoveOverlapOption === 'auto') {\n      nameMoveOverlapOption = retrieve2(raw.defaultNameMoveOverlap, true);\n    }\n    var cfg = {\n      raw: raw,\n      position: raw.position,\n      rotation: raw.rotation,\n      nameDirection: retrieve2(raw.nameDirection, 1),\n      tickDirection: retrieve2(raw.tickDirection, 1),\n      labelDirection: retrieve2(raw.labelDirection, 1),\n      labelOffset: retrieve2(raw.labelOffset, 0),\n      silent: retrieve2(raw.silent, true),\n      axisName: axisName,\n      nameLocation: retrieve3(axisModel.get('nameLocation'), axisModelDefaultOption.nameLocation, 'end'),\n      shouldNameMoveOverlap: hasAxisName(axisName) && nameMoveOverlapOption,\n      optionHideOverlap: axisModel.get(['axisLabel', 'hideOverlap']),\n      showMinorTicks: axisModel.get(['minorTick', 'show'])\n    };\n    if (process.env.NODE_ENV !== 'production') {\n      assert(cfg.position != null);\n      assert(cfg.rotation != null);\n    }\n    this._cfg = cfg;\n    // FIXME Not use a separate text group?\n    var transformGroup = new graphic.Group({\n      x: cfg.position[0],\n      y: cfg.position[1],\n      rotation: cfg.rotation\n    });\n    transformGroup.updateTransform();\n    this._transformGroup = transformGroup;\n    var record = this._shared.ensureRecord(axisModel);\n    record.transGroup = this._transformGroup;\n    record.dirVec = new Point(Math.cos(-cfg.rotation), Math.sin(-cfg.rotation));\n  };\n  AxisBuilder.prototype.build = function (axisPartNameMap, extraParams) {\n    var _this = this;\n    if (!axisPartNameMap) {\n      axisPartNameMap = {\n        axisLine: true,\n        axisTickLabelEstimate: false,\n        axisTickLabelDetermine: true,\n        axisName: true\n      };\n    }\n    each(AXIS_BUILDER_AXIS_PART_NAMES, function (partName) {\n      if (axisPartNameMap[partName]) {\n        builders[partName](_this._cfg, _this._local, _this._shared, _this._axisModel, _this.group, _this._transformGroup, _this._api, extraParams || {});\n      }\n    });\n    return this;\n  };\n  /**\n   * Currently only get text align/verticalAlign by rotation.\n   * NO `position` is involved, otherwise it have to be performed for each `updateAxisLabelChangableProps`.\n   */\n  AxisBuilder.innerTextLayout = function (axisRotation, textRotation, direction) {\n    var rotationDiff = remRadian(textRotation - axisRotation);\n    var textAlign;\n    var textVerticalAlign;\n    if (isRadianAroundZero(rotationDiff)) {\n      // Label is parallel with axis line.\n      textVerticalAlign = direction > 0 ? 'top' : 'bottom';\n      textAlign = 'center';\n    } else if (isRadianAroundZero(rotationDiff - PI)) {\n      // Label is inverse parallel with axis line.\n      textVerticalAlign = direction > 0 ? 'bottom' : 'top';\n      textAlign = 'center';\n    } else {\n      textVerticalAlign = 'middle';\n      if (rotationDiff > 0 && rotationDiff < PI) {\n        textAlign = direction > 0 ? 'right' : 'left';\n      } else {\n        textAlign = direction > 0 ? 'left' : 'right';\n      }\n    }\n    return {\n      rotation: rotationDiff,\n      textAlign: textAlign,\n      textVerticalAlign: textVerticalAlign\n    };\n  };\n  AxisBuilder.makeAxisEventDataBase = function (axisModel) {\n    var eventData = {\n      componentType: axisModel.mainType,\n      componentIndex: axisModel.componentIndex\n    };\n    eventData[axisModel.mainType + 'Index'] = axisModel.componentIndex;\n    return eventData;\n  };\n  AxisBuilder.isLabelSilent = function (axisModel) {\n    var tooltipOpt = axisModel.get('tooltip');\n    return axisModel.get('silent')\n    // Consider mouse cursor, add these restrictions.\n    || !(axisModel.get('triggerEvent') || tooltipOpt && tooltipOpt.show);\n  };\n  return AxisBuilder;\n}();\n;\n// Sorted by dependency order.\nvar AXIS_BUILDER_AXIS_PART_NAMES = ['axisLine', 'axisTickLabelEstimate', 'axisTickLabelDetermine', 'axisName'];\nvar builders = {\n  axisLine: function (cfg, local, shared, axisModel, group, transformGroup, api) {\n    if (process.env.NODE_ENV !== 'production') {\n      var ready = shared.ensureRecord(axisModel).ready;\n      assert(!ready.axisLine);\n      ready.axisLine = true;\n    }\n    var shown = axisModel.get(['axisLine', 'show']);\n    if (shown === 'auto') {\n      shown = true;\n      if (cfg.raw.axisLineAutoShow != null) {\n        shown = !!cfg.raw.axisLineAutoShow;\n      }\n    }\n    if (!shown) {\n      return;\n    }\n    var extent = axisModel.axis.getExtent();\n    var matrix = transformGroup.transform;\n    var pt1 = [extent[0], 0];\n    var pt2 = [extent[1], 0];\n    var inverse = pt1[0] > pt2[0];\n    if (matrix) {\n      v2ApplyTransform(pt1, pt1, matrix);\n      v2ApplyTransform(pt2, pt2, matrix);\n    }\n    var lineStyle = extend({\n      lineCap: 'round'\n    }, axisModel.getModel(['axisLine', 'lineStyle']).getLineStyle());\n    var pathBaseProp = {\n      strokeContainThreshold: cfg.raw.strokeContainThreshold || 5,\n      silent: true,\n      z2: 1,\n      style: lineStyle\n    };\n    if (axisModel.get(['axisLine', 'breakLine']) && axisModel.axis.scale.hasBreaks()) {\n      getAxisBreakHelper().buildAxisBreakLine(axisModel, group, transformGroup, pathBaseProp);\n    } else {\n      var line = new graphic.Line(extend({\n        shape: {\n          x1: pt1[0],\n          y1: pt1[1],\n          x2: pt2[0],\n          y2: pt2[1]\n        }\n      }, pathBaseProp));\n      graphic.subPixelOptimizeLine(line.shape, line.style.lineWidth);\n      line.anid = 'line';\n      group.add(line);\n    }\n    var arrows = axisModel.get(['axisLine', 'symbol']);\n    if (arrows != null) {\n      var arrowSize = axisModel.get(['axisLine', 'symbolSize']);\n      if (isString(arrows)) {\n        // Use the same arrow for start and end point\n        arrows = [arrows, arrows];\n      }\n      if (isString(arrowSize) || isNumber(arrowSize)) {\n        // Use the same size for width and height\n        arrowSize = [arrowSize, arrowSize];\n      }\n      var arrowOffset = normalizeSymbolOffset(axisModel.get(['axisLine', 'symbolOffset']) || 0, arrowSize);\n      var symbolWidth_1 = arrowSize[0];\n      var symbolHeight_1 = arrowSize[1];\n      each([{\n        rotate: cfg.rotation + Math.PI / 2,\n        offset: arrowOffset[0],\n        r: 0\n      }, {\n        rotate: cfg.rotation - Math.PI / 2,\n        offset: arrowOffset[1],\n        r: Math.sqrt((pt1[0] - pt2[0]) * (pt1[0] - pt2[0]) + (pt1[1] - pt2[1]) * (pt1[1] - pt2[1]))\n      }], function (point, index) {\n        if (arrows[index] !== 'none' && arrows[index] != null) {\n          var symbol = createSymbol(arrows[index], -symbolWidth_1 / 2, -symbolHeight_1 / 2, symbolWidth_1, symbolHeight_1, lineStyle.stroke, true);\n          // Calculate arrow position with offset\n          var r = point.r + point.offset;\n          var pt = inverse ? pt2 : pt1;\n          symbol.attr({\n            rotation: point.rotate,\n            x: pt[0] + r * Math.cos(cfg.rotation),\n            y: pt[1] - r * Math.sin(cfg.rotation),\n            silent: true,\n            z2: 11\n          });\n          group.add(symbol);\n        }\n      });\n    }\n  },\n  /**\n   * [CAUTION] This method can be called multiple times, following the change due to `resetCfg` called\n   *  in size measurement. Thus this method should be idempotent, and should be performant.\n   */\n  axisTickLabelEstimate: function (cfg, local, shared, axisModel, group, transformGroup, api, extraParams) {\n    if (process.env.NODE_ENV !== 'production') {\n      var ready = shared.ensureRecord(axisModel).ready;\n      assert(!ready.axisTickLabelDetermine);\n      ready.axisTickLabelEstimate = true;\n    }\n    var needCallLayout = dealLastTickLabelResultReusable(local, group, extraParams);\n    if (needCallLayout) {\n      layOutAxisTickLabel(cfg, local, shared, axisModel, group, transformGroup, api, AxisTickLabelComputingKind.estimate);\n    }\n  },\n  /**\n   * Finish axis tick label build.\n   * Can be only called once.\n   */\n  axisTickLabelDetermine: function (cfg, local, shared, axisModel, group, transformGroup, api, extraParams) {\n    if (process.env.NODE_ENV !== 'production') {\n      var ready = shared.ensureRecord(axisModel).ready;\n      ready.axisTickLabelDetermine = true;\n    }\n    var needCallLayout = dealLastTickLabelResultReusable(local, group, extraParams);\n    if (needCallLayout) {\n      layOutAxisTickLabel(cfg, local, shared, axisModel, group, transformGroup, api, AxisTickLabelComputingKind.determine);\n    }\n    var ticksEls = buildAxisMajorTicks(cfg, group, transformGroup, axisModel);\n    syncLabelIgnoreToMajorTicks(cfg, local.labelLayoutList, ticksEls);\n    buildAxisMinorTicks(cfg, group, transformGroup, axisModel, cfg.tickDirection);\n  },\n  /**\n   * [CAUTION] This method can be called multiple times, following the change due to `resetCfg` called\n   *  in size measurement. Thus this method should be idempotent, and should be performant.\n   */\n  axisName: function (cfg, local, shared, axisModel, group, transformGroup, api, extraParams) {\n    var sharedRecord = shared.ensureRecord(axisModel);\n    if (process.env.NODE_ENV !== 'production') {\n      var ready = sharedRecord.ready;\n      assert(ready.axisTickLabelEstimate || ready.axisTickLabelDetermine);\n      ready.axisName = true;\n    }\n    // Remove the existing name result created in estimation phase.\n    if (local.nameEl) {\n      group.remove(local.nameEl);\n      local.nameEl = sharedRecord.nameLayout = sharedRecord.nameLocation = null;\n    }\n    var name = cfg.axisName;\n    if (!hasAxisName(name)) {\n      return;\n    }\n    var nameLocation = cfg.nameLocation;\n    var nameDirection = cfg.nameDirection;\n    var textStyleModel = axisModel.getModel('nameTextStyle');\n    var gap = axisModel.get('nameGap') || 0;\n    var extent = axisModel.axis.getExtent();\n    var gapStartEndSignal = axisModel.axis.inverse ? -1 : 1;\n    var pos = new Point(0, 0);\n    var nameMoveDirVec = new Point(0, 0);\n    if (nameLocation === 'start') {\n      pos.x = extent[0] - gapStartEndSignal * gap;\n      nameMoveDirVec.x = -gapStartEndSignal;\n    } else if (nameLocation === 'end') {\n      pos.x = extent[1] + gapStartEndSignal * gap;\n      nameMoveDirVec.x = gapStartEndSignal;\n    } else {\n      // 'middle' or 'center'\n      pos.x = (extent[0] + extent[1]) / 2;\n      pos.y = cfg.labelOffset + nameDirection * gap;\n      nameMoveDirVec.y = nameDirection;\n    }\n    var mt = matrixUtil.create();\n    nameMoveDirVec.transform(matrixUtil.rotate(mt, mt, cfg.rotation));\n    var nameRotation = axisModel.get('nameRotate');\n    if (nameRotation != null) {\n      nameRotation = nameRotation * PI / 180; // To radian.\n    }\n    var labelLayout;\n    var axisNameAvailableWidth;\n    if (isNameLocationCenter(nameLocation)) {\n      labelLayout = AxisBuilder.innerTextLayout(cfg.rotation, nameRotation != null ? nameRotation : cfg.rotation,\n      // Adapt to axis.\n      nameDirection);\n    } else {\n      labelLayout = endTextLayout(cfg.rotation, nameLocation, nameRotation || 0, extent);\n      axisNameAvailableWidth = cfg.raw.axisNameAvailableWidth;\n      if (axisNameAvailableWidth != null) {\n        axisNameAvailableWidth = Math.abs(axisNameAvailableWidth / Math.sin(labelLayout.rotation));\n        !isFinite(axisNameAvailableWidth) && (axisNameAvailableWidth = null);\n      }\n    }\n    var textFont = textStyleModel.getFont();\n    var truncateOpt = axisModel.get('nameTruncate', true) || {};\n    var ellipsis = truncateOpt.ellipsis;\n    var maxWidth = retrieve(cfg.raw.nameTruncateMaxWidth, truncateOpt.maxWidth, axisNameAvailableWidth);\n    var nameMarginLevel = extraParams.nameMarginLevel || 0;\n    var textEl = new graphic.Text({\n      x: pos.x,\n      y: pos.y,\n      rotation: labelLayout.rotation,\n      silent: AxisBuilder.isLabelSilent(axisModel),\n      style: createTextStyle(textStyleModel, {\n        text: name,\n        font: textFont,\n        overflow: 'truncate',\n        width: maxWidth,\n        ellipsis: ellipsis,\n        fill: textStyleModel.getTextColor() || axisModel.get(['axisLine', 'lineStyle', 'color']),\n        align: textStyleModel.get('align') || labelLayout.textAlign,\n        verticalAlign: textStyleModel.get('verticalAlign') || labelLayout.textVerticalAlign\n      }),\n      z2: 1\n    });\n    graphic.setTooltipConfig({\n      el: textEl,\n      componentModel: axisModel,\n      itemName: name\n    });\n    textEl.__fullText = name;\n    // Id for animation\n    textEl.anid = 'name';\n    if (axisModel.get('triggerEvent')) {\n      var eventData = AxisBuilder.makeAxisEventDataBase(axisModel);\n      eventData.targetType = 'axisName';\n      eventData.name = name;\n      getECData(textEl).eventData = eventData;\n    }\n    transformGroup.add(textEl);\n    textEl.updateTransform();\n    local.nameEl = textEl;\n    var nameLayout = sharedRecord.nameLayout = ensureLabelLayoutWithGeometry({\n      label: textEl,\n      priority: textEl.z2,\n      defaultAttr: {\n        ignore: textEl.ignore\n      },\n      marginDefault: isNameLocationCenter(nameLocation)\n      // Make axis name visually far from axis labels.\n      // (but not too aggressive, consider multiple small charts)\n      ? DEFAULT_CENTER_NAME_MARGIN_LEVELS[nameMarginLevel]\n      // top/button margin is set to `0` to inserted the xAxis name into the indention\n      // above the axis labels to save space. (see example below.)\n      : DEFAULT_ENDS_NAME_MARGIN_LEVELS[nameMarginLevel]\n    });\n    sharedRecord.nameLocation = nameLocation;\n    group.add(textEl);\n    textEl.decomposeTransform();\n    if (cfg.shouldNameMoveOverlap && nameLayout) {\n      var record = shared.ensureRecord(axisModel);\n      if (process.env.NODE_ENV !== 'production') {\n        assert(record.labelInfoList);\n      }\n      shared.resolveAxisNameOverlap(cfg, shared, axisModel, nameLayout, nameMoveDirVec, record);\n    }\n  }\n};\nfunction layOutAxisTickLabel(cfg, local, shared, axisModel, group, transformGroup, api, kind) {\n  if (!axisLabelBuildResultExists(local)) {\n    buildAxisLabel(cfg, local, group, kind, axisModel, api);\n  }\n  var labelLayoutList = local.labelLayoutList;\n  updateAxisLabelChangableProps(cfg, axisModel, labelLayoutList, transformGroup);\n  adjustBreakLabels(axisModel, cfg.rotation, labelLayoutList);\n  var optionHideOverlap = cfg.optionHideOverlap;\n  fixMinMaxLabelShow(axisModel, labelLayoutList, optionHideOverlap);\n  if (optionHideOverlap) {\n    // This bit fixes the label overlap issue for the time chart.\n    // See https://github.com/apache/echarts/issues/14266 for more.\n    hideOverlap(\n    // Filter the already ignored labels by the previous overlap resolving methods.\n    filter(labelLayoutList, function (layout) {\n      return layout && !layout.label.ignore;\n    }));\n  }\n  // Always call it even this axis has no name, since it serves in overlapping detection\n  // and grid outerBounds on other axis.\n  resetOverlapRecordToShared(cfg, shared, axisModel, labelLayoutList);\n}\n;\nfunction endTextLayout(rotation, textPosition, textRotate, extent) {\n  var rotationDiff = remRadian(textRotate - rotation);\n  var textAlign;\n  var textVerticalAlign;\n  var inverse = extent[0] > extent[1];\n  var onLeft = textPosition === 'start' && !inverse || textPosition !== 'start' && inverse;\n  if (isRadianAroundZero(rotationDiff - PI / 2)) {\n    textVerticalAlign = onLeft ? 'bottom' : 'top';\n    textAlign = 'center';\n  } else if (isRadianAroundZero(rotationDiff - PI * 1.5)) {\n    textVerticalAlign = onLeft ? 'top' : 'bottom';\n    textAlign = 'center';\n  } else {\n    textVerticalAlign = 'middle';\n    if (rotationDiff < PI * 1.5 && rotationDiff > PI / 2) {\n      textAlign = onLeft ? 'left' : 'right';\n    } else {\n      textAlign = onLeft ? 'right' : 'left';\n    }\n  }\n  return {\n    rotation: rotationDiff,\n    textAlign: textAlign,\n    textVerticalAlign: textVerticalAlign\n  };\n}\n/**\n * Assume `labelLayoutList` has no `label.ignore: true`.\n * Assume `labelLayoutList` have been sorted by value ascending order.\n */\nfunction fixMinMaxLabelShow(axisModel, labelLayoutList, optionHideOverlap) {\n  if (shouldShowAllLabels(axisModel.axis)) {\n    return;\n  }\n  // FIXME\n  // Have not consider onBand yet, where tick els is more than label els.\n  // Assert no ignore in labels.\n  function deal(showMinMaxLabel, outmostLabelIdx, innerLabelIdx) {\n    var outmostLabelLayout = ensureLabelLayoutWithGeometry(labelLayoutList[outmostLabelIdx]);\n    var innerLabelLayout = ensureLabelLayoutWithGeometry(labelLayoutList[innerLabelIdx]);\n    if (!outmostLabelLayout || !innerLabelLayout) {\n      return;\n    }\n    if (showMinMaxLabel === false || outmostLabelLayout.suggestIgnore) {\n      ignoreEl(outmostLabelLayout.label);\n      return;\n    }\n    if (innerLabelLayout.suggestIgnore) {\n      ignoreEl(innerLabelLayout.label);\n      return;\n    }\n    // PENDING: Originally we thought `optionHideOverlap === false` means do not hide anything,\n    //  since currently the bounding rect of text might not accurate enough and might slightly bigger,\n    //  which causes false positive. But `optionHideOverlap: null/undfined` is falsy and likely\n    //  be treated as false.\n    // In most fonts the glyph does not reach the boundary of the bounding rect.\n    // This is needed to avoid too aggressive to hide two elements that meet at the edge\n    // due to compact layout by the same bounding rect or OBB.\n    var touchThreshold = 0.1;\n    // This treatment is for backward compatibility. And `!optionHideOverlap` implies that\n    // the user accepts the visual touch between adjacent labels, thus \"hide min/max label\"\n    // should be conservative, since the space might be sufficient in this case.\n    if (!optionHideOverlap) {\n      var marginForce = [0, 0, 0, 0];\n      // Make a copy to apply `ignoreMargin`.\n      outmostLabelLayout = newLabelLayoutWithGeometry({\n        marginForce: marginForce\n      }, outmostLabelLayout);\n      innerLabelLayout = newLabelLayoutWithGeometry({\n        marginForce: marginForce\n      }, innerLabelLayout);\n    }\n    if (labelIntersect(outmostLabelLayout, innerLabelLayout, null, {\n      touchThreshold: touchThreshold\n    })) {\n      if (showMinMaxLabel) {\n        ignoreEl(innerLabelLayout.label);\n      } else {\n        ignoreEl(outmostLabelLayout.label);\n      }\n    }\n  }\n  // If min or max are user set, we need to check\n  // If the tick on min(max) are overlap on their neighbour tick\n  // If they are overlapped, we need to hide the min(max) tick label\n  var showMinLabel = axisModel.get(['axisLabel', 'showMinLabel']);\n  var showMaxLabel = axisModel.get(['axisLabel', 'showMaxLabel']);\n  var labelsLen = labelLayoutList.length;\n  deal(showMinLabel, 0, 1);\n  deal(showMaxLabel, labelsLen - 1, labelsLen - 2);\n}\n// PENDING: Is it necessary to display a tick while the corresponding label is ignored?\nfunction syncLabelIgnoreToMajorTicks(cfg, labelLayoutList, tickEls) {\n  if (cfg.showMinorTicks) {\n    // It probably unreaasonable to hide major ticks when show minor ticks.\n    return;\n  }\n  each(labelLayoutList, function (labelLayout) {\n    if (labelLayout && labelLayout.label.ignore) {\n      for (var idx = 0; idx < tickEls.length; idx++) {\n        var tickEl = tickEls[idx];\n        // Assume small array, linear search is fine for performance.\n        // PENDING: measure?\n        var tickInner = getTickInner(tickEl);\n        var labelInner = getLabelInner(labelLayout.label);\n        if (tickInner.tickValue != null && !tickInner.onBand && tickInner.tickValue === labelInner.tickValue) {\n          ignoreEl(tickEl);\n          return;\n        }\n      }\n    }\n  });\n}\nfunction ignoreEl(el) {\n  el && (el.ignore = true);\n}\nfunction createTicks(ticksCoords, tickTransform, tickEndCoord, tickLineStyle, anidPrefix) {\n  var tickEls = [];\n  var pt1 = [];\n  var pt2 = [];\n  for (var i = 0; i < ticksCoords.length; i++) {\n    var tickCoord = ticksCoords[i].coord;\n    pt1[0] = tickCoord;\n    pt1[1] = 0;\n    pt2[0] = tickCoord;\n    pt2[1] = tickEndCoord;\n    if (tickTransform) {\n      v2ApplyTransform(pt1, pt1, tickTransform);\n      v2ApplyTransform(pt2, pt2, tickTransform);\n    }\n    // Tick line, Not use group transform to have better line draw\n    var tickEl = new graphic.Line({\n      shape: {\n        x1: pt1[0],\n        y1: pt1[1],\n        x2: pt2[0],\n        y2: pt2[1]\n      },\n      style: tickLineStyle,\n      z2: 2,\n      autoBatch: true,\n      silent: true\n    });\n    graphic.subPixelOptimizeLine(tickEl.shape, tickEl.style.lineWidth);\n    tickEl.anid = anidPrefix + '_' + ticksCoords[i].tickValue;\n    tickEls.push(tickEl);\n    var inner = getTickInner(tickEl);\n    inner.onBand = !!ticksCoords[i].onBand;\n    inner.tickValue = ticksCoords[i].tickValue;\n  }\n  return tickEls;\n}\nfunction buildAxisMajorTicks(cfg, group, transformGroup, axisModel) {\n  var axis = axisModel.axis;\n  var tickModel = axisModel.getModel('axisTick');\n  var shown = tickModel.get('show');\n  if (shown === 'auto') {\n    shown = true;\n    if (cfg.raw.axisTickAutoShow != null) {\n      shown = !!cfg.raw.axisTickAutoShow;\n    }\n  }\n  if (!shown || axis.scale.isBlank()) {\n    return [];\n  }\n  var lineStyleModel = tickModel.getModel('lineStyle');\n  var tickEndCoord = cfg.tickDirection * tickModel.get('length');\n  var ticksCoords = axis.getTicksCoords();\n  var ticksEls = createTicks(ticksCoords, transformGroup.transform, tickEndCoord, defaults(lineStyleModel.getLineStyle(), {\n    stroke: axisModel.get(['axisLine', 'lineStyle', 'color'])\n  }), 'ticks');\n  for (var i = 0; i < ticksEls.length; i++) {\n    group.add(ticksEls[i]);\n  }\n  return ticksEls;\n}\nfunction buildAxisMinorTicks(cfg, group, transformGroup, axisModel, tickDirection) {\n  var axis = axisModel.axis;\n  var minorTickModel = axisModel.getModel('minorTick');\n  if (!cfg.showMinorTicks || axis.scale.isBlank()) {\n    return;\n  }\n  var minorTicksCoords = axis.getMinorTicksCoords();\n  if (!minorTicksCoords.length) {\n    return;\n  }\n  var lineStyleModel = minorTickModel.getModel('lineStyle');\n  var tickEndCoord = tickDirection * minorTickModel.get('length');\n  var minorTickLineStyle = defaults(lineStyleModel.getLineStyle(), defaults(axisModel.getModel('axisTick').getLineStyle(), {\n    stroke: axisModel.get(['axisLine', 'lineStyle', 'color'])\n  }));\n  for (var i = 0; i < minorTicksCoords.length; i++) {\n    var minorTicksEls = createTicks(minorTicksCoords[i], transformGroup.transform, tickEndCoord, minorTickLineStyle, 'minorticks_' + i);\n    for (var k = 0; k < minorTicksEls.length; k++) {\n      group.add(minorTicksEls[k]);\n    }\n  }\n}\n// Return whether need to call `layOutAxisTickLabel` again.\nfunction dealLastTickLabelResultReusable(local, group, extraParams) {\n  if (axisLabelBuildResultExists(local)) {\n    var axisLabelsCreationContext = local.axisLabelsCreationContext;\n    if (process.env.NODE_ENV !== 'production') {\n      assert(local.labelGroup && axisLabelsCreationContext);\n    }\n    var noPxChangeTryDetermine = axisLabelsCreationContext.out.noPxChangeTryDetermine;\n    if (extraParams.noPxChange) {\n      var canDetermine = true;\n      for (var idx = 0; idx < noPxChangeTryDetermine.length; idx++) {\n        canDetermine = canDetermine && noPxChangeTryDetermine[idx]();\n      }\n      if (canDetermine) {\n        return false;\n      }\n    }\n    if (noPxChangeTryDetermine.length) {\n      // Remove the result of `buildAxisLabel`\n      group.remove(local.labelGroup);\n      axisLabelBuildResultSet(local, null, null, null);\n    }\n  }\n  return true;\n}\nfunction buildAxisLabel(cfg, local, group, kind, axisModel, api) {\n  var axis = axisModel.axis;\n  var show = retrieve(cfg.raw.axisLabelShow, axisModel.get(['axisLabel', 'show']));\n  var labelGroup = new graphic.Group();\n  group.add(labelGroup);\n  var axisLabelCreationCtx = createAxisLabelsComputingContext(kind);\n  if (!show || axis.scale.isBlank()) {\n    axisLabelBuildResultSet(local, [], labelGroup, axisLabelCreationCtx);\n    return;\n  }\n  var labelModel = axisModel.getModel('axisLabel');\n  var labels = axis.getViewLabels(axisLabelCreationCtx);\n  // Special label rotate.\n  var labelRotation = (retrieve(cfg.raw.labelRotate, labelModel.get('rotate')) || 0) * PI / 180;\n  var labelLayout = AxisBuilder.innerTextLayout(cfg.rotation, labelRotation, cfg.labelDirection);\n  var rawCategoryData = axisModel.getCategories && axisModel.getCategories(true);\n  var labelEls = [];\n  var triggerEvent = axisModel.get('triggerEvent');\n  var z2Min = Infinity;\n  var z2Max = -Infinity;\n  each(labels, function (labelItem, index) {\n    var _a;\n    var tickValue = axis.scale.type === 'ordinal' ? axis.scale.getRawOrdinalNumber(labelItem.tickValue) : labelItem.tickValue;\n    var formattedLabel = labelItem.formattedLabel;\n    var rawLabel = labelItem.rawLabel;\n    var itemLabelModel = labelModel;\n    if (rawCategoryData && rawCategoryData[tickValue]) {\n      var rawCategoryItem = rawCategoryData[tickValue];\n      if (isObject(rawCategoryItem) && rawCategoryItem.textStyle) {\n        itemLabelModel = new Model(rawCategoryItem.textStyle, labelModel, axisModel.ecModel);\n      }\n    }\n    var textColor = itemLabelModel.getTextColor() || axisModel.get(['axisLine', 'lineStyle', 'color']);\n    var align = itemLabelModel.getShallow('align', true) || labelLayout.textAlign;\n    var alignMin = retrieve2(itemLabelModel.getShallow('alignMinLabel', true), align);\n    var alignMax = retrieve2(itemLabelModel.getShallow('alignMaxLabel', true), align);\n    var verticalAlign = itemLabelModel.getShallow('verticalAlign', true) || itemLabelModel.getShallow('baseline', true) || labelLayout.textVerticalAlign;\n    var verticalAlignMin = retrieve2(itemLabelModel.getShallow('verticalAlignMinLabel', true), verticalAlign);\n    var verticalAlignMax = retrieve2(itemLabelModel.getShallow('verticalAlignMaxLabel', true), verticalAlign);\n    var z2 = 10 + (((_a = labelItem.time) === null || _a === void 0 ? void 0 : _a.level) || 0);\n    z2Min = Math.min(z2Min, z2);\n    z2Max = Math.max(z2Max, z2);\n    var textEl = new graphic.Text({\n      // --- transform props start ---\n      // All of the transform props MUST not be set here, but should be set in\n      // `updateAxisLabelChangableProps`, because they may change in estimation,\n      // and need to calculate based on global coord sys by `decomposeTransform`.\n      x: 0,\n      y: 0,\n      rotation: 0,\n      // --- transform props end ---\n      silent: AxisBuilder.isLabelSilent(axisModel),\n      z2: z2,\n      style: createTextStyle(itemLabelModel, {\n        text: formattedLabel,\n        align: index === 0 ? alignMin : index === labels.length - 1 ? alignMax : align,\n        verticalAlign: index === 0 ? verticalAlignMin : index === labels.length - 1 ? verticalAlignMax : verticalAlign,\n        fill: isFunction(textColor) ? textColor(\n        // (1) In category axis with data zoom, tick is not the original\n        // index of axis.data. So tick should not be exposed to user\n        // in category axis.\n        // (2) Compatible with previous version, which always use formatted label as\n        // input. But in interval scale the formatted label is like '223,445', which\n        // maked user replace ','. So we modify it to return original val but remain\n        // it as 'string' to avoid error in replacing.\n        axis.type === 'category' ? rawLabel : axis.type === 'value' ? tickValue + '' : tickValue, index) : textColor\n      })\n    });\n    textEl.anid = 'label_' + tickValue;\n    var inner = getLabelInner(textEl);\n    inner[\"break\"] = labelItem[\"break\"];\n    inner.tickValue = tickValue;\n    inner.layoutRotation = labelLayout.rotation;\n    graphic.setTooltipConfig({\n      el: textEl,\n      componentModel: axisModel,\n      itemName: formattedLabel,\n      formatterParamsExtra: {\n        isTruncated: function () {\n          return textEl.isTruncated;\n        },\n        value: rawLabel,\n        tickIndex: index\n      }\n    });\n    // Pack data for mouse event\n    if (triggerEvent) {\n      var eventData = AxisBuilder.makeAxisEventDataBase(axisModel);\n      eventData.targetType = 'axisLabel';\n      eventData.value = rawLabel;\n      eventData.tickIndex = index;\n      if (labelItem[\"break\"]) {\n        eventData[\"break\"] = {\n          // type: labelItem.break.type,\n          start: labelItem[\"break\"].parsedBreak.vmin,\n          end: labelItem[\"break\"].parsedBreak.vmax\n        };\n      }\n      if (axis.type === 'category') {\n        eventData.dataIndex = tickValue;\n      }\n      getECData(textEl).eventData = eventData;\n      if (labelItem[\"break\"]) {\n        addBreakEventHandler(axisModel, api, textEl, labelItem[\"break\"]);\n      }\n    }\n    labelEls.push(textEl);\n    labelGroup.add(textEl);\n  });\n  var labelLayoutList = map(labelEls, function (label) {\n    return {\n      label: label,\n      priority: getLabelInner(label)[\"break\"] ? label.z2 + (z2Max - z2Min + 1) // Make break labels be highest priority.\n      : label.z2,\n      defaultAttr: {\n        ignore: label.ignore\n      }\n    };\n  });\n  axisLabelBuildResultSet(local, labelLayoutList, labelGroup, axisLabelCreationCtx);\n}\n// Indicate that `layOutAxisTickLabel` has been called.\nfunction axisLabelBuildResultExists(local) {\n  return !!local.labelLayoutList;\n}\nfunction axisLabelBuildResultSet(local, labelLayoutList, labelGroup, axisLabelsCreationContext) {\n  // Ensure the same lifetime.\n  local.labelLayoutList = labelLayoutList;\n  local.labelGroup = labelGroup;\n  local.axisLabelsCreationContext = axisLabelsCreationContext;\n}\nfunction updateAxisLabelChangableProps(cfg, axisModel, labelLayoutList, transformGroup) {\n  var labelMargin = axisModel.get(['axisLabel', 'margin']);\n  each(labelLayoutList, function (layout, idx) {\n    var geometry = ensureLabelLayoutWithGeometry(layout);\n    if (!geometry) {\n      return;\n    }\n    var labelEl = geometry.label;\n    var inner = getLabelInner(labelEl);\n    // See the comment in `suggestIgnore`.\n    geometry.suggestIgnore = labelEl.ignore;\n    // Currently no `ignore:true` is set in `buildAxisLabel`\n    // But `ignore:true` may be set subsequently for overlap handling, thus reset it here.\n    labelEl.ignore = false;\n    copyTransform(_tmpLayoutEl, _tmpLayoutElReset);\n    _tmpLayoutEl.x = axisModel.axis.dataToCoord(inner.tickValue);\n    _tmpLayoutEl.y = cfg.labelOffset + cfg.labelDirection * labelMargin;\n    _tmpLayoutEl.rotation = inner.layoutRotation;\n    transformGroup.add(_tmpLayoutEl);\n    _tmpLayoutEl.updateTransform();\n    transformGroup.remove(_tmpLayoutEl);\n    _tmpLayoutEl.decomposeTransform();\n    copyTransform(labelEl, _tmpLayoutEl);\n    labelEl.markRedraw();\n    setLabelLayoutDirty(geometry, true);\n    ensureLabelLayoutWithGeometry(geometry);\n  });\n}\nvar _tmpLayoutEl = new graphic.Rect();\nvar _tmpLayoutElReset = new graphic.Rect();\nfunction hasAxisName(axisName) {\n  return !!axisName;\n}\nfunction addBreakEventHandler(axisModel, api, textEl, visualBreak) {\n  textEl.on('click', function (params) {\n    var payload = {\n      type: AXIS_BREAK_EXPAND_ACTION_TYPE,\n      breaks: [{\n        start: visualBreak.parsedBreak.breakOption.start,\n        end: visualBreak.parsedBreak.breakOption.end\n      }]\n    };\n    payload[axisModel.axis.dim + \"AxisIndex\"] = axisModel.componentIndex;\n    api.dispatchAction(payload);\n  });\n}\nfunction adjustBreakLabels(axisModel, axisRotation, labelLayoutList) {\n  var scaleBreakHelper = getScaleBreakHelper();\n  if (!scaleBreakHelper) {\n    return;\n  }\n  var breakLabelIndexPairs = scaleBreakHelper.retrieveAxisBreakPairs(labelLayoutList, function (layoutInfo) {\n    return layoutInfo && getLabelInner(layoutInfo.label)[\"break\"];\n  }, true);\n  var moveOverlap = axisModel.get(['breakLabelLayout', 'moveOverlap'], true);\n  if (moveOverlap === true || moveOverlap === 'auto') {\n    each(breakLabelIndexPairs, function (idxPair) {\n      getAxisBreakHelper().adjustBreakLabelPair(axisModel.axis.inverse, axisRotation, [ensureLabelLayoutWithGeometry(labelLayoutList[idxPair[0]]), ensureLabelLayoutWithGeometry(labelLayoutList[idxPair[1]])]);\n    });\n  }\n}\nexport default AxisBuilder;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { SINGLE_REFERRING } from '../../util/model.js';\nimport AxisBuilder from '../../component/axis/AxisBuilder.js';\nimport { isIntervalOrLogScale } from '../../scale/helper.js';\n/**\n * [__CAUTION__]\n *  MUST guarantee: if only the input `rect` and `axis.extent` changed,\n *  only `layout.position` changes.\n *  This character is replied on `grid.contain` calculation in `AxisBuilder`.\n *  @see updateCartesianAxisViewCommonPartBuilder\n *\n * Can only be called after coordinate system creation stage.\n * (Can be called before coordinate system update stage).\n */\nexport function layout(rect, axisModel, opt) {\n  opt = opt || {};\n  var axis = axisModel.axis;\n  var layout = {};\n  var otherAxisOnZeroOf = axis.getAxesOnZeroOf()[0];\n  var rawAxisPosition = axis.position;\n  var axisPosition = otherAxisOnZeroOf ? 'onZero' : rawAxisPosition;\n  var axisDim = axis.dim;\n  var rectBound = [rect.x, rect.x + rect.width, rect.y, rect.y + rect.height];\n  var idx = {\n    left: 0,\n    right: 1,\n    top: 0,\n    bottom: 1,\n    onZero: 2\n  };\n  var axisOffset = axisModel.get('offset') || 0;\n  var posBound = axisDim === 'x' ? [rectBound[2] - axisOffset, rectBound[3] + axisOffset] : [rectBound[0] - axisOffset, rectBound[1] + axisOffset];\n  if (otherAxisOnZeroOf) {\n    var onZeroCoord = otherAxisOnZeroOf.toGlobalCoord(otherAxisOnZeroOf.dataToCoord(0));\n    posBound[idx.onZero] = Math.max(Math.min(onZeroCoord, posBound[1]), posBound[0]);\n  }\n  // Axis position\n  layout.position = [axisDim === 'y' ? posBound[idx[axisPosition]] : rectBound[0], axisDim === 'x' ? posBound[idx[axisPosition]] : rectBound[3]];\n  // Axis rotation\n  layout.rotation = Math.PI / 2 * (axisDim === 'x' ? 0 : 1);\n  // Tick and label direction, x y is axisDim\n  var dirMap = {\n    top: -1,\n    bottom: 1,\n    left: -1,\n    right: 1\n  };\n  layout.labelDirection = layout.tickDirection = layout.nameDirection = dirMap[rawAxisPosition];\n  layout.labelOffset = otherAxisOnZeroOf ? posBound[idx[rawAxisPosition]] - posBound[idx.onZero] : 0;\n  if (axisModel.get(['axisTick', 'inside'])) {\n    layout.tickDirection = -layout.tickDirection;\n  }\n  if (zrUtil.retrieve(opt.labelInside, axisModel.get(['axisLabel', 'inside']))) {\n    layout.labelDirection = -layout.labelDirection;\n  }\n  // Special label rotation\n  var labelRotate = axisModel.get(['axisLabel', 'rotate']);\n  layout.labelRotate = axisPosition === 'top' ? -labelRotate : labelRotate;\n  // Over splitLine and splitArea\n  layout.z2 = 1;\n  return layout;\n}\nexport function isCartesian2DDeclaredSeries(seriesModel) {\n  return seriesModel.get('coordinateSystem') === 'cartesian2d';\n}\n/**\n * Note: If pie (or other similar series) use cartesian2d, here\n *  option `seriesModel.get('coordinateSystem') === 'cartesian2d'`\n *  and `seriesModel.coordinateSystem !== cartesian2dCoordSysInstance`\n *  and `seriesModel.boxCoordinateSystem === cartesian2dCoordSysInstance`,\n *  the logic below is probably wrong, therefore skip it temporarily.\n */\nexport function isCartesian2DInjectedAsDataCoordSys(seriesModel) {\n  return seriesModel.coordinateSystem && seriesModel.coordinateSystem.type === 'cartesian2d';\n}\nexport function findAxisModels(seriesModel) {\n  var axisModelMap = {\n    xAxisModel: null,\n    yAxisModel: null\n  };\n  zrUtil.each(axisModelMap, function (v, key) {\n    var axisType = key.replace(/Model$/, '');\n    var axisModel = seriesModel.getReferringComponents(axisType, SINGLE_REFERRING).models[0];\n    if (process.env.NODE_ENV !== 'production') {\n      if (!axisModel) {\n        throw new Error(axisType + ' \"' + zrUtil.retrieve3(seriesModel.get(axisType + 'Index'), seriesModel.get(axisType + 'Id'), 0) + '\" not found');\n      }\n    }\n    axisModelMap[key] = axisModel;\n  });\n  return axisModelMap;\n}\nexport function createCartesianAxisViewCommonPartBuilder(gridRect, cartesians, axisModel, api, ctx, defaultNameMoveOverlap) {\n  var layoutResult = layout(gridRect, axisModel);\n  var axisLineAutoShow = false;\n  var axisTickAutoShow = false;\n  // Not show axisTick or axisLine if other axis is category / time\n  for (var i = 0; i < cartesians.length; i++) {\n    if (isIntervalOrLogScale(cartesians[i].getOtherAxis(axisModel.axis).scale)) {\n      // Still show axis tick or axisLine if other axis is value / log\n      axisLineAutoShow = axisTickAutoShow = true;\n      if (axisModel.axis.type === 'category' && axisModel.axis.onBand) {\n        axisTickAutoShow = false;\n      }\n    }\n  }\n  layoutResult.axisLineAutoShow = axisLineAutoShow;\n  layoutResult.axisTickAutoShow = axisTickAutoShow;\n  layoutResult.defaultNameMoveOverlap = defaultNameMoveOverlap;\n  return new AxisBuilder(axisModel, api, layoutResult, ctx);\n}\nexport function updateCartesianAxisViewCommonPartBuilder(axisBuilder, gridRect, axisModel) {\n  var newRaw = layout(gridRect, axisModel);\n  if (process.env.NODE_ENV !== 'production') {\n    var oldRaw_1 = axisBuilder.__getRawCfg();\n    zrUtil.each(zrUtil.keys(newRaw), function (prop) {\n      if (prop !== 'position' && prop !== 'labelOffset') {\n        zrUtil.assert(newRaw[prop] === oldRaw_1[prop]);\n      }\n    });\n  }\n  axisBuilder.updateCfg(newRaw);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { getPrecisionSafe, round } from '../util/number.js';\nimport IntervalScale from '../scale/Interval.js';\nimport { getScaleExtent, retrieveAxisBreaksOption } from './axisHelper.js';\nimport { warn } from '../util/log.js';\nimport { logTransform, increaseInterval, isValueNice } from '../scale/helper.js';\nexport function alignScaleTicks(scale, axisModel, alignToScale) {\n  var _a;\n  var intervalScaleProto = IntervalScale.prototype;\n  // NOTE: There is a precondition for log scale  here:\n  // In log scale we store _interval and _extent of exponent value.\n  // So if we use the method of InternalScale to set/get these data.\n  // It process the exponent value, which is linear and what we want here.\n  var alignToTicks = intervalScaleProto.getTicks.call(alignToScale);\n  var alignToNicedTicks = intervalScaleProto.getTicks.call(alignToScale, {\n    expandToNicedExtent: true\n  });\n  var alignToSplitNumber = alignToTicks.length - 1;\n  var alignToInterval = intervalScaleProto.getInterval.call(alignToScale);\n  var scaleExtent = getScaleExtent(scale, axisModel);\n  var rawExtent = scaleExtent.extent;\n  var isMinFixed = scaleExtent.fixMin;\n  var isMaxFixed = scaleExtent.fixMax;\n  if (scale.type === 'log') {\n    rawExtent = logTransform(scale.base, rawExtent, true);\n  }\n  scale.setBreaksFromOption(retrieveAxisBreaksOption(axisModel));\n  scale.setExtent(rawExtent[0], rawExtent[1]);\n  scale.calcNiceExtent({\n    splitNumber: alignToSplitNumber,\n    fixMin: isMinFixed,\n    fixMax: isMaxFixed\n  });\n  var extent = intervalScaleProto.getExtent.call(scale);\n  // Need to update the rawExtent.\n  // Because value in rawExtent may be not parsed. e.g. 'dataMin', 'dataMax'\n  if (isMinFixed) {\n    rawExtent[0] = extent[0];\n  }\n  if (isMaxFixed) {\n    rawExtent[1] = extent[1];\n  }\n  var interval = intervalScaleProto.getInterval.call(scale);\n  var min = rawExtent[0];\n  var max = rawExtent[1];\n  if (isMinFixed && isMaxFixed) {\n    // User set min, max, divide to get new interval\n    interval = (max - min) / alignToSplitNumber;\n  } else if (isMinFixed) {\n    max = rawExtent[0] + interval * alignToSplitNumber;\n    // User set min, expand extent on the other side\n    while (max < rawExtent[1] && isFinite(max) && isFinite(rawExtent[1])) {\n      interval = increaseInterval(interval);\n      max = rawExtent[0] + interval * alignToSplitNumber;\n    }\n  } else if (isMaxFixed) {\n    // User set max, expand extent on the other side\n    min = rawExtent[1] - interval * alignToSplitNumber;\n    while (min > rawExtent[0] && isFinite(min) && isFinite(rawExtent[0])) {\n      interval = increaseInterval(interval);\n      min = rawExtent[1] - interval * alignToSplitNumber;\n    }\n  } else {\n    var nicedSplitNumber = scale.getTicks().length - 1;\n    if (nicedSplitNumber > alignToSplitNumber) {\n      interval = increaseInterval(interval);\n    }\n    var range = interval * alignToSplitNumber;\n    max = Math.ceil(rawExtent[1] / interval) * interval;\n    min = round(max - range);\n    // Not change the result that crossing zero.\n    if (min < 0 && rawExtent[0] >= 0) {\n      min = 0;\n      max = round(range);\n    } else if (max > 0 && rawExtent[1] <= 0) {\n      max = 0;\n      min = -round(range);\n    }\n  }\n  // Adjust min, max based on the extent of alignTo. When min or max is set in alignTo scale\n  var t0 = (alignToTicks[0].value - alignToNicedTicks[0].value) / alignToInterval;\n  var t1 = (alignToTicks[alignToSplitNumber].value - alignToNicedTicks[alignToSplitNumber].value) / alignToInterval;\n  // NOTE: Must in setExtent -> setInterval -> setNiceExtent order.\n  intervalScaleProto.setExtent.call(scale, min + interval * t0, max + interval * t1);\n  intervalScaleProto.setInterval.call(scale, interval);\n  if (t0 || t1) {\n    intervalScaleProto.setNiceExtent.call(scale, min + interval, max - interval);\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    var ticks = intervalScaleProto.getTicks.call(scale);\n    if (ticks[1] && (!isValueNice(interval) || getPrecisionSafe(ticks[1].value) > getPrecisionSafe(interval))) {\n      warn(\"The ticks may be not readable when set min: \" + axisModel.get('min') + \", max: \" + axisModel.get('max') + (\" and alignTicks: true. (\" + ((_a = axisModel.axis) === null || _a === void 0 ? void 0 : _a.dim) + \"AxisIndex: \" + axisModel.componentIndex + \")\"), true);\n    }\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n/**\n * Grid is a region which contains at most 4 cartesian systems\n *\n * TODO Default cartesian\n */\nimport { isObject, each, indexOf, retrieve3, keys, assert, eqNaN, find, retrieve2 } from 'zrender/lib/core/util.js';\nimport { createBoxLayoutReference, getLayoutRect } from '../../util/layout.js';\nimport { createScaleByModel, ifAxisCrossZero, niceScaleExtent, getDataDimensionsOnAxis, isNameLocationCenter, shouldAxisShow } from '../../coord/axisHelper.js';\nimport Cartesian2D, { cartesian2DDimensions } from './Cartesian2D.js';\nimport Axis2D from './Axis2D.js';\nimport { SINGLE_REFERRING } from '../../util/model.js';\n// Depends on GridModel, AxisModel, which performs preprocess.\nimport { OUTER_BOUNDS_CLAMP_DEFAULT, OUTER_BOUNDS_DEFAULT } from './GridModel.js';\nimport { findAxisModels, createCartesianAxisViewCommonPartBuilder, updateCartesianAxisViewCommonPartBuilder, isCartesian2DInjectedAsDataCoordSys } from './cartesianAxisHelper.js';\nimport { isIntervalOrLogScale } from '../../scale/helper.js';\nimport { alignScaleTicks } from '../axisAlignTicks.js';\nimport { expandOrShrinkRect, WH, XY } from '../../util/graphic.js';\nimport { AxisBuilderSharedContext, resolveAxisNameOverlapDefault, moveIfOverlapByLinearLabels, getLabelInner } from '../../component/axis/AxisBuilder.js';\nimport { error, log } from '../../util/log.js';\nimport { AxisTickLabelComputingKind } from '../axisTickLabelBuilder.js';\nimport { injectCoordSysByOption } from '../../core/CoordinateSystem.js';\nimport { mathMax, parsePositionSizeOption } from '../../util/number.js';\n// margin is [top, right, bottom, left]\nvar XY_TO_MARGIN_IDX = [[3, 1], [0, 2] // xyIdx 1 => 'y'\n];\nvar Grid = /** @class */function () {\n  function Grid(gridModel, ecModel, api) {\n    // FIXME:TS where used (different from registered type 'cartesian2d')?\n    this.type = 'grid';\n    this._coordsMap = {};\n    this._coordsList = [];\n    this._axesMap = {};\n    this._axesList = [];\n    this.axisPointerEnabled = true;\n    this.dimensions = cartesian2DDimensions;\n    this._initCartesian(gridModel, ecModel, api);\n    this.model = gridModel;\n  }\n  Grid.prototype.getRect = function () {\n    return this._rect;\n  };\n  Grid.prototype.update = function (ecModel, api) {\n    var axesMap = this._axesMap;\n    this._updateScale(ecModel, this.model);\n    function updateAxisTicks(axes) {\n      var alignTo;\n      // Axis is added in order of axisIndex.\n      var axesIndices = keys(axes);\n      var len = axesIndices.length;\n      if (!len) {\n        return;\n      }\n      var axisNeedsAlign = [];\n      // Process once and calculate the ticks for those don't use alignTicks.\n      for (var i = len - 1; i >= 0; i--) {\n        var idx = +axesIndices[i]; // Convert to number.\n        var axis = axes[idx];\n        var model = axis.model;\n        var scale = axis.scale;\n        if (\n        // Only value and log axis without interval support alignTicks.\n        isIntervalOrLogScale(scale) && model.get('alignTicks') && model.get('interval') == null) {\n          axisNeedsAlign.push(axis);\n        } else {\n          niceScaleExtent(scale, model);\n          if (isIntervalOrLogScale(scale)) {\n            // Can only align to interval or log axis.\n            alignTo = axis;\n          }\n        }\n      }\n      ;\n      // All axes has set alignTicks. Pick the first one.\n      // PENDING. Should we find the axis that both set interval, min, max and align to this one?\n      if (axisNeedsAlign.length) {\n        if (!alignTo) {\n          alignTo = axisNeedsAlign.pop();\n          niceScaleExtent(alignTo.scale, alignTo.model);\n        }\n        each(axisNeedsAlign, function (axis) {\n          alignScaleTicks(axis.scale, axis.model, alignTo.scale);\n        });\n      }\n    }\n    updateAxisTicks(axesMap.x);\n    updateAxisTicks(axesMap.y);\n    // Key: axisDim_axisIndex, value: boolean, whether onZero target.\n    var onZeroRecords = {};\n    each(axesMap.x, function (xAxis) {\n      fixAxisOnZero(axesMap, 'y', xAxis, onZeroRecords);\n    });\n    each(axesMap.y, function (yAxis) {\n      fixAxisOnZero(axesMap, 'x', yAxis, onZeroRecords);\n    });\n    // Resize again if containLabel is enabled\n    // FIXME It may cause getting wrong grid size in data processing stage\n    this.resize(this.model, api);\n  };\n  /**\n   * Resize the grid.\n   *\n   * [NOTE]\n   * If both \"grid.containLabel/grid.contain\" and pixel-required-data-processing (such as, \"dataSampling\")\n   * exist, circular dependency occurs in logic.\n   * The final compromised sequence is:\n   *  1. Calculate \"axis.extent\" (pixel extent) and AffineTransform based on only \"grid layout options\".\n   *      Not accurate if \"grid.containLabel/grid.contain\" is required, but it is a compromise to avoid\n   *      circular dependency.\n   *  2. Perform \"series data processing\" (where \"dataSampling\" requires \"axis.extent\").\n   *  3. Calculate \"scale.extent\" (data extent) based on \"processed series data\".\n   *  4. Modify \"axis.extent\" for \"grid.containLabel/grid.contain\":\n   *      4.1. Calculate \"axis labels\" based on \"scale.extent\".\n   *      4.2. Modify \"axis.extent\" by the bounding rects of \"axis labels and names\".\n   */\n  Grid.prototype.resize = function (gridModel, api, beforeDataProcessing) {\n    var layoutRef = createBoxLayoutReference(gridModel, api);\n    var gridRect = this._rect = getLayoutRect(gridModel.getBoxLayoutParams(), layoutRef.refContainer);\n    // PENDING: whether to support that if the input `coord` is out of the base coord sys,\n    //  do not render anything. At present, the behavior is undefined.\n    var axesMap = this._axesMap;\n    var coordsList = this._coordsList;\n    var optionContainLabel = gridModel.get('containLabel'); // No `.get(, true)` for backward compat.\n    updateAllAxisExtentTransByGridRect(axesMap, gridRect);\n    if (!beforeDataProcessing) {\n      var axisBuilderSharedCtx = createAxisBiulders(gridRect, coordsList, axesMap, optionContainLabel, api);\n      var noPxChange = void 0;\n      if (optionContainLabel) {\n        if (legacyLayOutGridByContainLabel) {\n          // console.time('legacyLayOutGridByContainLabel');\n          legacyLayOutGridByContainLabel(this._axesList, gridRect);\n          updateAllAxisExtentTransByGridRect(axesMap, gridRect);\n          // console.timeEnd('legacyLayOutGridByContainLabel');\n        } else {\n          if (process.env.NODE_ENV !== 'production') {\n            log('Specified `grid.containLabel` but no `use(LegacyGridContainLabel)`;' + 'use `grid.outerBounds` instead.', true);\n          }\n          noPxChange = layOutGridByOuterBounds(gridRect.clone(), 'axisLabel', null, gridRect, axesMap, axisBuilderSharedCtx, layoutRef);\n        }\n      } else {\n        var _a = prepareOuterBounds(gridModel, gridRect, layoutRef),\n          outerBoundsRect = _a.outerBoundsRect,\n          parsedOuterBoundsContain = _a.parsedOuterBoundsContain,\n          outerBoundsClamp = _a.outerBoundsClamp;\n        if (outerBoundsRect) {\n          // console.time('layOutGridByOuterBounds');\n          noPxChange = layOutGridByOuterBounds(outerBoundsRect, parsedOuterBoundsContain, outerBoundsClamp, gridRect, axesMap, axisBuilderSharedCtx, layoutRef);\n          // console.timeEnd('layOutGridByOuterBounds');\n        }\n      }\n      // console.time('buildAxesView_determine');\n      createOrUpdateAxesView(gridRect, axesMap, AxisTickLabelComputingKind.determine, null, noPxChange, layoutRef);\n      // console.timeEnd('buildAxesView_determine');\n    } // End of beforeDataProcessing\n    each(this._coordsList, function (coord) {\n      // Calculate affine matrix to accelerate the data to point transform.\n      // If all the axes scales are time or value.\n      coord.calcAffineTransform();\n    });\n  };\n  Grid.prototype.getAxis = function (dim, axisIndex) {\n    var axesMapOnDim = this._axesMap[dim];\n    if (axesMapOnDim != null) {\n      return axesMapOnDim[axisIndex || 0];\n    }\n  };\n  Grid.prototype.getAxes = function () {\n    return this._axesList.slice();\n  };\n  Grid.prototype.getCartesian = function (xAxisIndex, yAxisIndex) {\n    if (xAxisIndex != null && yAxisIndex != null) {\n      var key = 'x' + xAxisIndex + 'y' + yAxisIndex;\n      return this._coordsMap[key];\n    }\n    if (isObject(xAxisIndex)) {\n      yAxisIndex = xAxisIndex.yAxisIndex;\n      xAxisIndex = xAxisIndex.xAxisIndex;\n    }\n    for (var i = 0, coordList = this._coordsList; i < coordList.length; i++) {\n      if (coordList[i].getAxis('x').index === xAxisIndex || coordList[i].getAxis('y').index === yAxisIndex) {\n        return coordList[i];\n      }\n    }\n  };\n  Grid.prototype.getCartesians = function () {\n    return this._coordsList.slice();\n  };\n  /**\n   * @implements\n   */\n  Grid.prototype.convertToPixel = function (ecModel, finder, value) {\n    var target = this._findConvertTarget(finder);\n    return target.cartesian ? target.cartesian.dataToPoint(value) : target.axis ? target.axis.toGlobalCoord(target.axis.dataToCoord(value)) : null;\n  };\n  /**\n   * @implements\n   */\n  Grid.prototype.convertFromPixel = function (ecModel, finder, value) {\n    var target = this._findConvertTarget(finder);\n    return target.cartesian ? target.cartesian.pointToData(value) : target.axis ? target.axis.coordToData(target.axis.toLocalCoord(value)) : null;\n  };\n  Grid.prototype._findConvertTarget = function (finder) {\n    var seriesModel = finder.seriesModel;\n    var xAxisModel = finder.xAxisModel || seriesModel && seriesModel.getReferringComponents('xAxis', SINGLE_REFERRING).models[0];\n    var yAxisModel = finder.yAxisModel || seriesModel && seriesModel.getReferringComponents('yAxis', SINGLE_REFERRING).models[0];\n    var gridModel = finder.gridModel;\n    var coordsList = this._coordsList;\n    var cartesian;\n    var axis;\n    if (seriesModel) {\n      cartesian = seriesModel.coordinateSystem;\n      indexOf(coordsList, cartesian) < 0 && (cartesian = null);\n    } else if (xAxisModel && yAxisModel) {\n      cartesian = this.getCartesian(xAxisModel.componentIndex, yAxisModel.componentIndex);\n    } else if (xAxisModel) {\n      axis = this.getAxis('x', xAxisModel.componentIndex);\n    } else if (yAxisModel) {\n      axis = this.getAxis('y', yAxisModel.componentIndex);\n    }\n    // Lowest priority.\n    else if (gridModel) {\n      var grid = gridModel.coordinateSystem;\n      if (grid === this) {\n        cartesian = this._coordsList[0];\n      }\n    }\n    return {\n      cartesian: cartesian,\n      axis: axis\n    };\n  };\n  /**\n   * @implements\n   */\n  Grid.prototype.containPoint = function (point) {\n    var coord = this._coordsList[0];\n    if (coord) {\n      return coord.containPoint(point);\n    }\n  };\n  /**\n   * Initialize cartesian coordinate systems\n   */\n  Grid.prototype._initCartesian = function (gridModel, ecModel, api) {\n    var _this = this;\n    var grid = this;\n    var axisPositionUsed = {\n      left: false,\n      right: false,\n      top: false,\n      bottom: false\n    };\n    var axesMap = {\n      x: {},\n      y: {}\n    };\n    var axesCount = {\n      x: 0,\n      y: 0\n    };\n    // Create axis\n    ecModel.eachComponent('xAxis', createAxisCreator('x'), this);\n    ecModel.eachComponent('yAxis', createAxisCreator('y'), this);\n    if (!axesCount.x || !axesCount.y) {\n      // Roll back when there no either x or y axis\n      this._axesMap = {};\n      this._axesList = [];\n      return;\n    }\n    this._axesMap = axesMap;\n    // Create cartesian2d\n    each(axesMap.x, function (xAxis, xAxisIndex) {\n      each(axesMap.y, function (yAxis, yAxisIndex) {\n        var key = 'x' + xAxisIndex + 'y' + yAxisIndex;\n        var cartesian = new Cartesian2D(key);\n        cartesian.master = _this;\n        cartesian.model = gridModel;\n        _this._coordsMap[key] = cartesian;\n        _this._coordsList.push(cartesian);\n        cartesian.addAxis(xAxis);\n        cartesian.addAxis(yAxis);\n      });\n    });\n    function createAxisCreator(dimName) {\n      return function (axisModel, idx) {\n        if (!isAxisUsedInTheGrid(axisModel, gridModel)) {\n          return;\n        }\n        var axisPosition = axisModel.get('position');\n        if (dimName === 'x') {\n          // Fix position\n          if (axisPosition !== 'top' && axisPosition !== 'bottom') {\n            // Default bottom of X\n            axisPosition = axisPositionUsed.bottom ? 'top' : 'bottom';\n          }\n        } else {\n          // Fix position\n          if (axisPosition !== 'left' && axisPosition !== 'right') {\n            // Default left of Y\n            axisPosition = axisPositionUsed.left ? 'right' : 'left';\n          }\n        }\n        axisPositionUsed[axisPosition] = true;\n        var axis = new Axis2D(dimName, createScaleByModel(axisModel), [0, 0], axisModel.get('type'), axisPosition);\n        var isCategory = axis.type === 'category';\n        axis.onBand = isCategory && axisModel.get('boundaryGap');\n        axis.inverse = axisModel.get('inverse');\n        // Inject axis into axisModel\n        axisModel.axis = axis;\n        // Inject axisModel into axis\n        axis.model = axisModel;\n        // Inject grid info axis\n        axis.grid = grid;\n        // Index of axis, can be used as key\n        axis.index = idx;\n        grid._axesList.push(axis);\n        axesMap[dimName][idx] = axis;\n        axesCount[dimName]++;\n      };\n    }\n  };\n  /**\n   * Update cartesian properties from series.\n   */\n  Grid.prototype._updateScale = function (ecModel, gridModel) {\n    // Reset scale\n    each(this._axesList, function (axis) {\n      axis.scale.setExtent(Infinity, -Infinity);\n      if (axis.type === 'category') {\n        var categorySortInfo = axis.model.get('categorySortInfo');\n        axis.scale.setSortInfo(categorySortInfo);\n      }\n    });\n    ecModel.eachSeries(function (seriesModel) {\n      // If pie (or other similar series) use cartesian2d, the unionExtent logic below is\n      // wrong, therefore skip it temporarily. See also in `defaultAxisExtentFromData.ts`.\n      // TODO: support union extent in this case.\n      if (isCartesian2DInjectedAsDataCoordSys(seriesModel)) {\n        var axesModelMap = findAxisModels(seriesModel);\n        var xAxisModel = axesModelMap.xAxisModel;\n        var yAxisModel = axesModelMap.yAxisModel;\n        if (!isAxisUsedInTheGrid(xAxisModel, gridModel) || !isAxisUsedInTheGrid(yAxisModel, gridModel)) {\n          return;\n        }\n        var cartesian = this.getCartesian(xAxisModel.componentIndex, yAxisModel.componentIndex);\n        var data = seriesModel.getData();\n        var xAxis = cartesian.getAxis('x');\n        var yAxis = cartesian.getAxis('y');\n        unionExtent(data, xAxis);\n        unionExtent(data, yAxis);\n      }\n    }, this);\n    function unionExtent(data, axis) {\n      each(getDataDimensionsOnAxis(data, axis.dim), function (dim) {\n        axis.scale.unionExtentFromData(data, dim);\n      });\n    }\n  };\n  /**\n   * @param dim 'x' or 'y' or 'auto' or null/undefined\n   */\n  Grid.prototype.getTooltipAxes = function (dim) {\n    var baseAxes = [];\n    var otherAxes = [];\n    each(this.getCartesians(), function (cartesian) {\n      var baseAxis = dim != null && dim !== 'auto' ? cartesian.getAxis(dim) : cartesian.getBaseAxis();\n      var otherAxis = cartesian.getOtherAxis(baseAxis);\n      indexOf(baseAxes, baseAxis) < 0 && baseAxes.push(baseAxis);\n      indexOf(otherAxes, otherAxis) < 0 && otherAxes.push(otherAxis);\n    });\n    return {\n      baseAxes: baseAxes,\n      otherAxes: otherAxes\n    };\n  };\n  Grid.create = function (ecModel, api) {\n    var grids = [];\n    ecModel.eachComponent('grid', function (gridModel, idx) {\n      var grid = new Grid(gridModel, ecModel, api);\n      grid.name = 'grid_' + idx;\n      // dataSampling requires axis extent, so resize\n      // should be performed in create stage.\n      grid.resize(gridModel, api, true);\n      gridModel.coordinateSystem = grid;\n      grids.push(grid);\n    });\n    // Inject the coordinateSystems into seriesModel\n    ecModel.eachSeries(function (seriesModel) {\n      injectCoordSysByOption({\n        targetModel: seriesModel,\n        coordSysType: 'cartesian2d',\n        coordSysProvider: coordSysProvider\n      });\n      function coordSysProvider() {\n        var axesModelMap = findAxisModels(seriesModel);\n        var xAxisModel = axesModelMap.xAxisModel;\n        var yAxisModel = axesModelMap.yAxisModel;\n        var gridModel = xAxisModel.getCoordSysModel();\n        if (process.env.NODE_ENV !== 'production') {\n          if (!gridModel) {\n            throw new Error('Grid \"' + retrieve3(xAxisModel.get('gridIndex'), xAxisModel.get('gridId'), 0) + '\" not found');\n          }\n          if (xAxisModel.getCoordSysModel() !== yAxisModel.getCoordSysModel()) {\n            throw new Error('xAxis and yAxis must use the same grid');\n          }\n        }\n        var grid = gridModel.coordinateSystem;\n        return grid.getCartesian(xAxisModel.componentIndex, yAxisModel.componentIndex);\n      }\n    });\n    return grids;\n  };\n  // For deciding which dimensions to use when creating list data\n  Grid.dimensions = cartesian2DDimensions;\n  return Grid;\n}();\n/**\n * Check if the axis is used in the specified grid.\n */\nfunction isAxisUsedInTheGrid(axisModel, gridModel) {\n  return axisModel.getCoordSysModel() === gridModel;\n}\nfunction fixAxisOnZero(axesMap, otherAxisDim, axis,\n// Key: see `getOnZeroRecordKey`\nonZeroRecords) {\n  axis.getAxesOnZeroOf = function () {\n    // TODO: onZero of multiple axes.\n    return otherAxisOnZeroOf ? [otherAxisOnZeroOf] : [];\n  };\n  // onZero can not be enabled in these two situations:\n  // 1. When any other axis is a category axis.\n  // 2. When no axis is cross 0 point.\n  var otherAxes = axesMap[otherAxisDim];\n  var otherAxisOnZeroOf;\n  var axisModel = axis.model;\n  var onZero = axisModel.get(['axisLine', 'onZero']);\n  var onZeroAxisIndex = axisModel.get(['axisLine', 'onZeroAxisIndex']);\n  if (!onZero) {\n    return;\n  }\n  // If target axis is specified.\n  if (onZeroAxisIndex != null) {\n    if (canOnZeroToAxis(otherAxes[onZeroAxisIndex])) {\n      otherAxisOnZeroOf = otherAxes[onZeroAxisIndex];\n    }\n  } else {\n    // Find the first available other axis.\n    for (var idx in otherAxes) {\n      if (otherAxes.hasOwnProperty(idx) && canOnZeroToAxis(otherAxes[idx])\n      // Consider that two Y axes on one value axis,\n      // if both onZero, the two Y axes overlap.\n      && !onZeroRecords[getOnZeroRecordKey(otherAxes[idx])]) {\n        otherAxisOnZeroOf = otherAxes[idx];\n        break;\n      }\n    }\n  }\n  if (otherAxisOnZeroOf) {\n    onZeroRecords[getOnZeroRecordKey(otherAxisOnZeroOf)] = true;\n  }\n  function getOnZeroRecordKey(axis) {\n    return axis.dim + '_' + axis.index;\n  }\n}\nfunction canOnZeroToAxis(axis) {\n  return axis && axis.type !== 'category' && axis.type !== 'time' && ifAxisCrossZero(axis);\n}\nfunction updateAxisTransform(axis, coordBase) {\n  var axisExtent = axis.getExtent();\n  var axisExtentSum = axisExtent[0] + axisExtent[1];\n  // Fast transform\n  axis.toGlobalCoord = axis.dim === 'x' ? function (coord) {\n    return coord + coordBase;\n  } : function (coord) {\n    return axisExtentSum - coord + coordBase;\n  };\n  axis.toLocalCoord = axis.dim === 'x' ? function (coord) {\n    return coord - coordBase;\n  } : function (coord) {\n    return axisExtentSum - coord + coordBase;\n  };\n}\nfunction updateAllAxisExtentTransByGridRect(axesMap, gridRect) {\n  each(axesMap.x, function (axis) {\n    return updateAxisExtentTransByGridRect(axis, gridRect.x, gridRect.width);\n  });\n  each(axesMap.y, function (axis) {\n    return updateAxisExtentTransByGridRect(axis, gridRect.y, gridRect.height);\n  });\n}\nfunction updateAxisExtentTransByGridRect(axis, gridXY, gridWH) {\n  var extent = [0, gridWH];\n  var idx = axis.inverse ? 1 : 0;\n  axis.setExtent(extent[idx], extent[1 - idx]);\n  updateAxisTransform(axis, gridXY);\n}\nvar legacyLayOutGridByContainLabel;\nexport function registerLegacyGridContainLabelImpl(impl) {\n  legacyLayOutGridByContainLabel = impl;\n}\n// Return noPxChange.\nfunction layOutGridByOuterBounds(outerBoundsRect, outerBoundsContain, outerBoundsClamp, gridRect, axesMap, axisBuilderSharedCtx, layoutRef) {\n  if (process.env.NODE_ENV !== 'production') {\n    assert(outerBoundsContain === 'all' || outerBoundsContain === 'axisLabel');\n  }\n  // Assume `updateAllAxisExtentTransByGridRect` has been performed once before this call.\n  // [NOTE]:\n  // - The bounding rect of the axis elements might be sensitve to variations in `axis.extent` due to strategies\n  //  like hideOverlap/moveOverlap. @see the comment in `LabelLayoutBase['suggestIgnore']`.\n  // - The final `gridRect` might be slightly smaller than the ideally expected result if labels are giant and\n  //  get hidden due to overlapping. More iterations could improve precision, but not performant. We consider\n  //  the current result acceptable, since no alignment among charts can be guaranteed when using this feature.\n  createOrUpdateAxesView(gridRect, axesMap, AxisTickLabelComputingKind.estimate, outerBoundsContain, false, layoutRef);\n  var margin = [0, 0, 0, 0];\n  fillLabelNameOverflowOnOneDimension(0);\n  fillLabelNameOverflowOnOneDimension(1);\n  // If axis is blank, no label can be used to detect overflow.\n  // gridRect itself should not overflow.\n  fillMarginOnOneDimension(gridRect, 0, NaN);\n  fillMarginOnOneDimension(gridRect, 1, NaN);\n  var noPxChange = find(margin, function (item) {\n    return item > 0;\n  }) == null;\n  expandOrShrinkRect(gridRect, margin, true, true, outerBoundsClamp);\n  updateAllAxisExtentTransByGridRect(axesMap, gridRect);\n  return noPxChange;\n  function fillLabelNameOverflowOnOneDimension(xyIdx) {\n    each(axesMap[XY[xyIdx]], function (axis) {\n      if (!shouldAxisShow(axis.model)) {\n        return;\n      }\n      // FIXME: zr Group.union may wrongly union (0, 0, 0, 0) and not performant.\n      // unionRect.union(axis.axisBuilder.group.getBoundingRect());\n      // If ussing Group.getBoundingRect to calculate shrink space, it is not strictly accurate when\n      // the outermost label is ignored and the secondary label is very long and contribute to the\n      // union extension:\n      //      -|---|---|---|\n      //         1,000,000,000\n      // Therefore we calculate them one by one.\n      // Also considered axis may be blank or no labels.\n      var sharedRecord = axisBuilderSharedCtx.ensureRecord(axis.model);\n      var labelInfoList = sharedRecord.labelInfoList;\n      if (labelInfoList) {\n        for (var idx = 0; idx < labelInfoList.length; idx++) {\n          var labelInfo = labelInfoList[idx];\n          var proportion = axis.scale.normalize(getLabelInner(labelInfo.label).tickValue);\n          proportion = xyIdx === 1 ? 1 - proportion : proportion;\n          // xAxis use proportion on x, yAxis use proprotion on y, otherwise not.\n          fillMarginOnOneDimension(labelInfo.rect, xyIdx, proportion);\n          fillMarginOnOneDimension(labelInfo.rect, 1 - xyIdx, NaN);\n        }\n      }\n      var nameLayout = sharedRecord.nameLayout;\n      if (nameLayout) {\n        var proportion = isNameLocationCenter(sharedRecord.nameLocation) ? 0.5 : NaN;\n        fillMarginOnOneDimension(nameLayout.rect, xyIdx, proportion);\n        fillMarginOnOneDimension(nameLayout.rect, 1 - xyIdx, NaN);\n      }\n    });\n  }\n  function fillMarginOnOneDimension(itemRect, xyIdx, proportion // NaN mean no use proportion\n  ) {\n    var overflow1 = outerBoundsRect[XY[xyIdx]] - itemRect[XY[xyIdx]];\n    var overflow2 = itemRect[WH[xyIdx]] + itemRect[XY[xyIdx]] - (outerBoundsRect[WH[xyIdx]] + outerBoundsRect[XY[xyIdx]]);\n    overflow1 = applyProportion(overflow1, 1 - proportion);\n    overflow2 = applyProportion(overflow2, proportion);\n    var minIdx = XY_TO_MARGIN_IDX[xyIdx][0];\n    var maxIdx = XY_TO_MARGIN_IDX[xyIdx][1];\n    margin[minIdx] = mathMax(margin[minIdx], overflow1);\n    margin[maxIdx] = mathMax(margin[maxIdx], overflow2);\n  }\n  function applyProportion(overflow, proportion) {\n    // proportion is not likely to near zero. If so, give up shrink\n    if (overflow > 0 && !eqNaN(proportion) && proportion > 1e-4) {\n      overflow /= proportion;\n    }\n    return overflow;\n  }\n}\nfunction createAxisBiulders(gridRect, cartesians, axesMap, optionContainLabel, api) {\n  var axisBuilderSharedCtx = new AxisBuilderSharedContext(resolveAxisNameOverlapForGrid);\n  each(axesMap, function (axisList) {\n    return each(axisList, function (axis) {\n      if (shouldAxisShow(axis.model)) {\n        // See `AxisBaseOptionCommon['nameMoveOverlap']`.\n        var defaultNameMoveOverlap = !optionContainLabel;\n        axis.axisBuilder = createCartesianAxisViewCommonPartBuilder(gridRect, cartesians, axis.model, api, axisBuilderSharedCtx, defaultNameMoveOverlap);\n      }\n    });\n  });\n  return axisBuilderSharedCtx;\n}\n/**\n * Promote the axis-elements-building from \"view render\" stage to \"coordinate system resize\" stage.\n * This is aimed to resovle overlap across multiple axes, since currently it's hard to reconcile\n * multiple axes in \"view render\" stage.\n *\n * [CAUTION] But this promotion assumes that the subsequent \"visual mapping\" stage does not affect\n * this axis-elements-building; otherwise we have to refactor it again.\n */\nfunction createOrUpdateAxesView(gridRect, axesMap, kind, outerBoundsContain, noPxChange, layoutRef) {\n  var isDetermine = kind === AxisTickLabelComputingKind.determine;\n  each(axesMap, function (axisList) {\n    return each(axisList, function (axis) {\n      if (shouldAxisShow(axis.model)) {\n        updateCartesianAxisViewCommonPartBuilder(axis.axisBuilder, gridRect, axis.model);\n        axis.axisBuilder.build(isDetermine ? {\n          axisTickLabelDetermine: true\n        } : {\n          axisTickLabelEstimate: true\n        }, {\n          noPxChange: noPxChange\n        });\n      }\n    });\n  });\n  var nameMarginLevelMap = {\n    x: 0,\n    y: 0\n  };\n  calcNameMarginLevel(0);\n  calcNameMarginLevel(1);\n  function calcNameMarginLevel(xyIdx) {\n    nameMarginLevelMap[XY[1 - xyIdx]] = gridRect[WH[xyIdx]] <= layoutRef.refContainer[WH[xyIdx]] * 0.5 ? 0 : 1 - xyIdx === 1 ? 2 : 1;\n  }\n  each(axesMap, function (axisList, xy) {\n    return each(axisList, function (axis) {\n      if (shouldAxisShow(axis.model)) {\n        if (outerBoundsContain === 'all' || isDetermine) {\n          // To resolve overlap, `axisName` layout depends on `axisTickLabel` layout result\n          // (all of the axes of the same `grid`; consider multiple x or y axes).\n          axis.axisBuilder.build({\n            axisName: true\n          }, {\n            nameMarginLevel: nameMarginLevelMap[xy]\n          });\n        }\n        if (isDetermine) {\n          axis.axisBuilder.build({\n            axisLine: true\n          });\n        }\n      }\n    });\n  });\n}\nfunction prepareOuterBounds(gridModel, rawRridRect, layoutRef) {\n  var outerBoundsRect;\n  var optionOuterBoundsMode = gridModel.get('outerBoundsMode', true);\n  if (optionOuterBoundsMode === 'same') {\n    outerBoundsRect = rawRridRect.clone();\n  } else if (optionOuterBoundsMode == null || optionOuterBoundsMode === 'auto') {\n    outerBoundsRect = getLayoutRect(gridModel.get('outerBounds', true) || OUTER_BOUNDS_DEFAULT, layoutRef.refContainer);\n  } else if (optionOuterBoundsMode !== 'none') {\n    if (process.env.NODE_ENV !== 'production') {\n      error(\"Invalid grid[\" + gridModel.componentIndex + \"].outerBoundsMode.\");\n    }\n  }\n  var optionOuterBoundsContain = gridModel.get('outerBoundsContain', true);\n  var parsedOuterBoundsContain;\n  if (optionOuterBoundsContain == null || optionOuterBoundsContain === 'auto') {\n    parsedOuterBoundsContain = 'all';\n  } else if (indexOf(['all', 'axisLabel'], optionOuterBoundsContain) < 0) {\n    if (process.env.NODE_ENV !== 'production') {\n      error(\"Invalid grid[\" + gridModel.componentIndex + \"].outerBoundsContain.\");\n    }\n    parsedOuterBoundsContain = 'all';\n  } else {\n    parsedOuterBoundsContain = optionOuterBoundsContain;\n  }\n  var outerBoundsClamp = [parsePositionSizeOption(retrieve2(gridModel.get('outerBoundsClampWidth', true), OUTER_BOUNDS_CLAMP_DEFAULT[0]), rawRridRect.width), parsePositionSizeOption(retrieve2(gridModel.get('outerBoundsClampHeight', true), OUTER_BOUNDS_CLAMP_DEFAULT[1]), rawRridRect.height)];\n  return {\n    outerBoundsRect: outerBoundsRect,\n    parsedOuterBoundsContain: parsedOuterBoundsContain,\n    outerBoundsClamp: outerBoundsClamp\n  };\n}\nvar resolveAxisNameOverlapForGrid = function (cfg, ctx, axisModel, nameLayoutInfo, nameMoveDirVec, thisRecord) {\n  var perpendicularDim = axisModel.axis.dim === 'x' ? 'y' : 'x';\n  resolveAxisNameOverlapDefault(cfg, ctx, axisModel, nameLayoutInfo, nameMoveDirVec, thisRecord);\n  // If nameLocation 'center', and there are multiple axes parallel to this axis, do not adjust by\n  //  other axes, because the axis name should be close to its axis line as much as possible even\n  //  if overlapping; otherwise it might cause misleading.\n  // If nameLocation 'center', do not adjust by perpendicular axes, since they are not likely to overlap.\n  // If nameLocation 'start'/'end', move name within the same direction to escape overlap with the\n  //  perpendicular axes.\n  if (!isNameLocationCenter(cfg.nameLocation)) {\n    each(ctx.recordMap[perpendicularDim], function (perpenRecord) {\n      // perpendicular axis may be no name.\n      if (perpenRecord && perpenRecord.labelInfoList && perpenRecord.dirVec) {\n        moveIfOverlapByLinearLabels(perpenRecord.labelInfoList, perpenRecord.dirVec, nameLayoutInfo, nameMoveDirVec);\n      }\n    });\n  }\n};\nexport default Grid;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport Model from '../../model/Model.js';\nimport { each, curry, clone, defaults, isArray, indexOf } from 'zrender/lib/core/util.js';\n// Build axisPointerModel, mergin tooltip.axisPointer model for each axis.\n// allAxesInfo should be updated when setOption performed.\nexport function collect(ecModel, api) {\n  var result = {\n    /**\n     * key: makeKey(axis.model)\n     * value: {\n     *      axis,\n     *      coordSys,\n     *      axisPointerModel,\n     *      triggerTooltip,\n     *      triggerEmphasis,\n     *      involveSeries,\n     *      snap,\n     *      seriesModels,\n     *      seriesDataCount\n     * }\n     */\n    axesInfo: {},\n    seriesInvolved: false,\n    /**\n     * key: makeKey(coordSys.model)\n     * value: Object: key makeKey(axis.model), value: axisInfo\n     */\n    coordSysAxesInfo: {},\n    coordSysMap: {}\n  };\n  collectAxesInfo(result, ecModel, api);\n  // Check seriesInvolved for performance, in case too many series in some chart.\n  result.seriesInvolved && collectSeriesInfo(result, ecModel);\n  return result;\n}\nfunction collectAxesInfo(result, ecModel, api) {\n  var globalTooltipModel = ecModel.getComponent('tooltip');\n  var globalAxisPointerModel = ecModel.getComponent('axisPointer');\n  // links can only be set on global.\n  var linksOption = globalAxisPointerModel.get('link', true) || [];\n  var linkGroups = [];\n  // Collect axes info.\n  each(api.getCoordinateSystems(), function (coordSys) {\n    // Some coordinate system do not support axes, like geo.\n    if (!coordSys.axisPointerEnabled) {\n      return;\n    }\n    var coordSysKey = makeKey(coordSys.model);\n    var axesInfoInCoordSys = result.coordSysAxesInfo[coordSysKey] = {};\n    result.coordSysMap[coordSysKey] = coordSys;\n    // Set tooltip (like 'cross') is a convenient way to show axisPointer\n    // for user. So we enable setting tooltip on coordSys model.\n    var coordSysModel = coordSys.model;\n    var baseTooltipModel = coordSysModel.getModel('tooltip', globalTooltipModel);\n    each(coordSys.getAxes(), curry(saveTooltipAxisInfo, false, null));\n    // If axis tooltip used, choose tooltip axis for each coordSys.\n    // Notice this case: coordSys is `grid` but not `cartesian2D` here.\n    if (coordSys.getTooltipAxes && globalTooltipModel\n    // If tooltip.showContent is set as false, tooltip will not\n    // show but axisPointer will show as normal.\n    && baseTooltipModel.get('show')) {\n      // Compatible with previous logic. But series.tooltip.trigger: 'axis'\n      // or series.data[n].tooltip.trigger: 'axis' are not support any more.\n      var triggerAxis = baseTooltipModel.get('trigger') === 'axis';\n      var cross = baseTooltipModel.get(['axisPointer', 'type']) === 'cross';\n      var tooltipAxes = coordSys.getTooltipAxes(baseTooltipModel.get(['axisPointer', 'axis']));\n      if (triggerAxis || cross) {\n        each(tooltipAxes.baseAxes, curry(saveTooltipAxisInfo, cross ? 'cross' : true, triggerAxis));\n      }\n      if (cross) {\n        each(tooltipAxes.otherAxes, curry(saveTooltipAxisInfo, 'cross', false));\n      }\n    }\n    // fromTooltip: true | false | 'cross'\n    // triggerTooltip: true | false | null\n    function saveTooltipAxisInfo(fromTooltip, triggerTooltip, axis) {\n      var axisPointerModel = axis.model.getModel('axisPointer', globalAxisPointerModel);\n      var axisPointerShow = axisPointerModel.get('show');\n      if (!axisPointerShow || axisPointerShow === 'auto' && !fromTooltip && !isHandleTrigger(axisPointerModel)) {\n        return;\n      }\n      if (triggerTooltip == null) {\n        triggerTooltip = axisPointerModel.get('triggerTooltip');\n      }\n      axisPointerModel = fromTooltip ? makeAxisPointerModel(axis, baseTooltipModel, globalAxisPointerModel, ecModel, fromTooltip, triggerTooltip) : axisPointerModel;\n      var snap = axisPointerModel.get('snap');\n      var triggerEmphasis = axisPointerModel.get('triggerEmphasis');\n      var axisKey = makeKey(axis.model);\n      var involveSeries = triggerTooltip || snap || axis.type === 'category';\n      // If result.axesInfo[key] exist, override it (tooltip has higher priority).\n      var axisInfo = result.axesInfo[axisKey] = {\n        key: axisKey,\n        axis: axis,\n        coordSys: coordSys,\n        axisPointerModel: axisPointerModel,\n        triggerTooltip: triggerTooltip,\n        triggerEmphasis: triggerEmphasis,\n        involveSeries: involveSeries,\n        snap: snap,\n        useHandle: isHandleTrigger(axisPointerModel),\n        seriesModels: [],\n        linkGroup: null\n      };\n      axesInfoInCoordSys[axisKey] = axisInfo;\n      result.seriesInvolved = result.seriesInvolved || involveSeries;\n      var groupIndex = getLinkGroupIndex(linksOption, axis);\n      if (groupIndex != null) {\n        var linkGroup = linkGroups[groupIndex] || (linkGroups[groupIndex] = {\n          axesInfo: {}\n        });\n        linkGroup.axesInfo[axisKey] = axisInfo;\n        linkGroup.mapper = linksOption[groupIndex].mapper;\n        axisInfo.linkGroup = linkGroup;\n      }\n    }\n  });\n}\nfunction makeAxisPointerModel(axis, baseTooltipModel, globalAxisPointerModel, ecModel, fromTooltip, triggerTooltip) {\n  var tooltipAxisPointerModel = baseTooltipModel.getModel('axisPointer');\n  var fields = ['type', 'snap', 'lineStyle', 'shadowStyle', 'label', 'animation', 'animationDurationUpdate', 'animationEasingUpdate', 'z'];\n  var volatileOption = {};\n  each(fields, function (field) {\n    volatileOption[field] = clone(tooltipAxisPointerModel.get(field));\n  });\n  // category axis do not auto snap, otherwise some tick that do not\n  // has value can not be hovered. value/time/log axis default snap if\n  // triggered from tooltip and trigger tooltip.\n  volatileOption.snap = axis.type !== 'category' && !!triggerTooltip;\n  // Compatible with previous behavior, tooltip axis does not show label by default.\n  // Only these properties can be overridden from tooltip to axisPointer.\n  if (tooltipAxisPointerModel.get('type') === 'cross') {\n    volatileOption.type = 'line';\n  }\n  var labelOption = volatileOption.label || (volatileOption.label = {});\n  // Follow the convention, do not show label when triggered by tooltip by default.\n  labelOption.show == null && (labelOption.show = false);\n  if (fromTooltip === 'cross') {\n    // When 'cross', both axes show labels.\n    var tooltipAxisPointerLabelShow = tooltipAxisPointerModel.get(['label', 'show']);\n    labelOption.show = tooltipAxisPointerLabelShow != null ? tooltipAxisPointerLabelShow : true;\n    // If triggerTooltip, this is a base axis, which should better not use cross style\n    // (cross style is dashed by default)\n    if (!triggerTooltip) {\n      var crossStyle = volatileOption.lineStyle = tooltipAxisPointerModel.get('crossStyle');\n      crossStyle && defaults(labelOption, crossStyle.textStyle);\n    }\n  }\n  return axis.model.getModel('axisPointer', new Model(volatileOption, globalAxisPointerModel, ecModel));\n}\nfunction collectSeriesInfo(result, ecModel) {\n  // Prepare data for axis trigger\n  ecModel.eachSeries(function (seriesModel) {\n    // Notice this case: this coordSys is `cartesian2D` but not `grid`.\n    var coordSys = seriesModel.coordinateSystem;\n    var seriesTooltipTrigger = seriesModel.get(['tooltip', 'trigger'], true);\n    var seriesTooltipShow = seriesModel.get(['tooltip', 'show'], true);\n    if (!coordSys || !coordSys.model // PENDING: radar do not have a model.\n    || seriesTooltipTrigger === 'none' || seriesTooltipTrigger === false || seriesTooltipTrigger === 'item' || seriesTooltipShow === false || seriesModel.get(['axisPointer', 'show'], true) === false) {\n      return;\n    }\n    each(result.coordSysAxesInfo[makeKey(coordSys.model)], function (axisInfo) {\n      var axis = axisInfo.axis;\n      if (coordSys.getAxis(axis.dim) === axis) {\n        axisInfo.seriesModels.push(seriesModel);\n        axisInfo.seriesDataCount == null && (axisInfo.seriesDataCount = 0);\n        axisInfo.seriesDataCount += seriesModel.getData().count();\n      }\n    });\n  });\n}\n/**\n * For example:\n * {\n *     axisPointer: {\n *         links: [{\n *             xAxisIndex: [2, 4],\n *             yAxisIndex: 'all'\n *         }, {\n *             xAxisId: ['a5', 'a7'],\n *             xAxisName: 'xxx'\n *         }]\n *     }\n * }\n */\nfunction getLinkGroupIndex(linksOption, axis) {\n  var axisModel = axis.model;\n  var dim = axis.dim;\n  for (var i = 0; i < linksOption.length; i++) {\n    var linkOption = linksOption[i] || {};\n    if (checkPropInLink(linkOption[dim + 'AxisId'], axisModel.id) || checkPropInLink(linkOption[dim + 'AxisIndex'], axisModel.componentIndex) || checkPropInLink(linkOption[dim + 'AxisName'], axisModel.name)) {\n      return i;\n    }\n  }\n}\nfunction checkPropInLink(linkPropValue, axisPropValue) {\n  return linkPropValue === 'all' || isArray(linkPropValue) && indexOf(linkPropValue, axisPropValue) >= 0 || linkPropValue === axisPropValue;\n}\nexport function fixValue(axisModel) {\n  var axisInfo = getAxisInfo(axisModel);\n  if (!axisInfo) {\n    return;\n  }\n  var axisPointerModel = axisInfo.axisPointerModel;\n  var scale = axisInfo.axis.scale;\n  var option = axisPointerModel.option;\n  var status = axisPointerModel.get('status');\n  var value = axisPointerModel.get('value');\n  // Parse init value for category and time axis.\n  if (value != null) {\n    value = scale.parse(value);\n  }\n  var useHandle = isHandleTrigger(axisPointerModel);\n  // If `handle` used, `axisPointer` will always be displayed, so value\n  // and status should be initialized.\n  if (status == null) {\n    option.status = useHandle ? 'show' : 'hide';\n  }\n  var extent = scale.getExtent().slice();\n  extent[0] > extent[1] && extent.reverse();\n  if (\n  // Pick a value on axis when initializing.\n  value == null\n  // If both `handle` and `dataZoom` are used, value may be out of axis extent,\n  // where we should re-pick a value to keep `handle` displaying normally.\n  || value > extent[1]) {\n    // Make handle displayed on the end of the axis when init, which looks better.\n    value = extent[1];\n  }\n  if (value < extent[0]) {\n    value = extent[0];\n  }\n  option.value = value;\n  if (useHandle) {\n    option.status = axisInfo.axis.scale.isBlank() ? 'hide' : 'show';\n  }\n}\nexport function getAxisInfo(axisModel) {\n  var coordSysAxesInfo = (axisModel.ecModel.getComponent('axisPointer') || {}).coordSysAxesInfo;\n  return coordSysAxesInfo && coordSysAxesInfo.axesInfo[makeKey(axisModel)];\n}\nexport function getAxisPointerModel(axisModel) {\n  var axisInfo = getAxisInfo(axisModel);\n  return axisInfo && axisInfo.axisPointerModel;\n}\nfunction isHandleTrigger(axisPointerModel) {\n  return !!axisPointerModel.get(['handle', 'show']);\n}\n/**\n * @param {module:echarts/model/Model} model\n * @return {string} unique key\n */\nexport function makeKey(model) {\n  return model.type + '||' + model.id;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as axisPointerModelHelper from '../axisPointer/modelHelper.js';\nimport ComponentView from '../../view/Component.js';\nvar axisPointerClazz = {};\n/**\n * Base class of AxisView.\n */\nvar AxisView = /** @class */function (_super) {\n  __extends(AxisView, _super);\n  function AxisView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = AxisView.type;\n    return _this;\n  }\n  /**\n   * @override\n   */\n  AxisView.prototype.render = function (axisModel, ecModel, api, payload) {\n    // FIXME\n    // This process should proformed after coordinate systems updated\n    // (axis scale updated), and should be performed each time update.\n    // So put it here temporarily, although it is not appropriate to\n    // put a model-writing procedure in `view`.\n    this.axisPointerClass && axisPointerModelHelper.fixValue(axisModel);\n    _super.prototype.render.apply(this, arguments);\n    this._doUpdateAxisPointerClass(axisModel, api, true);\n  };\n  /**\n   * Action handler.\n   */\n  AxisView.prototype.updateAxisPointer = function (axisModel, ecModel, api, payload) {\n    this._doUpdateAxisPointerClass(axisModel, api, false);\n  };\n  /**\n   * @override\n   */\n  AxisView.prototype.remove = function (ecModel, api) {\n    var axisPointer = this._axisPointer;\n    axisPointer && axisPointer.remove(api);\n  };\n  /**\n   * @override\n   */\n  AxisView.prototype.dispose = function (ecModel, api) {\n    this._disposeAxisPointer(api);\n    _super.prototype.dispose.apply(this, arguments);\n  };\n  AxisView.prototype._doUpdateAxisPointerClass = function (axisModel, api, forceRender) {\n    var Clazz = AxisView.getAxisPointerClass(this.axisPointerClass);\n    if (!Clazz) {\n      return;\n    }\n    var axisPointerModel = axisPointerModelHelper.getAxisPointerModel(axisModel);\n    axisPointerModel ? (this._axisPointer || (this._axisPointer = new Clazz())).render(axisModel, axisPointerModel, api, forceRender) : this._disposeAxisPointer(api);\n  };\n  AxisView.prototype._disposeAxisPointer = function (api) {\n    this._axisPointer && this._axisPointer.dispose(api);\n    this._axisPointer = null;\n  };\n  AxisView.registerAxisPointerClass = function (type, clazz) {\n    if (process.env.NODE_ENV !== 'production') {\n      if (axisPointerClazz[type]) {\n        throw new Error('axisPointer ' + type + ' exists');\n      }\n    }\n    axisPointerClazz[type] = clazz;\n  };\n  ;\n  AxisView.getAxisPointerClass = function (type) {\n    return type && axisPointerClazz[type];\n  };\n  ;\n  AxisView.type = 'axis';\n  return AxisView;\n}(ComponentView);\nexport default AxisView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as graphic from '../../util/graphic.js';\nimport { makeInner } from '../../util/model.js';\nvar inner = makeInner();\nexport function rectCoordAxisBuildSplitArea(axisView, axisGroup, axisModel, gridModel) {\n  var axis = axisModel.axis;\n  if (axis.scale.isBlank()) {\n    return;\n  }\n  // TODO: TYPE\n  var splitAreaModel = axisModel.getModel('splitArea');\n  var areaStyleModel = splitAreaModel.getModel('areaStyle');\n  var areaColors = areaStyleModel.get('color');\n  var gridRect = gridModel.coordinateSystem.getRect();\n  var ticksCoords = axis.getTicksCoords({\n    tickModel: splitAreaModel,\n    clamp: true,\n    breakTicks: 'none',\n    pruneByBreak: 'preserve_extent_bound'\n  });\n  if (!ticksCoords.length) {\n    return;\n  }\n  // For Making appropriate splitArea animation, the color and anid\n  // should be corresponding to previous one if possible.\n  var areaColorsLen = areaColors.length;\n  var lastSplitAreaColors = inner(axisView).splitAreaColors;\n  var newSplitAreaColors = zrUtil.createHashMap();\n  var colorIndex = 0;\n  if (lastSplitAreaColors) {\n    for (var i = 0; i < ticksCoords.length; i++) {\n      var cIndex = lastSplitAreaColors.get(ticksCoords[i].tickValue);\n      if (cIndex != null) {\n        colorIndex = (cIndex + (areaColorsLen - 1) * i) % areaColorsLen;\n        break;\n      }\n    }\n  }\n  var prev = axis.toGlobalCoord(ticksCoords[0].coord);\n  var areaStyle = areaStyleModel.getAreaStyle();\n  areaColors = zrUtil.isArray(areaColors) ? areaColors : [areaColors];\n  for (var i = 1; i < ticksCoords.length; i++) {\n    var tickCoord = axis.toGlobalCoord(ticksCoords[i].coord);\n    var x = void 0;\n    var y = void 0;\n    var width = void 0;\n    var height = void 0;\n    if (axis.isHorizontal()) {\n      x = prev;\n      y = gridRect.y;\n      width = tickCoord - x;\n      height = gridRect.height;\n      prev = x + width;\n    } else {\n      x = gridRect.x;\n      y = prev;\n      width = gridRect.width;\n      height = tickCoord - y;\n      prev = y + height;\n    }\n    var tickValue = ticksCoords[i - 1].tickValue;\n    tickValue != null && newSplitAreaColors.set(tickValue, colorIndex);\n    axisGroup.add(new graphic.Rect({\n      anid: tickValue != null ? 'area_' + tickValue : null,\n      shape: {\n        x: x,\n        y: y,\n        width: width,\n        height: height\n      },\n      style: zrUtil.defaults({\n        fill: areaColors[colorIndex]\n      }, areaStyle),\n      autoBatch: true,\n      silent: true\n    }));\n    colorIndex = (colorIndex + 1) % areaColorsLen;\n  }\n  inner(axisView).splitAreaColors = newSplitAreaColors;\n}\nexport function rectCoordAxisHandleRemove(axisView) {\n  inner(axisView).splitAreaColors = null;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as graphic from '../../util/graphic.js';\nimport AxisView from './AxisView.js';\nimport { rectCoordAxisBuildSplitArea, rectCoordAxisHandleRemove } from './axisSplitHelper.js';\nimport { getAxisBreakHelper } from './axisBreakHelper.js';\nimport { shouldAxisShow } from '../../coord/axisHelper.js';\nvar selfBuilderAttrs = ['splitArea', 'splitLine', 'minorSplitLine', 'breakArea'];\nvar CartesianAxisView = /** @class */function (_super) {\n  __extends(CartesianAxisView, _super);\n  function CartesianAxisView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = CartesianAxisView.type;\n    _this.axisPointerClass = 'CartesianAxisPointer';\n    return _this;\n  }\n  /**\n   * @override\n   */\n  CartesianAxisView.prototype.render = function (axisModel, ecModel, api, payload) {\n    this.group.removeAll();\n    var oldAxisGroup = this._axisGroup;\n    this._axisGroup = new graphic.Group();\n    this.group.add(this._axisGroup);\n    if (!shouldAxisShow(axisModel)) {\n      return;\n    }\n    this._axisGroup.add(axisModel.axis.axisBuilder.group);\n    zrUtil.each(selfBuilderAttrs, function (name) {\n      if (axisModel.get([name, 'show'])) {\n        axisElementBuilders[name](this, this._axisGroup, axisModel, axisModel.getCoordSysModel(), api);\n      }\n    }, this);\n    // THIS is a special case for bar racing chart.\n    // Update the axis label from the natural initial layout to\n    // sorted layout should has no animation.\n    var isInitialSortFromBarRacing = payload && payload.type === 'changeAxisOrder' && payload.isInitSort;\n    if (!isInitialSortFromBarRacing) {\n      graphic.groupTransition(oldAxisGroup, this._axisGroup, axisModel);\n    }\n    _super.prototype.render.call(this, axisModel, ecModel, api, payload);\n  };\n  CartesianAxisView.prototype.remove = function () {\n    rectCoordAxisHandleRemove(this);\n  };\n  CartesianAxisView.type = 'cartesianAxis';\n  return CartesianAxisView;\n}(AxisView);\nvar axisElementBuilders = {\n  splitLine: function (axisView, axisGroup, axisModel, gridModel, api) {\n    var axis = axisModel.axis;\n    if (axis.scale.isBlank()) {\n      return;\n    }\n    var splitLineModel = axisModel.getModel('splitLine');\n    var lineStyleModel = splitLineModel.getModel('lineStyle');\n    var lineColors = lineStyleModel.get('color');\n    var showMinLine = splitLineModel.get('showMinLine') !== false;\n    var showMaxLine = splitLineModel.get('showMaxLine') !== false;\n    lineColors = zrUtil.isArray(lineColors) ? lineColors : [lineColors];\n    var gridRect = gridModel.coordinateSystem.getRect();\n    var isHorizontal = axis.isHorizontal();\n    var lineCount = 0;\n    var ticksCoords = axis.getTicksCoords({\n      tickModel: splitLineModel,\n      breakTicks: 'none',\n      pruneByBreak: 'preserve_extent_bound'\n    });\n    var p1 = [];\n    var p2 = [];\n    var lineStyle = lineStyleModel.getLineStyle();\n    for (var i = 0; i < ticksCoords.length; i++) {\n      var tickCoord = axis.toGlobalCoord(ticksCoords[i].coord);\n      if (i === 0 && !showMinLine || i === ticksCoords.length - 1 && !showMaxLine) {\n        continue;\n      }\n      var tickValue = ticksCoords[i].tickValue;\n      if (isHorizontal) {\n        p1[0] = tickCoord;\n        p1[1] = gridRect.y;\n        p2[0] = tickCoord;\n        p2[1] = gridRect.y + gridRect.height;\n      } else {\n        p1[0] = gridRect.x;\n        p1[1] = tickCoord;\n        p2[0] = gridRect.x + gridRect.width;\n        p2[1] = tickCoord;\n      }\n      var colorIndex = lineCount++ % lineColors.length;\n      var line = new graphic.Line({\n        anid: tickValue != null ? 'line_' + tickValue : null,\n        autoBatch: true,\n        shape: {\n          x1: p1[0],\n          y1: p1[1],\n          x2: p2[0],\n          y2: p2[1]\n        },\n        style: zrUtil.defaults({\n          stroke: lineColors[colorIndex]\n        }, lineStyle),\n        silent: true\n      });\n      graphic.subPixelOptimizeLine(line.shape, lineStyle.lineWidth);\n      axisGroup.add(line);\n    }\n  },\n  minorSplitLine: function (axisView, axisGroup, axisModel, gridModel, api) {\n    var axis = axisModel.axis;\n    var minorSplitLineModel = axisModel.getModel('minorSplitLine');\n    var lineStyleModel = minorSplitLineModel.getModel('lineStyle');\n    var gridRect = gridModel.coordinateSystem.getRect();\n    var isHorizontal = axis.isHorizontal();\n    var minorTicksCoords = axis.getMinorTicksCoords();\n    if (!minorTicksCoords.length) {\n      return;\n    }\n    var p1 = [];\n    var p2 = [];\n    var lineStyle = lineStyleModel.getLineStyle();\n    for (var i = 0; i < minorTicksCoords.length; i++) {\n      for (var k = 0; k < minorTicksCoords[i].length; k++) {\n        var tickCoord = axis.toGlobalCoord(minorTicksCoords[i][k].coord);\n        if (isHorizontal) {\n          p1[0] = tickCoord;\n          p1[1] = gridRect.y;\n          p2[0] = tickCoord;\n          p2[1] = gridRect.y + gridRect.height;\n        } else {\n          p1[0] = gridRect.x;\n          p1[1] = tickCoord;\n          p2[0] = gridRect.x + gridRect.width;\n          p2[1] = tickCoord;\n        }\n        var line = new graphic.Line({\n          anid: 'minor_line_' + minorTicksCoords[i][k].tickValue,\n          autoBatch: true,\n          shape: {\n            x1: p1[0],\n            y1: p1[1],\n            x2: p2[0],\n            y2: p2[1]\n          },\n          style: lineStyle,\n          silent: true\n        });\n        graphic.subPixelOptimizeLine(line.shape, lineStyle.lineWidth);\n        axisGroup.add(line);\n      }\n    }\n  },\n  splitArea: function (axisView, axisGroup, axisModel, gridModel, api) {\n    rectCoordAxisBuildSplitArea(axisView, axisGroup, axisModel, gridModel);\n  },\n  breakArea: function (axisView, axisGroup, axisModel, gridModel, api) {\n    var axisBreakHelper = getAxisBreakHelper();\n    var scale = axisModel.axis.scale;\n    if (axisBreakHelper && scale.type !== 'ordinal') {\n      axisBreakHelper.rectCoordBuildBreakAxis(axisGroup, axisView, axisModel, gridModel.coordinateSystem.getRect(), api);\n    }\n  }\n};\nvar CartesianXAxisView = /** @class */function (_super) {\n  __extends(CartesianXAxisView, _super);\n  function CartesianXAxisView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = CartesianXAxisView.type;\n    return _this;\n  }\n  CartesianXAxisView.type = 'xAxis';\n  return CartesianXAxisView;\n}(CartesianAxisView);\nexport { CartesianXAxisView };\nvar CartesianYAxisView = /** @class */function (_super) {\n  __extends(CartesianYAxisView, _super);\n  function CartesianYAxisView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = CartesianXAxisView.type;\n    return _this;\n  }\n  CartesianYAxisView.type = 'yAxis';\n  return CartesianYAxisView;\n}(CartesianAxisView);\nexport { CartesianYAxisView };\nexport default CartesianAxisView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport ComponentView from '../../view/Component.js';\nimport GridModel from '../../coord/cartesian/GridModel.js';\nimport { Rect } from '../../util/graphic.js';\nimport { defaults } from 'zrender/lib/core/util.js';\nimport { CartesianAxisModel } from '../../coord/cartesian/AxisModel.js';\nimport axisModelCreator from '../../coord/axisModelCreator.js';\nimport Grid from '../../coord/cartesian/Grid.js';\nimport { CartesianXAxisView, CartesianYAxisView } from '../axis/CartesianAxisView.js';\n// Grid view\nvar GridView = /** @class */function (_super) {\n  __extends(GridView, _super);\n  function GridView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = 'grid';\n    return _this;\n  }\n  GridView.prototype.render = function (gridModel, ecModel) {\n    this.group.removeAll();\n    if (gridModel.get('show')) {\n      this.group.add(new Rect({\n        shape: gridModel.coordinateSystem.getRect(),\n        style: defaults({\n          fill: gridModel.get('backgroundColor')\n        }, gridModel.getItemStyle()),\n        silent: true,\n        z2: -1\n      }));\n    }\n  };\n  GridView.type = 'grid';\n  return GridView;\n}(ComponentView);\nvar extraOption = {\n  // gridIndex: 0,\n  // gridId: '',\n  offset: 0\n};\nexport function install(registers) {\n  registers.registerComponentView(GridView);\n  registers.registerComponentModel(GridModel);\n  registers.registerCoordinateSystem('cartesian2d', Grid);\n  axisModelCreator(registers, 'x', CartesianAxisModel, extraOption);\n  axisModelCreator(registers, 'y', CartesianAxisModel, extraOption);\n  registers.registerComponentView(CartesianXAxisView);\n  registers.registerComponentView(CartesianYAxisView);\n  registers.registerPreprocessor(function (option) {\n    // Only create grid when need\n    if (option.xAxis && option.yAxis && !option.grid) {\n      option.grid = {};\n    }\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as echarts from '../../core/echarts.js';\nimport { noop } from 'zrender/lib/core/util.js';\nimport { makeInner } from '../../util/model.js';\nvar inner = makeInner();\nexport function take(zr, resourceKey, userKey) {\n  inner(zr)[resourceKey] = userKey;\n}\nexport function release(zr, resourceKey, userKey) {\n  var store = inner(zr);\n  var uKey = store[resourceKey];\n  if (uKey === userKey) {\n    store[resourceKey] = null;\n  }\n}\nexport function isTaken(zr, resourceKey) {\n  return !!inner(zr)[resourceKey];\n}\n/**\n * payload: {\n *     type: 'takeGlobalCursor',\n *     key: 'dataZoomSelect', or 'brush', or ...,\n *         If no userKey, release global cursor.\n * }\n */\n// TODO: SELF REGISTERED.\necharts.registerAction({\n  type: 'takeGlobalCursor',\n  event: 'globalCursorTaken',\n  update: 'update'\n}, noop);","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { retrieveZInfo } from '../../util/graphic.js';\nvar IRRELEVANT_EXCLUDES = {\n  'axisPointer': 1,\n  'tooltip': 1,\n  'brush': 1\n};\n/**\n * Used on roam/brush triggering determination.\n * This is to avoid that: mouse clicking on an elements that is over geo or graph,\n * but roam is triggered unexpectedly.\n */\nexport function onIrrelevantElement(e, api, targetComponent) {\n  var eventElComponent = api.getComponentByElement(e.topTarget);\n  if (!eventElComponent || eventElComponent === targetComponent || IRRELEVANT_EXCLUDES.hasOwnProperty(eventElComponent.mainType)) {\n    return false;\n  }\n  // At present the `true` return is conservative. That is, the caller, such as a RoamController,\n  // is more likely to get a `false` return and start a roam behavior, becuase even if the\n  // `model.coordinateSystem` does not exist, the `e.topTarget` may be also a relevant element,\n  // such as axis split line/area or series elements, where roam should be available. Otherwise,\n  // if a dataZoom-served cartesian is full of series elements, the dataZoom-roaming can hardly\n  // be triggered.\n  var eventElCoordSys = eventElComponent.coordinateSystem;\n  // If eventElComponent is axisModel, it works only if it is injected with coordinateSystem.\n  if (!eventElCoordSys || eventElCoordSys.model === targetComponent) {\n    return false;\n  }\n  // e.g., if a cartesian is covered by a graph, the graph has a higher presedence in roam.\n  // A potential bad case is that RoamController does not prevent the cartesian from handling zr\n  // event, such as click and hovering, but it's fine so far.\n  // Aslo be conservative, if equals, return false.\n  var eventElCmptZInfo = retrieveZInfo(eventElComponent);\n  var targetCmptZInfo = retrieveZInfo(targetComponent);\n  if ((eventElCmptZInfo.zlevel - targetCmptZInfo.zlevel || eventElCmptZInfo.z - targetCmptZInfo.z) <= 0) {\n    return false;\n  }\n  return true;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport Eventful from 'zrender/lib/core/Eventful.js';\nimport * as eventTool from 'zrender/lib/core/event.js';\nimport * as interactionMutex from './interactionMutex.js';\nimport { isString, bind, defaults, extend, retrieve2 } from 'zrender/lib/core/util.js';\nimport { makeInner } from '../../util/model.js';\nimport { retrieveZInfo } from '../../util/graphic.js';\nimport { onIrrelevantElement } from './cursorHelper.js';\n;\n/**\n * An manager of zoom and pan(darg) hehavior.\n * But it is not responsible for updating the view, since view updates vary and can\n * not be handled in a uniform way.\n *\n * Note: regarding view updates:\n *  - Transformabe views typically use `coord/View` (e.g., geo and series.graph roaming).\n *    Some commonly used view update logic has been organized into `roamHelper.ts`.\n *  - Non-transformable views handle updates themselves, possibly involving re-layout,\n *    (e.g., treemap).\n *  - Some scenarios do not require transformation (e.g., dataZoom roaming for cartesian,\n *    brush component).\n */\nvar RoamController = /** @class */function (_super) {\n  __extends(RoamController, _super);\n  function RoamController(zr) {\n    var _this = _super.call(this) || this;\n    _this._zr = zr;\n    // Avoid two roamController bind the same handler\n    var mousedownHandler = bind(_this._mousedownHandler, _this);\n    var mousemoveHandler = bind(_this._mousemoveHandler, _this);\n    var mouseupHandler = bind(_this._mouseupHandler, _this);\n    var mousewheelHandler = bind(_this._mousewheelHandler, _this);\n    var pinchHandler = bind(_this._pinchHandler, _this);\n    /**\n     * Notice:\n     *  - only enable needed types. For example, if 'zoom'\n     *    is not needed, 'zoom' should not be enabled, otherwise\n     *    default mousewheel behaviour (scroll page) will be disabled.\n     *  - This method is idempotent.\n     */\n    _this.enable = function (controlType, rawOpt) {\n      var zInfo = rawOpt.zInfo;\n      var _a = retrieveZInfo(zInfo.component),\n        z = _a.z,\n        zlevel = _a.zlevel;\n      var zInfoParsed = {\n        component: zInfo.component,\n        z: z,\n        zlevel: zlevel,\n        // By default roam controller is the lowest z2 comparing to other elememts in a component.\n        z2: retrieve2(zInfo.z2, -Infinity)\n      };\n      var triggerInfo = extend({}, rawOpt.triggerInfo);\n      this._opt = defaults(extend({}, rawOpt), {\n        zoomOnMouseWheel: true,\n        moveOnMouseMove: true,\n        // By default, wheel do not trigger move.\n        moveOnMouseWheel: false,\n        preventDefaultMouseMove: true,\n        zInfoParsed: zInfoParsed,\n        triggerInfo: triggerInfo\n      });\n      if (controlType == null) {\n        controlType = true;\n      }\n      // A handy optimization for repeatedly calling `enable` during roaming.\n      // Assert `disable` is only affected by `controlType`.\n      if (!this._enabled || this._controlType !== controlType) {\n        this._enabled = true;\n        // Disable previous first\n        this.disable();\n        if (controlType === true || controlType === 'move' || controlType === 'pan') {\n          addRoamZrListener(zr, 'mousedown', mousedownHandler, zInfoParsed);\n          addRoamZrListener(zr, 'mousemove', mousemoveHandler, zInfoParsed);\n          addRoamZrListener(zr, 'mouseup', mouseupHandler, zInfoParsed);\n        }\n        if (controlType === true || controlType === 'scale' || controlType === 'zoom') {\n          addRoamZrListener(zr, 'mousewheel', mousewheelHandler, zInfoParsed);\n          addRoamZrListener(zr, 'pinch', pinchHandler, zInfoParsed);\n        }\n      }\n    };\n    _this.disable = function () {\n      this._enabled = false;\n      removeRoamZrListener(zr, 'mousedown', mousedownHandler);\n      removeRoamZrListener(zr, 'mousemove', mousemoveHandler);\n      removeRoamZrListener(zr, 'mouseup', mouseupHandler);\n      removeRoamZrListener(zr, 'mousewheel', mousewheelHandler);\n      removeRoamZrListener(zr, 'pinch', pinchHandler);\n    };\n    return _this;\n  }\n  RoamController.prototype.isDragging = function () {\n    return this._dragging;\n  };\n  RoamController.prototype.isPinching = function () {\n    return this._pinching;\n  };\n  RoamController.prototype._checkPointer = function (e, x, y) {\n    var opt = this._opt;\n    var zInfoParsed = opt.zInfoParsed;\n    if (onIrrelevantElement(e, opt.api, zInfoParsed.component)) {\n      return false;\n    }\n    ;\n    var triggerInfo = opt.triggerInfo;\n    var roamTrigger = triggerInfo.roamTrigger;\n    var inArea = false;\n    if (roamTrigger === 'global') {\n      inArea = true;\n    }\n    if (!inArea) {\n      inArea = triggerInfo.isInSelf(e, x, y);\n    }\n    if (inArea && triggerInfo.isInClip && !triggerInfo.isInClip(e, x, y)) {\n      inArea = false;\n    }\n    return inArea;\n  };\n  RoamController.prototype._decideCursorStyle = function (e, x, y, forReverse) {\n    // If this cursor style decision is not strictly consistent with zrender,\n    // it's fine - zr will set the cursor on the next mousemove.\n    // This `grab` cursor style should take the lowest precedence. If the hovring element already\n    // have a cursor, zrender will set it to be non-'default' before entering this handler.\n    // (note, e.target is never silent, e.topTarget can be silent be irrelevant.)\n    var target = e.target;\n    if (!target && this._checkPointer(e, x, y)) {\n      // To indicate users that this area is draggable, otherwise users probably cannot kwown\n      // that when hovering out of the shape but still inside the bounding rect.\n      return 'grab';\n    }\n    if (forReverse) {\n      return target && target.cursor || 'default';\n    }\n  };\n  RoamController.prototype.dispose = function () {\n    this.disable();\n  };\n  RoamController.prototype._mousedownHandler = function (e) {\n    if (eventTool.isMiddleOrRightButtonOnMouseUpDown(e) || eventConsumed(e)) {\n      return;\n    }\n    var el = e.target;\n    while (el) {\n      if (el.draggable) {\n        return;\n      }\n      // check if host is draggable\n      el = el.__hostTarget || el.parent;\n    }\n    var x = e.offsetX;\n    var y = e.offsetY;\n    // To determine dragging start, only by checking on mosedown, but not mousemove.\n    // Mouse can be out of target when mouse moving.\n    if (this._checkPointer(e, x, y)) {\n      this._x = x;\n      this._y = y;\n      this._dragging = true;\n    }\n  };\n  RoamController.prototype._mousemoveHandler = function (e) {\n    var zr = this._zr;\n    if (e.gestureEvent === 'pinch' || interactionMutex.isTaken(zr, 'globalPan') || eventConsumed(e)) {\n      return;\n    }\n    var x = e.offsetX;\n    var y = e.offsetY;\n    if (!this._dragging || !isAvailableBehavior('moveOnMouseMove', e, this._opt)) {\n      var cursorStyle = this._decideCursorStyle(e, x, y, false);\n      if (cursorStyle) {\n        zr.setCursorStyle(cursorStyle);\n      }\n      return;\n    }\n    zr.setCursorStyle('grabbing');\n    var oldX = this._x;\n    var oldY = this._y;\n    var dx = x - oldX;\n    var dy = y - oldY;\n    this._x = x;\n    this._y = y;\n    if (this._opt.preventDefaultMouseMove) {\n      eventTool.stop(e.event);\n    }\n    e.__ecRoamConsumed = true;\n    trigger(this, 'pan', 'moveOnMouseMove', e, {\n      dx: dx,\n      dy: dy,\n      oldX: oldX,\n      oldY: oldY,\n      newX: x,\n      newY: y,\n      isAvailableBehavior: null\n    });\n  };\n  RoamController.prototype._mouseupHandler = function (e) {\n    if (eventConsumed(e)) {\n      return;\n    }\n    var zr = this._zr;\n    if (!eventTool.isMiddleOrRightButtonOnMouseUpDown(e)) {\n      this._dragging = false;\n      var cursorStyle = this._decideCursorStyle(e, e.offsetX, e.offsetY, true);\n      if (cursorStyle) {\n        zr.setCursorStyle(cursorStyle);\n      }\n    }\n  };\n  RoamController.prototype._mousewheelHandler = function (e) {\n    if (eventConsumed(e)) {\n      return;\n    }\n    var shouldZoom = isAvailableBehavior('zoomOnMouseWheel', e, this._opt);\n    var shouldMove = isAvailableBehavior('moveOnMouseWheel', e, this._opt);\n    var wheelDelta = e.wheelDelta;\n    var absWheelDeltaDelta = Math.abs(wheelDelta);\n    var originX = e.offsetX;\n    var originY = e.offsetY;\n    // wheelDelta maybe -0 in chrome mac.\n    if (wheelDelta === 0 || !shouldZoom && !shouldMove) {\n      return;\n    }\n    // If both `shouldZoom` and `shouldMove` is true, trigger\n    // their event both, and the final behavior is determined\n    // by event listener themselves.\n    if (shouldZoom) {\n      // Convenience:\n      // Mac and VM Windows on Mac: scroll up: zoom out.\n      // Windows: scroll up: zoom in.\n      // FIXME: Should do more test in different environment.\n      // wheelDelta is too complicated in difference nvironment\n      // (https://developer.mozilla.org/en-US/docs/Web/Events/mousewheel),\n      // although it has been normallized by zrender.\n      // wheelDelta of mouse wheel is bigger than touch pad.\n      var factor = absWheelDeltaDelta > 3 ? 1.4 : absWheelDeltaDelta > 1 ? 1.2 : 1.1;\n      var scale = wheelDelta > 0 ? factor : 1 / factor;\n      this._checkTriggerMoveZoom(this, 'zoom', 'zoomOnMouseWheel', e, {\n        scale: scale,\n        originX: originX,\n        originY: originY,\n        isAvailableBehavior: null\n      });\n    }\n    if (shouldMove) {\n      // FIXME: Should do more test in different environment.\n      var absDelta = Math.abs(wheelDelta);\n      // wheelDelta of mouse wheel is bigger than touch pad.\n      var scrollDelta = (wheelDelta > 0 ? 1 : -1) * (absDelta > 3 ? 0.4 : absDelta > 1 ? 0.15 : 0.05);\n      this._checkTriggerMoveZoom(this, 'scrollMove', 'moveOnMouseWheel', e, {\n        scrollDelta: scrollDelta,\n        originX: originX,\n        originY: originY,\n        isAvailableBehavior: null\n      });\n    }\n  };\n  RoamController.prototype._pinchHandler = function (e) {\n    if (interactionMutex.isTaken(this._zr, 'globalPan') || eventConsumed(e)) {\n      return;\n    }\n    var scale = e.pinchScale > 1 ? 1.1 : 1 / 1.1;\n    this._checkTriggerMoveZoom(this, 'zoom', null, e, {\n      scale: scale,\n      originX: e.pinchX,\n      originY: e.pinchY,\n      isAvailableBehavior: null\n    });\n  };\n  RoamController.prototype._checkTriggerMoveZoom = function (controller, eventName, behaviorToCheck, e, contollerEvent) {\n    if (controller._checkPointer(e, contollerEvent.originX, contollerEvent.originY)) {\n      // When mouse is out of roamController rect,\n      // default befavoius should not be be disabled, otherwise\n      // page sliding is disabled, contrary to expectation.\n      eventTool.stop(e.event);\n      e.__ecRoamConsumed = true;\n      trigger(controller, eventName, behaviorToCheck, e, contollerEvent);\n    }\n  };\n  return RoamController;\n}(Eventful);\nfunction eventConsumed(e) {\n  return e.__ecRoamConsumed;\n}\nvar innerZrStore = makeInner();\nfunction ensureZrStore(zr) {\n  var store = innerZrStore(zr);\n  store.roam = store.roam || {};\n  store.uniform = store.uniform || {};\n  return store;\n}\n/**\n * Listeners are sorted by z2/z/zlevel in descending order.\n * This decides the precedence between different roam controllers if they are overlapped.\n *\n * [MEMO]: It's not easy to perfectly reconcile the conflicts caused by overlap.\n *  - Consider cases:\n *    - Multiple roam controllers overlapped.\n *      - Usually only the topmost can trigger roam.\n *    - Roam controllers overlap with other zr elements:\n *      - zr elements are relevant or irrelevent to the host of the roam controller. e.g., axis split line\n *        or series elements is relevant to a cartesian and should trigger roam.\n *      - zr elements is above or below the roam controller host, which affects the precedence of interaction.\n *      - zr elements may not silent only for triggering tooltip by hovering, which is available to roam;\n *        or may not silent for click, where roam is not preferable.\n *  - Approach - `addRoamZrListener+pointerChecker+onIrrelevantElement` (currently used):\n *    - Resolve the precedence between different roam controllers\n *    - But cannot prevent the handling on other zr elements that under the roam controller in z-order.\n *  - Approach - \"use an invisible zr elements to receive the zr events to trigger roam\":\n *    - More complicated in impl.\n *    - May cause bad cases where zr event cannot be receive due to other non-silient zr elements covering it.\n */\nfunction addRoamZrListener(zr, eventType, listener, zInfoParsed) {\n  var store = ensureZrStore(zr);\n  var roam = store.roam;\n  var listenerList = roam[eventType] = roam[eventType] || [];\n  var idx = 0;\n  for (; idx < listenerList.length; idx++) {\n    var currZInfo = listenerList[idx].zInfoParsed;\n    if ((currZInfo.zlevel - zInfoParsed.zlevel || currZInfo.z - zInfoParsed.z || currZInfo.z2 - zInfoParsed.z2\n    // If all equals, the latter added one has a higher precedence.\n    ) <= 0) {\n      break;\n    }\n  }\n  listenerList.splice(idx, 0, {\n    listener: listener,\n    zInfoParsed: zInfoParsed\n  });\n  ensureUniformListener(zr, eventType);\n}\nfunction removeRoamZrListener(zr, eventType, listener) {\n  var store = ensureZrStore(zr);\n  var listenerList = store.roam[eventType] || [];\n  for (var idx = 0; idx < listenerList.length; idx++) {\n    if (listenerList[idx].listener === listener) {\n      listenerList.splice(idx, 1);\n      if (!listenerList.length) {\n        removeUniformListener(zr, eventType);\n      }\n      return;\n    }\n  }\n}\nfunction ensureUniformListener(zr, eventType) {\n  var store = ensureZrStore(zr);\n  if (!store.uniform[eventType]) {\n    zr.on(eventType, store.uniform[eventType] = function (event) {\n      var listenerList = store.roam[eventType];\n      if (listenerList) {\n        for (var i = 0; i < listenerList.length; i++) {\n          listenerList[i].listener(event);\n        }\n      }\n    });\n  }\n}\nfunction removeUniformListener(zr, eventType) {\n  var store = ensureZrStore(zr);\n  var uniform = store.uniform;\n  if (uniform[eventType]) {\n    zr.off(eventType, uniform[eventType]);\n    uniform[eventType] = null;\n  }\n}\nfunction trigger(controller, eventName, behaviorToCheck, e, contollerEvent) {\n  // Also provide behavior checker for event listener, for some case that\n  // multiple components share one listener.\n  contollerEvent.isAvailableBehavior = bind(isAvailableBehavior, null, behaviorToCheck, e);\n  // TODO should not have type issue.\n  controller.trigger(eventName, contollerEvent);\n}\n// settings: {\n//     zoomOnMouseWheel\n//     moveOnMouseMove\n//     moveOnMouseWheel\n// }\n// The value can be: true / false / 'shift' / 'ctrl' / 'alt'.\nfunction isAvailableBehavior(behaviorToCheck, e, settings) {\n  var setting = settings[behaviorToCheck];\n  return !behaviorToCheck || setting && (!isString(setting) || e.event[setting + 'Key']);\n}\nexport default RoamController;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { BoundingRect } from '../../util/graphic.js';\n/**\n * [CAVEAT] `updateViewOnPan` and `updateViewOnZoom` modifies the group transform directly,\n *  but the 'center' and 'zoom' in echarts option and 'View' coordinate system are not updated yet,\n *  which must be performed later in 'xxxRoam' action by calling `updateCenterAndZoom`.\n * @see {updateCenterAndZoomInAction}\n */\nexport function updateViewOnPan(controllerHost, dx, dy) {\n  var target = controllerHost.target;\n  target.x += dx;\n  target.y += dy;\n  target.dirty();\n}\nexport function updateViewOnZoom(controllerHost, zoomDelta, zoomX, zoomY) {\n  var target = controllerHost.target;\n  var zoomLimit = controllerHost.zoomLimit;\n  var newZoom = controllerHost.zoom = controllerHost.zoom || 1;\n  newZoom *= zoomDelta;\n  newZoom = clampByZoomLimit(newZoom, zoomLimit);\n  var zoomScale = newZoom / controllerHost.zoom;\n  controllerHost.zoom = newZoom;\n  zoomTransformableByOrigin(target, zoomX, zoomY, zoomScale);\n  target.dirty();\n}\n/**\n * A abstraction for some similar impl in roaming.\n */\nexport function updateController(seriesModel, api, pointerCheckerEl, controller, controllerHost, clipRect) {\n  var tmpRect = new BoundingRect(0, 0, 0, 0);\n  controller.enable(seriesModel.get('roam'), {\n    api: api,\n    zInfo: {\n      component: seriesModel\n    },\n    triggerInfo: {\n      roamTrigger: seriesModel.get('roamTrigger'),\n      isInSelf: function (e, x, y) {\n        tmpRect.copy(pointerCheckerEl.getBoundingRect());\n        tmpRect.applyTransform(pointerCheckerEl.getComputedTransform());\n        return tmpRect.contain(x, y);\n      },\n      isInClip: function (e, x, y) {\n        return !clipRect || clipRect.contain(x, y);\n      }\n    }\n  });\n  controllerHost.zoomLimit = seriesModel.get('scaleLimit');\n  var coordinate = seriesModel.coordinateSystem;\n  controllerHost.zoom = coordinate ? coordinate.getZoom() : 1;\n  var type = seriesModel.subType + 'Roam';\n  controller.off('pan').off('zoom').on('pan', function (e) {\n    updateViewOnPan(controllerHost, e.dx, e.dy);\n    api.dispatchAction({\n      seriesId: seriesModel.id,\n      type: type,\n      dx: e.dx,\n      dy: e.dy\n    });\n  }).on('zoom', function (e) {\n    /**\n     * FIXME: should do nothing except `api.dispatchAction` here, the other logic\n     *  should be performed in the action handler and `updateTransform`; otherwise,\n     *  they are inconsistent if user triggers this action explicitly.\n     */\n    updateViewOnZoom(controllerHost, e.scale, e.originX, e.originY);\n    api.dispatchAction({\n      seriesId: seriesModel.id,\n      type: type,\n      zoom: e.scale,\n      originX: e.originX,\n      originY: e.originY\n    });\n    // Only update label layout on zoom\n    api.updateLabelLayout();\n  });\n}\nfunction getCenterCoord(view, point) {\n  // Use projected coord as center because it's linear.\n  return view.pointToProjected ? view.pointToProjected(point) : view.pointToData(point);\n}\n/**\n * Should be called only in action handler.\n * @see {updateViewOnPan|updateViewOnZoom}\n */\nexport function updateCenterAndZoomInAction(view, payload, zoomLimit) {\n  var previousZoom = view.getZoom();\n  var center = view.getCenter();\n  var deltaZoom = payload.zoom;\n  var point = view.projectedToPoint ? view.projectedToPoint(center) : view.dataToPoint(center);\n  if (payload.dx != null && payload.dy != null) {\n    point[0] -= payload.dx;\n    point[1] -= payload.dy;\n    view.setCenter(getCenterCoord(view, point));\n  }\n  if (deltaZoom != null) {\n    deltaZoom = clampByZoomLimit(previousZoom * deltaZoom, zoomLimit) / previousZoom;\n    zoomTransformableByOrigin(view, payload.originX, payload.originY, deltaZoom);\n    view.updateTransform();\n    // [NOTICE] Tricky: `getCetnerCoord` uses `this.invTransform` modified by the `updateTransform` above.\n    view.setCenter(getCenterCoord(view, point));\n    view.setZoom(deltaZoom * previousZoom);\n  }\n  return {\n    center: view.getCenter(),\n    zoom: view.getZoom()\n  };\n}\nfunction zoomTransformableByOrigin(target, originX, originY, deltaZoom) {\n  // Keep the mouse center when scaling.\n  target.x -= (originX - target.x) * (deltaZoom - 1);\n  target.y -= (originY - target.y) * (deltaZoom - 1);\n  target.scaleX *= deltaZoom;\n  target.scaleY *= deltaZoom;\n}\nexport function clampByZoomLimit(zoom, zoomLimit) {\n  if (zoomLimit) {\n    var zoomMin = zoomLimit.min || 0;\n    var zoomMax = zoomLimit.max || Infinity;\n    zoom = Math.max(Math.min(zoomMax, zoom), zoomMin);\n  }\n  return zoom;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n/**\n * Simple view coordinate system\n * Mapping given x, y to transformd view x, y\n */\nimport * as vector from 'zrender/lib/core/vector.js';\nimport * as matrix from 'zrender/lib/core/matrix.js';\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\nimport Transformable from 'zrender/lib/core/Transformable.js';\nimport { parsePercent } from '../util/number.js';\nimport { clone } from 'zrender/lib/core/util.js';\nimport { clampByZoomLimit } from '../component/helper/roamHelper.js';\nvar v2ApplyTransform = vector.applyTransform;\nvar View = /** @class */function (_super) {\n  __extends(View, _super);\n  function View(name, opt) {\n    var _this = _super.call(this) || this;\n    _this.type = 'view';\n    _this.dimensions = ['x', 'y'];\n    /**\n     * Represents the transform brought by roam/zoom.\n     * If `View['_viewRect']` applies roam transform,\n     * we can get the final displayed rect.\n     */\n    _this._roamTransformable = new Transformable();\n    /**\n     * Represents the transform from `View['_rect']` to `View['_viewRect']`.\n     */\n    _this._rawTransformable = new Transformable();\n    _this.name = name;\n    _this._opt = opt;\n    return _this;\n  }\n  View.prototype.setBoundingRect = function (x, y, width, height) {\n    this._rect = new BoundingRect(x, y, width, height);\n    this._updateCenterAndZoom();\n    return this._rect;\n  };\n  View.prototype.getBoundingRect = function () {\n    return this._rect;\n  };\n  /**\n   * If no need to transform `View['_rect']` to `View['_viewRect']`, the calling of\n   * `setViewRect` can be omitted.\n   */\n  View.prototype.setViewRect = function (x, y, width, height) {\n    this._transformTo(x, y, width, height);\n    this._viewRect = new BoundingRect(x, y, width, height);\n  };\n  /**\n   * Transformed to particular position and size\n   */\n  View.prototype._transformTo = function (x, y, width, height) {\n    var rect = this.getBoundingRect();\n    var rawTransform = this._rawTransformable;\n    rawTransform.transform = rect.calculateTransform(new BoundingRect(x, y, width, height));\n    var rawParent = rawTransform.parent;\n    rawTransform.parent = null;\n    rawTransform.decomposeTransform();\n    rawTransform.parent = rawParent;\n    this._updateTransform();\n  };\n  /**\n   * [NOTICE]\n   *  The definition of this center has always been irrelevant to some other series center like\n   *  'series-pie.center' - this center is a point on the same coord sys as `View['_rect'].x/y`,\n   *  rather than canvas viewport, and the unit is not necessarily pixel (e.g., in geo case).\n   *  @see {View['_center']} for details.\n   */\n  View.prototype.setCenter = function (centerCoord) {\n    // #16904 introcuded percentage string here, such as '33%'. But it was based on canvas\n    // width/height, which is not reasonable - the unit may incorrect, and it is unpredictable if\n    // the `View['_rect']` is not calculated based on the current canvas rect. Therefore the percentage\n    // value is changed to based on `View['_rect'].width/height` since v6. Under this definition, users\n    // can use '0%' to map the top-left of `View['_rect']` to the center of `View['_viewRect']`.\n    var opt = this._opt;\n    if (opt && opt.api && opt.ecModel && opt.ecModel.getShallow('legacyViewCoordSysCenterBase') && centerCoord) {\n      centerCoord = [parsePercent(centerCoord[0], opt.api.getWidth()), parsePercent(centerCoord[1], opt.api.getWidth())];\n    }\n    this._centerOption = clone(centerCoord);\n    this._updateCenterAndZoom();\n  };\n  View.prototype.setZoom = function (zoom) {\n    this._zoom = clampByZoomLimit(zoom || 1, this.zoomLimit);\n    this._updateCenterAndZoom();\n  };\n  /**\n   * Get default center without roam\n   */\n  View.prototype.getDefaultCenter = function () {\n    // Rect before any transform\n    var rawRect = this.getBoundingRect();\n    var cx = rawRect.x + rawRect.width / 2;\n    var cy = rawRect.y + rawRect.height / 2;\n    return [cx, cy];\n  };\n  View.prototype.getCenter = function () {\n    return this._center || this.getDefaultCenter();\n  };\n  View.prototype.getZoom = function () {\n    return this._zoom || 1;\n  };\n  View.prototype.getRoamTransform = function () {\n    return this._roamTransformable.getLocalTransform();\n  };\n  /**\n   * Ensure this method is idempotent, since it should be called when\n   * every relevant prop (e.g. _centerOption/_zoom/_rect/_viewRect) changed.\n   */\n  View.prototype._updateCenterAndZoom = function () {\n    var centerOption = this._centerOption;\n    var rect = this._rect;\n    if (centerOption && rect) {\n      this._center = [parsePercent(centerOption[0], rect.width, rect.x), parsePercent(centerOption[1], rect.height, rect.y)];\n    }\n    // Must update after view transform updated\n    var rawTransformMatrix = this._rawTransformable.getLocalTransform();\n    var roamTransform = this._roamTransformable;\n    var defaultCenter = this.getDefaultCenter();\n    var center = this.getCenter();\n    var zoom = this.getZoom();\n    center = vector.applyTransform([], center, rawTransformMatrix);\n    defaultCenter = vector.applyTransform([], defaultCenter, rawTransformMatrix);\n    roamTransform.originX = center[0];\n    roamTransform.originY = center[1];\n    roamTransform.x = defaultCenter[0] - center[0];\n    roamTransform.y = defaultCenter[1] - center[1];\n    roamTransform.scaleX = roamTransform.scaleY = zoom;\n    this._updateTransform();\n  };\n  /**\n   * Update transform props on `this` based on the current\n   * `this._roamTransformable` and `this._rawTransformable`.\n   */\n  View.prototype._updateTransform = function () {\n    var roamTransformable = this._roamTransformable;\n    var rawTransformable = this._rawTransformable;\n    rawTransformable.parent = roamTransformable;\n    roamTransformable.updateTransform();\n    rawTransformable.updateTransform();\n    matrix.copy(this.transform || (this.transform = []), rawTransformable.transform || matrix.create());\n    this._rawTransform = rawTransformable.getLocalTransform();\n    this.invTransform = this.invTransform || [];\n    matrix.invert(this.invTransform, this.transform);\n    this.decomposeTransform();\n  };\n  View.prototype.getTransformInfo = function () {\n    var rawTransformable = this._rawTransformable;\n    var roamTransformable = this._roamTransformable;\n    // Because roamTransformabel has `originX/originY` modified,\n    // but the caller of `getTransformInfo` can not handle `originX/originY`,\n    // so need to recalculate them.\n    var dummyTransformable = new Transformable();\n    dummyTransformable.transform = roamTransformable.transform;\n    dummyTransformable.decomposeTransform();\n    return {\n      roam: {\n        x: dummyTransformable.x,\n        y: dummyTransformable.y,\n        scaleX: dummyTransformable.scaleX,\n        scaleY: dummyTransformable.scaleY\n      },\n      raw: {\n        x: rawTransformable.x,\n        y: rawTransformable.y,\n        scaleX: rawTransformable.scaleX,\n        scaleY: rawTransformable.scaleY\n      }\n    };\n  };\n  View.prototype.getViewRect = function () {\n    return this._viewRect;\n  };\n  /**\n   * Get view rect after roam transform\n   */\n  View.prototype.getViewRectAfterRoam = function () {\n    var rect = this.getBoundingRect().clone();\n    rect.applyTransform(this.transform);\n    return rect;\n  };\n  /**\n   * Convert a single (lon, lat) data item to (x, y) point.\n   */\n  View.prototype.dataToPoint = function (data, noRoam, out) {\n    var transform = noRoam ? this._rawTransform : this.transform;\n    out = out || [];\n    return transform ? v2ApplyTransform(out, data, transform) : vector.copy(out, data);\n  };\n  /**\n   * Convert a (x, y) point to (lon, lat) data\n   */\n  View.prototype.pointToData = function (point, reserved, out) {\n    out = out || [];\n    var invTransform = this.invTransform;\n    return invTransform ? v2ApplyTransform(out, point, invTransform) : (out[0] = point[0], out[1] = point[1], out);\n  };\n  View.prototype.convertToPixel = function (ecModel, finder, value) {\n    var coordSys = getCoordSys(finder);\n    return coordSys === this ? coordSys.dataToPoint(value) : null;\n  };\n  View.prototype.convertFromPixel = function (ecModel, finder, pixel) {\n    var coordSys = getCoordSys(finder);\n    return coordSys === this ? coordSys.pointToData(pixel) : null;\n  };\n  /**\n   * @implements\n   */\n  View.prototype.containPoint = function (point) {\n    return this.getViewRectAfterRoam().contain(point[0], point[1]);\n  };\n  View.dimensions = ['x', 'y'];\n  return View;\n}(Transformable);\nfunction getCoordSys(finder) {\n  var seriesModel = finder.seriesModel;\n  return seriesModel ? seriesModel.coordinateSystem : null; // e.g., graph.\n}\nexport default View;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n/**\n * Link lists and struct (graph or tree)\n */\nimport { curry, each, assert, extend, map, keys } from 'zrender/lib/core/util.js';\nimport { makeInner } from '../../util/model.js';\nvar inner = makeInner();\nfunction linkSeriesData(opt) {\n  var mainData = opt.mainData;\n  var datas = opt.datas;\n  if (!datas) {\n    datas = {\n      main: mainData\n    };\n    opt.datasAttr = {\n      main: 'data'\n    };\n  }\n  opt.datas = opt.mainData = null;\n  linkAll(mainData, datas, opt);\n  // Porxy data original methods.\n  each(datas, function (data) {\n    each(mainData.TRANSFERABLE_METHODS, function (methodName) {\n      data.wrapMethod(methodName, curry(transferInjection, opt));\n    });\n  });\n  // Beyond transfer, additional features should be added to `cloneShallow`.\n  mainData.wrapMethod('cloneShallow', curry(cloneShallowInjection, opt));\n  // Only mainData trigger change, because struct.update may trigger\n  // another changable methods, which may bring about dead lock.\n  each(mainData.CHANGABLE_METHODS, function (methodName) {\n    mainData.wrapMethod(methodName, curry(changeInjection, opt));\n  });\n  // Make sure datas contains mainData.\n  assert(datas[mainData.dataType] === mainData);\n}\nfunction transferInjection(opt, res) {\n  if (isMainData(this)) {\n    // Transfer datas to new main data.\n    var datas = extend({}, inner(this).datas);\n    datas[this.dataType] = res;\n    linkAll(res, datas, opt);\n  } else {\n    // Modify the reference in main data to point newData.\n    linkSingle(res, this.dataType, inner(this).mainData, opt);\n  }\n  return res;\n}\nfunction changeInjection(opt, res) {\n  opt.struct && opt.struct.update();\n  return res;\n}\nfunction cloneShallowInjection(opt, res) {\n  // cloneShallow, which brings about some fragilities, may be inappropriate\n  // to be exposed as an API. So for implementation simplicity we can make\n  // the restriction that cloneShallow of not-mainData should not be invoked\n  // outside, but only be invoked here.\n  each(inner(res).datas, function (data, dataType) {\n    data !== res && linkSingle(data.cloneShallow(), dataType, res, opt);\n  });\n  return res;\n}\n/**\n * Supplement method to List.\n *\n * @public\n * @param [dataType] If not specified, return mainData.\n */\nfunction getLinkedData(dataType) {\n  var mainData = inner(this).mainData;\n  return dataType == null || mainData == null ? mainData : inner(mainData).datas[dataType];\n}\n/**\n * Get list of all linked data\n */\nfunction getLinkedDataAll() {\n  var mainData = inner(this).mainData;\n  return mainData == null ? [{\n    data: mainData\n  }] : map(keys(inner(mainData).datas), function (type) {\n    return {\n      type: type,\n      data: inner(mainData).datas[type]\n    };\n  });\n}\nfunction isMainData(data) {\n  return inner(data).mainData === data;\n}\nfunction linkAll(mainData, datas, opt) {\n  inner(mainData).datas = {};\n  each(datas, function (data, dataType) {\n    linkSingle(data, dataType, mainData, opt);\n  });\n}\nfunction linkSingle(data, dataType, mainData, opt) {\n  inner(mainData).datas[dataType] = data;\n  inner(data).mainData = mainData;\n  data.dataType = dataType;\n  if (opt.struct) {\n    data[opt.structAttr] = opt.struct;\n    opt.struct[opt.datasAttr[dataType]] = data;\n  }\n  // Supplement method.\n  data.getLinkedData = getLinkedData;\n  data.getLinkedDataAll = getLinkedDataAll;\n}\nexport default linkSeriesData;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { isNumber } from 'zrender/lib/core/util.js';\nexport default function categoryFilter(ecModel) {\n  var legendModels = ecModel.findComponents({\n    mainType: 'legend'\n  });\n  if (!legendModels || !legendModels.length) {\n    return;\n  }\n  ecModel.eachSeriesByType('graph', function (graphSeries) {\n    var categoriesData = graphSeries.getCategoriesData();\n    var graph = graphSeries.getGraph();\n    var data = graph.data;\n    var categoryNames = categoriesData.mapArray(categoriesData.getName);\n    data.filterSelf(function (idx) {\n      var model = data.getItemModel(idx);\n      var category = model.getShallow('category');\n      if (category != null) {\n        if (isNumber(category)) {\n          category = categoryNames[category];\n        }\n        // If in any legend component the status is not selected.\n        for (var i = 0; i < legendModels.length; i++) {\n          if (!legendModels[i].isSelected(category)) {\n            return false;\n          }\n        }\n      }\n      return true;\n    });\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { extend, isString } from 'zrender/lib/core/util.js';\nexport default function categoryVisual(ecModel) {\n  var paletteScope = {};\n  ecModel.eachSeriesByType('graph', function (seriesModel) {\n    var categoriesData = seriesModel.getCategoriesData();\n    var data = seriesModel.getData();\n    var categoryNameIdxMap = {};\n    categoriesData.each(function (idx) {\n      var name = categoriesData.getName(idx);\n      // Add prefix to avoid conflict with Object.prototype.\n      categoryNameIdxMap['ec-' + name] = idx;\n      var itemModel = categoriesData.getItemModel(idx);\n      var style = itemModel.getModel('itemStyle').getItemStyle();\n      if (!style.fill) {\n        // Get color from palette.\n        style.fill = seriesModel.getColorFromPalette(name, paletteScope);\n      }\n      categoriesData.setItemVisual(idx, 'style', style);\n      var symbolVisualList = ['symbol', 'symbolSize', 'symbolKeepAspect'];\n      for (var i = 0; i < symbolVisualList.length; i++) {\n        var symbolVisual = itemModel.getShallow(symbolVisualList[i], true);\n        if (symbolVisual != null) {\n          categoriesData.setItemVisual(idx, symbolVisualList[i], symbolVisual);\n        }\n      }\n    });\n    // Assign category color to visual\n    if (categoriesData.count()) {\n      data.each(function (idx) {\n        var model = data.getItemModel(idx);\n        var categoryIdx = model.getShallow('category');\n        if (categoryIdx != null) {\n          if (isString(categoryIdx)) {\n            categoryIdx = categoryNameIdxMap['ec-' + categoryIdx];\n          }\n          var categoryStyle = categoriesData.getItemVisual(categoryIdx, 'style');\n          var style = data.ensureUniqueItemVisual(idx, 'style');\n          extend(style, categoryStyle);\n          var visualList = ['symbol', 'symbolSize', 'symbolKeepAspect'];\n          for (var i = 0; i < visualList.length; i++) {\n            data.setItemVisual(idx, visualList[i], categoriesData.getItemVisual(categoryIdx, visualList[i]));\n          }\n        }\n      });\n    }\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { extend } from 'zrender/lib/core/util.js';\nfunction normalize(a) {\n  if (!(a instanceof Array)) {\n    a = [a, a];\n  }\n  return a;\n}\nexport default function graphEdgeVisual(ecModel) {\n  ecModel.eachSeriesByType('graph', function (seriesModel) {\n    var graph = seriesModel.getGraph();\n    var edgeData = seriesModel.getEdgeData();\n    var symbolType = normalize(seriesModel.get('edgeSymbol'));\n    var symbolSize = normalize(seriesModel.get('edgeSymbolSize'));\n    // const colorQuery = ['lineStyle', 'color'] as const;\n    // const opacityQuery = ['lineStyle', 'opacity'] as const;\n    edgeData.setVisual('fromSymbol', symbolType && symbolType[0]);\n    edgeData.setVisual('toSymbol', symbolType && symbolType[1]);\n    edgeData.setVisual('fromSymbolSize', symbolSize && symbolSize[0]);\n    edgeData.setVisual('toSymbolSize', symbolSize && symbolSize[1]);\n    edgeData.setVisual('style', seriesModel.getModel('lineStyle').getLineStyle());\n    edgeData.each(function (idx) {\n      var itemModel = edgeData.getItemModel(idx);\n      var edge = graph.getEdgeByIndex(idx);\n      var symbolType = normalize(itemModel.getShallow('symbol', true));\n      var symbolSize = normalize(itemModel.getShallow('symbolSize', true));\n      // Edge visual must after node visual\n      var style = itemModel.getModel('lineStyle').getLineStyle();\n      var existsStyle = edgeData.ensureUniqueItemVisual(idx, 'style');\n      extend(existsStyle, style);\n      switch (existsStyle.stroke) {\n        case 'source':\n          {\n            var nodeStyle = edge.node1.getVisual('style');\n            existsStyle.stroke = nodeStyle && nodeStyle.fill;\n            break;\n          }\n        case 'target':\n          {\n            var nodeStyle = edge.node2.getVisual('style');\n            existsStyle.stroke = nodeStyle && nodeStyle.fill;\n            break;\n          }\n      }\n      symbolType[0] && edge.setVisual('fromSymbol', symbolType[0]);\n      symbolType[1] && edge.setVisual('toSymbol', symbolType[1]);\n      symbolSize[0] && edge.setVisual('fromSymbolSize', symbolSize[0]);\n      symbolSize[1] && edge.setVisual('toSymbolSize', symbolSize[1]);\n    });\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// @ts-nocheck\nimport * as zrUtil from 'zrender/lib/core/util.js';\nvar KEY_DELIMITER = '-->';\n/**\n * params handler\n * @param {module:echarts/model/SeriesModel} seriesModel\n * @returns {*}\n */\nvar getAutoCurvenessParams = function (seriesModel) {\n  return seriesModel.get('autoCurveness') || null;\n};\n/**\n * Generate a list of edge curvatures, 20 is the default\n * @param {module:echarts/model/SeriesModel} seriesModel\n * @param {number} appendLength\n * @return  20 => [0, -0.2, 0.2, -0.4, 0.4, -0.6, 0.6, -0.8, 0.8, -1, 1, -1.2, 1.2, -1.4, 1.4, -1.6, 1.6, -1.8, 1.8, -2]\n */\nvar createCurveness = function (seriesModel, appendLength) {\n  var autoCurvenessParmas = getAutoCurvenessParams(seriesModel);\n  var length = 20;\n  var curvenessList = [];\n  // handler the function set\n  if (zrUtil.isNumber(autoCurvenessParmas)) {\n    length = autoCurvenessParmas;\n  } else if (zrUtil.isArray(autoCurvenessParmas)) {\n    seriesModel.__curvenessList = autoCurvenessParmas;\n    return;\n  }\n  // append length\n  if (appendLength > length) {\n    length = appendLength;\n  }\n  // make sure the length is even\n  var len = length % 2 ? length + 2 : length + 3;\n  curvenessList = [];\n  for (var i = 0; i < len; i++) {\n    curvenessList.push((i % 2 ? i + 1 : i) / 10 * (i % 2 ? -1 : 1));\n  }\n  seriesModel.__curvenessList = curvenessList;\n};\n/**\n * Create different cache key data in the positive and negative directions, in order to set the curvature later\n * @param {number|string|module:echarts/data/Graph.Node} n1\n * @param {number|string|module:echarts/data/Graph.Node} n2\n * @param {module:echarts/model/SeriesModel} seriesModel\n * @returns {string} key\n */\nvar getKeyOfEdges = function (n1, n2, seriesModel) {\n  var source = [n1.id, n1.dataIndex].join('.');\n  var target = [n2.id, n2.dataIndex].join('.');\n  return [seriesModel.uid, source, target].join(KEY_DELIMITER);\n};\n/**\n * get opposite key\n * @param {string} key\n * @returns {string}\n */\nvar getOppositeKey = function (key) {\n  var keys = key.split(KEY_DELIMITER);\n  return [keys[0], keys[2], keys[1]].join(KEY_DELIMITER);\n};\n/**\n * get edgeMap with key\n * @param edge\n * @param {module:echarts/model/SeriesModel} seriesModel\n */\nvar getEdgeFromMap = function (edge, seriesModel) {\n  var key = getKeyOfEdges(edge.node1, edge.node2, seriesModel);\n  return seriesModel.__edgeMap[key];\n};\n/**\n * calculate all cases total length\n * @param edge\n * @param seriesModel\n * @returns {number}\n */\nvar getTotalLengthBetweenNodes = function (edge, seriesModel) {\n  var len = getEdgeMapLengthWithKey(getKeyOfEdges(edge.node1, edge.node2, seriesModel), seriesModel);\n  var lenV = getEdgeMapLengthWithKey(getKeyOfEdges(edge.node2, edge.node1, seriesModel), seriesModel);\n  return len + lenV;\n};\n/**\n *\n * @param key\n */\nvar getEdgeMapLengthWithKey = function (key, seriesModel) {\n  var edgeMap = seriesModel.__edgeMap;\n  return edgeMap[key] ? edgeMap[key].length : 0;\n};\n/**\n * Count the number of edges between the same two points, used to obtain the curvature table and the parity of the edge\n * @see /graph/GraphSeries.js@getInitialData\n * @param {module:echarts/model/SeriesModel} seriesModel\n */\nexport function initCurvenessList(seriesModel) {\n  if (!getAutoCurvenessParams(seriesModel)) {\n    return;\n  }\n  seriesModel.__curvenessList = [];\n  seriesModel.__edgeMap = {};\n  // calc the array of curveness List\n  createCurveness(seriesModel);\n}\n/**\n * set edgeMap with key\n * @param {number|string|module:echarts/data/Graph.Node} n1\n * @param {number|string|module:echarts/data/Graph.Node} n2\n * @param {module:echarts/model/SeriesModel} seriesModel\n * @param {number} index\n */\nexport function createEdgeMapForCurveness(n1, n2, seriesModel, index) {\n  if (!getAutoCurvenessParams(seriesModel)) {\n    return;\n  }\n  var key = getKeyOfEdges(n1, n2, seriesModel);\n  var edgeMap = seriesModel.__edgeMap;\n  var oppositeEdges = edgeMap[getOppositeKey(key)];\n  // set direction\n  if (edgeMap[key] && !oppositeEdges) {\n    edgeMap[key].isForward = true;\n  } else if (oppositeEdges && edgeMap[key]) {\n    oppositeEdges.isForward = true;\n    edgeMap[key].isForward = false;\n  }\n  edgeMap[key] = edgeMap[key] || [];\n  edgeMap[key].push(index);\n}\n/**\n * get curvature for edge\n * @param edge\n * @param {module:echarts/model/SeriesModel} seriesModel\n * @param index\n */\nexport function getCurvenessForEdge(edge, seriesModel, index, needReverse) {\n  var autoCurvenessParams = getAutoCurvenessParams(seriesModel);\n  var isArrayParam = zrUtil.isArray(autoCurvenessParams);\n  if (!autoCurvenessParams) {\n    return null;\n  }\n  var edgeArray = getEdgeFromMap(edge, seriesModel);\n  if (!edgeArray) {\n    return null;\n  }\n  var edgeIndex = -1;\n  for (var i = 0; i < edgeArray.length; i++) {\n    if (edgeArray[i] === index) {\n      edgeIndex = i;\n      break;\n    }\n  }\n  // if totalLen is Longer createCurveness\n  var totalLen = getTotalLengthBetweenNodes(edge, seriesModel);\n  createCurveness(seriesModel, totalLen);\n  edge.lineStyle = edge.lineStyle || {};\n  // if is opposite edge, must set curvenss to opposite number\n  var curKey = getKeyOfEdges(edge.node1, edge.node2, seriesModel);\n  var curvenessList = seriesModel.__curvenessList;\n  // if pass array no need parity\n  var parityCorrection = isArrayParam ? 0 : totalLen % 2 ? 0 : 1;\n  if (!edgeArray.isForward) {\n    // the opposite edge show outside\n    var oppositeKey = getOppositeKey(curKey);\n    var len = getEdgeMapLengthWithKey(oppositeKey, seriesModel);\n    var resValue = curvenessList[edgeIndex + len + parityCorrection];\n    // isNeedReverse, simple, force type need reverse the curveness in the junction of the forword and the opposite\n    if (needReverse) {\n      // set as array may make the parity handle with the len of opposite\n      if (isArrayParam) {\n        if (autoCurvenessParams && autoCurvenessParams[0] === 0) {\n          return (len + parityCorrection) % 2 ? resValue : -resValue;\n        } else {\n          return ((len % 2 ? 0 : 1) + parityCorrection) % 2 ? resValue : -resValue;\n        }\n      } else {\n        return (len + parityCorrection) % 2 ? resValue : -resValue;\n      }\n    } else {\n      return curvenessList[edgeIndex + len + parityCorrection];\n    }\n  } else {\n    return curvenessList[parityCorrection + edgeIndex];\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as vec2 from 'zrender/lib/core/vector.js';\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { getCurvenessForEdge } from '../helper/multipleGraphEdgeHelper.js';\nexport function simpleLayout(seriesModel) {\n  var coordSys = seriesModel.coordinateSystem;\n  if (coordSys && coordSys.type !== 'view') {\n    return;\n  }\n  var graph = seriesModel.getGraph();\n  graph.eachNode(function (node) {\n    var model = node.getModel();\n    node.setLayout([+model.get('x'), +model.get('y')]);\n  });\n  simpleLayoutEdge(graph, seriesModel);\n}\nexport function simpleLayoutEdge(graph, seriesModel) {\n  graph.eachEdge(function (edge, index) {\n    var curveness = zrUtil.retrieve3(edge.getModel().get(['lineStyle', 'curveness']), -getCurvenessForEdge(edge, seriesModel, index, true), 0);\n    var p1 = vec2.clone(edge.node1.getLayout());\n    var p2 = vec2.clone(edge.node2.getLayout());\n    var points = [p1, p2];\n    if (+curveness) {\n      points.push([(p1[0] + p2[0]) / 2 - (p1[1] - p2[1]) * curveness, (p1[1] + p2[1]) / 2 - (p2[0] - p1[0]) * curveness]);\n    }\n    edge.setLayout(points);\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { each } from 'zrender/lib/core/util.js';\nimport { simpleLayout, simpleLayoutEdge } from './simpleLayoutHelper.js';\nexport default function graphSimpleLayout(ecModel, api) {\n  ecModel.eachSeriesByType('graph', function (seriesModel) {\n    var layout = seriesModel.get('layout');\n    var coordSys = seriesModel.coordinateSystem;\n    if (coordSys && coordSys.type !== 'view') {\n      var data_1 = seriesModel.getData();\n      var dimensions_1 = [];\n      each(coordSys.dimensions, function (coordDim) {\n        dimensions_1 = dimensions_1.concat(data_1.mapDimensionsAll(coordDim));\n      });\n      for (var dataIndex = 0; dataIndex < data_1.count(); dataIndex++) {\n        var value = [];\n        var hasValue = false;\n        for (var i = 0; i < dimensions_1.length; i++) {\n          var val = data_1.get(dimensions_1[i], dataIndex);\n          if (!isNaN(val)) {\n            hasValue = true;\n          }\n          value.push(val);\n        }\n        if (hasValue) {\n          data_1.setItemLayout(dataIndex, coordSys.dataToPoint(value));\n        } else {\n          // Also {Array.<number>}, not undefined to avoid if...else... statement\n          data_1.setItemLayout(dataIndex, [NaN, NaN]);\n        }\n      }\n      simpleLayoutEdge(data_1.graph, seriesModel);\n    } else if (!layout || layout === 'none') {\n      simpleLayout(seriesModel);\n    }\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nexport function getNodeGlobalScale(seriesModel) {\n  var coordSys = seriesModel.coordinateSystem;\n  if (coordSys.type !== 'view') {\n    return 1;\n  }\n  var nodeScaleRatio = seriesModel.option.nodeScaleRatio;\n  var groupZoom = coordSys.scaleX;\n  // Scale node when zoom changes\n  var roamZoom = coordSys.getZoom();\n  var nodeScale = (roamZoom - 1) * nodeScaleRatio + 1;\n  return nodeScale / groupZoom;\n}\nexport function getSymbolSize(node) {\n  var symbolSize = node.getVisual('symbolSize');\n  if (symbolSize instanceof Array) {\n    symbolSize = (symbolSize[0] + symbolSize[1]) / 2;\n  }\n  return +symbolSize;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as vec2 from 'zrender/lib/core/vector.js';\nimport { getSymbolSize, getNodeGlobalScale } from './graphHelper.js';\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { getCurvenessForEdge } from '../helper/multipleGraphEdgeHelper.js';\nvar PI = Math.PI;\nvar _symbolRadiansHalf = [];\n/**\n * `basedOn` can be:\n * 'value':\n *     This layout is not accurate and have same bad case. For example,\n *     if the min value is very smaller than the max value, the nodes\n *     with the min value probably overlap even though there is enough\n *     space to layout them. So we only use this approach in the as the\n *     init layout of the force layout.\n *     FIXME\n *     Probably we do not need this method any more but use\n *     `basedOn: 'symbolSize'` in force layout if\n *     delay its init operations to GraphView.\n * 'symbolSize':\n *     This approach work only if all of the symbol size calculated.\n *     That is, the progressive rendering is not applied to graph.\n *     FIXME\n *     If progressive rendering is applied to graph some day,\n *     probably we have to use `basedOn: 'value'`.\n */\nexport function circularLayout(seriesModel, basedOn, draggingNode, pointer) {\n  var coordSys = seriesModel.coordinateSystem;\n  if (coordSys && coordSys.type !== 'view') {\n    return;\n  }\n  var rect = coordSys.getBoundingRect();\n  var nodeData = seriesModel.getData();\n  var graph = nodeData.graph;\n  var cx = rect.width / 2 + rect.x;\n  var cy = rect.height / 2 + rect.y;\n  var r = Math.min(rect.width, rect.height) / 2;\n  var count = nodeData.count();\n  nodeData.setLayout({\n    cx: cx,\n    cy: cy\n  });\n  if (!count) {\n    return;\n  }\n  if (draggingNode) {\n    var _a = coordSys.pointToData(pointer),\n      tempX = _a[0],\n      tempY = _a[1];\n    var v = [tempX - cx, tempY - cy];\n    vec2.normalize(v, v);\n    vec2.scale(v, v, r);\n    draggingNode.setLayout([cx + v[0], cy + v[1]], true);\n    var circularRotateLabel = seriesModel.get(['circular', 'rotateLabel']);\n    rotateNodeLabel(draggingNode, circularRotateLabel, cx, cy);\n  }\n  _layoutNodesBasedOn[basedOn](seriesModel, graph, nodeData, r, cx, cy, count);\n  graph.eachEdge(function (edge, index) {\n    var curveness = zrUtil.retrieve3(edge.getModel().get(['lineStyle', 'curveness']), getCurvenessForEdge(edge, seriesModel, index), 0);\n    var p1 = vec2.clone(edge.node1.getLayout());\n    var p2 = vec2.clone(edge.node2.getLayout());\n    var cp1;\n    var x12 = (p1[0] + p2[0]) / 2;\n    var y12 = (p1[1] + p2[1]) / 2;\n    if (+curveness) {\n      curveness *= 3;\n      cp1 = [cx * curveness + x12 * (1 - curveness), cy * curveness + y12 * (1 - curveness)];\n    }\n    edge.setLayout([p1, p2, cp1]);\n  });\n}\nvar _layoutNodesBasedOn = {\n  value: function (seriesModel, graph, nodeData, r, cx, cy, count) {\n    var angle = 0;\n    var sum = nodeData.getSum('value');\n    var unitAngle = Math.PI * 2 / (sum || count);\n    graph.eachNode(function (node) {\n      var value = node.getValue('value');\n      var radianHalf = unitAngle * (sum ? value : 1) / 2;\n      angle += radianHalf;\n      node.setLayout([r * Math.cos(angle) + cx, r * Math.sin(angle) + cy]);\n      angle += radianHalf;\n    });\n  },\n  symbolSize: function (seriesModel, graph, nodeData, r, cx, cy, count) {\n    var sumRadian = 0;\n    _symbolRadiansHalf.length = count;\n    var nodeScale = getNodeGlobalScale(seriesModel);\n    graph.eachNode(function (node) {\n      var symbolSize = getSymbolSize(node);\n      // Normally this case will not happen, but we still add\n      // some the defensive code (2px is an arbitrary value).\n      isNaN(symbolSize) && (symbolSize = 2);\n      symbolSize < 0 && (symbolSize = 0);\n      symbolSize *= nodeScale;\n      var symbolRadianHalf = Math.asin(symbolSize / 2 / r);\n      // when `symbolSize / 2` is bigger than `r`.\n      isNaN(symbolRadianHalf) && (symbolRadianHalf = PI / 2);\n      _symbolRadiansHalf[node.dataIndex] = symbolRadianHalf;\n      sumRadian += symbolRadianHalf * 2;\n    });\n    var halfRemainRadian = (2 * PI - sumRadian) / count / 2;\n    var angle = 0;\n    graph.eachNode(function (node) {\n      var radianHalf = halfRemainRadian + _symbolRadiansHalf[node.dataIndex];\n      angle += radianHalf;\n      // init circular layout for\n      // 1. layout undefined node\n      // 2. not fixed node\n      (!node.getLayout() || !node.getLayout().fixed) && node.setLayout([r * Math.cos(angle) + cx, r * Math.sin(angle) + cy]);\n      angle += radianHalf;\n    });\n  }\n};\nexport function rotateNodeLabel(node, circularRotateLabel, cx, cy) {\n  var el = node.getGraphicEl();\n  // need to check if el exists. '-' value may not create node element.\n  if (!el) {\n    return;\n  }\n  var nodeModel = node.getModel();\n  var labelRotate = nodeModel.get(['label', 'rotate']) || 0;\n  var symbolPath = el.getSymbolPath();\n  if (circularRotateLabel) {\n    var pos = node.getLayout();\n    var rad = Math.atan2(pos[1] - cy, pos[0] - cx);\n    if (rad < 0) {\n      rad = Math.PI * 2 + rad;\n    }\n    var isLeft = pos[0] < cx;\n    if (isLeft) {\n      rad = rad - Math.PI;\n    }\n    var textPosition = isLeft ? 'left' : 'right';\n    symbolPath.setTextConfig({\n      rotation: -rad,\n      position: textPosition,\n      origin: 'center'\n    });\n    var emphasisState = symbolPath.ensureState('emphasis');\n    zrUtil.extend(emphasisState.textConfig || (emphasisState.textConfig = {}), {\n      position: textPosition\n    });\n  } else {\n    symbolPath.setTextConfig({\n      rotation: labelRotate *= Math.PI / 180\n    });\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { circularLayout } from './circularLayoutHelper.js';\nexport default function graphCircularLayout(ecModel) {\n  ecModel.eachSeriesByType('graph', function (seriesModel) {\n    if (seriesModel.get('layout') === 'circular') {\n      circularLayout(seriesModel, 'symbolSize');\n    }\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n/*\n* A third-party license is embedded for some of the code in this file:\n* Some formulas were originally copied from \"d3.js\" with some\n* modifications made for this project.\n* (See more details in the comment of the method \"step\" below.)\n* The use of the source code of this file is also subject to the terms\n* and consitions of the license of \"d3.js\" (BSD-3Clause, see\n* </licenses/LICENSE-d3>).\n*/\nimport * as vec2 from 'zrender/lib/core/vector.js';\nvar scaleAndAdd = vec2.scaleAndAdd;\n// function adjacentNode(n, e) {\n//     return e.n1 === n ? e.n2 : e.n1;\n// }\nexport function forceLayout(inNodes, inEdges, opts) {\n  var nodes = inNodes;\n  var edges = inEdges;\n  var rect = opts.rect;\n  var width = rect.width;\n  var height = rect.height;\n  var center = [rect.x + width / 2, rect.y + height / 2];\n  // let scale = opts.scale || 1;\n  var gravity = opts.gravity == null ? 0.1 : opts.gravity;\n  // for (let i = 0; i < edges.length; i++) {\n  //     let e = edges[i];\n  //     let n1 = e.n1;\n  //     let n2 = e.n2;\n  //     n1.edges = n1.edges || [];\n  //     n2.edges = n2.edges || [];\n  //     n1.edges.push(e);\n  //     n2.edges.push(e);\n  // }\n  // Init position\n  for (var i = 0; i < nodes.length; i++) {\n    var n = nodes[i];\n    if (!n.p) {\n      n.p = vec2.create(width * (Math.random() - 0.5) + center[0], height * (Math.random() - 0.5) + center[1]);\n    }\n    n.pp = vec2.clone(n.p);\n    n.edges = null;\n  }\n  // Formula in 'Graph Drawing by Force-directed Placement'\n  // let k = scale * Math.sqrt(width * height / nodes.length);\n  // let k2 = k * k;\n  var initialFriction = opts.friction == null ? 0.6 : opts.friction;\n  var friction = initialFriction;\n  var beforeStepCallback;\n  var afterStepCallback;\n  return {\n    warmUp: function () {\n      friction = initialFriction * 0.8;\n    },\n    setFixed: function (idx) {\n      nodes[idx].fixed = true;\n    },\n    setUnfixed: function (idx) {\n      nodes[idx].fixed = false;\n    },\n    /**\n     * Before step hook\n     */\n    beforeStep: function (cb) {\n      beforeStepCallback = cb;\n    },\n    /**\n     * After step hook\n     */\n    afterStep: function (cb) {\n      afterStepCallback = cb;\n    },\n    /**\n     * Some formulas were originally copied from \"d3.js\"\n     * https://github.com/d3/d3/blob/b516d77fb8566b576088e73410437494717ada26/src/layout/force.js\n     * with some modifications made for this project.\n     * See the license statement at the head of this file.\n     */\n    step: function (cb) {\n      beforeStepCallback && beforeStepCallback(nodes, edges);\n      var v12 = [];\n      var nLen = nodes.length;\n      for (var i = 0; i < edges.length; i++) {\n        var e = edges[i];\n        if (e.ignoreForceLayout) {\n          continue;\n        }\n        var n1 = e.n1;\n        var n2 = e.n2;\n        vec2.sub(v12, n2.p, n1.p);\n        var d = vec2.len(v12) - e.d;\n        var w = n2.w / (n1.w + n2.w);\n        if (isNaN(w)) {\n          w = 0;\n        }\n        vec2.normalize(v12, v12);\n        !n1.fixed && scaleAndAdd(n1.p, n1.p, v12, w * d * friction);\n        !n2.fixed && scaleAndAdd(n2.p, n2.p, v12, -(1 - w) * d * friction);\n      }\n      // Gravity\n      for (var i = 0; i < nLen; i++) {\n        var n = nodes[i];\n        if (!n.fixed) {\n          vec2.sub(v12, center, n.p);\n          // let d = vec2.len(v12);\n          // vec2.scale(v12, v12, 1 / d);\n          // let gravityFactor = gravity;\n          scaleAndAdd(n.p, n.p, v12, gravity * friction);\n        }\n      }\n      // Repulsive\n      // PENDING\n      for (var i = 0; i < nLen; i++) {\n        var n1 = nodes[i];\n        for (var j = i + 1; j < nLen; j++) {\n          var n2 = nodes[j];\n          vec2.sub(v12, n2.p, n1.p);\n          var d = vec2.len(v12);\n          if (d === 0) {\n            // Random repulse\n            vec2.set(v12, Math.random() - 0.5, Math.random() - 0.5);\n            d = 1;\n          }\n          var repFact = (n1.rep + n2.rep) / d / d;\n          !n1.fixed && scaleAndAdd(n1.pp, n1.pp, v12, repFact);\n          !n2.fixed && scaleAndAdd(n2.pp, n2.pp, v12, -repFact);\n        }\n      }\n      var v = [];\n      for (var i = 0; i < nLen; i++) {\n        var n = nodes[i];\n        if (!n.fixed) {\n          vec2.sub(v, n.p, n.pp);\n          scaleAndAdd(n.p, n.p, v, friction);\n          vec2.copy(n.pp, n.p);\n        }\n      }\n      friction = friction * 0.992;\n      var finished = friction < 0.01;\n      afterStepCallback && afterStepCallback(nodes, edges, finished);\n      cb && cb(finished);\n    }\n  };\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { forceLayout } from './forceHelper.js';\nimport { simpleLayout } from './simpleLayoutHelper.js';\nimport { circularLayout } from './circularLayoutHelper.js';\nimport { linearMap } from '../../util/number.js';\nimport * as vec2 from 'zrender/lib/core/vector.js';\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { getCurvenessForEdge } from '../helper/multipleGraphEdgeHelper.js';\nexport default function graphForceLayout(ecModel) {\n  ecModel.eachSeriesByType('graph', function (graphSeries) {\n    var coordSys = graphSeries.coordinateSystem;\n    if (coordSys && coordSys.type !== 'view') {\n      return;\n    }\n    if (graphSeries.get('layout') === 'force') {\n      var preservedPoints_1 = graphSeries.preservedPoints || {};\n      var graph_1 = graphSeries.getGraph();\n      var nodeData_1 = graph_1.data;\n      var edgeData = graph_1.edgeData;\n      var forceModel = graphSeries.getModel('force');\n      var initLayout = forceModel.get('initLayout');\n      if (graphSeries.preservedPoints) {\n        nodeData_1.each(function (idx) {\n          var id = nodeData_1.getId(idx);\n          nodeData_1.setItemLayout(idx, preservedPoints_1[id] || [NaN, NaN]);\n        });\n      } else if (!initLayout || initLayout === 'none') {\n        simpleLayout(graphSeries);\n      } else if (initLayout === 'circular') {\n        circularLayout(graphSeries, 'value');\n      }\n      var nodeDataExtent_1 = nodeData_1.getDataExtent('value');\n      var edgeDataExtent_1 = edgeData.getDataExtent('value');\n      // let edgeDataExtent = edgeData.getDataExtent('value');\n      var repulsion = forceModel.get('repulsion');\n      var edgeLength = forceModel.get('edgeLength');\n      var repulsionArr_1 = zrUtil.isArray(repulsion) ? repulsion : [repulsion, repulsion];\n      var edgeLengthArr_1 = zrUtil.isArray(edgeLength) ? edgeLength : [edgeLength, edgeLength];\n      // Larger value has smaller length\n      edgeLengthArr_1 = [edgeLengthArr_1[1], edgeLengthArr_1[0]];\n      var nodes_1 = nodeData_1.mapArray('value', function (value, idx) {\n        var point = nodeData_1.getItemLayout(idx);\n        var rep = linearMap(value, nodeDataExtent_1, repulsionArr_1);\n        if (isNaN(rep)) {\n          rep = (repulsionArr_1[0] + repulsionArr_1[1]) / 2;\n        }\n        return {\n          w: rep,\n          rep: rep,\n          fixed: nodeData_1.getItemModel(idx).get('fixed'),\n          p: !point || isNaN(point[0]) || isNaN(point[1]) ? null : point\n        };\n      });\n      var edges = edgeData.mapArray('value', function (value, idx) {\n        var edge = graph_1.getEdgeByIndex(idx);\n        var d = linearMap(value, edgeDataExtent_1, edgeLengthArr_1);\n        if (isNaN(d)) {\n          d = (edgeLengthArr_1[0] + edgeLengthArr_1[1]) / 2;\n        }\n        var edgeModel = edge.getModel();\n        var curveness = zrUtil.retrieve3(edge.getModel().get(['lineStyle', 'curveness']), -getCurvenessForEdge(edge, graphSeries, idx, true), 0);\n        return {\n          n1: nodes_1[edge.node1.dataIndex],\n          n2: nodes_1[edge.node2.dataIndex],\n          d: d,\n          curveness: curveness,\n          ignoreForceLayout: edgeModel.get('ignoreForceLayout')\n        };\n      });\n      // let coordSys = graphSeries.coordinateSystem;\n      var rect = coordSys.getBoundingRect();\n      var forceInstance = forceLayout(nodes_1, edges, {\n        rect: rect,\n        gravity: forceModel.get('gravity'),\n        friction: forceModel.get('friction')\n      });\n      forceInstance.beforeStep(function (nodes, edges) {\n        for (var i = 0, l = nodes.length; i < l; i++) {\n          if (nodes[i].fixed) {\n            // Write back to layout instance\n            vec2.copy(nodes[i].p, graph_1.getNodeByIndex(i).getLayout());\n          }\n        }\n      });\n      forceInstance.afterStep(function (nodes, edges, stopped) {\n        for (var i = 0, l = nodes.length; i < l; i++) {\n          if (!nodes[i].fixed) {\n            graph_1.getNodeByIndex(i).setLayout(nodes[i].p);\n          }\n          preservedPoints_1[nodeData_1.getId(i)] = nodes[i].p;\n        }\n        for (var i = 0, l = edges.length; i < l; i++) {\n          var e = edges[i];\n          var edge = graph_1.getEdgeByIndex(i);\n          var p1 = e.n1.p;\n          var p2 = e.n2.p;\n          var points = edge.getLayout();\n          points = points ? points.slice() : [];\n          points[0] = points[0] || [];\n          points[1] = points[1] || [];\n          vec2.copy(points[0], p1);\n          vec2.copy(points[1], p2);\n          if (+e.curveness) {\n            points[2] = [(p1[0] + p2[0]) / 2 - (p1[1] - p2[1]) * e.curveness, (p1[1] + p2[1]) / 2 - (p2[0] - p1[0]) * e.curveness];\n          }\n          edge.setLayout(points);\n        }\n      });\n      graphSeries.forceLayout = forceInstance;\n      graphSeries.preservedPoints = preservedPoints_1;\n      // Step to get the layout\n      forceInstance.step();\n    } else {\n      // Remove prev injected forceLayout instance\n      graphSeries.forceLayout = null;\n    }\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// FIXME Where to create the simple view coordinate system\nimport View from '../../coord/View.js';\nimport { createBoxLayoutReference, getLayoutRect, applyPreserveAspect } from '../../util/layout.js';\nimport * as bbox from 'zrender/lib/core/bbox.js';\nimport { extend } from 'zrender/lib/core/util.js';\nimport { injectCoordSysByOption } from '../../core/CoordinateSystem.js';\nfunction getViewRect(seriesModel, api, aspect) {\n  var layoutRef = createBoxLayoutReference(seriesModel, api);\n  var option = extend(seriesModel.getBoxLayoutParams(), {\n    aspect: aspect\n  });\n  var viewRect = getLayoutRect(option, layoutRef.refContainer);\n  return applyPreserveAspect(seriesModel, viewRect, aspect);\n}\nexport default function createViewCoordSys(ecModel, api) {\n  var viewList = [];\n  ecModel.eachSeriesByType('graph', function (seriesModel) {\n    injectCoordSysByOption({\n      targetModel: seriesModel,\n      coordSysType: 'view',\n      coordSysProvider: createViewCoordSys,\n      isDefaultDataCoordSys: true\n    });\n    function createViewCoordSys() {\n      var data = seriesModel.getData();\n      var positions = data.mapArray(function (idx) {\n        var itemModel = data.getItemModel(idx);\n        return [+itemModel.get('x'), +itemModel.get('y')];\n      });\n      var min = [];\n      var max = [];\n      bbox.fromPoints(positions, min, max);\n      // If width or height is 0\n      if (max[0] - min[0] === 0) {\n        max[0] += 1;\n        min[0] -= 1;\n      }\n      if (max[1] - min[1] === 0) {\n        max[1] += 1;\n        min[1] -= 1;\n      }\n      var aspect = (max[0] - min[0]) / (max[1] - min[1]);\n      // FIXME If get view rect after data processed?\n      var viewRect = getViewRect(seriesModel, api, aspect);\n      // Position may be NaN, use view rect instead\n      if (isNaN(aspect)) {\n        min = [viewRect.x, viewRect.y];\n        max = [viewRect.x + viewRect.width, viewRect.y + viewRect.height];\n      }\n      var bbWidth = max[0] - min[0];\n      var bbHeight = max[1] - min[1];\n      var viewCoordSys = new View(null, {\n        api: api,\n        ecModel: ecModel\n      });\n      viewCoordSys.zoomLimit = seriesModel.get('scaleLimit');\n      viewCoordSys.setBoundingRect(min[0], min[1], bbWidth, bbHeight);\n      viewCoordSys.setViewRect(viewRect.x, viewRect.y, viewRect.width, viewRect.height);\n      // Update roam info\n      viewCoordSys.setCenter(seriesModel.get('center'));\n      viewCoordSys.setZoom(seriesModel.get('zoom'));\n      viewList.push(viewCoordSys);\n      return viewCoordSys;\n    }\n  });\n  return viewList;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n/**\n * Line path for bezier and straight line draw\n */\nimport * as graphic from '../../util/graphic.js';\nimport * as vec2 from 'zrender/lib/core/vector.js';\nimport tokens from '../../visual/tokens.js';\nvar straightLineProto = graphic.Line.prototype;\nvar bezierCurveProto = graphic.BezierCurve.prototype;\nvar StraightLineShape = /** @class */function () {\n  function StraightLineShape() {\n    // Start point\n    this.x1 = 0;\n    this.y1 = 0;\n    // End point\n    this.x2 = 0;\n    this.y2 = 0;\n    this.percent = 1;\n  }\n  return StraightLineShape;\n}();\nvar CurveShape = /** @class */function (_super) {\n  __extends(CurveShape, _super);\n  function CurveShape() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  return CurveShape;\n}(StraightLineShape);\nfunction isStraightLine(shape) {\n  return isNaN(+shape.cpx1) || isNaN(+shape.cpy1);\n}\nvar ECLinePath = /** @class */function (_super) {\n  __extends(ECLinePath, _super);\n  function ECLinePath(opts) {\n    var _this = _super.call(this, opts) || this;\n    _this.type = 'ec-line';\n    return _this;\n  }\n  ECLinePath.prototype.getDefaultStyle = function () {\n    return {\n      stroke: tokens.color.neutral99,\n      fill: null\n    };\n  };\n  ECLinePath.prototype.getDefaultShape = function () {\n    return new StraightLineShape();\n  };\n  ECLinePath.prototype.buildPath = function (ctx, shape) {\n    if (isStraightLine(shape)) {\n      straightLineProto.buildPath.call(this, ctx, shape);\n    } else {\n      bezierCurveProto.buildPath.call(this, ctx, shape);\n    }\n  };\n  ECLinePath.prototype.pointAt = function (t) {\n    if (isStraightLine(this.shape)) {\n      return straightLineProto.pointAt.call(this, t);\n    } else {\n      return bezierCurveProto.pointAt.call(this, t);\n    }\n  };\n  ECLinePath.prototype.tangentAt = function (t) {\n    var shape = this.shape;\n    var p = isStraightLine(shape) ? [shape.x2 - shape.x1, shape.y2 - shape.y1] : bezierCurveProto.tangentAt.call(this, t);\n    return vec2.normalize(p, p);\n  };\n  return ECLinePath;\n}(graphic.Path);\nexport default ECLinePath;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport { isArray, each, retrieve2 } from 'zrender/lib/core/util.js';\nimport * as vector from 'zrender/lib/core/vector.js';\nimport * as symbolUtil from '../../util/symbol.js';\nimport ECLinePath from './LinePath.js';\nimport * as graphic from '../../util/graphic.js';\nimport { toggleHoverEmphasis, enterEmphasis, leaveEmphasis, SPECIAL_STATES } from '../../util/states.js';\nimport { getLabelStatesModels, setLabelStyle } from '../../label/labelStyle.js';\nimport { round } from '../../util/number.js';\nimport tokens from '../../visual/tokens.js';\nvar SYMBOL_CATEGORIES = ['fromSymbol', 'toSymbol'];\nfunction makeSymbolTypeKey(symbolCategory) {\n  return '_' + symbolCategory + 'Type';\n}\nfunction makeSymbolTypeValue(name, lineData, idx) {\n  var symbolType = lineData.getItemVisual(idx, name);\n  if (!symbolType || symbolType === 'none') {\n    return symbolType;\n  }\n  var symbolSize = lineData.getItemVisual(idx, name + 'Size');\n  var symbolRotate = lineData.getItemVisual(idx, name + 'Rotate');\n  var symbolOffset = lineData.getItemVisual(idx, name + 'Offset');\n  var symbolKeepAspect = lineData.getItemVisual(idx, name + 'KeepAspect');\n  var symbolSizeArr = symbolUtil.normalizeSymbolSize(symbolSize);\n  var symbolOffsetArr = symbolUtil.normalizeSymbolOffset(symbolOffset || 0, symbolSizeArr);\n  return symbolType + symbolSizeArr + symbolOffsetArr + (symbolRotate || '') + (symbolKeepAspect || '');\n}\n/**\n * @inner\n */\nfunction createSymbol(name, lineData, idx) {\n  var symbolType = lineData.getItemVisual(idx, name);\n  if (!symbolType || symbolType === 'none') {\n    return;\n  }\n  var symbolSize = lineData.getItemVisual(idx, name + 'Size');\n  var symbolRotate = lineData.getItemVisual(idx, name + 'Rotate');\n  var symbolOffset = lineData.getItemVisual(idx, name + 'Offset');\n  var symbolKeepAspect = lineData.getItemVisual(idx, name + 'KeepAspect');\n  var symbolSizeArr = symbolUtil.normalizeSymbolSize(symbolSize);\n  var symbolOffsetArr = symbolUtil.normalizeSymbolOffset(symbolOffset || 0, symbolSizeArr);\n  var symbolPath = symbolUtil.createSymbol(symbolType, -symbolSizeArr[0] / 2 + symbolOffsetArr[0], -symbolSizeArr[1] / 2 + symbolOffsetArr[1], symbolSizeArr[0], symbolSizeArr[1], null, symbolKeepAspect);\n  symbolPath.__specifiedRotation = symbolRotate == null || isNaN(symbolRotate) ? void 0 : +symbolRotate * Math.PI / 180 || 0;\n  symbolPath.name = name;\n  return symbolPath;\n}\nfunction createLine(points) {\n  var line = new ECLinePath({\n    name: 'line',\n    subPixelOptimize: true\n  });\n  setLinePoints(line.shape, points);\n  return line;\n}\nfunction setLinePoints(targetShape, points) {\n  targetShape.x1 = points[0][0];\n  targetShape.y1 = points[0][1];\n  targetShape.x2 = points[1][0];\n  targetShape.y2 = points[1][1];\n  targetShape.percent = 1;\n  var cp1 = points[2];\n  if (cp1) {\n    targetShape.cpx1 = cp1[0];\n    targetShape.cpy1 = cp1[1];\n  } else {\n    targetShape.cpx1 = NaN;\n    targetShape.cpy1 = NaN;\n  }\n}\nvar Line = /** @class */function (_super) {\n  __extends(Line, _super);\n  function Line(lineData, idx, seriesScope) {\n    var _this = _super.call(this) || this;\n    _this._createLine(lineData, idx, seriesScope);\n    return _this;\n  }\n  Line.prototype._createLine = function (lineData, idx, seriesScope) {\n    var seriesModel = lineData.hostModel;\n    var linePoints = lineData.getItemLayout(idx);\n    var z2 = lineData.getItemVisual(idx, 'z2');\n    var line = createLine(linePoints);\n    line.shape.percent = 0;\n    graphic.initProps(line, {\n      z2: retrieve2(z2, 0),\n      shape: {\n        percent: 1\n      }\n    }, seriesModel, idx);\n    this.add(line);\n    each(SYMBOL_CATEGORIES, function (symbolCategory) {\n      var symbol = createSymbol(symbolCategory, lineData, idx);\n      // symbols must added after line to make sure\n      // it will be updated after line#update.\n      // Or symbol position and rotation update in line#beforeUpdate will be one frame slow\n      this.add(symbol);\n      this[makeSymbolTypeKey(symbolCategory)] = makeSymbolTypeValue(symbolCategory, lineData, idx);\n    }, this);\n    this._updateCommonStl(lineData, idx, seriesScope);\n  };\n  // TODO More strict on the List type in parameters?\n  Line.prototype.updateData = function (lineData, idx, seriesScope) {\n    var seriesModel = lineData.hostModel;\n    var line = this.childOfName('line');\n    var linePoints = lineData.getItemLayout(idx);\n    var target = {\n      shape: {}\n    };\n    setLinePoints(target.shape, linePoints);\n    graphic.updateProps(line, target, seriesModel, idx);\n    each(SYMBOL_CATEGORIES, function (symbolCategory) {\n      var symbolType = makeSymbolTypeValue(symbolCategory, lineData, idx);\n      var key = makeSymbolTypeKey(symbolCategory);\n      // Symbol changed\n      if (this[key] !== symbolType) {\n        this.remove(this.childOfName(symbolCategory));\n        var symbol = createSymbol(symbolCategory, lineData, idx);\n        this.add(symbol);\n      }\n      this[key] = symbolType;\n    }, this);\n    this._updateCommonStl(lineData, idx, seriesScope);\n  };\n  ;\n  Line.prototype.getLinePath = function () {\n    return this.childAt(0);\n  };\n  Line.prototype._updateCommonStl = function (lineData, idx, seriesScope) {\n    var seriesModel = lineData.hostModel;\n    var line = this.childOfName('line');\n    var emphasisLineStyle = seriesScope && seriesScope.emphasisLineStyle;\n    var blurLineStyle = seriesScope && seriesScope.blurLineStyle;\n    var selectLineStyle = seriesScope && seriesScope.selectLineStyle;\n    var labelStatesModels = seriesScope && seriesScope.labelStatesModels;\n    var emphasisDisabled = seriesScope && seriesScope.emphasisDisabled;\n    var focus = seriesScope && seriesScope.focus;\n    var blurScope = seriesScope && seriesScope.blurScope;\n    // Optimization for large dataset\n    if (!seriesScope || lineData.hasItemOption) {\n      var itemModel = lineData.getItemModel(idx);\n      var emphasisModel = itemModel.getModel('emphasis');\n      emphasisLineStyle = emphasisModel.getModel('lineStyle').getLineStyle();\n      blurLineStyle = itemModel.getModel(['blur', 'lineStyle']).getLineStyle();\n      selectLineStyle = itemModel.getModel(['select', 'lineStyle']).getLineStyle();\n      emphasisDisabled = emphasisModel.get('disabled');\n      focus = emphasisModel.get('focus');\n      blurScope = emphasisModel.get('blurScope');\n      labelStatesModels = getLabelStatesModels(itemModel);\n    }\n    var lineStyle = lineData.getItemVisual(idx, 'style');\n    var visualColor = lineStyle.stroke;\n    line.useStyle(lineStyle);\n    line.style.fill = null;\n    line.style.strokeNoScale = true;\n    line.ensureState('emphasis').style = emphasisLineStyle;\n    line.ensureState('blur').style = blurLineStyle;\n    line.ensureState('select').style = selectLineStyle;\n    // Update symbol\n    each(SYMBOL_CATEGORIES, function (symbolCategory) {\n      var symbol = this.childOfName(symbolCategory);\n      if (symbol) {\n        // Share opacity and color with line.\n        symbol.setColor(visualColor);\n        symbol.style.opacity = lineStyle.opacity;\n        for (var i = 0; i < SPECIAL_STATES.length; i++) {\n          var stateName = SPECIAL_STATES[i];\n          var lineState = line.getState(stateName);\n          if (lineState) {\n            var lineStateStyle = lineState.style || {};\n            var state = symbol.ensureState(stateName);\n            var stateStyle = state.style || (state.style = {});\n            if (lineStateStyle.stroke != null) {\n              stateStyle[symbol.__isEmptyBrush ? 'stroke' : 'fill'] = lineStateStyle.stroke;\n            }\n            if (lineStateStyle.opacity != null) {\n              stateStyle.opacity = lineStateStyle.opacity;\n            }\n          }\n        }\n        symbol.markRedraw();\n      }\n    }, this);\n    var rawVal = seriesModel.getRawValue(idx);\n    setLabelStyle(this, labelStatesModels, {\n      labelDataIndex: idx,\n      labelFetcher: {\n        getFormattedLabel: function (dataIndex, stateName) {\n          return seriesModel.getFormattedLabel(dataIndex, stateName, lineData.dataType);\n        }\n      },\n      inheritColor: visualColor || tokens.color.neutral99,\n      defaultOpacity: lineStyle.opacity,\n      defaultText: (rawVal == null ? lineData.getName(idx) : isFinite(rawVal) ? round(rawVal) : rawVal) + ''\n    });\n    var label = this.getTextContent();\n    // Always set `textStyle` even if `normalStyle.text` is null, because default\n    // values have to be set on `normalStyle`.\n    if (label) {\n      var labelNormalModel = labelStatesModels.normal;\n      label.__align = label.style.align;\n      label.__verticalAlign = label.style.verticalAlign;\n      // 'start', 'middle', 'end'\n      label.__position = labelNormalModel.get('position') || 'middle';\n      var distance = labelNormalModel.get('distance');\n      if (!isArray(distance)) {\n        distance = [distance, distance];\n      }\n      label.__labelDistance = distance;\n    }\n    this.setTextConfig({\n      position: null,\n      local: true,\n      inside: false // Can't be inside for stroke element.\n    });\n    toggleHoverEmphasis(this, focus, blurScope, emphasisDisabled);\n  };\n  Line.prototype.highlight = function () {\n    enterEmphasis(this);\n  };\n  Line.prototype.downplay = function () {\n    leaveEmphasis(this);\n  };\n  Line.prototype.updateLayout = function (lineData, idx) {\n    this.setLinePoints(lineData.getItemLayout(idx));\n  };\n  Line.prototype.setLinePoints = function (points) {\n    var linePath = this.childOfName('line');\n    setLinePoints(linePath.shape, points);\n    linePath.dirty();\n  };\n  Line.prototype.beforeUpdate = function () {\n    var lineGroup = this;\n    var symbolFrom = lineGroup.childOfName('fromSymbol');\n    var symbolTo = lineGroup.childOfName('toSymbol');\n    var label = lineGroup.getTextContent();\n    // Quick reject\n    if (!symbolFrom && !symbolTo && (!label || label.ignore)) {\n      return;\n    }\n    var invScale = 1;\n    var parentNode = this.parent;\n    while (parentNode) {\n      if (parentNode.scaleX) {\n        invScale /= parentNode.scaleX;\n      }\n      parentNode = parentNode.parent;\n    }\n    var line = lineGroup.childOfName('line');\n    // If line not changed\n    // FIXME Parent scale changed\n    if (!this.__dirty && !line.__dirty) {\n      return;\n    }\n    var percent = line.shape.percent;\n    var fromPos = line.pointAt(0);\n    var toPos = line.pointAt(percent);\n    var d = vector.sub([], toPos, fromPos);\n    vector.normalize(d, d);\n    function setSymbolRotation(symbol, percent) {\n      // Fix #12388\n      // when symbol is set to be 'arrow' in markLine,\n      // symbolRotate value will be ignored, and compulsively use tangent angle.\n      // rotate by default if symbol rotation is not specified\n      var specifiedRotation = symbol.__specifiedRotation;\n      if (specifiedRotation == null) {\n        var tangent = line.tangentAt(percent);\n        symbol.attr('rotation', (percent === 1 ? -1 : 1) * Math.PI / 2 - Math.atan2(tangent[1], tangent[0]));\n      } else {\n        symbol.attr('rotation', specifiedRotation);\n      }\n    }\n    if (symbolFrom) {\n      symbolFrom.setPosition(fromPos);\n      setSymbolRotation(symbolFrom, 0);\n      symbolFrom.scaleX = symbolFrom.scaleY = invScale * percent;\n      symbolFrom.markRedraw();\n    }\n    if (symbolTo) {\n      symbolTo.setPosition(toPos);\n      setSymbolRotation(symbolTo, 1);\n      symbolTo.scaleX = symbolTo.scaleY = invScale * percent;\n      symbolTo.markRedraw();\n    }\n    if (label && !label.ignore) {\n      label.x = label.y = 0;\n      label.originX = label.originY = 0;\n      var textAlign = void 0;\n      var textVerticalAlign = void 0;\n      var distance = label.__labelDistance;\n      var distanceX = distance[0] * invScale;\n      var distanceY = distance[1] * invScale;\n      var halfPercent = percent / 2;\n      var tangent = line.tangentAt(halfPercent);\n      var n = [tangent[1], -tangent[0]];\n      var cp = line.pointAt(halfPercent);\n      if (n[1] > 0) {\n        n[0] = -n[0];\n        n[1] = -n[1];\n      }\n      var dir = tangent[0] < 0 ? -1 : 1;\n      if (label.__position !== 'start' && label.__position !== 'end') {\n        var rotation = -Math.atan2(tangent[1], tangent[0]);\n        if (toPos[0] < fromPos[0]) {\n          rotation = Math.PI + rotation;\n        }\n        label.rotation = rotation;\n      }\n      var dy = void 0;\n      switch (label.__position) {\n        case 'insideStartTop':\n        case 'insideMiddleTop':\n        case 'insideEndTop':\n        case 'middle':\n          dy = -distanceY;\n          textVerticalAlign = 'bottom';\n          break;\n        case 'insideStartBottom':\n        case 'insideMiddleBottom':\n        case 'insideEndBottom':\n          dy = distanceY;\n          textVerticalAlign = 'top';\n          break;\n        default:\n          dy = 0;\n          textVerticalAlign = 'middle';\n      }\n      switch (label.__position) {\n        case 'end':\n          label.x = d[0] * distanceX + toPos[0];\n          label.y = d[1] * distanceY + toPos[1];\n          textAlign = d[0] > 0.8 ? 'left' : d[0] < -0.8 ? 'right' : 'center';\n          textVerticalAlign = d[1] > 0.8 ? 'top' : d[1] < -0.8 ? 'bottom' : 'middle';\n          break;\n        case 'start':\n          label.x = -d[0] * distanceX + fromPos[0];\n          label.y = -d[1] * distanceY + fromPos[1];\n          textAlign = d[0] > 0.8 ? 'right' : d[0] < -0.8 ? 'left' : 'center';\n          textVerticalAlign = d[1] > 0.8 ? 'bottom' : d[1] < -0.8 ? 'top' : 'middle';\n          break;\n        case 'insideStartTop':\n        case 'insideStart':\n        case 'insideStartBottom':\n          label.x = distanceX * dir + fromPos[0];\n          label.y = fromPos[1] + dy;\n          textAlign = tangent[0] < 0 ? 'right' : 'left';\n          label.originX = -distanceX * dir;\n          label.originY = -dy;\n          break;\n        case 'insideMiddleTop':\n        case 'insideMiddle':\n        case 'insideMiddleBottom':\n        case 'middle':\n          label.x = cp[0];\n          label.y = cp[1] + dy;\n          textAlign = 'center';\n          label.originY = -dy;\n          break;\n        case 'insideEndTop':\n        case 'insideEnd':\n        case 'insideEndBottom':\n          label.x = -distanceX * dir + toPos[0];\n          label.y = toPos[1] + dy;\n          textAlign = tangent[0] >= 0 ? 'right' : 'left';\n          label.originX = distanceX * dir;\n          label.originY = -dy;\n          break;\n      }\n      label.scaleX = label.scaleY = invScale;\n      label.setStyle({\n        // Use the user specified text align and baseline first\n        verticalAlign: label.__verticalAlign || textVerticalAlign,\n        align: label.__align || textAlign\n      });\n    }\n  };\n  return Line;\n}(graphic.Group);\nexport default Line;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as graphic from '../../util/graphic.js';\nimport LineGroup from './Line.js';\nimport { getLabelStatesModels } from '../../label/labelStyle.js';\nvar LineDraw = /** @class */function () {\n  function LineDraw(LineCtor) {\n    this.group = new graphic.Group();\n    this._LineCtor = LineCtor || LineGroup;\n  }\n  LineDraw.prototype.updateData = function (lineData) {\n    var _this = this;\n    // Remove progressive els.\n    this._progressiveEls = null;\n    var lineDraw = this;\n    var group = lineDraw.group;\n    var oldLineData = lineDraw._lineData;\n    lineDraw._lineData = lineData;\n    // There is no oldLineData only when first rendering or switching from\n    // stream mode to normal mode, where previous elements should be removed.\n    if (!oldLineData) {\n      group.removeAll();\n    }\n    var seriesScope = makeSeriesScope(lineData);\n    lineData.diff(oldLineData).add(function (idx) {\n      _this._doAdd(lineData, idx, seriesScope);\n    }).update(function (newIdx, oldIdx) {\n      _this._doUpdate(oldLineData, lineData, oldIdx, newIdx, seriesScope);\n    }).remove(function (idx) {\n      group.remove(oldLineData.getItemGraphicEl(idx));\n    }).execute();\n  };\n  ;\n  LineDraw.prototype.updateLayout = function () {\n    var lineData = this._lineData;\n    // Do not support update layout in incremental mode.\n    if (!lineData) {\n      return;\n    }\n    lineData.eachItemGraphicEl(function (el, idx) {\n      el.updateLayout(lineData, idx);\n    }, this);\n  };\n  ;\n  LineDraw.prototype.incrementalPrepareUpdate = function (lineData) {\n    this._seriesScope = makeSeriesScope(lineData);\n    this._lineData = null;\n    this.group.removeAll();\n  };\n  ;\n  LineDraw.prototype.incrementalUpdate = function (taskParams, lineData) {\n    this._progressiveEls = [];\n    function updateIncrementalAndHover(el) {\n      if (!el.isGroup && !isEffectObject(el)) {\n        el.incremental = true;\n        el.ensureState('emphasis').hoverLayer = true;\n      }\n    }\n    for (var idx = taskParams.start; idx < taskParams.end; idx++) {\n      var itemLayout = lineData.getItemLayout(idx);\n      if (lineNeedsDraw(itemLayout)) {\n        var el = new this._LineCtor(lineData, idx, this._seriesScope);\n        el.traverse(updateIncrementalAndHover);\n        this.group.add(el);\n        lineData.setItemGraphicEl(idx, el);\n        this._progressiveEls.push(el);\n      }\n    }\n  };\n  ;\n  LineDraw.prototype.remove = function () {\n    this.group.removeAll();\n  };\n  ;\n  LineDraw.prototype.eachRendered = function (cb) {\n    graphic.traverseElements(this._progressiveEls || this.group, cb);\n  };\n  LineDraw.prototype._doAdd = function (lineData, idx, seriesScope) {\n    var itemLayout = lineData.getItemLayout(idx);\n    if (!lineNeedsDraw(itemLayout)) {\n      return;\n    }\n    var el = new this._LineCtor(lineData, idx, seriesScope);\n    lineData.setItemGraphicEl(idx, el);\n    this.group.add(el);\n  };\n  LineDraw.prototype._doUpdate = function (oldLineData, newLineData, oldIdx, newIdx, seriesScope) {\n    var itemEl = oldLineData.getItemGraphicEl(oldIdx);\n    if (!lineNeedsDraw(newLineData.getItemLayout(newIdx))) {\n      this.group.remove(itemEl);\n      return;\n    }\n    if (!itemEl) {\n      itemEl = new this._LineCtor(newLineData, newIdx, seriesScope);\n    } else {\n      itemEl.updateData(newLineData, newIdx, seriesScope);\n    }\n    newLineData.setItemGraphicEl(newIdx, itemEl);\n    this.group.add(itemEl);\n  };\n  return LineDraw;\n}();\nfunction isEffectObject(el) {\n  return el.animators && el.animators.length > 0;\n}\nfunction makeSeriesScope(lineData) {\n  var hostModel = lineData.hostModel;\n  var emphasisModel = hostModel.getModel('emphasis');\n  return {\n    lineStyle: hostModel.getModel('lineStyle').getLineStyle(),\n    emphasisLineStyle: emphasisModel.getModel(['lineStyle']).getLineStyle(),\n    blurLineStyle: hostModel.getModel(['blur', 'lineStyle']).getLineStyle(),\n    selectLineStyle: hostModel.getModel(['select', 'lineStyle']).getLineStyle(),\n    emphasisDisabled: emphasisModel.get('disabled'),\n    blurScope: emphasisModel.get('blurScope'),\n    focus: emphasisModel.get('focus'),\n    labelStatesModels: getLabelStatesModels(hostModel)\n  };\n}\nfunction isPointNaN(pt) {\n  return isNaN(pt[0]) || isNaN(pt[1]);\n}\nfunction lineNeedsDraw(pts) {\n  return pts && !isPointNaN(pts[0]) && !isPointNaN(pts[1]);\n}\nexport default LineDraw;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as curveTool from 'zrender/lib/core/curve.js';\nimport * as vec2 from 'zrender/lib/core/vector.js';\nimport { getSymbolSize } from './graphHelper.js';\nvar v1 = [];\nvar v2 = [];\nvar v3 = [];\nvar quadraticAt = curveTool.quadraticAt;\nvar v2DistSquare = vec2.distSquare;\nvar mathAbs = Math.abs;\nfunction intersectCurveCircle(curvePoints, center, radius) {\n  var p0 = curvePoints[0];\n  var p1 = curvePoints[1];\n  var p2 = curvePoints[2];\n  var d = Infinity;\n  var t;\n  var radiusSquare = radius * radius;\n  var interval = 0.1;\n  for (var _t = 0.1; _t <= 0.9; _t += 0.1) {\n    v1[0] = quadraticAt(p0[0], p1[0], p2[0], _t);\n    v1[1] = quadraticAt(p0[1], p1[1], p2[1], _t);\n    var diff = mathAbs(v2DistSquare(v1, center) - radiusSquare);\n    if (diff < d) {\n      d = diff;\n      t = _t;\n    }\n  }\n  // Assume the segment is monotone，Find root through Bisection method\n  // At most 32 iteration\n  for (var i = 0; i < 32; i++) {\n    // let prev = t - interval;\n    var next = t + interval;\n    // v1[0] = quadraticAt(p0[0], p1[0], p2[0], prev);\n    // v1[1] = quadraticAt(p0[1], p1[1], p2[1], prev);\n    v2[0] = quadraticAt(p0[0], p1[0], p2[0], t);\n    v2[1] = quadraticAt(p0[1], p1[1], p2[1], t);\n    v3[0] = quadraticAt(p0[0], p1[0], p2[0], next);\n    v3[1] = quadraticAt(p0[1], p1[1], p2[1], next);\n    var diff = v2DistSquare(v2, center) - radiusSquare;\n    if (mathAbs(diff) < 1e-2) {\n      break;\n    }\n    // let prevDiff = v2DistSquare(v1, center) - radiusSquare;\n    var nextDiff = v2DistSquare(v3, center) - radiusSquare;\n    interval /= 2;\n    if (diff < 0) {\n      if (nextDiff >= 0) {\n        t = t + interval;\n      } else {\n        t = t - interval;\n      }\n    } else {\n      if (nextDiff >= 0) {\n        t = t - interval;\n      } else {\n        t = t + interval;\n      }\n    }\n  }\n  return t;\n}\n// Adjust edge to avoid\nexport default function adjustEdge(graph, scale) {\n  var tmp0 = [];\n  var quadraticSubdivide = curveTool.quadraticSubdivide;\n  var pts = [[], [], []];\n  var pts2 = [[], []];\n  var v = [];\n  scale /= 2;\n  graph.eachEdge(function (edge, idx) {\n    var linePoints = edge.getLayout();\n    var fromSymbol = edge.getVisual('fromSymbol');\n    var toSymbol = edge.getVisual('toSymbol');\n    if (!linePoints.__original) {\n      linePoints.__original = [vec2.clone(linePoints[0]), vec2.clone(linePoints[1])];\n      if (linePoints[2]) {\n        linePoints.__original.push(vec2.clone(linePoints[2]));\n      }\n    }\n    var originalPoints = linePoints.__original;\n    // Quadratic curve\n    if (linePoints[2] != null) {\n      vec2.copy(pts[0], originalPoints[0]);\n      vec2.copy(pts[1], originalPoints[2]);\n      vec2.copy(pts[2], originalPoints[1]);\n      if (fromSymbol && fromSymbol !== 'none') {\n        var symbolSize = getSymbolSize(edge.node1);\n        var t = intersectCurveCircle(pts, originalPoints[0], symbolSize * scale);\n        // Subdivide and get the second\n        quadraticSubdivide(pts[0][0], pts[1][0], pts[2][0], t, tmp0);\n        pts[0][0] = tmp0[3];\n        pts[1][0] = tmp0[4];\n        quadraticSubdivide(pts[0][1], pts[1][1], pts[2][1], t, tmp0);\n        pts[0][1] = tmp0[3];\n        pts[1][1] = tmp0[4];\n      }\n      if (toSymbol && toSymbol !== 'none') {\n        var symbolSize = getSymbolSize(edge.node2);\n        var t = intersectCurveCircle(pts, originalPoints[1], symbolSize * scale);\n        // Subdivide and get the first\n        quadraticSubdivide(pts[0][0], pts[1][0], pts[2][0], t, tmp0);\n        pts[1][0] = tmp0[1];\n        pts[2][0] = tmp0[2];\n        quadraticSubdivide(pts[0][1], pts[1][1], pts[2][1], t, tmp0);\n        pts[1][1] = tmp0[1];\n        pts[2][1] = tmp0[2];\n      }\n      // Copy back to layout\n      vec2.copy(linePoints[0], pts[0]);\n      vec2.copy(linePoints[1], pts[2]);\n      vec2.copy(linePoints[2], pts[1]);\n    }\n    // Line\n    else {\n      vec2.copy(pts2[0], originalPoints[0]);\n      vec2.copy(pts2[1], originalPoints[1]);\n      vec2.sub(v, pts2[1], pts2[0]);\n      vec2.normalize(v, v);\n      if (fromSymbol && fromSymbol !== 'none') {\n        var symbolSize = getSymbolSize(edge.node1);\n        vec2.scaleAndAdd(pts2[0], pts2[0], v, symbolSize * scale);\n      }\n      if (toSymbol && toSymbol !== 'none') {\n        var symbolSize = getSymbolSize(edge.node2);\n        vec2.scaleAndAdd(pts2[1], pts2[1], v, -symbolSize * scale);\n      }\n      vec2.copy(linePoints[0], pts2[0]);\n      vec2.copy(linePoints[1], pts2[1]);\n    }\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { makeInner } from '../../util/model.js';\n/**\n * @caveat Do not import other `src/component/thumbnail/*` files.\n *  This file should be decoupled from them for sake of the size consideration.\n */\n/**\n * FIXME: This is a temporary implmentation. May need refactor to decouple\n *  the direct call from series.graph to thumbnail.\n */\nvar inner = makeInner();\nexport function getThumbnailBridge(model) {\n  if (model) {\n    return inner(model).bridge;\n  }\n}\nexport function injectThumbnailBridge(model, thumbnailBridge) {\n  if (model) {\n    inner(model).bridge = thumbnailBridge;\n  }\n}\n;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport SymbolDraw from '../helper/SymbolDraw.js';\nimport LineDraw from '../helper/LineDraw.js';\nimport RoamController from '../../component/helper/RoamController.js';\nimport { updateViewOnZoom, updateViewOnPan } from '../../component/helper/roamHelper.js';\nimport * as graphic from '../../util/graphic.js';\nimport adjustEdge from './adjustEdge.js';\nimport { getNodeGlobalScale } from './graphHelper.js';\nimport ChartView from '../../view/Chart.js';\nimport { getECData } from '../../util/innerStore.js';\nimport { simpleLayoutEdge } from './simpleLayoutHelper.js';\nimport { circularLayout, rotateNodeLabel } from './circularLayoutHelper.js';\nimport { clone, extend } from 'zrender/lib/core/util.js';\nimport ECLinePath from '../helper/LinePath.js';\nimport { getThumbnailBridge } from '../../component/helper/thumbnailBridge.js';\nfunction isViewCoordSys(coordSys) {\n  return coordSys.type === 'view';\n}\nvar GraphView = /** @class */function (_super) {\n  __extends(GraphView, _super);\n  function GraphView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = GraphView.type;\n    return _this;\n  }\n  GraphView.prototype.init = function (ecModel, api) {\n    var symbolDraw = new SymbolDraw();\n    var lineDraw = new LineDraw();\n    var group = this.group;\n    var mainGroup = new graphic.Group();\n    this._controller = new RoamController(api.getZr());\n    this._controllerHost = {\n      target: mainGroup\n    };\n    mainGroup.add(symbolDraw.group);\n    mainGroup.add(lineDraw.group);\n    group.add(mainGroup);\n    this._symbolDraw = symbolDraw;\n    this._lineDraw = lineDraw;\n    this._mainGroup = mainGroup;\n    this._firstRender = true;\n  };\n  GraphView.prototype.render = function (seriesModel, ecModel, api) {\n    var _this = this;\n    var coordSys = seriesModel.coordinateSystem;\n    var isForceLayout = false;\n    this._model = seriesModel;\n    this._api = api;\n    this._active = true;\n    var thumbnailInfo = this._getThumbnailInfo();\n    if (thumbnailInfo) {\n      thumbnailInfo.bridge.reset(api);\n    }\n    var symbolDraw = this._symbolDraw;\n    var lineDraw = this._lineDraw;\n    if (isViewCoordSys(coordSys)) {\n      var groupNewProp = {\n        x: coordSys.x,\n        y: coordSys.y,\n        scaleX: coordSys.scaleX,\n        scaleY: coordSys.scaleY\n      };\n      if (this._firstRender) {\n        this._mainGroup.attr(groupNewProp);\n      } else {\n        graphic.updateProps(this._mainGroup, groupNewProp, seriesModel);\n      }\n    }\n    // Fix edge contact point with node\n    adjustEdge(seriesModel.getGraph(), getNodeGlobalScale(seriesModel));\n    var data = seriesModel.getData();\n    symbolDraw.updateData(data);\n    var edgeData = seriesModel.getEdgeData();\n    // TODO: TYPE\n    lineDraw.updateData(edgeData);\n    this._updateNodeAndLinkScale();\n    this._updateController(null, seriesModel, api);\n    clearTimeout(this._layoutTimeout);\n    var forceLayout = seriesModel.forceLayout;\n    var layoutAnimation = seriesModel.get(['force', 'layoutAnimation']);\n    if (forceLayout) {\n      isForceLayout = true;\n      this._startForceLayoutIteration(forceLayout, api, layoutAnimation);\n    }\n    var layout = seriesModel.get('layout');\n    data.graph.eachNode(function (node) {\n      var idx = node.dataIndex;\n      var el = node.getGraphicEl();\n      var itemModel = node.getModel();\n      if (!el) {\n        return;\n      }\n      // Update draggable\n      el.off('drag').off('dragend');\n      var draggable = itemModel.get('draggable');\n      if (draggable) {\n        el.on('drag', function (e) {\n          switch (layout) {\n            case 'force':\n              forceLayout.warmUp();\n              !_this._layouting && _this._startForceLayoutIteration(forceLayout, api, layoutAnimation);\n              forceLayout.setFixed(idx);\n              // Write position back to layout\n              data.setItemLayout(idx, [el.x, el.y]);\n              break;\n            case 'circular':\n              data.setItemLayout(idx, [el.x, el.y]);\n              // mark node fixed\n              node.setLayout({\n                fixed: true\n              }, true);\n              // recalculate circular layout\n              circularLayout(seriesModel, 'symbolSize', node, [e.offsetX, e.offsetY]);\n              _this.updateLayout(seriesModel);\n              break;\n            case 'none':\n            default:\n              data.setItemLayout(idx, [el.x, el.y]);\n              // update edge\n              simpleLayoutEdge(seriesModel.getGraph(), seriesModel);\n              _this.updateLayout(seriesModel);\n              break;\n          }\n        }).on('dragend', function () {\n          if (forceLayout) {\n            forceLayout.setUnfixed(idx);\n          }\n        });\n      }\n      el.setDraggable(draggable, !!itemModel.get('cursor'));\n      var focus = itemModel.get(['emphasis', 'focus']);\n      if (focus === 'adjacency') {\n        getECData(el).focus = node.getAdjacentDataIndices();\n      }\n    });\n    data.graph.eachEdge(function (edge) {\n      var el = edge.getGraphicEl();\n      var focus = edge.getModel().get(['emphasis', 'focus']);\n      if (!el) {\n        return;\n      }\n      if (focus === 'adjacency') {\n        getECData(el).focus = {\n          edge: [edge.dataIndex],\n          node: [edge.node1.dataIndex, edge.node2.dataIndex]\n        };\n      }\n    });\n    var circularRotateLabel = seriesModel.get('layout') === 'circular' && seriesModel.get(['circular', 'rotateLabel']);\n    var cx = data.getLayout('cx');\n    var cy = data.getLayout('cy');\n    data.graph.eachNode(function (node) {\n      rotateNodeLabel(node, circularRotateLabel, cx, cy);\n    });\n    this._firstRender = false;\n    // Force layout will render thumbnail when layout is finished.\n    if (!isForceLayout) {\n      this._renderThumbnail(seriesModel, api, this._symbolDraw, this._lineDraw);\n    }\n  };\n  GraphView.prototype.dispose = function () {\n    this.remove();\n    this._controller && this._controller.dispose();\n    this._controllerHost = null;\n  };\n  GraphView.prototype._startForceLayoutIteration = function (forceLayout, api, layoutAnimation) {\n    var self = this;\n    var firstRendered = false;\n    (function step() {\n      forceLayout.step(function (stopped) {\n        self.updateLayout(self._model);\n        if (stopped || !firstRendered) {\n          firstRendered = true;\n          self._renderThumbnail(self._model, api, self._symbolDraw, self._lineDraw);\n        }\n        (self._layouting = !stopped) && (layoutAnimation ? self._layoutTimeout = setTimeout(step, 16) : step());\n      });\n    })();\n  };\n  GraphView.prototype._updateController = function (clipRect, seriesModel, api) {\n    var controller = this._controller;\n    var controllerHost = this._controllerHost;\n    var coordSys = seriesModel.coordinateSystem;\n    if (!isViewCoordSys(coordSys)) {\n      controller.disable();\n      return;\n    }\n    controller.enable(seriesModel.get('roam'), {\n      api: api,\n      zInfo: {\n        component: seriesModel\n      },\n      triggerInfo: {\n        roamTrigger: seriesModel.get('roamTrigger'),\n        isInSelf: function (e, x, y) {\n          return coordSys.containPoint([x, y]);\n        },\n        isInClip: function (e, x, y) {\n          return !clipRect || clipRect.contain(x, y);\n        }\n      }\n    });\n    controllerHost.zoomLimit = seriesModel.get('scaleLimit');\n    controllerHost.zoom = coordSys.getZoom();\n    controller.off('pan').off('zoom').on('pan', function (e) {\n      api.dispatchAction({\n        seriesId: seriesModel.id,\n        type: 'graphRoam',\n        dx: e.dx,\n        dy: e.dy\n      });\n    }).on('zoom', function (e) {\n      api.dispatchAction({\n        seriesId: seriesModel.id,\n        type: 'graphRoam',\n        zoom: e.scale,\n        originX: e.originX,\n        originY: e.originY\n      });\n    });\n  };\n  /**\n   * A performance shortcut - called by action handler to update the view directly\n   * without any data/visual processing (which are assumed to be unchanged), while\n   * ensuring consistent behavior between internal and external action triggers.\n   */\n  GraphView.prototype.updateViewOnPan = function (seriesModel, api, params) {\n    if (!this._active) {\n      return;\n    }\n    updateViewOnPan(this._controllerHost, params.dx, params.dy);\n    this._updateThumbnailWindow();\n  };\n  /**\n   * A performance shortcut - called by action handler to update the view directly\n   * without any data/visual processing (which are assumed to be unchanged), while\n   * ensuring consistent behavior between internal and external action triggers.\n   */\n  GraphView.prototype.updateViewOnZoom = function (seriesModel, api, params) {\n    if (!this._active) {\n      return;\n    }\n    updateViewOnZoom(this._controllerHost, params.zoom, params.originX, params.originY);\n    this._updateNodeAndLinkScale();\n    adjustEdge(seriesModel.getGraph(), getNodeGlobalScale(seriesModel));\n    this._lineDraw.updateLayout();\n    // Only update label layout on zoom\n    api.updateLabelLayout();\n    this._updateThumbnailWindow();\n  };\n  GraphView.prototype._updateNodeAndLinkScale = function () {\n    var seriesModel = this._model;\n    var data = seriesModel.getData();\n    var nodeScale = getNodeGlobalScale(seriesModel);\n    data.eachItemGraphicEl(function (el, idx) {\n      el && el.setSymbolScale(nodeScale);\n    });\n  };\n  GraphView.prototype.updateLayout = function (seriesModel) {\n    if (!this._active) {\n      return;\n    }\n    adjustEdge(seriesModel.getGraph(), getNodeGlobalScale(seriesModel));\n    this._symbolDraw.updateLayout();\n    this._lineDraw.updateLayout();\n  };\n  GraphView.prototype.remove = function () {\n    this._active = false;\n    clearTimeout(this._layoutTimeout);\n    this._layouting = false;\n    this._layoutTimeout = null;\n    this._symbolDraw && this._symbolDraw.remove();\n    this._lineDraw && this._lineDraw.remove();\n    this._controller && this._controller.disable();\n  };\n  /**\n   * Get thumbnail data structure only if supported.\n   */\n  GraphView.prototype._getThumbnailInfo = function () {\n    var model = this._model;\n    var coordSys = model.coordinateSystem;\n    if (coordSys.type !== 'view') {\n      return;\n    }\n    var bridge = getThumbnailBridge(model);\n    if (!bridge) {\n      return;\n    }\n    return {\n      bridge: bridge,\n      coordSys: coordSys\n    };\n  };\n  GraphView.prototype._updateThumbnailWindow = function () {\n    var info = this._getThumbnailInfo();\n    if (info) {\n      info.bridge.updateWindow(info.coordSys.transform, this._api);\n    }\n  };\n  GraphView.prototype._renderThumbnail = function (seriesModel, api, symbolDraw, lineDraw) {\n    var info = this._getThumbnailInfo();\n    if (!info) {\n      return;\n    }\n    var bridgeGroup = new graphic.Group();\n    var symbolNodes = symbolDraw.group.children();\n    var lineNodes = lineDraw.group.children();\n    var lineGroup = new graphic.Group();\n    var symbolGroup = new graphic.Group();\n    bridgeGroup.add(symbolGroup);\n    bridgeGroup.add(lineGroup);\n    // TODO: reuse elemenents for performance in large graph?\n    for (var i = 0; i < symbolNodes.length; i++) {\n      var node = symbolNodes[i];\n      var sub = node.children()[0];\n      var x = node.x;\n      var y = node.y;\n      var subShape = clone(sub.shape);\n      var shape = extend(subShape, {\n        width: sub.scaleX,\n        height: sub.scaleY,\n        x: x - sub.scaleX / 2,\n        y: y - sub.scaleY / 2\n      });\n      var style = clone(sub.style);\n      var subThumbnail = new sub.constructor({\n        shape: shape,\n        style: style,\n        z2: 151\n      });\n      symbolGroup.add(subThumbnail);\n    }\n    for (var i = 0; i < lineNodes.length; i++) {\n      var node = lineNodes[i];\n      var line = node.children()[0];\n      var style = clone(line.style);\n      var shape = clone(line.shape);\n      var lineThumbnail = new ECLinePath({\n        style: style,\n        shape: shape,\n        z2: 151\n      });\n      lineGroup.add(lineThumbnail);\n    }\n    info.bridge.renderContent({\n      api: api,\n      roamType: seriesModel.get('roam'),\n      viewportRect: null,\n      group: bridgeGroup,\n      targetTrans: info.coordSys.transform\n    });\n  };\n  GraphView.type = 'graph';\n  return GraphView;\n}(ChartView);\nexport default GraphView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\n// id may be function name of Object, add a prefix to avoid this problem.\nfunction generateNodeKey(id) {\n  return '_EC_' + id;\n}\nvar Graph = /** @class */function () {\n  function Graph(directed) {\n    this.type = 'graph';\n    this.nodes = [];\n    this.edges = [];\n    this._nodesMap = {};\n    /**\n     * @type {Object.<string, module:echarts/data/Graph.Edge>}\n     * @private\n     */\n    this._edgesMap = {};\n    this._directed = directed || false;\n  }\n  /**\n   * If is directed graph\n   */\n  Graph.prototype.isDirected = function () {\n    return this._directed;\n  };\n  ;\n  /**\n   * Add a new node\n   */\n  Graph.prototype.addNode = function (id, dataIndex) {\n    id = id == null ? '' + dataIndex : '' + id;\n    var nodesMap = this._nodesMap;\n    if (nodesMap[generateNodeKey(id)]) {\n      if (process.env.NODE_ENV !== 'production') {\n        console.error('Graph nodes have duplicate name or id');\n      }\n      return;\n    }\n    var node = new GraphNode(id, dataIndex);\n    node.hostGraph = this;\n    this.nodes.push(node);\n    nodesMap[generateNodeKey(id)] = node;\n    return node;\n  };\n  ;\n  /**\n   * Get node by data index\n   */\n  Graph.prototype.getNodeByIndex = function (dataIndex) {\n    var rawIdx = this.data.getRawIndex(dataIndex);\n    return this.nodes[rawIdx];\n  };\n  ;\n  /**\n   * Get node by id\n   */\n  Graph.prototype.getNodeById = function (id) {\n    return this._nodesMap[generateNodeKey(id)];\n  };\n  ;\n  /**\n   * Add a new edge\n   */\n  Graph.prototype.addEdge = function (n1, n2, dataIndex) {\n    var nodesMap = this._nodesMap;\n    var edgesMap = this._edgesMap;\n    // PENDING\n    if (zrUtil.isNumber(n1)) {\n      n1 = this.nodes[n1];\n    }\n    if (zrUtil.isNumber(n2)) {\n      n2 = this.nodes[n2];\n    }\n    if (!(n1 instanceof GraphNode)) {\n      n1 = nodesMap[generateNodeKey(n1)];\n    }\n    if (!(n2 instanceof GraphNode)) {\n      n2 = nodesMap[generateNodeKey(n2)];\n    }\n    if (!n1 || !n2) {\n      return;\n    }\n    var key = n1.id + '-' + n2.id;\n    var edge = new GraphEdge(n1, n2, dataIndex);\n    edge.hostGraph = this;\n    if (this._directed) {\n      n1.outEdges.push(edge);\n      n2.inEdges.push(edge);\n    }\n    n1.edges.push(edge);\n    if (n1 !== n2) {\n      n2.edges.push(edge);\n    }\n    this.edges.push(edge);\n    edgesMap[key] = edge;\n    return edge;\n  };\n  ;\n  /**\n   * Get edge by data index\n   */\n  Graph.prototype.getEdgeByIndex = function (dataIndex) {\n    var rawIdx = this.edgeData.getRawIndex(dataIndex);\n    return this.edges[rawIdx];\n  };\n  ;\n  /**\n   * Get edge by two linked nodes\n   */\n  Graph.prototype.getEdge = function (n1, n2) {\n    if (n1 instanceof GraphNode) {\n      n1 = n1.id;\n    }\n    if (n2 instanceof GraphNode) {\n      n2 = n2.id;\n    }\n    var edgesMap = this._edgesMap;\n    if (this._directed) {\n      return edgesMap[n1 + '-' + n2];\n    } else {\n      return edgesMap[n1 + '-' + n2] || edgesMap[n2 + '-' + n1];\n    }\n  };\n  ;\n  /**\n   * Iterate all nodes\n   */\n  Graph.prototype.eachNode = function (cb, context) {\n    var nodes = this.nodes;\n    var len = nodes.length;\n    for (var i = 0; i < len; i++) {\n      if (nodes[i].dataIndex >= 0) {\n        cb.call(context, nodes[i], i);\n      }\n    }\n  };\n  ;\n  /**\n   * Iterate all edges\n   */\n  Graph.prototype.eachEdge = function (cb, context) {\n    var edges = this.edges;\n    var len = edges.length;\n    for (var i = 0; i < len; i++) {\n      if (edges[i].dataIndex >= 0 && edges[i].node1.dataIndex >= 0 && edges[i].node2.dataIndex >= 0) {\n        cb.call(context, edges[i], i);\n      }\n    }\n  };\n  ;\n  /**\n   * Breadth first traverse\n   * Return true to stop traversing\n   */\n  Graph.prototype.breadthFirstTraverse = function (cb, startNode, direction, context) {\n    if (!(startNode instanceof GraphNode)) {\n      startNode = this._nodesMap[generateNodeKey(startNode)];\n    }\n    if (!startNode) {\n      return;\n    }\n    var edgeType = direction === 'out' ? 'outEdges' : direction === 'in' ? 'inEdges' : 'edges';\n    for (var i = 0; i < this.nodes.length; i++) {\n      this.nodes[i].__visited = false;\n    }\n    if (cb.call(context, startNode, null)) {\n      return;\n    }\n    var queue = [startNode];\n    while (queue.length) {\n      var currentNode = queue.shift();\n      var edges = currentNode[edgeType];\n      for (var i = 0; i < edges.length; i++) {\n        var e = edges[i];\n        var otherNode = e.node1 === currentNode ? e.node2 : e.node1;\n        if (!otherNode.__visited) {\n          if (cb.call(context, otherNode, currentNode)) {\n            // Stop traversing\n            return;\n          }\n          queue.push(otherNode);\n          otherNode.__visited = true;\n        }\n      }\n    }\n  };\n  ;\n  // TODO\n  // depthFirstTraverse(\n  //     cb, startNode, direction, context\n  // ) {\n  // };\n  // Filter update\n  Graph.prototype.update = function () {\n    var data = this.data;\n    var edgeData = this.edgeData;\n    var nodes = this.nodes;\n    var edges = this.edges;\n    for (var i = 0, len = nodes.length; i < len; i++) {\n      nodes[i].dataIndex = -1;\n    }\n    for (var i = 0, len = data.count(); i < len; i++) {\n      nodes[data.getRawIndex(i)].dataIndex = i;\n    }\n    edgeData.filterSelf(function (idx) {\n      var edge = edges[edgeData.getRawIndex(idx)];\n      return edge.node1.dataIndex >= 0 && edge.node2.dataIndex >= 0;\n    });\n    // Update edge\n    for (var i = 0, len = edges.length; i < len; i++) {\n      edges[i].dataIndex = -1;\n    }\n    for (var i = 0, len = edgeData.count(); i < len; i++) {\n      edges[edgeData.getRawIndex(i)].dataIndex = i;\n    }\n  };\n  ;\n  /**\n   * @return {module:echarts/data/Graph}\n   */\n  Graph.prototype.clone = function () {\n    var graph = new Graph(this._directed);\n    var nodes = this.nodes;\n    var edges = this.edges;\n    for (var i = 0; i < nodes.length; i++) {\n      graph.addNode(nodes[i].id, nodes[i].dataIndex);\n    }\n    for (var i = 0; i < edges.length; i++) {\n      var e = edges[i];\n      graph.addEdge(e.node1.id, e.node2.id, e.dataIndex);\n    }\n    return graph;\n  };\n  ;\n  return Graph;\n}();\nvar GraphNode = /** @class */function () {\n  function GraphNode(id, dataIndex) {\n    this.inEdges = [];\n    this.outEdges = [];\n    this.edges = [];\n    this.dataIndex = -1;\n    this.id = id == null ? '' : id;\n    this.dataIndex = dataIndex == null ? -1 : dataIndex;\n  }\n  /**\n   * @return {number}\n   */\n  GraphNode.prototype.degree = function () {\n    return this.edges.length;\n  };\n  /**\n   * @return {number}\n   */\n  GraphNode.prototype.inDegree = function () {\n    return this.inEdges.length;\n  };\n  /**\n  * @return {number}\n  */\n  GraphNode.prototype.outDegree = function () {\n    return this.outEdges.length;\n  };\n  GraphNode.prototype.getModel = function (path) {\n    if (this.dataIndex < 0) {\n      return;\n    }\n    var graph = this.hostGraph;\n    var itemModel = graph.data.getItemModel(this.dataIndex);\n    return itemModel.getModel(path);\n  };\n  GraphNode.prototype.getAdjacentDataIndices = function () {\n    var dataIndices = {\n      edge: [],\n      node: []\n    };\n    for (var i = 0; i < this.edges.length; i++) {\n      var adjacentEdge = this.edges[i];\n      if (adjacentEdge.dataIndex < 0) {\n        continue;\n      }\n      dataIndices.edge.push(adjacentEdge.dataIndex);\n      dataIndices.node.push(adjacentEdge.node1.dataIndex, adjacentEdge.node2.dataIndex);\n    }\n    return dataIndices;\n  };\n  GraphNode.prototype.getTrajectoryDataIndices = function () {\n    var connectedEdgesMap = zrUtil.createHashMap();\n    var connectedNodesMap = zrUtil.createHashMap();\n    for (var i = 0, len = this.edges.length; i < len; i++) {\n      var adjacentEdge = this.edges[i];\n      if (adjacentEdge.dataIndex < 0) {\n        continue;\n      }\n      connectedEdgesMap.set(adjacentEdge.dataIndex, true);\n      var sourceNodesQueue = [adjacentEdge.node1];\n      var targetNodesQueue = [adjacentEdge.node2];\n      var nodeIteratorIndex = 0;\n      while (nodeIteratorIndex < sourceNodesQueue.length) {\n        var sourceNode = sourceNodesQueue[nodeIteratorIndex];\n        nodeIteratorIndex++;\n        connectedNodesMap.set(sourceNode.dataIndex, true);\n        var sourceNodeInEdges = sourceNode.inEdges;\n        for (var j = 0, len_1 = sourceNodeInEdges.length, inEdge = void 0, inEdgeDataIndex = void 0; j < len_1; j++) {\n          inEdge = sourceNodeInEdges[j];\n          inEdgeDataIndex = inEdge.dataIndex;\n          if (inEdgeDataIndex >= 0 && !connectedEdgesMap.hasKey(inEdgeDataIndex)) {\n            connectedEdgesMap.set(inEdgeDataIndex, true);\n            sourceNodesQueue.push(inEdge.node1);\n          }\n        }\n      }\n      nodeIteratorIndex = 0;\n      while (nodeIteratorIndex < targetNodesQueue.length) {\n        var targetNode = targetNodesQueue[nodeIteratorIndex];\n        nodeIteratorIndex++;\n        connectedNodesMap.set(targetNode.dataIndex, true);\n        var targetNodeOutEdges = targetNode.outEdges;\n        for (var j = 0, len_2 = targetNodeOutEdges.length, outEdge = void 0, outEdgeDataIndex = void 0; j < len_2; j++) {\n          outEdge = targetNodeOutEdges[j];\n          outEdgeDataIndex = outEdge.dataIndex;\n          if (outEdgeDataIndex >= 0 && !connectedEdgesMap.hasKey(outEdgeDataIndex)) {\n            connectedEdgesMap.set(outEdgeDataIndex, true);\n            targetNodesQueue.push(outEdge.node2);\n          }\n        }\n      }\n    }\n    return {\n      edge: connectedEdgesMap.keys(),\n      node: connectedNodesMap.keys()\n    };\n  };\n  return GraphNode;\n}();\nvar GraphEdge = /** @class */function () {\n  function GraphEdge(n1, n2, dataIndex) {\n    this.dataIndex = -1;\n    this.node1 = n1;\n    this.node2 = n2;\n    this.dataIndex = dataIndex == null ? -1 : dataIndex;\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  GraphEdge.prototype.getModel = function (path) {\n    if (this.dataIndex < 0) {\n      return;\n    }\n    var graph = this.hostGraph;\n    var itemModel = graph.edgeData.getItemModel(this.dataIndex);\n    return itemModel.getModel(path);\n  };\n  GraphEdge.prototype.getAdjacentDataIndices = function () {\n    return {\n      edge: [this.dataIndex],\n      node: [this.node1.dataIndex, this.node2.dataIndex]\n    };\n  };\n  GraphEdge.prototype.getTrajectoryDataIndices = function () {\n    var connectedEdgesMap = zrUtil.createHashMap();\n    var connectedNodesMap = zrUtil.createHashMap();\n    connectedEdgesMap.set(this.dataIndex, true);\n    var sourceNodes = [this.node1];\n    var targetNodes = [this.node2];\n    var nodeIteratorIndex = 0;\n    while (nodeIteratorIndex < sourceNodes.length) {\n      var sourceNode = sourceNodes[nodeIteratorIndex];\n      nodeIteratorIndex++;\n      connectedNodesMap.set(sourceNode.dataIndex, true);\n      var sourceNodeInEdges = sourceNode.inEdges;\n      for (var j = 0, len = sourceNodeInEdges.length, inEdge = void 0, inEdgeDataIndex = void 0; j < len; j++) {\n        inEdge = sourceNode.inEdges[j];\n        inEdgeDataIndex = inEdge.dataIndex;\n        if (inEdgeDataIndex >= 0 && !connectedEdgesMap.hasKey(inEdgeDataIndex)) {\n          connectedEdgesMap.set(inEdgeDataIndex, true);\n          sourceNodes.push(inEdge.node1);\n        }\n      }\n    }\n    nodeIteratorIndex = 0;\n    while (nodeIteratorIndex < targetNodes.length) {\n      var targetNode = targetNodes[nodeIteratorIndex];\n      nodeIteratorIndex++;\n      connectedNodesMap.set(targetNode.dataIndex, true);\n      var targetNodeOutEdges = targetNode.outEdges;\n      for (var j = 0, len = targetNodeOutEdges.length, outEdge = void 0, outEdgeDataIndex = void 0; j < len; j++) {\n        outEdge = targetNode.outEdges[j];\n        outEdgeDataIndex = outEdge.dataIndex;\n        if (outEdgeDataIndex >= 0 && !connectedEdgesMap.hasKey(outEdgeDataIndex)) {\n          connectedEdgesMap.set(outEdgeDataIndex, true);\n          targetNodes.push(outEdge.node2);\n        }\n      }\n    }\n    return {\n      edge: connectedEdgesMap.keys(),\n      node: connectedNodesMap.keys()\n    };\n  };\n  return GraphEdge;\n}();\nfunction createGraphDataProxyMixin(hostName, dataName) {\n  return {\n    /**\n     * @param Default 'value'. can be 'a', 'b', 'c', 'd', 'e'.\n     */\n    getValue: function (dimension) {\n      var data = this[hostName][dataName];\n      return data.getStore().get(data.getDimensionIndex(dimension || 'value'), this.dataIndex);\n    },\n    // TODO: TYPE stricter type.\n    setVisual: function (key, value) {\n      this.dataIndex >= 0 && this[hostName][dataName].setItemVisual(this.dataIndex, key, value);\n    },\n    getVisual: function (key) {\n      return this[hostName][dataName].getItemVisual(this.dataIndex, key);\n    },\n    setLayout: function (layout, merge) {\n      this.dataIndex >= 0 && this[hostName][dataName].setItemLayout(this.dataIndex, layout, merge);\n    },\n    getLayout: function () {\n      return this[hostName][dataName].getItemLayout(this.dataIndex);\n    },\n    getGraphicEl: function () {\n      return this[hostName][dataName].getItemGraphicEl(this.dataIndex);\n    },\n    getRawIndex: function () {\n      return this[hostName][dataName].getRawIndex(this.dataIndex);\n    }\n  };\n}\n;\n;\n;\nzrUtil.mixin(GraphNode, createGraphDataProxyMixin('hostGraph', 'data'));\nzrUtil.mixin(GraphEdge, createGraphDataProxyMixin('hostGraph', 'edgeData'));\nexport default Graph;\nexport { GraphNode, GraphEdge };","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport SeriesData from '../../data/SeriesData.js';\nimport Graph from '../../data/Graph.js';\nimport linkSeriesData from '../../data/helper/linkSeriesData.js';\nimport prepareSeriesDataSchema from '../../data/helper/createDimensions.js';\nimport CoordinateSystem from '../../core/CoordinateSystem.js';\nimport createSeriesData from './createSeriesData.js';\nimport { convertOptionIdName } from '../../util/model.js';\nexport default function createGraphFromNodeEdge(nodes, edges, seriesModel, directed, beforeLink) {\n  // ??? TODO\n  // support dataset?\n  var graph = new Graph(directed);\n  for (var i = 0; i < nodes.length; i++) {\n    graph.addNode(zrUtil.retrieve(\n    // Id, name, dataIndex\n    nodes[i].id, nodes[i].name, i), i);\n  }\n  var linkNameList = [];\n  var validEdges = [];\n  var linkCount = 0;\n  for (var i = 0; i < edges.length; i++) {\n    var link = edges[i];\n    var source = link.source;\n    var target = link.target;\n    // addEdge may fail when source or target not exists\n    if (graph.addEdge(source, target, linkCount)) {\n      validEdges.push(link);\n      linkNameList.push(zrUtil.retrieve(convertOptionIdName(link.id, null), source + ' > ' + target));\n      linkCount++;\n    }\n  }\n  var coordSys = seriesModel.get('coordinateSystem');\n  var nodeData;\n  if (coordSys === 'cartesian2d' || coordSys === 'polar' || coordSys === 'matrix') {\n    nodeData = createSeriesData(nodes, seriesModel);\n  } else {\n    var coordSysCtor = CoordinateSystem.get(coordSys);\n    var coordDimensions = coordSysCtor ? coordSysCtor.dimensions || [] : [];\n    // FIXME: Some geo do not need `value` dimenson, whereas `calendar` needs\n    // `value` dimension, but graph need `value` dimension. It's better to\n    // uniform this behavior.\n    if (zrUtil.indexOf(coordDimensions, 'value') < 0) {\n      coordDimensions.concat(['value']);\n    }\n    var dimensions = prepareSeriesDataSchema(nodes, {\n      coordDimensions: coordDimensions,\n      encodeDefine: seriesModel.getEncode()\n    }).dimensions;\n    nodeData = new SeriesData(dimensions, seriesModel);\n    nodeData.initData(nodes);\n  }\n  var edgeData = new SeriesData(['value'], seriesModel);\n  edgeData.initData(validEdges, linkNameList);\n  beforeLink && beforeLink(nodeData, edgeData);\n  linkSeriesData({\n    mainData: nodeData,\n    struct: graph,\n    structAttr: 'graph',\n    datas: {\n      node: nodeData,\n      edge: edgeData\n    },\n    datasAttr: {\n      node: 'data',\n      edge: 'edgeData'\n    }\n  });\n  // Update dataIndex of nodes and edges because invalid edge may be removed\n  graph.update();\n  return graph;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport SeriesData from '../../data/SeriesData.js';\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { defaultEmphasis } from '../../util/model.js';\nimport Model from '../../model/Model.js';\nimport createGraphFromNodeEdge from '../helper/createGraphFromNodeEdge.js';\nimport LegendVisualProvider from '../../visual/LegendVisualProvider.js';\nimport SeriesModel from '../../model/Series.js';\nimport { createTooltipMarkup } from '../../component/tooltip/tooltipMarkup.js';\nimport { defaultSeriesFormatTooltip } from '../../component/tooltip/seriesFormatTooltip.js';\nimport { initCurvenessList, createEdgeMapForCurveness } from '../helper/multipleGraphEdgeHelper.js';\nimport tokens from '../../visual/tokens.js';\nvar GraphSeriesModel = /** @class */function (_super) {\n  __extends(GraphSeriesModel, _super);\n  function GraphSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = GraphSeriesModel.type;\n    _this.hasSymbolVisual = true;\n    return _this;\n  }\n  GraphSeriesModel.prototype.init = function (option) {\n    _super.prototype.init.apply(this, arguments);\n    var self = this;\n    function getCategoriesData() {\n      return self._categoriesData;\n    }\n    // Provide data for legend select\n    this.legendVisualProvider = new LegendVisualProvider(getCategoriesData, getCategoriesData);\n    this.fillDataTextStyle(option.edges || option.links);\n    this._updateCategoriesData();\n  };\n  GraphSeriesModel.prototype.mergeOption = function (option) {\n    _super.prototype.mergeOption.apply(this, arguments);\n    this.fillDataTextStyle(option.edges || option.links);\n    this._updateCategoriesData();\n  };\n  GraphSeriesModel.prototype.mergeDefaultAndTheme = function (option) {\n    _super.prototype.mergeDefaultAndTheme.apply(this, arguments);\n    defaultEmphasis(option, 'edgeLabel', ['show']);\n  };\n  GraphSeriesModel.prototype.getInitialData = function (option, ecModel) {\n    var edges = option.edges || option.links || [];\n    var nodes = option.data || option.nodes || [];\n    var self = this;\n    if (nodes && edges) {\n      // auto curveness\n      initCurvenessList(this);\n      var graph = createGraphFromNodeEdge(nodes, edges, this, true, beforeLink);\n      zrUtil.each(graph.edges, function (edge) {\n        createEdgeMapForCurveness(edge.node1, edge.node2, this, edge.dataIndex);\n      }, this);\n      return graph.data;\n    }\n    function beforeLink(nodeData, edgeData) {\n      // Overwrite nodeData.getItemModel to\n      nodeData.wrapMethod('getItemModel', function (model) {\n        var categoriesModels = self._categoriesModels;\n        var categoryIdx = model.getShallow('category');\n        var categoryModel = categoriesModels[categoryIdx];\n        if (categoryModel) {\n          categoryModel.parentModel = model.parentModel;\n          model.parentModel = categoryModel;\n        }\n        return model;\n      });\n      // TODO Inherit resolveParentPath by default in Model#getModel?\n      var oldGetModel = Model.prototype.getModel;\n      function newGetModel(path, parentModel) {\n        var model = oldGetModel.call(this, path, parentModel);\n        model.resolveParentPath = resolveParentPath;\n        return model;\n      }\n      edgeData.wrapMethod('getItemModel', function (model) {\n        model.resolveParentPath = resolveParentPath;\n        model.getModel = newGetModel;\n        return model;\n      });\n      function resolveParentPath(pathArr) {\n        if (pathArr && (pathArr[0] === 'label' || pathArr[1] === 'label')) {\n          var newPathArr = pathArr.slice();\n          if (pathArr[0] === 'label') {\n            newPathArr[0] = 'edgeLabel';\n          } else if (pathArr[1] === 'label') {\n            newPathArr[1] = 'edgeLabel';\n          }\n          return newPathArr;\n        }\n        return pathArr;\n      }\n    }\n  };\n  GraphSeriesModel.prototype.getGraph = function () {\n    return this.getData().graph;\n  };\n  GraphSeriesModel.prototype.getEdgeData = function () {\n    return this.getGraph().edgeData;\n  };\n  GraphSeriesModel.prototype.getCategoriesData = function () {\n    return this._categoriesData;\n  };\n  GraphSeriesModel.prototype.formatTooltip = function (dataIndex, multipleSeries, dataType) {\n    if (dataType === 'edge') {\n      var nodeData = this.getData();\n      var params = this.getDataParams(dataIndex, dataType);\n      var edge = nodeData.graph.getEdgeByIndex(dataIndex);\n      var sourceName = nodeData.getName(edge.node1.dataIndex);\n      var targetName = nodeData.getName(edge.node2.dataIndex);\n      var nameArr = [];\n      sourceName != null && nameArr.push(sourceName);\n      targetName != null && nameArr.push(targetName);\n      return createTooltipMarkup('nameValue', {\n        name: nameArr.join(' > '),\n        value: params.value,\n        noValue: params.value == null\n      });\n    }\n    // dataType === 'node' or empty\n    var nodeMarkup = defaultSeriesFormatTooltip({\n      series: this,\n      dataIndex: dataIndex,\n      multipleSeries: multipleSeries\n    });\n    return nodeMarkup;\n  };\n  GraphSeriesModel.prototype._updateCategoriesData = function () {\n    var categories = zrUtil.map(this.option.categories || [], function (category) {\n      // Data must has value\n      return category.value != null ? category : zrUtil.extend({\n        value: 0\n      }, category);\n    });\n    var categoriesData = new SeriesData(['value'], this);\n    categoriesData.initData(categories);\n    this._categoriesData = categoriesData;\n    this._categoriesModels = categoriesData.mapArray(function (idx) {\n      return categoriesData.getItemModel(idx);\n    });\n  };\n  GraphSeriesModel.prototype.setZoom = function (zoom) {\n    this.option.zoom = zoom;\n  };\n  GraphSeriesModel.prototype.setCenter = function (center) {\n    this.option.center = center;\n  };\n  GraphSeriesModel.prototype.isAnimationEnabled = function () {\n    return _super.prototype.isAnimationEnabled.call(this)\n    // Not enable animation when do force layout\n    && !(this.get('layout') === 'force' && this.get(['force', 'layoutAnimation']));\n  };\n  GraphSeriesModel.type = 'series.graph';\n  GraphSeriesModel.dependencies = ['grid', 'polar', 'geo', 'singleAxis', 'calendar'];\n  GraphSeriesModel.defaultOption = {\n    // zlevel: 0,\n    z: 2,\n    coordinateSystem: 'view',\n    // Default option for all coordinate systems\n    // xAxisIndex: 0,\n    // yAxisIndex: 0,\n    // polarIndex: 0,\n    // geoIndex: 0,\n    legendHoverLink: true,\n    layout: null,\n    // Configuration of circular layout\n    circular: {\n      rotateLabel: false\n    },\n    // Configuration of force directed layout\n    force: {\n      initLayout: null,\n      // Node repulsion. Can be an array to represent range.\n      repulsion: [0, 50],\n      gravity: 0.1,\n      // Initial friction\n      friction: 0.6,\n      // Edge length. Can be an array to represent range.\n      edgeLength: 30,\n      layoutAnimation: true\n    },\n    left: 'center',\n    top: 'center',\n    // right: null,\n    // bottom: null,\n    // width: '80%',\n    // height: '80%',\n    symbol: 'circle',\n    symbolSize: 10,\n    edgeSymbol: ['none', 'none'],\n    edgeSymbolSize: 10,\n    edgeLabel: {\n      position: 'middle',\n      distance: 5\n    },\n    draggable: false,\n    roam: false,\n    // Default on center of graph\n    center: null,\n    zoom: 1,\n    // Symbol size scale ratio in roam\n    nodeScaleRatio: 0.6,\n    // cursor: null,\n    // categories: [],\n    // data: []\n    // Or\n    // nodes: []\n    //\n    // links: []\n    // Or\n    // edges: []\n    label: {\n      show: false,\n      formatter: '{b}'\n    },\n    itemStyle: {},\n    lineStyle: {\n      // Don't use tokens.color.border because of the opacity\n      color: tokens.color.neutral50,\n      width: 1,\n      opacity: 0.5\n    },\n    emphasis: {\n      scale: true,\n      label: {\n        show: true\n      }\n    },\n    select: {\n      itemStyle: {\n        borderColor: tokens.color.primary\n      }\n    }\n  };\n  return GraphSeriesModel;\n}(SeriesModel);\nexport default GraphSeriesModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport categoryFilter from './categoryFilter.js';\nimport categoryVisual from './categoryVisual.js';\nimport edgeVisual from './edgeVisual.js';\nimport simpleLayout from './simpleLayout.js';\nimport circularLayout from './circularLayout.js';\nimport forceLayout from './forceLayout.js';\nimport createView from './createView.js';\nimport View from '../../coord/View.js';\nimport GraphView from './GraphView.js';\nimport GraphSeriesModel from './GraphSeries.js';\nimport { updateCenterAndZoomInAction } from '../../component/helper/roamHelper.js';\nimport { noop } from 'zrender/lib/core/util.js';\nexport function install(registers) {\n  registers.registerChartView(GraphView);\n  registers.registerSeriesModel(GraphSeriesModel);\n  registers.registerProcessor(categoryFilter);\n  registers.registerVisual(categoryVisual);\n  registers.registerVisual(edgeVisual);\n  registers.registerLayout(simpleLayout);\n  registers.registerLayout(registers.PRIORITY.VISUAL.POST_CHART_LAYOUT, circularLayout);\n  registers.registerLayout(forceLayout);\n  registers.registerCoordinateSystem('graphView', {\n    dimensions: View.dimensions,\n    create: createView\n  });\n  // Register legacy focus actions\n  registers.registerAction({\n    type: 'focusNodeAdjacency',\n    event: 'focusNodeAdjacency',\n    update: 'series:focusNodeAdjacency'\n  }, noop);\n  registers.registerAction({\n    type: 'unfocusNodeAdjacency',\n    event: 'unfocusNodeAdjacency',\n    update: 'series:unfocusNodeAdjacency'\n  }, noop);\n  // Register roam action.\n  registers.registerAction({\n    type: 'graphRoam',\n    event: 'graphRoam',\n    update: 'none'\n  }, function (payload, ecModel, api) {\n    ecModel.eachComponent({\n      mainType: 'series',\n      query: payload\n    }, function (seriesModel) {\n      var graphView = api.getViewOfSeriesModel(seriesModel);\n      if (graphView) {\n        if (payload.dx != null && payload.dy != null) {\n          graphView.updateViewOnPan(seriesModel, api, payload);\n        }\n        if (payload.zoom != null && payload.originX != null && payload.originY != null) {\n          graphView.updateViewOnZoom(seriesModel, api, payload);\n        }\n      }\n      var coordSys = seriesModel.coordinateSystem;\n      var res = updateCenterAndZoomInAction(coordSys, payload, seriesModel.get('scaleLimit'));\n      seriesModel.setCenter && seriesModel.setCenter(res.center);\n      seriesModel.setZoom && seriesModel.setZoom(res.zoom);\n    });\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as graphic from '../../util/graphic.js';\nimport * as axisPointerModelHelper from './modelHelper.js';\nimport * as eventTool from 'zrender/lib/core/event.js';\nimport * as throttleUtil from '../../util/throttle.js';\nimport { makeInner } from '../../util/model.js';\nvar inner = makeInner();\nvar clone = zrUtil.clone;\nvar bind = zrUtil.bind;\n/**\n * Base axis pointer class in 2D.\n */\nvar BaseAxisPointer = /** @class */function () {\n  function BaseAxisPointer() {\n    this._dragging = false;\n    /**\n     * In px, arbitrary value. Do not set too small,\n     * no animation is ok for most cases.\n     */\n    this.animationThreshold = 15;\n  }\n  /**\n   * @implement\n   */\n  BaseAxisPointer.prototype.render = function (axisModel, axisPointerModel, api, forceRender) {\n    var value = axisPointerModel.get('value');\n    var status = axisPointerModel.get('status');\n    // Bind them to `this`, not in closure, otherwise they will not\n    // be replaced when user calling setOption in not merge mode.\n    this._axisModel = axisModel;\n    this._axisPointerModel = axisPointerModel;\n    this._api = api;\n    // Optimize: `render` will be called repeatedly during mouse move.\n    // So it is power consuming if performing `render` each time,\n    // especially on mobile device.\n    if (!forceRender && this._lastValue === value && this._lastStatus === status) {\n      return;\n    }\n    this._lastValue = value;\n    this._lastStatus = status;\n    var group = this._group;\n    var handle = this._handle;\n    if (!status || status === 'hide') {\n      // Do not clear here, for animation better.\n      group && group.hide();\n      handle && handle.hide();\n      return;\n    }\n    group && group.show();\n    handle && handle.show();\n    // Otherwise status is 'show'\n    var elOption = {};\n    this.makeElOption(elOption, value, axisModel, axisPointerModel, api);\n    // Enable change axis pointer type.\n    var graphicKey = elOption.graphicKey;\n    if (graphicKey !== this._lastGraphicKey) {\n      this.clear(api);\n    }\n    this._lastGraphicKey = graphicKey;\n    var moveAnimation = this._moveAnimation = this.determineAnimation(axisModel, axisPointerModel);\n    if (!group) {\n      group = this._group = new graphic.Group();\n      this.createPointerEl(group, elOption, axisModel, axisPointerModel);\n      this.createLabelEl(group, elOption, axisModel, axisPointerModel);\n      api.getZr().add(group);\n    } else {\n      var doUpdateProps = zrUtil.curry(updateProps, axisPointerModel, moveAnimation);\n      this.updatePointerEl(group, elOption, doUpdateProps);\n      this.updateLabelEl(group, elOption, doUpdateProps, axisPointerModel);\n    }\n    updateMandatoryProps(group, axisPointerModel, true);\n    this._renderHandle(value);\n  };\n  /**\n   * @implement\n   */\n  BaseAxisPointer.prototype.remove = function (api) {\n    this.clear(api);\n  };\n  /**\n   * @implement\n   */\n  BaseAxisPointer.prototype.dispose = function (api) {\n    this.clear(api);\n  };\n  /**\n   * @protected\n   */\n  BaseAxisPointer.prototype.determineAnimation = function (axisModel, axisPointerModel) {\n    var animation = axisPointerModel.get('animation');\n    var axis = axisModel.axis;\n    var isCategoryAxis = axis.type === 'category';\n    var useSnap = axisPointerModel.get('snap');\n    // Value axis without snap always do not snap.\n    if (!useSnap && !isCategoryAxis) {\n      return false;\n    }\n    if (animation === 'auto' || animation == null) {\n      var animationThreshold = this.animationThreshold;\n      if (isCategoryAxis && axis.getBandWidth() > animationThreshold) {\n        return true;\n      }\n      // It is important to auto animation when snap used. Consider if there is\n      // a dataZoom, animation will be disabled when too many points exist, while\n      // it will be enabled for better visual effect when little points exist.\n      if (useSnap) {\n        var seriesDataCount = axisPointerModelHelper.getAxisInfo(axisModel).seriesDataCount;\n        var axisExtent = axis.getExtent();\n        // Approximate band width\n        return Math.abs(axisExtent[0] - axisExtent[1]) / seriesDataCount > animationThreshold;\n      }\n      return false;\n    }\n    return animation === true;\n  };\n  /**\n   * add {pointer, label, graphicKey} to elOption\n   * @protected\n   */\n  BaseAxisPointer.prototype.makeElOption = function (elOption, value, axisModel, axisPointerModel, api) {\n    // Should be implemenented by sub-class.\n  };\n  /**\n   * @protected\n   */\n  BaseAxisPointer.prototype.createPointerEl = function (group, elOption, axisModel, axisPointerModel) {\n    var pointerOption = elOption.pointer;\n    if (pointerOption) {\n      var pointerEl = inner(group).pointerEl = new graphic[pointerOption.type](clone(elOption.pointer));\n      group.add(pointerEl);\n    }\n  };\n  /**\n   * @protected\n   */\n  BaseAxisPointer.prototype.createLabelEl = function (group, elOption, axisModel, axisPointerModel) {\n    if (elOption.label) {\n      var labelEl = inner(group).labelEl = new graphic.Text(clone(elOption.label));\n      group.add(labelEl);\n      updateLabelShowHide(labelEl, axisPointerModel);\n    }\n  };\n  /**\n   * @protected\n   */\n  BaseAxisPointer.prototype.updatePointerEl = function (group, elOption, updateProps) {\n    var pointerEl = inner(group).pointerEl;\n    if (pointerEl && elOption.pointer) {\n      pointerEl.setStyle(elOption.pointer.style);\n      updateProps(pointerEl, {\n        shape: elOption.pointer.shape\n      });\n    }\n  };\n  /**\n   * @protected\n   */\n  BaseAxisPointer.prototype.updateLabelEl = function (group, elOption, updateProps, axisPointerModel) {\n    var labelEl = inner(group).labelEl;\n    if (labelEl) {\n      labelEl.setStyle(elOption.label.style);\n      updateProps(labelEl, {\n        // Consider text length change in vertical axis, animation should\n        // be used on shape, otherwise the effect will be weird.\n        // TODOTODO\n        // shape: elOption.label.shape,\n        x: elOption.label.x,\n        y: elOption.label.y\n      });\n      updateLabelShowHide(labelEl, axisPointerModel);\n    }\n  };\n  /**\n   * @private\n   */\n  BaseAxisPointer.prototype._renderHandle = function (value) {\n    if (this._dragging || !this.updateHandleTransform) {\n      return;\n    }\n    var axisPointerModel = this._axisPointerModel;\n    var zr = this._api.getZr();\n    var handle = this._handle;\n    var handleModel = axisPointerModel.getModel('handle');\n    var status = axisPointerModel.get('status');\n    if (!handleModel.get('show') || !status || status === 'hide') {\n      handle && zr.remove(handle);\n      this._handle = null;\n      return;\n    }\n    var isInit;\n    if (!this._handle) {\n      isInit = true;\n      handle = this._handle = graphic.createIcon(handleModel.get('icon'), {\n        cursor: 'move',\n        draggable: true,\n        onmousemove: function (e) {\n          // For mobile device, prevent screen slider on the button.\n          eventTool.stop(e.event);\n        },\n        onmousedown: bind(this._onHandleDragMove, this, 0, 0),\n        drift: bind(this._onHandleDragMove, this),\n        ondragend: bind(this._onHandleDragEnd, this)\n      });\n      zr.add(handle);\n    }\n    updateMandatoryProps(handle, axisPointerModel, false);\n    // update style\n    handle.setStyle(handleModel.getItemStyle(null, ['color', 'borderColor', 'borderWidth', 'opacity', 'shadowColor', 'shadowBlur', 'shadowOffsetX', 'shadowOffsetY']));\n    // update position\n    var handleSize = handleModel.get('size');\n    if (!zrUtil.isArray(handleSize)) {\n      handleSize = [handleSize, handleSize];\n    }\n    handle.scaleX = handleSize[0] / 2;\n    handle.scaleY = handleSize[1] / 2;\n    throttleUtil.createOrUpdate(this, '_doDispatchAxisPointer', handleModel.get('throttle') || 0, 'fixRate');\n    this._moveHandleToValue(value, isInit);\n  };\n  BaseAxisPointer.prototype._moveHandleToValue = function (value, isInit) {\n    updateProps(this._axisPointerModel, !isInit && this._moveAnimation, this._handle, getHandleTransProps(this.getHandleTransform(value, this._axisModel, this._axisPointerModel)));\n  };\n  BaseAxisPointer.prototype._onHandleDragMove = function (dx, dy) {\n    var handle = this._handle;\n    if (!handle) {\n      return;\n    }\n    this._dragging = true;\n    // Persistent for throttle.\n    var trans = this.updateHandleTransform(getHandleTransProps(handle), [dx, dy], this._axisModel, this._axisPointerModel);\n    this._payloadInfo = trans;\n    handle.stopAnimation();\n    handle.attr(getHandleTransProps(trans));\n    inner(handle).lastProp = null;\n    this._doDispatchAxisPointer();\n  };\n  /**\n   * Throttled method.\n   */\n  BaseAxisPointer.prototype._doDispatchAxisPointer = function () {\n    var handle = this._handle;\n    if (!handle) {\n      return;\n    }\n    var payloadInfo = this._payloadInfo;\n    var axisModel = this._axisModel;\n    this._api.dispatchAction({\n      type: 'updateAxisPointer',\n      x: payloadInfo.cursorPoint[0],\n      y: payloadInfo.cursorPoint[1],\n      tooltipOption: payloadInfo.tooltipOption,\n      axesInfo: [{\n        axisDim: axisModel.axis.dim,\n        axisIndex: axisModel.componentIndex\n      }]\n    });\n  };\n  BaseAxisPointer.prototype._onHandleDragEnd = function () {\n    this._dragging = false;\n    var handle = this._handle;\n    if (!handle) {\n      return;\n    }\n    var value = this._axisPointerModel.get('value');\n    // Consider snap or categroy axis, handle may be not consistent with\n    // axisPointer. So move handle to align the exact value position when\n    // drag ended.\n    this._moveHandleToValue(value);\n    // For the effect: tooltip will be shown when finger holding on handle\n    // button, and will be hidden after finger left handle button.\n    this._api.dispatchAction({\n      type: 'hideTip'\n    });\n  };\n  /**\n   * @private\n   */\n  BaseAxisPointer.prototype.clear = function (api) {\n    this._lastValue = null;\n    this._lastStatus = null;\n    var zr = api.getZr();\n    var group = this._group;\n    var handle = this._handle;\n    if (zr && group) {\n      this._lastGraphicKey = null;\n      group && zr.remove(group);\n      handle && zr.remove(handle);\n      this._group = null;\n      this._handle = null;\n      this._payloadInfo = null;\n    }\n    throttleUtil.clear(this, '_doDispatchAxisPointer');\n  };\n  /**\n   * @protected\n   */\n  BaseAxisPointer.prototype.doClear = function () {\n    // Implemented by sub-class if necessary.\n  };\n  BaseAxisPointer.prototype.buildLabel = function (xy, wh, xDimIndex) {\n    xDimIndex = xDimIndex || 0;\n    return {\n      x: xy[xDimIndex],\n      y: xy[1 - xDimIndex],\n      width: wh[xDimIndex],\n      height: wh[1 - xDimIndex]\n    };\n  };\n  return BaseAxisPointer;\n}();\nfunction updateProps(animationModel, moveAnimation, el, props) {\n  // Animation optimize.\n  if (!propsEqual(inner(el).lastProp, props)) {\n    inner(el).lastProp = props;\n    moveAnimation ? graphic.updateProps(el, props, animationModel) : (el.stopAnimation(), el.attr(props));\n  }\n}\nfunction propsEqual(lastProps, newProps) {\n  if (zrUtil.isObject(lastProps) && zrUtil.isObject(newProps)) {\n    var equals_1 = true;\n    zrUtil.each(newProps, function (item, key) {\n      equals_1 = equals_1 && propsEqual(lastProps[key], item);\n    });\n    return !!equals_1;\n  } else {\n    return lastProps === newProps;\n  }\n}\nfunction updateLabelShowHide(labelEl, axisPointerModel) {\n  labelEl[axisPointerModel.get(['label', 'show']) ? 'show' : 'hide']();\n}\nfunction getHandleTransProps(trans) {\n  return {\n    x: trans.x || 0,\n    y: trans.y || 0,\n    rotation: trans.rotation || 0\n  };\n}\nfunction updateMandatoryProps(group, axisPointerModel, silent) {\n  var z = axisPointerModel.get('z');\n  var zlevel = axisPointerModel.get('zlevel');\n  group && group.traverse(function (el) {\n    if (el.type !== 'group') {\n      z != null && (el.z = z);\n      zlevel != null && (el.zlevel = zlevel);\n      el.silent = silent;\n    }\n  });\n}\nexport default BaseAxisPointer;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as graphic from '../../util/graphic.js';\nimport * as textContain from 'zrender/lib/contain/text.js';\nimport * as formatUtil from '../../util/format.js';\nimport * as matrix from 'zrender/lib/core/matrix.js';\nimport * as axisHelper from '../../coord/axisHelper.js';\nimport AxisBuilder from '../axis/AxisBuilder.js';\nimport { createTextStyle } from '../../label/labelStyle.js';\nexport function buildElStyle(axisPointerModel) {\n  var axisPointerType = axisPointerModel.get('type');\n  var styleModel = axisPointerModel.getModel(axisPointerType + 'Style');\n  var style;\n  if (axisPointerType === 'line') {\n    style = styleModel.getLineStyle();\n    style.fill = null;\n  } else if (axisPointerType === 'shadow') {\n    style = styleModel.getAreaStyle();\n    style.stroke = null;\n  }\n  return style;\n}\n/**\n * @param {Function} labelPos {align, verticalAlign, position}\n */\nexport function buildLabelElOption(elOption, axisModel, axisPointerModel, api, labelPos) {\n  var value = axisPointerModel.get('value');\n  var text = getValueLabel(value, axisModel.axis, axisModel.ecModel, axisPointerModel.get('seriesDataIndices'), {\n    precision: axisPointerModel.get(['label', 'precision']),\n    formatter: axisPointerModel.get(['label', 'formatter'])\n  });\n  var labelModel = axisPointerModel.getModel('label');\n  var paddings = formatUtil.normalizeCssArray(labelModel.get('padding') || 0);\n  var font = labelModel.getFont();\n  var textRect = textContain.getBoundingRect(text, font);\n  var position = labelPos.position;\n  var width = textRect.width + paddings[1] + paddings[3];\n  var height = textRect.height + paddings[0] + paddings[2];\n  // Adjust by align.\n  var align = labelPos.align;\n  align === 'right' && (position[0] -= width);\n  align === 'center' && (position[0] -= width / 2);\n  var verticalAlign = labelPos.verticalAlign;\n  verticalAlign === 'bottom' && (position[1] -= height);\n  verticalAlign === 'middle' && (position[1] -= height / 2);\n  // Not overflow ec container\n  confineInContainer(position, width, height, api);\n  var bgColor = labelModel.get('backgroundColor');\n  if (!bgColor || bgColor === 'auto') {\n    bgColor = axisModel.get(['axisLine', 'lineStyle', 'color']);\n  }\n  elOption.label = {\n    // shape: {x: 0, y: 0, width: width, height: height, r: labelModel.get('borderRadius')},\n    x: position[0],\n    y: position[1],\n    style: createTextStyle(labelModel, {\n      text: text,\n      font: font,\n      fill: labelModel.getTextColor(),\n      padding: paddings,\n      backgroundColor: bgColor\n    }),\n    // Label should be over axisPointer.\n    z2: 10\n  };\n}\n// Do not overflow ec container\nfunction confineInContainer(position, width, height, api) {\n  var viewWidth = api.getWidth();\n  var viewHeight = api.getHeight();\n  position[0] = Math.min(position[0] + width, viewWidth) - width;\n  position[1] = Math.min(position[1] + height, viewHeight) - height;\n  position[0] = Math.max(position[0], 0);\n  position[1] = Math.max(position[1], 0);\n}\nexport function getValueLabel(value, axis, ecModel, seriesDataIndices, opt) {\n  value = axis.scale.parse(value);\n  var text = axis.scale.getLabel({\n    value: value\n  }, {\n    // If `precision` is set, width can be fixed (like '12.00500'), which\n    // helps to debounce when when moving label.\n    precision: opt.precision\n  });\n  var formatter = opt.formatter;\n  if (formatter) {\n    var params_1 = {\n      value: axisHelper.getAxisRawValue(axis, {\n        value: value\n      }),\n      axisDimension: axis.dim,\n      axisIndex: axis.index,\n      seriesData: []\n    };\n    zrUtil.each(seriesDataIndices, function (idxItem) {\n      var series = ecModel.getSeriesByIndex(idxItem.seriesIndex);\n      var dataIndex = idxItem.dataIndexInside;\n      var dataParams = series && series.getDataParams(dataIndex);\n      dataParams && params_1.seriesData.push(dataParams);\n    });\n    if (zrUtil.isString(formatter)) {\n      text = formatter.replace('{value}', text);\n    } else if (zrUtil.isFunction(formatter)) {\n      text = formatter(params_1);\n    }\n  }\n  return text;\n}\nexport function getTransformedPosition(axis, value, layoutInfo) {\n  var transform = matrix.create();\n  matrix.rotate(transform, transform, layoutInfo.rotation);\n  matrix.translate(transform, transform, layoutInfo.position);\n  return graphic.applyTransform([axis.dataToCoord(value), (layoutInfo.labelOffset || 0) + (layoutInfo.labelDirection || 1) * (layoutInfo.labelMargin || 0)], transform);\n}\nexport function buildCartesianSingleLabelElOption(value, elOption, layoutInfo, axisModel, axisPointerModel, api) {\n  var textLayout = AxisBuilder.innerTextLayout(layoutInfo.rotation, 0, layoutInfo.labelDirection);\n  layoutInfo.labelMargin = axisPointerModel.get(['label', 'margin']);\n  buildLabelElOption(elOption, axisModel, axisPointerModel, api, {\n    position: getTransformedPosition(axisModel.axis, value, layoutInfo),\n    align: textLayout.textAlign,\n    verticalAlign: textLayout.textVerticalAlign\n  });\n}\nexport function makeLineShape(p1, p2, xDimIndex) {\n  xDimIndex = xDimIndex || 0;\n  return {\n    x1: p1[xDimIndex],\n    y1: p1[1 - xDimIndex],\n    x2: p2[xDimIndex],\n    y2: p2[1 - xDimIndex]\n  };\n}\nexport function makeRectShape(xy, wh, xDimIndex) {\n  xDimIndex = xDimIndex || 0;\n  return {\n    x: xy[xDimIndex],\n    y: xy[1 - xDimIndex],\n    width: wh[xDimIndex],\n    height: wh[1 - xDimIndex]\n  };\n}\nexport function makeSectorShape(cx, cy, r0, r, startAngle, endAngle) {\n  return {\n    cx: cx,\n    cy: cy,\n    r0: r0,\n    r: r,\n    startAngle: startAngle,\n    endAngle: endAngle,\n    clockwise: true\n  };\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport BaseAxisPointer from './BaseAxisPointer.js';\nimport * as viewHelper from './viewHelper.js';\nimport * as cartesianAxisHelper from '../../coord/cartesian/cartesianAxisHelper.js';\nvar CartesianAxisPointer = /** @class */function (_super) {\n  __extends(CartesianAxisPointer, _super);\n  function CartesianAxisPointer() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  /**\n   * @override\n   */\n  CartesianAxisPointer.prototype.makeElOption = function (elOption, value, axisModel, axisPointerModel, api) {\n    var axis = axisModel.axis;\n    var grid = axis.grid;\n    var axisPointerType = axisPointerModel.get('type');\n    var otherExtent = getCartesian(grid, axis).getOtherAxis(axis).getGlobalExtent();\n    var pixelValue = axis.toGlobalCoord(axis.dataToCoord(value, true));\n    if (axisPointerType && axisPointerType !== 'none') {\n      var elStyle = viewHelper.buildElStyle(axisPointerModel);\n      var pointerOption = pointerShapeBuilder[axisPointerType](axis, pixelValue, otherExtent);\n      pointerOption.style = elStyle;\n      elOption.graphicKey = pointerOption.type;\n      elOption.pointer = pointerOption;\n    }\n    var layoutInfo = cartesianAxisHelper.layout(grid.getRect(), axisModel);\n    viewHelper.buildCartesianSingleLabelElOption(value, elOption, layoutInfo, axisModel, axisPointerModel, api);\n  };\n  /**\n   * @override\n   */\n  CartesianAxisPointer.prototype.getHandleTransform = function (value, axisModel, axisPointerModel) {\n    var layoutInfo = cartesianAxisHelper.layout(axisModel.axis.grid.getRect(), axisModel, {\n      labelInside: false\n    });\n    layoutInfo.labelMargin = axisPointerModel.get(['handle', 'margin']);\n    var pos = viewHelper.getTransformedPosition(axisModel.axis, value, layoutInfo);\n    return {\n      x: pos[0],\n      y: pos[1],\n      rotation: layoutInfo.rotation + (layoutInfo.labelDirection < 0 ? Math.PI : 0)\n    };\n  };\n  /**\n   * @override\n   */\n  CartesianAxisPointer.prototype.updateHandleTransform = function (transform, delta, axisModel, axisPointerModel) {\n    var axis = axisModel.axis;\n    var grid = axis.grid;\n    var axisExtent = axis.getGlobalExtent(true);\n    var otherExtent = getCartesian(grid, axis).getOtherAxis(axis).getGlobalExtent();\n    var dimIndex = axis.dim === 'x' ? 0 : 1;\n    var currPosition = [transform.x, transform.y];\n    currPosition[dimIndex] += delta[dimIndex];\n    currPosition[dimIndex] = Math.min(axisExtent[1], currPosition[dimIndex]);\n    currPosition[dimIndex] = Math.max(axisExtent[0], currPosition[dimIndex]);\n    var cursorOtherValue = (otherExtent[1] + otherExtent[0]) / 2;\n    var cursorPoint = [cursorOtherValue, cursorOtherValue];\n    cursorPoint[dimIndex] = currPosition[dimIndex];\n    // Make tooltip do not overlap axisPointer and in the middle of the grid.\n    var tooltipOptions = [{\n      verticalAlign: 'middle'\n    }, {\n      align: 'center'\n    }];\n    return {\n      x: currPosition[0],\n      y: currPosition[1],\n      rotation: transform.rotation,\n      cursorPoint: cursorPoint,\n      tooltipOption: tooltipOptions[dimIndex]\n    };\n  };\n  return CartesianAxisPointer;\n}(BaseAxisPointer);\nfunction getCartesian(grid, axis) {\n  var opt = {};\n  opt[axis.dim + 'AxisIndex'] = axis.index;\n  return grid.getCartesian(opt);\n}\nvar pointerShapeBuilder = {\n  line: function (axis, pixelValue, otherExtent) {\n    var targetShape = viewHelper.makeLineShape([pixelValue, otherExtent[0]], [pixelValue, otherExtent[1]], getAxisDimIndex(axis));\n    return {\n      type: 'Line',\n      subPixelOptimize: true,\n      shape: targetShape\n    };\n  },\n  shadow: function (axis, pixelValue, otherExtent) {\n    var bandWidth = Math.max(1, axis.getBandWidth());\n    var span = otherExtent[1] - otherExtent[0];\n    return {\n      type: 'Rect',\n      shape: viewHelper.makeRectShape([pixelValue - bandWidth / 2, otherExtent[0]], [bandWidth, span], getAxisDimIndex(axis))\n    };\n  }\n};\nfunction getAxisDimIndex(axis) {\n  return axis.dim === 'x' ? 0 : 1;\n}\nexport default CartesianAxisPointer;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport ComponentModel from '../../model/Component.js';\nimport tokens from '../../visual/tokens.js';\nvar AxisPointerModel = /** @class */function (_super) {\n  __extends(AxisPointerModel, _super);\n  function AxisPointerModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = AxisPointerModel.type;\n    return _this;\n  }\n  AxisPointerModel.type = 'axisPointer';\n  AxisPointerModel.defaultOption = {\n    // 'auto' means that show when triggered by tooltip or handle.\n    show: 'auto',\n    // zlevel: 0,\n    z: 50,\n    type: 'line',\n    // axispointer triggered by tootip determine snap automatically,\n    // see `modelHelper`.\n    snap: false,\n    triggerTooltip: true,\n    triggerEmphasis: true,\n    value: null,\n    status: null,\n    link: [],\n    // Do not set 'auto' here, otherwise global animation: false\n    // will not effect at this axispointer.\n    animation: null,\n    animationDurationUpdate: 200,\n    lineStyle: {\n      color: tokens.color.border,\n      width: 1,\n      type: 'dashed'\n    },\n    shadowStyle: {\n      color: tokens.color.shadowTint\n    },\n    label: {\n      show: true,\n      formatter: null,\n      precision: 'auto',\n      margin: 3,\n      color: tokens.color.neutral00,\n      padding: [5, 7, 5, 7],\n      backgroundColor: tokens.color.accent60,\n      borderColor: null,\n      borderWidth: 0,\n      borderRadius: 3\n    },\n    handle: {\n      show: false,\n      // eslint-disable-next-line\n      icon: 'M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z',\n      size: 45,\n      // handle margin is from symbol center to axis, which is stable when circular move.\n      margin: 50,\n      // color: '#1b8bbd'\n      // color: '#2f4554'\n      color: tokens.color.accent40,\n      // For mobile performance\n      throttle: 40\n    }\n  };\n  return AxisPointerModel;\n}(ComponentModel);\nexport default AxisPointerModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport env from 'zrender/lib/core/env.js';\nimport { makeInner } from '../../util/model.js';\nvar inner = makeInner();\nvar each = zrUtil.each;\n/**\n * @param {string} key\n * @param {module:echarts/ExtensionAPI} api\n * @param {Function} handler\n *      param: {string} currTrigger\n *      param: {Array.<number>} point\n */\nexport function register(key, api, handler) {\n  if (env.node) {\n    return;\n  }\n  var zr = api.getZr();\n  inner(zr).records || (inner(zr).records = {});\n  initGlobalListeners(zr, api);\n  var record = inner(zr).records[key] || (inner(zr).records[key] = {});\n  record.handler = handler;\n}\nfunction initGlobalListeners(zr, api) {\n  if (inner(zr).initialized) {\n    return;\n  }\n  inner(zr).initialized = true;\n  useHandler('click', zrUtil.curry(doEnter, 'click'));\n  useHandler('mousemove', zrUtil.curry(doEnter, 'mousemove'));\n  // useHandler('mouseout', onLeave);\n  useHandler('globalout', onLeave);\n  function useHandler(eventType, cb) {\n    zr.on(eventType, function (e) {\n      var dis = makeDispatchAction(api);\n      each(inner(zr).records, function (record) {\n        record && cb(record, e, dis.dispatchAction);\n      });\n      dispatchTooltipFinally(dis.pendings, api);\n    });\n  }\n}\nfunction dispatchTooltipFinally(pendings, api) {\n  var showLen = pendings.showTip.length;\n  var hideLen = pendings.hideTip.length;\n  var actuallyPayload;\n  if (showLen) {\n    actuallyPayload = pendings.showTip[showLen - 1];\n  } else if (hideLen) {\n    actuallyPayload = pendings.hideTip[hideLen - 1];\n  }\n  if (actuallyPayload) {\n    actuallyPayload.dispatchAction = null;\n    api.dispatchAction(actuallyPayload);\n  }\n}\nfunction onLeave(record, e, dispatchAction) {\n  record.handler('leave', null, dispatchAction);\n}\nfunction doEnter(currTrigger, record, e, dispatchAction) {\n  record.handler(currTrigger, e, dispatchAction);\n}\nfunction makeDispatchAction(api) {\n  var pendings = {\n    showTip: [],\n    hideTip: []\n  };\n  // FIXME\n  // better approach?\n  // 'showTip' and 'hideTip' can be triggered by axisPointer and tooltip,\n  // which may be conflict, (axisPointer call showTip but tooltip call hideTip);\n  // So we have to add \"final stage\" to merge those dispatched actions.\n  var dispatchAction = function (payload) {\n    var pendingList = pendings[payload.type];\n    if (pendingList) {\n      pendingList.push(payload);\n    } else {\n      payload.dispatchAction = dispatchAction;\n      api.dispatchAction(payload);\n    }\n  };\n  return {\n    dispatchAction: dispatchAction,\n    pendings: pendings\n  };\n}\nexport function unregister(key, api) {\n  if (env.node) {\n    return;\n  }\n  var zr = api.getZr();\n  var record = (inner(zr).records || {})[key];\n  if (record) {\n    inner(zr).records[key] = null;\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as globalListener from './globalListener.js';\nimport ComponentView from '../../view/Component.js';\nvar AxisPointerView = /** @class */function (_super) {\n  __extends(AxisPointerView, _super);\n  function AxisPointerView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = AxisPointerView.type;\n    return _this;\n  }\n  AxisPointerView.prototype.render = function (globalAxisPointerModel, ecModel, api) {\n    var globalTooltipModel = ecModel.getComponent('tooltip');\n    var triggerOn = globalAxisPointerModel.get('triggerOn') || globalTooltipModel && globalTooltipModel.get('triggerOn') || 'mousemove|click';\n    // Register global listener in AxisPointerView to enable\n    // AxisPointerView to be independent to Tooltip.\n    globalListener.register('axisPointer', api, function (currTrigger, e, dispatchAction) {\n      // If 'none', it is not controlled by mouse totally.\n      if (triggerOn !== 'none' && (currTrigger === 'leave' || triggerOn.indexOf(currTrigger) >= 0)) {\n        dispatchAction({\n          type: 'updateAxisPointer',\n          currTrigger: currTrigger,\n          x: e && e.offsetX,\n          y: e && e.offsetY\n        });\n      }\n    });\n  };\n  AxisPointerView.prototype.remove = function (ecModel, api) {\n    globalListener.unregister('axisPointer', api);\n  };\n  AxisPointerView.prototype.dispose = function (ecModel, api) {\n    globalListener.unregister('axisPointer', api);\n  };\n  AxisPointerView.type = 'axisPointer';\n  return AxisPointerView;\n}(ComponentView);\nexport default AxisPointerView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as modelUtil from '../../util/model.js';\n/**\n * @param finder contains {seriesIndex, dataIndex, dataIndexInside}\n * @param ecModel\n * @return  {point: [x, y], el: ...} point Will not be null.\n */\nexport default function findPointFromSeries(finder, ecModel) {\n  var point = [];\n  var seriesIndex = finder.seriesIndex;\n  var seriesModel;\n  if (seriesIndex == null || !(seriesModel = ecModel.getSeriesByIndex(seriesIndex))) {\n    return {\n      point: []\n    };\n  }\n  var data = seriesModel.getData();\n  var dataIndex = modelUtil.queryDataIndex(data, finder);\n  if (dataIndex == null || dataIndex < 0 || zrUtil.isArray(dataIndex)) {\n    return {\n      point: []\n    };\n  }\n  var el = data.getItemGraphicEl(dataIndex);\n  var coordSys = seriesModel.coordinateSystem;\n  if (seriesModel.getTooltipPosition) {\n    point = seriesModel.getTooltipPosition(dataIndex) || [];\n  } else if (coordSys && coordSys.dataToPoint) {\n    if (finder.isStacked) {\n      var baseAxis = coordSys.getBaseAxis();\n      var valueAxis = coordSys.getOtherAxis(baseAxis);\n      var valueAxisDim = valueAxis.dim;\n      var baseAxisDim = baseAxis.dim;\n      var baseDataOffset = valueAxisDim === 'x' || valueAxisDim === 'radius' ? 1 : 0;\n      var baseDim = data.mapDimension(baseAxisDim);\n      var stackedData = [];\n      stackedData[baseDataOffset] = data.get(baseDim, dataIndex);\n      stackedData[1 - baseDataOffset] = data.get(data.getCalculationInfo('stackResultDimension'), dataIndex);\n      point = coordSys.dataToPoint(stackedData) || [];\n    } else {\n      point = coordSys.dataToPoint(data.getValues(zrUtil.map(coordSys.dimensions, function (dim) {\n        return data.mapDimension(dim);\n      }), dataIndex)) || [];\n    }\n  } else if (el) {\n    // Use graphic bounding rect\n    var rect = el.getBoundingRect().clone();\n    rect.applyTransform(el.transform);\n    point = [rect.x + rect.width / 2, rect.y + rect.height / 2];\n  }\n  return {\n    point: point,\n    el: el\n  };\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { makeInner } from '../../util/model.js';\nimport * as modelHelper from './modelHelper.js';\nimport findPointFromSeries from './findPointFromSeries.js';\nimport { each, curry, bind, extend } from 'zrender/lib/core/util.js';\nvar inner = makeInner();\n/**\n * Basic logic: check all axis, if they do not demand show/highlight,\n * then hide/downplay them.\n *\n * @return content of event obj for echarts.connect.\n */\nexport default function axisTrigger(payload, ecModel, api) {\n  var currTrigger = payload.currTrigger;\n  var point = [payload.x, payload.y];\n  var finder = payload;\n  var dispatchAction = payload.dispatchAction || bind(api.dispatchAction, api);\n  var coordSysAxesInfo = ecModel.getComponent('axisPointer').coordSysAxesInfo;\n  // Pending\n  // See #6121. But we are not able to reproduce it yet.\n  if (!coordSysAxesInfo) {\n    return;\n  }\n  if (illegalPoint(point)) {\n    // Used in the default behavior of `connection`: use the sample seriesIndex\n    // and dataIndex. And also used in the tooltipView trigger.\n    point = findPointFromSeries({\n      seriesIndex: finder.seriesIndex,\n      // Do not use dataIndexInside from other ec instance.\n      // FIXME: auto detect it?\n      dataIndex: finder.dataIndex\n    }, ecModel).point;\n  }\n  var isIllegalPoint = illegalPoint(point);\n  // Axis and value can be specified when calling dispatchAction({type: 'updateAxisPointer'}).\n  // Notice: In this case, it is difficult to get the `point` (which is necessary to show\n  // tooltip, so if point is not given, we just use the point found by sample seriesIndex\n  // and dataIndex.\n  var inputAxesInfo = finder.axesInfo;\n  var axesInfo = coordSysAxesInfo.axesInfo;\n  var shouldHide = currTrigger === 'leave' || illegalPoint(point);\n  var outputPayload = {};\n  var showValueMap = {};\n  var dataByCoordSys = {\n    list: [],\n    map: {}\n  };\n  var updaters = {\n    showPointer: curry(showPointer, showValueMap),\n    showTooltip: curry(showTooltip, dataByCoordSys)\n  };\n  // Process for triggered axes.\n  each(coordSysAxesInfo.coordSysMap, function (coordSys, coordSysKey) {\n    // If a point given, it must be contained by the coordinate system.\n    var coordSysContainsPoint = isIllegalPoint || coordSys.containPoint(point);\n    each(coordSysAxesInfo.coordSysAxesInfo[coordSysKey], function (axisInfo, key) {\n      var axis = axisInfo.axis;\n      var inputAxisInfo = findInputAxisInfo(inputAxesInfo, axisInfo);\n      // If no inputAxesInfo, no axis is restricted.\n      if (!shouldHide && coordSysContainsPoint && (!inputAxesInfo || inputAxisInfo)) {\n        var val = inputAxisInfo && inputAxisInfo.value;\n        if (val == null && !isIllegalPoint) {\n          val = axis.pointToData(point);\n        }\n        val != null && processOnAxis(axisInfo, val, updaters, false, outputPayload);\n      }\n    });\n  });\n  // Process for linked axes.\n  var linkTriggers = {};\n  each(axesInfo, function (tarAxisInfo, tarKey) {\n    var linkGroup = tarAxisInfo.linkGroup;\n    // If axis has been triggered in the previous stage, it should not be triggered by link.\n    if (linkGroup && !showValueMap[tarKey]) {\n      each(linkGroup.axesInfo, function (srcAxisInfo, srcKey) {\n        var srcValItem = showValueMap[srcKey];\n        // If srcValItem exist, source axis is triggered, so link to target axis.\n        if (srcAxisInfo !== tarAxisInfo && srcValItem) {\n          var val = srcValItem.value;\n          linkGroup.mapper && (val = tarAxisInfo.axis.scale.parse(linkGroup.mapper(val, makeMapperParam(srcAxisInfo), makeMapperParam(tarAxisInfo))));\n          linkTriggers[tarAxisInfo.key] = val;\n        }\n      });\n    }\n  });\n  each(linkTriggers, function (val, tarKey) {\n    processOnAxis(axesInfo[tarKey], val, updaters, true, outputPayload);\n  });\n  updateModelActually(showValueMap, axesInfo, outputPayload);\n  dispatchTooltipActually(dataByCoordSys, point, payload, dispatchAction);\n  dispatchHighDownActually(axesInfo, dispatchAction, api);\n  return outputPayload;\n}\nfunction processOnAxis(axisInfo, newValue, updaters, noSnap, outputFinder) {\n  var axis = axisInfo.axis;\n  if (axis.scale.isBlank() || !axis.containData(newValue)) {\n    return;\n  }\n  if (!axisInfo.involveSeries) {\n    updaters.showPointer(axisInfo, newValue);\n    return;\n  }\n  // Heavy calculation. So put it after axis.containData checking.\n  var payloadInfo = buildPayloadsBySeries(newValue, axisInfo);\n  var payloadBatch = payloadInfo.payloadBatch;\n  var snapToValue = payloadInfo.snapToValue;\n  // Fill content of event obj for echarts.connect.\n  // By default use the first involved series data as a sample to connect.\n  if (payloadBatch[0] && outputFinder.seriesIndex == null) {\n    extend(outputFinder, payloadBatch[0]);\n  }\n  // If no linkSource input, this process is for collecting link\n  // target, where snap should not be accepted.\n  if (!noSnap && axisInfo.snap) {\n    if (axis.containData(snapToValue) && snapToValue != null) {\n      newValue = snapToValue;\n    }\n  }\n  updaters.showPointer(axisInfo, newValue, payloadBatch);\n  // Tooltip should always be snapToValue, otherwise there will be\n  // incorrect \"axis value ~ series value\" mapping displayed in tooltip.\n  updaters.showTooltip(axisInfo, payloadInfo, snapToValue);\n}\nfunction buildPayloadsBySeries(value, axisInfo) {\n  var axis = axisInfo.axis;\n  var dim = axis.dim;\n  var snapToValue = value;\n  var payloadBatch = [];\n  var minDist = Number.MAX_VALUE;\n  var minDiff = -1;\n  each(axisInfo.seriesModels, function (series, idx) {\n    var dataDim = series.getData().mapDimensionsAll(dim);\n    var seriesNestestValue;\n    var dataIndices;\n    if (series.getAxisTooltipData) {\n      var result = series.getAxisTooltipData(dataDim, value, axis);\n      dataIndices = result.dataIndices;\n      seriesNestestValue = result.nestestValue;\n    } else {\n      dataIndices = series.indicesOfNearest(dim, dataDim[0], value,\n      // Add a threshold to avoid find the wrong dataIndex\n      // when data length is not same.\n      // false,\n      axis.type === 'category' ? 0.5 : null);\n      if (!dataIndices.length) {\n        return;\n      }\n      seriesNestestValue = series.getData().get(dataDim[0], dataIndices[0]);\n    }\n    if (seriesNestestValue == null || !isFinite(seriesNestestValue)) {\n      return;\n    }\n    var diff = value - seriesNestestValue;\n    var dist = Math.abs(diff);\n    // Consider category case\n    if (dist <= minDist) {\n      if (dist < minDist || diff >= 0 && minDiff < 0) {\n        minDist = dist;\n        minDiff = diff;\n        snapToValue = seriesNestestValue;\n        payloadBatch.length = 0;\n      }\n      each(dataIndices, function (dataIndex) {\n        payloadBatch.push({\n          seriesIndex: series.seriesIndex,\n          dataIndexInside: dataIndex,\n          dataIndex: series.getData().getRawIndex(dataIndex)\n        });\n      });\n    }\n  });\n  return {\n    payloadBatch: payloadBatch,\n    snapToValue: snapToValue\n  };\n}\nfunction showPointer(showValueMap, axisInfo, value, payloadBatch) {\n  showValueMap[axisInfo.key] = {\n    value: value,\n    payloadBatch: payloadBatch\n  };\n}\nfunction showTooltip(dataByCoordSys, axisInfo, payloadInfo, value) {\n  var payloadBatch = payloadInfo.payloadBatch;\n  var axis = axisInfo.axis;\n  var axisModel = axis.model;\n  var axisPointerModel = axisInfo.axisPointerModel;\n  // If no data, do not create anything in dataByCoordSys,\n  // whose length will be used to judge whether dispatch action.\n  if (!axisInfo.triggerTooltip || !payloadBatch.length) {\n    return;\n  }\n  var coordSysModel = axisInfo.coordSys.model;\n  var coordSysKey = modelHelper.makeKey(coordSysModel);\n  var coordSysItem = dataByCoordSys.map[coordSysKey];\n  if (!coordSysItem) {\n    coordSysItem = dataByCoordSys.map[coordSysKey] = {\n      coordSysId: coordSysModel.id,\n      coordSysIndex: coordSysModel.componentIndex,\n      coordSysType: coordSysModel.type,\n      coordSysMainType: coordSysModel.mainType,\n      dataByAxis: []\n    };\n    dataByCoordSys.list.push(coordSysItem);\n  }\n  coordSysItem.dataByAxis.push({\n    axisDim: axis.dim,\n    axisIndex: axisModel.componentIndex,\n    axisType: axisModel.type,\n    axisId: axisModel.id,\n    value: value,\n    // Caustion: viewHelper.getValueLabel is actually on \"view stage\", which\n    // depends that all models have been updated. So it should not be performed\n    // here. Considering axisPointerModel used here is volatile, which is hard\n    // to be retrieve in TooltipView, we prepare parameters here.\n    valueLabelOpt: {\n      precision: axisPointerModel.get(['label', 'precision']),\n      formatter: axisPointerModel.get(['label', 'formatter'])\n    },\n    seriesDataIndices: payloadBatch.slice()\n  });\n}\nfunction updateModelActually(showValueMap, axesInfo, outputPayload) {\n  var outputAxesInfo = outputPayload.axesInfo = [];\n  // Basic logic: If no 'show' required, 'hide' this axisPointer.\n  each(axesInfo, function (axisInfo, key) {\n    var option = axisInfo.axisPointerModel.option;\n    var valItem = showValueMap[key];\n    if (valItem) {\n      !axisInfo.useHandle && (option.status = 'show');\n      option.value = valItem.value;\n      // For label formatter param and highlight.\n      option.seriesDataIndices = (valItem.payloadBatch || []).slice();\n    }\n    // When always show (e.g., handle used), remain\n    // original value and status.\n    else {\n      // If hide, value still need to be set, consider\n      // click legend to toggle axis blank.\n      !axisInfo.useHandle && (option.status = 'hide');\n    }\n    // If status is 'hide', should be no info in payload.\n    option.status === 'show' && outputAxesInfo.push({\n      axisDim: axisInfo.axis.dim,\n      axisIndex: axisInfo.axis.model.componentIndex,\n      value: option.value\n    });\n  });\n}\nfunction dispatchTooltipActually(dataByCoordSys, point, payload, dispatchAction) {\n  // Basic logic: If no showTip required, hideTip will be dispatched.\n  if (illegalPoint(point) || !dataByCoordSys.list.length) {\n    dispatchAction({\n      type: 'hideTip'\n    });\n    return;\n  }\n  // In most case only one axis (or event one series is used). It is\n  // convenient to fetch payload.seriesIndex and payload.dataIndex\n  // directly. So put the first seriesIndex and dataIndex of the first\n  // axis on the payload.\n  var sampleItem = ((dataByCoordSys.list[0].dataByAxis[0] || {}).seriesDataIndices || [])[0] || {};\n  dispatchAction({\n    type: 'showTip',\n    escapeConnect: true,\n    x: point[0],\n    y: point[1],\n    tooltipOption: payload.tooltipOption,\n    position: payload.position,\n    dataIndexInside: sampleItem.dataIndexInside,\n    dataIndex: sampleItem.dataIndex,\n    seriesIndex: sampleItem.seriesIndex,\n    dataByCoordSys: dataByCoordSys.list\n  });\n}\nfunction dispatchHighDownActually(axesInfo, dispatchAction, api) {\n  // FIXME\n  // highlight status modification should be a stage of main process?\n  // (Consider confilct (e.g., legend and axisPointer) and setOption)\n  var zr = api.getZr();\n  var highDownKey = 'axisPointerLastHighlights';\n  var lastHighlights = inner(zr)[highDownKey] || {};\n  var newHighlights = inner(zr)[highDownKey] = {};\n  // Update highlight/downplay status according to axisPointer model.\n  // Build hash map and remove duplicate incidentally.\n  each(axesInfo, function (axisInfo, key) {\n    var option = axisInfo.axisPointerModel.option;\n    option.status === 'show' && axisInfo.triggerEmphasis && each(option.seriesDataIndices, function (batchItem) {\n      var key = batchItem.seriesIndex + ' | ' + batchItem.dataIndex;\n      newHighlights[key] = batchItem;\n    });\n  });\n  // Diff.\n  var toHighlight = [];\n  var toDownplay = [];\n  each(lastHighlights, function (batchItem, key) {\n    !newHighlights[key] && toDownplay.push(batchItem);\n  });\n  each(newHighlights, function (batchItem, key) {\n    !lastHighlights[key] && toHighlight.push(batchItem);\n  });\n  toDownplay.length && api.dispatchAction({\n    type: 'downplay',\n    escapeConnect: true,\n    // Not blur others when highlight in axisPointer.\n    notBlur: true,\n    batch: toDownplay\n  });\n  toHighlight.length && api.dispatchAction({\n    type: 'highlight',\n    escapeConnect: true,\n    // Not blur others when highlight in axisPointer.\n    notBlur: true,\n    batch: toHighlight\n  });\n}\nfunction findInputAxisInfo(inputAxesInfo, axisInfo) {\n  for (var i = 0; i < (inputAxesInfo || []).length; i++) {\n    var inputAxisInfo = inputAxesInfo[i];\n    if (axisInfo.axis.dim === inputAxisInfo.axisDim && axisInfo.axis.model.componentIndex === inputAxisInfo.axisIndex) {\n      return inputAxisInfo;\n    }\n  }\n}\nfunction makeMapperParam(axisInfo) {\n  var axisModel = axisInfo.axis.model;\n  var item = {};\n  var dim = item.axisDim = axisInfo.axis.dim;\n  item.axisIndex = item[dim + 'AxisIndex'] = axisModel.componentIndex;\n  item.axisName = item[dim + 'AxisName'] = axisModel.name;\n  item.axisId = item[dim + 'AxisId'] = axisModel.id;\n  return item;\n}\nfunction illegalPoint(point) {\n  return !point || point[0] == null || isNaN(point[0]) || point[1] == null || isNaN(point[1]);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport AxisView from '../axis/AxisView.js';\nimport CartesianAxisPointer from './CartesianAxisPointer.js';\nimport AxisPointerModel from './AxisPointerModel.js';\nimport AxisPointerView from './AxisPointerView.js';\nimport { isArray } from 'zrender/lib/core/util.js';\nimport { collect } from './modelHelper.js';\nimport axisTrigger from './axisTrigger.js';\nexport function install(registers) {\n  // CartesianAxisPointer is not supposed to be required here. But consider\n  // echarts.simple.js and online build tooltip, which only require gridSimple,\n  // CartesianAxisPointer should be able to required somewhere.\n  AxisView.registerAxisPointerClass('CartesianAxisPointer', CartesianAxisPointer);\n  registers.registerComponentModel(AxisPointerModel);\n  registers.registerComponentView(AxisPointerView);\n  registers.registerPreprocessor(function (option) {\n    // Always has a global axisPointerModel for default setting.\n    if (option) {\n      (!option.axisPointer || option.axisPointer.length === 0) && (option.axisPointer = {});\n      var link = option.axisPointer.link;\n      // Normalize to array to avoid object mergin. But if link\n      // is not set, remain null/undefined, otherwise it will\n      // override existent link setting.\n      if (link && !isArray(link)) {\n        option.axisPointer.link = [link];\n      }\n    }\n  });\n  // This process should proformed after coordinate systems created\n  // and series data processed. So put it on statistic processing stage.\n  registers.registerProcessor(registers.PRIORITY.PROCESSOR.STATISTIC, function (ecModel, api) {\n    // Build axisPointerModel, mergin tooltip.axisPointer model for each axis.\n    // allAxesInfo should be updated when setOption performed.\n    ecModel.getComponent('axisPointer').coordSysAxesInfo = collect(ecModel, api);\n  });\n  // Broadcast to all views.\n  registers.registerAction({\n    type: 'updateAxisPointer',\n    event: 'updateAxisPointer',\n    update: ':updateAxisPointer'\n  }, axisTrigger);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { install as installSimple } from './installSimple.js';\nimport { install as installAxisPointer } from '../axisPointer/install.js';\nimport { use } from '../../extension.js';\nexport function install(registers) {\n  use(installSimple);\n  use(installAxisPointer);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as formatUtil from '../../util/format.js';\nimport * as graphic from '../../util/graphic.js';\n;\nexport function makeBackground(rect, componentModel) {\n  var padding = formatUtil.normalizeCssArray(componentModel.get('padding'));\n  var style = componentModel.getItemStyle(['color', 'opacity']);\n  style.fill = componentModel.get('backgroundColor');\n  var bgRect = new graphic.Rect({\n    shape: {\n      x: rect.x - padding[3],\n      y: rect.y - padding[0],\n      width: rect.width + padding[1] + padding[3],\n      height: rect.height + padding[0] + padding[2],\n      r: componentModel.get('borderRadius')\n    },\n    style: style,\n    silent: true,\n    z2: -1\n  });\n  // FIXME\n  // `subPixelOptimizeRect` may bring some gap between edge of viewpart\n  // and background rect when setting like `left: 0`, `top: 0`.\n  // graphic.subPixelOptimizeRect(rect);\n  return bgRect;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport ComponentModel from '../../model/Component.js';\nimport tokens from '../../visual/tokens.js';\nvar TooltipModel = /** @class */function (_super) {\n  __extends(TooltipModel, _super);\n  function TooltipModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = TooltipModel.type;\n    return _this;\n  }\n  TooltipModel.type = 'tooltip';\n  TooltipModel.dependencies = ['axisPointer'];\n  TooltipModel.defaultOption = {\n    // zlevel: 0,\n    z: 60,\n    show: true,\n    // tooltip main content\n    showContent: true,\n    // 'trigger' only works on coordinate system.\n    // 'item' | 'axis' | 'none'\n    trigger: 'item',\n    // 'click' | 'mousemove' | 'none'\n    triggerOn: 'mousemove|click',\n    alwaysShowContent: false,\n    renderMode: 'auto',\n    // whether restraint content inside viewRect.\n    // If renderMode: 'richText', default true.\n    // If renderMode: 'html', defaults to `false` (for backward compat).\n    confine: null,\n    showDelay: 0,\n    hideDelay: 100,\n    // Animation transition time, unit is second\n    transitionDuration: 0.4,\n    displayTransition: true,\n    enterable: false,\n    backgroundColor: tokens.color.neutral00,\n    // box shadow\n    shadowBlur: 10,\n    shadowColor: 'rgba(0, 0, 0, .2)',\n    shadowOffsetX: 1,\n    shadowOffsetY: 2,\n    // tooltip border radius, unit is px, default is 4\n    borderRadius: 4,\n    // tooltip border width, unit is px, default is 0 (no border)\n    borderWidth: 1,\n    defaultBorderColor: tokens.color.border,\n    // Tooltip inside padding, default is 5 for all direction\n    // Array is allowed to set up, right, bottom, left, same with css\n    // The default value: See `tooltip/tooltipMarkup.ts#getPaddingFromTooltipModel`.\n    padding: null,\n    // Extra css text\n    extraCssText: '',\n    // axis indicator, trigger by axis\n    axisPointer: {\n      // default is line\n      // legal values: 'line' | 'shadow' | 'cross'\n      type: 'line',\n      // Valid when type is line, appoint tooltip line locate on which line. Optional\n      // legal values: 'x' | 'y' | 'angle' | 'radius' | 'auto'\n      // default is 'auto', chose the axis which type is category.\n      // for multiply y axis, cartesian coord chose x axis, polar chose angle axis\n      axis: 'auto',\n      animation: 'auto',\n      animationDurationUpdate: 200,\n      animationEasingUpdate: 'exponentialOut',\n      crossStyle: {\n        color: tokens.color.borderShade,\n        width: 1,\n        type: 'dashed',\n        // TODO formatter\n        textStyle: {}\n      }\n      // lineStyle and shadowStyle should not be specified here,\n      // otherwise it will always override those styles on option.axisPointer.\n    },\n    textStyle: {\n      color: tokens.color.tertiary,\n      fontSize: 14\n    }\n  };\n  return TooltipModel;\n}(ComponentModel);\nexport default TooltipModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { toCamelCase } from '../../util/format.js';\nimport env from 'zrender/lib/core/env.js';\n/* global document */\nexport function shouldTooltipConfine(tooltipModel) {\n  var confineOption = tooltipModel.get('confine');\n  return confineOption != null ? !!confineOption\n  // In richText mode, the outside part can not be visible.\n  : tooltipModel.get('renderMode') === 'richText';\n}\nfunction testStyle(styleProps) {\n  if (!env.domSupported) {\n    return;\n  }\n  var style = document.documentElement.style;\n  for (var i = 0, len = styleProps.length; i < len; i++) {\n    if (styleProps[i] in style) {\n      return styleProps[i];\n    }\n  }\n}\nexport var TRANSFORM_VENDOR = testStyle(['transform', 'webkitTransform', 'OTransform', 'MozTransform', 'msTransform']);\nexport var TRANSITION_VENDOR = testStyle(['webkitTransition', 'transition', 'OTransition', 'MozTransition', 'msTransition']);\nexport function toCSSVendorPrefix(styleVendor, styleProp) {\n  if (!styleVendor) {\n    return styleProp;\n  }\n  styleProp = toCamelCase(styleProp, true);\n  var idx = styleVendor.indexOf(styleProp);\n  styleVendor = idx === -1 ? styleProp : \"-\" + styleVendor.slice(0, idx) + \"-\" + styleProp;\n  return styleVendor.toLowerCase();\n}\nexport function getComputedStyle(el, style) {\n  var stl = el.currentStyle || document.defaultView && document.defaultView.getComputedStyle(el);\n  return stl ? style ? stl[style] : stl : null;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { isString, indexOf, each, bind, isFunction, isArray, isDom, retrieve2 } from 'zrender/lib/core/util.js';\nimport { normalizeEvent } from 'zrender/lib/core/event.js';\nimport { transformLocalCoord, transformLocalCoordClear } from 'zrender/lib/core/dom.js';\nimport env from 'zrender/lib/core/env.js';\nimport { convertToColorString, toCamelCase, normalizeCssArray } from '../../util/format.js';\nimport { shouldTooltipConfine, toCSSVendorPrefix, getComputedStyle, TRANSFORM_VENDOR, TRANSITION_VENDOR } from './helper.js';\nimport { getPaddingFromTooltipModel } from './tooltipMarkup.js';\n/* global document, window */\nvar CSS_TRANSITION_VENDOR = toCSSVendorPrefix(TRANSITION_VENDOR, 'transition');\nvar CSS_TRANSFORM_VENDOR = toCSSVendorPrefix(TRANSFORM_VENDOR, 'transform');\n// eslint-disable-next-line\nvar gCssText = \"position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;\" + (env.transform3dSupported ? 'will-change:transform;' : '');\nfunction mirrorPos(pos) {\n  pos = pos === 'left' ? 'right' : pos === 'right' ? 'left' : pos === 'top' ? 'bottom' : 'top';\n  return pos;\n}\nfunction assembleArrow(tooltipModel, borderColor, arrowPosition) {\n  if (!isString(arrowPosition) || arrowPosition === 'inside') {\n    return '';\n  }\n  var backgroundColor = tooltipModel.get('backgroundColor');\n  var borderWidth = tooltipModel.get('borderWidth');\n  borderColor = convertToColorString(borderColor);\n  var arrowPos = mirrorPos(arrowPosition);\n  var arrowSize = Math.max(Math.round(borderWidth) * 1.5, 6);\n  var positionStyle = '';\n  var transformStyle = CSS_TRANSFORM_VENDOR + ':';\n  var rotateDeg;\n  if (indexOf(['left', 'right'], arrowPos) > -1) {\n    positionStyle += 'top:50%';\n    transformStyle += \"translateY(-50%) rotate(\" + (rotateDeg = arrowPos === 'left' ? -225 : -45) + \"deg)\";\n  } else {\n    positionStyle += 'left:50%';\n    transformStyle += \"translateX(-50%) rotate(\" + (rotateDeg = arrowPos === 'top' ? 225 : 45) + \"deg)\";\n  }\n  var rotateRadian = rotateDeg * Math.PI / 180;\n  var arrowWH = arrowSize + borderWidth;\n  var rotatedWH = arrowWH * Math.abs(Math.cos(rotateRadian)) + arrowWH * Math.abs(Math.sin(rotateRadian));\n  var arrowOffset = Math.round(((rotatedWH - Math.SQRT2 * borderWidth) / 2 + Math.SQRT2 * borderWidth - (rotatedWH - arrowWH) / 2) * 100) / 100;\n  positionStyle += \";\" + arrowPos + \":-\" + arrowOffset + \"px\";\n  var borderStyle = borderColor + \" solid \" + borderWidth + \"px;\";\n  var styleCss = [\"position:absolute;width:\" + arrowSize + \"px;height:\" + arrowSize + \"px;z-index:-1;\", positionStyle + \";\" + transformStyle + \";\", \"border-bottom:\" + borderStyle, \"border-right:\" + borderStyle, \"background-color:\" + backgroundColor + \";\"];\n  return \"<div style=\\\"\" + styleCss.join('') + \"\\\"></div>\";\n}\nfunction assembleTransition(duration, onlyFadeTransition, enableDisplayTransition) {\n  var transitionCurve = 'cubic-bezier(0.23,1,0.32,1)';\n  var transitionOption = '';\n  var transitionText = '';\n  if (enableDisplayTransition) {\n    transitionOption = \" \" + duration / 2 + \"s \" + transitionCurve;\n    transitionText = \"opacity\" + transitionOption + \",visibility\" + transitionOption;\n  }\n  if (!onlyFadeTransition) {\n    transitionOption = \" \" + duration + \"s \" + transitionCurve;\n    transitionText += (transitionText.length ? ',' : '') + (env.transformSupported ? \"\" + CSS_TRANSFORM_VENDOR + transitionOption : \",left\" + transitionOption + \",top\" + transitionOption);\n  }\n  return CSS_TRANSITION_VENDOR + ':' + transitionText;\n}\nfunction assembleTransform(x, y, toString) {\n  // If using float on style, the final width of the dom might\n  // keep changing slightly while mouse move. So `toFixed(0)` them.\n  var x0 = x.toFixed(0) + 'px';\n  var y0 = y.toFixed(0) + 'px';\n  // not support transform, use `left` and `top` instead.\n  if (!env.transformSupported) {\n    return toString ? \"top:\" + y0 + \";left:\" + x0 + \";\" : [['top', y0], ['left', x0]];\n  }\n  // support transform\n  var is3d = env.transform3dSupported;\n  var translate = \"translate\" + (is3d ? '3d' : '') + \"(\" + x0 + \",\" + y0 + (is3d ? ',0' : '') + \")\";\n  return toString ? 'top:0;left:0;' + CSS_TRANSFORM_VENDOR + ':' + translate + ';' : [['top', 0], ['left', 0], [TRANSFORM_VENDOR, translate]];\n}\n/**\n * @param {Object} textStyle\n * @return {string}\n * @inner\n */\nfunction assembleFont(textStyleModel) {\n  var cssText = [];\n  var fontSize = textStyleModel.get('fontSize');\n  var color = textStyleModel.getTextColor();\n  color && cssText.push('color:' + color);\n  cssText.push('font:' + textStyleModel.getFont());\n  // @ts-ignore, leave it to the tooltip refactor.\n  var lineHeight = retrieve2(textStyleModel.get('lineHeight'), Math.round(fontSize * 3 / 2));\n  fontSize && cssText.push('line-height:' + lineHeight + 'px');\n  var shadowColor = textStyleModel.get('textShadowColor');\n  var shadowBlur = textStyleModel.get('textShadowBlur') || 0;\n  var shadowOffsetX = textStyleModel.get('textShadowOffsetX') || 0;\n  var shadowOffsetY = textStyleModel.get('textShadowOffsetY') || 0;\n  shadowColor && shadowBlur && cssText.push('text-shadow:' + shadowOffsetX + 'px ' + shadowOffsetY + 'px ' + shadowBlur + 'px ' + shadowColor);\n  each(['decoration', 'align'], function (name) {\n    var val = textStyleModel.get(name);\n    val && cssText.push('text-' + name + ':' + val);\n  });\n  return cssText.join(';');\n}\nfunction assembleCssText(tooltipModel, enableTransition, onlyFadeTransition, enableDisplayTransition) {\n  var cssText = [];\n  var transitionDuration = tooltipModel.get('transitionDuration');\n  var backgroundColor = tooltipModel.get('backgroundColor');\n  var shadowBlur = tooltipModel.get('shadowBlur');\n  var shadowColor = tooltipModel.get('shadowColor');\n  var shadowOffsetX = tooltipModel.get('shadowOffsetX');\n  var shadowOffsetY = tooltipModel.get('shadowOffsetY');\n  var textStyleModel = tooltipModel.getModel('textStyle');\n  var padding = getPaddingFromTooltipModel(tooltipModel, 'html');\n  var boxShadow = shadowOffsetX + \"px \" + shadowOffsetY + \"px \" + shadowBlur + \"px \" + shadowColor;\n  cssText.push('box-shadow:' + boxShadow);\n  // Animation transition. Do not animate when transitionDuration <= 0.\n  enableTransition && transitionDuration > 0 && cssText.push(assembleTransition(transitionDuration, onlyFadeTransition, enableDisplayTransition));\n  if (backgroundColor) {\n    cssText.push('background-color:' + backgroundColor);\n  }\n  // Border style\n  each(['width', 'color', 'radius'], function (name) {\n    var borderName = 'border-' + name;\n    var camelCase = toCamelCase(borderName);\n    var val = tooltipModel.get(camelCase);\n    val != null && cssText.push(borderName + ':' + val + (name === 'color' ? '' : 'px'));\n  });\n  // Text style\n  cssText.push(assembleFont(textStyleModel));\n  // Padding\n  if (padding != null) {\n    cssText.push('padding:' + normalizeCssArray(padding).join('px ') + 'px');\n  }\n  return cssText.join(';') + ';';\n}\n// If not able to make, do not modify the input `out`.\nfunction makeStyleCoord(out, zr, container, zrX, zrY) {\n  var zrPainter = zr && zr.painter;\n  if (container) {\n    var zrViewportRoot = zrPainter && zrPainter.getViewportRoot();\n    if (zrViewportRoot) {\n      // Some APPs might use scale on body, so we support CSS transform here.\n      transformLocalCoord(out, zrViewportRoot, container, zrX, zrY);\n    }\n  } else {\n    out[0] = zrX;\n    out[1] = zrY;\n    // xy should be based on canvas root. But tooltipContent is\n    // the sibling of canvas root. So padding of ec container\n    // should be considered here.\n    var viewportRootOffset = zrPainter && zrPainter.getViewportRootOffset();\n    if (viewportRootOffset) {\n      out[0] += viewportRootOffset.offsetLeft;\n      out[1] += viewportRootOffset.offsetTop;\n    }\n  }\n  out[2] = out[0] / zr.getWidth();\n  out[3] = out[1] / zr.getHeight();\n}\nvar TooltipHTMLContent = /** @class */function () {\n  function TooltipHTMLContent(api, opt) {\n    this._show = false;\n    this._styleCoord = [0, 0, 0, 0];\n    this._enterable = true;\n    this._alwaysShowContent = false;\n    this._firstShow = true;\n    this._longHide = true;\n    if (env.wxa) {\n      return null;\n    }\n    var el = document.createElement('div');\n    // TODO: TYPE\n    el.domBelongToZr = true;\n    this.el = el;\n    var zr = this._zr = api.getZr();\n    var appendTo = opt.appendTo;\n    var container = appendTo && (isString(appendTo) ? document.querySelector(appendTo) : isDom(appendTo) ? appendTo : isFunction(appendTo) && appendTo(api.getDom()));\n    makeStyleCoord(this._styleCoord, zr, container, api.getWidth() / 2, api.getHeight() / 2);\n    (container || api.getDom()).appendChild(el);\n    this._api = api;\n    this._container = container;\n    // FIXME\n    // Is it needed to trigger zr event manually if\n    // the browser do not support `pointer-events: none`.\n    var self = this;\n    el.onmouseenter = function () {\n      // clear the timeout in hideLater and keep showing tooltip\n      if (self._enterable) {\n        clearTimeout(self._hideTimeout);\n        self._show = true;\n      }\n      self._inContent = true;\n    };\n    el.onmousemove = function (e) {\n      e = e || window.event;\n      if (!self._enterable) {\n        // `pointer-events: none` is set to tooltip content div\n        // if `enterable` is set as `false`, and `el.onmousemove`\n        // can not be triggered. But in browser that do not\n        // support `pointer-events`, we need to do this:\n        // Try trigger zrender event to avoid mouse\n        // in and out shape too frequently\n        var handler = zr.handler;\n        var zrViewportRoot = zr.painter.getViewportRoot();\n        normalizeEvent(zrViewportRoot, e, true);\n        handler.dispatch('mousemove', e);\n      }\n    };\n    el.onmouseleave = function () {\n      // set `_inContent` to `false` before `hideLater`\n      self._inContent = false;\n      if (self._enterable) {\n        if (self._show) {\n          self.hideLater(self._hideDelay);\n        }\n      }\n    };\n  }\n  /**\n   * Update when tooltip is rendered\n   */\n  TooltipHTMLContent.prototype.update = function (tooltipModel) {\n    // FIXME\n    // Move this logic to ec main?\n    if (!this._container) {\n      var container = this._api.getDom();\n      var position = getComputedStyle(container, 'position');\n      var domStyle = container.style;\n      if (domStyle.position !== 'absolute' && position !== 'absolute') {\n        domStyle.position = 'relative';\n      }\n    }\n    // move tooltip if chart resized\n    var alwaysShowContent = tooltipModel.get('alwaysShowContent');\n    alwaysShowContent && this._moveIfResized();\n    // update alwaysShowContent\n    this._alwaysShowContent = alwaysShowContent;\n    this._enableDisplayTransition = tooltipModel.get('displayTransition') && tooltipModel.get('transitionDuration') > 0;\n    // update className\n    this.el.className = tooltipModel.get('className') || '';\n    // Hide the tooltip\n    // PENDING\n    // this.hide();\n  };\n  TooltipHTMLContent.prototype.show = function (tooltipModel, nearPointColor) {\n    clearTimeout(this._hideTimeout);\n    clearTimeout(this._longHideTimeout);\n    var el = this.el;\n    var style = el.style;\n    var styleCoord = this._styleCoord;\n    if (!el.innerHTML) {\n      style.display = 'none';\n    } else {\n      style.cssText = gCssText + assembleCssText(tooltipModel, !this._firstShow, this._longHide, this._enableDisplayTransition)\n      // initial transform\n      + assembleTransform(styleCoord[0], styleCoord[1], true) + (\"border-color:\" + convertToColorString(nearPointColor) + \";\") + (tooltipModel.get('extraCssText') || '')\n      // If mouse occasionally move over the tooltip, a mouseout event will be\n      // triggered by canvas, and cause some unexpectable result like dragging\n      // stop, \"unfocusAdjacency\". Here `pointer-events: none` is used to solve\n      // it. Although it is not supported by IE8~IE10, fortunately it is a rare\n      // scenario.\n      + (\";pointer-events:\" + (this._enterable ? 'auto' : 'none'));\n    }\n    this._show = true;\n    this._firstShow = false;\n    this._longHide = false;\n  };\n  TooltipHTMLContent.prototype.setContent = function (content, markers, tooltipModel, borderColor, arrowPosition) {\n    var el = this.el;\n    if (content == null) {\n      el.innerHTML = '';\n      return;\n    }\n    var arrow = '';\n    if (isString(arrowPosition) && tooltipModel.get('trigger') === 'item' && !shouldTooltipConfine(tooltipModel)) {\n      arrow = assembleArrow(tooltipModel, borderColor, arrowPosition);\n    }\n    if (isString(content)) {\n      el.innerHTML = content + arrow;\n    } else if (content) {\n      // Clear previous\n      el.innerHTML = '';\n      if (!isArray(content)) {\n        content = [content];\n      }\n      for (var i = 0; i < content.length; i++) {\n        if (isDom(content[i]) && content[i].parentNode !== el) {\n          el.appendChild(content[i]);\n        }\n      }\n      // no arrow if empty\n      if (arrow && el.childNodes.length) {\n        // no need to create a new parent element, but it's not supported by IE 10 and older.\n        // const arrowEl = document.createRange().createContextualFragment(arrow);\n        var arrowEl = document.createElement('div');\n        arrowEl.innerHTML = arrow;\n        el.appendChild(arrowEl);\n      }\n    }\n  };\n  TooltipHTMLContent.prototype.setEnterable = function (enterable) {\n    this._enterable = enterable;\n  };\n  TooltipHTMLContent.prototype.getSize = function () {\n    var el = this.el;\n    return el ? [el.offsetWidth, el.offsetHeight] : [0, 0];\n  };\n  TooltipHTMLContent.prototype.moveTo = function (zrX, zrY) {\n    if (!this.el) {\n      return;\n    }\n    var styleCoord = this._styleCoord;\n    makeStyleCoord(styleCoord, this._zr, this._container, zrX, zrY);\n    if (styleCoord[0] != null && styleCoord[1] != null) {\n      var style_1 = this.el.style;\n      var transforms = assembleTransform(styleCoord[0], styleCoord[1]);\n      each(transforms, function (transform) {\n        style_1[transform[0]] = transform[1];\n      });\n    }\n  };\n  /**\n   * when `alwaysShowContent` is true,\n   * move the tooltip after chart resized\n   */\n  TooltipHTMLContent.prototype._moveIfResized = function () {\n    // The ratio of left to width\n    var ratioX = this._styleCoord[2];\n    // The ratio of top to height\n    var ratioY = this._styleCoord[3];\n    this.moveTo(ratioX * this._zr.getWidth(), ratioY * this._zr.getHeight());\n  };\n  TooltipHTMLContent.prototype.hide = function () {\n    var _this = this;\n    var style = this.el.style;\n    if (this._enableDisplayTransition) {\n      style.visibility = 'hidden';\n      style.opacity = '0';\n    } else {\n      style.display = 'none';\n    }\n    env.transform3dSupported && (style.willChange = '');\n    this._show = false;\n    this._longHideTimeout = setTimeout(function () {\n      return _this._longHide = true;\n    }, 500);\n  };\n  TooltipHTMLContent.prototype.hideLater = function (time) {\n    if (this._show && !(this._inContent && this._enterable) && !this._alwaysShowContent) {\n      if (time) {\n        this._hideDelay = time;\n        // Set show false to avoid invoke hideLater multiple times\n        this._show = false;\n        this._hideTimeout = setTimeout(bind(this.hide, this), time);\n      } else {\n        this.hide();\n      }\n    }\n  };\n  TooltipHTMLContent.prototype.isShow = function () {\n    return this._show;\n  };\n  TooltipHTMLContent.prototype.dispose = function () {\n    clearTimeout(this._hideTimeout);\n    clearTimeout(this._longHideTimeout);\n    var zr = this._zr;\n    transformLocalCoordClear(zr && zr.painter && zr.painter.getViewportRoot(), this._container);\n    var el = this.el;\n    if (el) {\n      el.onmouseenter = el.onmousemove = el.onmouseleave = null;\n      var parentNode = el.parentNode;\n      parentNode && parentNode.removeChild(el);\n    }\n    this.el = this._container = null;\n  };\n  return TooltipHTMLContent;\n}();\nexport default TooltipHTMLContent;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport ZRText from 'zrender/lib/graphic/Text.js';\nimport { getPaddingFromTooltipModel } from './tooltipMarkup.js';\nimport { throwError } from '../../util/log.js';\nvar TooltipRichContent = /** @class */function () {\n  function TooltipRichContent(api) {\n    this._show = false;\n    this._styleCoord = [0, 0, 0, 0];\n    this._alwaysShowContent = false;\n    this._enterable = true;\n    this._zr = api.getZr();\n    makeStyleCoord(this._styleCoord, this._zr, api.getWidth() / 2, api.getHeight() / 2);\n  }\n  /**\n   * Update when tooltip is rendered\n   */\n  TooltipRichContent.prototype.update = function (tooltipModel) {\n    var alwaysShowContent = tooltipModel.get('alwaysShowContent');\n    alwaysShowContent && this._moveIfResized();\n    // update alwaysShowContent\n    this._alwaysShowContent = alwaysShowContent;\n  };\n  TooltipRichContent.prototype.show = function () {\n    if (this._hideTimeout) {\n      clearTimeout(this._hideTimeout);\n    }\n    this.el.show();\n    this._show = true;\n  };\n  /**\n   * Set tooltip content\n   */\n  TooltipRichContent.prototype.setContent = function (content, markupStyleCreator, tooltipModel, borderColor, arrowPosition) {\n    var _this = this;\n    if (zrUtil.isObject(content)) {\n      throwError(process.env.NODE_ENV !== 'production' ? 'Passing DOM nodes as content is not supported in richText tooltip!' : '');\n    }\n    if (this.el) {\n      this._zr.remove(this.el);\n    }\n    var textStyleModel = tooltipModel.getModel('textStyle');\n    this.el = new ZRText({\n      style: {\n        rich: markupStyleCreator.richTextStyles,\n        text: content,\n        lineHeight: 22,\n        borderWidth: 1,\n        borderColor: borderColor,\n        textShadowColor: textStyleModel.get('textShadowColor'),\n        fill: tooltipModel.get(['textStyle', 'color']),\n        padding: getPaddingFromTooltipModel(tooltipModel, 'richText'),\n        verticalAlign: 'top',\n        align: 'left'\n      },\n      z: tooltipModel.get('z')\n    });\n    zrUtil.each(['backgroundColor', 'borderRadius', 'shadowColor', 'shadowBlur', 'shadowOffsetX', 'shadowOffsetY'], function (propName) {\n      _this.el.style[propName] = tooltipModel.get(propName);\n    });\n    zrUtil.each(['textShadowBlur', 'textShadowOffsetX', 'textShadowOffsetY'], function (propName) {\n      _this.el.style[propName] = textStyleModel.get(propName) || 0;\n    });\n    this._zr.add(this.el);\n    var self = this;\n    this.el.on('mouseover', function () {\n      // clear the timeout in hideLater and keep showing tooltip\n      if (self._enterable) {\n        clearTimeout(self._hideTimeout);\n        self._show = true;\n      }\n      self._inContent = true;\n    });\n    this.el.on('mouseout', function () {\n      if (self._enterable) {\n        if (self._show) {\n          self.hideLater(self._hideDelay);\n        }\n      }\n      self._inContent = false;\n    });\n  };\n  TooltipRichContent.prototype.setEnterable = function (enterable) {\n    this._enterable = enterable;\n  };\n  TooltipRichContent.prototype.getSize = function () {\n    var el = this.el;\n    var bounding = this.el.getBoundingRect();\n    // bounding rect does not include shadow. For renderMode richText,\n    // if overflow, it will be cut. So calculate them accurately.\n    var shadowOuterSize = calcShadowOuterSize(el.style);\n    return [bounding.width + shadowOuterSize.left + shadowOuterSize.right, bounding.height + shadowOuterSize.top + shadowOuterSize.bottom];\n  };\n  TooltipRichContent.prototype.moveTo = function (x, y) {\n    var el = this.el;\n    if (el) {\n      var styleCoord = this._styleCoord;\n      makeStyleCoord(styleCoord, this._zr, x, y);\n      x = styleCoord[0];\n      y = styleCoord[1];\n      var style = el.style;\n      var borderWidth = mathMaxWith0(style.borderWidth || 0);\n      var shadowOuterSize = calcShadowOuterSize(style);\n      // rich text x, y do not include border.\n      el.x = x + borderWidth + shadowOuterSize.left;\n      el.y = y + borderWidth + shadowOuterSize.top;\n      el.markRedraw();\n    }\n  };\n  /**\n   * when `alwaysShowContent` is true,\n   * move the tooltip after chart resized\n   */\n  TooltipRichContent.prototype._moveIfResized = function () {\n    // The ratio of left to width\n    var ratioX = this._styleCoord[2];\n    // The ratio of top to height\n    var ratioY = this._styleCoord[3];\n    this.moveTo(ratioX * this._zr.getWidth(), ratioY * this._zr.getHeight());\n  };\n  TooltipRichContent.prototype.hide = function () {\n    if (this.el) {\n      this.el.hide();\n    }\n    this._show = false;\n  };\n  TooltipRichContent.prototype.hideLater = function (time) {\n    if (this._show && !(this._inContent && this._enterable) && !this._alwaysShowContent) {\n      if (time) {\n        this._hideDelay = time;\n        // Set show false to avoid invoke hideLater multiple times\n        this._show = false;\n        this._hideTimeout = setTimeout(zrUtil.bind(this.hide, this), time);\n      } else {\n        this.hide();\n      }\n    }\n  };\n  TooltipRichContent.prototype.isShow = function () {\n    return this._show;\n  };\n  TooltipRichContent.prototype.dispose = function () {\n    this._zr.remove(this.el);\n  };\n  return TooltipRichContent;\n}();\nfunction mathMaxWith0(val) {\n  return Math.max(0, val);\n}\nfunction calcShadowOuterSize(style) {\n  var shadowBlur = mathMaxWith0(style.shadowBlur || 0);\n  var shadowOffsetX = mathMaxWith0(style.shadowOffsetX || 0);\n  var shadowOffsetY = mathMaxWith0(style.shadowOffsetY || 0);\n  return {\n    left: mathMaxWith0(shadowBlur - shadowOffsetX),\n    right: mathMaxWith0(shadowBlur + shadowOffsetX),\n    top: mathMaxWith0(shadowBlur - shadowOffsetY),\n    bottom: mathMaxWith0(shadowBlur + shadowOffsetY)\n  };\n}\nfunction makeStyleCoord(out, zr, zrX, zrY) {\n  out[0] = zrX;\n  out[1] = zrY;\n  out[2] = out[0] / zr.getWidth();\n  out[3] = out[1] / zr.getHeight();\n}\nexport default TooltipRichContent;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\nimport { __extends } from \"tslib\";\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { bind, each, clone, trim, isString, isFunction, isArray, isObject, extend } from 'zrender/lib/core/util.js';\nimport env from 'zrender/lib/core/env.js';\nimport TooltipHTMLContent from './TooltipHTMLContent.js';\nimport TooltipRichContent from './TooltipRichContent.js';\nimport { convertToColorString, encodeHTML, formatTpl } from '../../util/format.js';\nimport { parsePercent } from '../../util/number.js';\nimport { Rect } from '../../util/graphic.js';\nimport findPointFromSeries from '../axisPointer/findPointFromSeries.js';\nimport { getLayoutRect } from '../../util/layout.js';\nimport Model from '../../model/Model.js';\nimport * as globalListener from '../axisPointer/globalListener.js';\nimport * as axisHelper from '../../coord/axisHelper.js';\nimport * as axisPointerViewHelper from '../axisPointer/viewHelper.js';\nimport { getTooltipRenderMode, preParseFinder, queryReferringComponents } from '../../util/model.js';\nimport ComponentView from '../../view/Component.js';\nimport { format as timeFormat } from '../../util/time.js';\nimport { getECData } from '../../util/innerStore.js';\nimport { shouldTooltipConfine } from './helper.js';\nimport { normalizeTooltipFormatResult } from '../../model/mixin/dataFormat.js';\nimport { createTooltipMarkup, buildTooltipMarkup, TooltipMarkupStyleCreator } from './tooltipMarkup.js';\nimport { findEventDispatcher } from '../../util/event.js';\nimport { clear, createOrUpdate } from '../../util/throttle.js';\nvar proxyRect = new Rect({\n  shape: {\n    x: -1,\n    y: -1,\n    width: 2,\n    height: 2\n  }\n});\nvar TooltipView = /** @class */function (_super) {\n  __extends(TooltipView, _super);\n  function TooltipView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = TooltipView.type;\n    return _this;\n  }\n  TooltipView.prototype.init = function (ecModel, api) {\n    if (env.node || !api.getDom()) {\n      return;\n    }\n    var tooltipModel = ecModel.getComponent('tooltip');\n    var renderMode = this._renderMode = getTooltipRenderMode(tooltipModel.get('renderMode'));\n    this._tooltipContent = renderMode === 'richText' ? new TooltipRichContent(api) : new TooltipHTMLContent(api, {\n      appendTo: tooltipModel.get('appendToBody', true) ? 'body' : tooltipModel.get('appendTo', true)\n    });\n  };\n  TooltipView.prototype.render = function (tooltipModel, ecModel, api) {\n    if (env.node || !api.getDom()) {\n      return;\n    }\n    // Reset\n    this.group.removeAll();\n    this._tooltipModel = tooltipModel;\n    this._ecModel = ecModel;\n    this._api = api;\n    var tooltipContent = this._tooltipContent;\n    tooltipContent.update(tooltipModel);\n    tooltipContent.setEnterable(tooltipModel.get('enterable'));\n    this._initGlobalListener();\n    this._keepShow();\n    // PENDING\n    // `mousemove` event will be triggered very frequently when the mouse moves fast,\n    // which causes that the `updatePosition` function was also called frequently.\n    // In Chrome with devtools open and Firefox, tooltip looks laggy and shakes. See #14695 #16101\n    // To avoid frequent triggering,\n    // consider throttling it in 50ms when transition is enabled\n    if (this._renderMode !== 'richText' && tooltipModel.get('transitionDuration')) {\n      createOrUpdate(this, '_updatePosition', 50, 'fixRate');\n    } else {\n      clear(this, '_updatePosition');\n    }\n  };\n  TooltipView.prototype._initGlobalListener = function () {\n    var tooltipModel = this._tooltipModel;\n    var triggerOn = tooltipModel.get('triggerOn');\n    globalListener.register('itemTooltip', this._api, bind(function (currTrigger, e, dispatchAction) {\n      // If 'none', it is not controlled by mouse totally.\n      if (triggerOn !== 'none') {\n        if (triggerOn.indexOf(currTrigger) >= 0) {\n          this._tryShow(e, dispatchAction);\n        } else if (currTrigger === 'leave') {\n          this._hide(dispatchAction);\n        }\n      }\n    }, this));\n  };\n  TooltipView.prototype._keepShow = function () {\n    var tooltipModel = this._tooltipModel;\n    var ecModel = this._ecModel;\n    var api = this._api;\n    var triggerOn = tooltipModel.get('triggerOn');\n    // Try to keep the tooltip show when refreshing\n    if (this._lastX != null && this._lastY != null\n    // When user is willing to control tooltip totally using API,\n    // self.manuallyShowTip({x, y}) might cause tooltip hide,\n    // which is not expected.\n    && triggerOn !== 'none' && triggerOn !== 'click') {\n      var self_1 = this;\n      clearTimeout(this._refreshUpdateTimeout);\n      this._refreshUpdateTimeout = setTimeout(function () {\n        // Show tip next tick after other charts are rendered\n        // In case highlight action has wrong result\n        // FIXME\n        !api.isDisposed() && self_1.manuallyShowTip(tooltipModel, ecModel, api, {\n          x: self_1._lastX,\n          y: self_1._lastY,\n          dataByCoordSys: self_1._lastDataByCoordSys\n        });\n      });\n    }\n  };\n  /**\n   * Show tip manually by\n   * dispatchAction({\n   *     type: 'showTip',\n   *     x: 10,\n   *     y: 10\n   * });\n   * Or\n   * dispatchAction({\n   *      type: 'showTip',\n   *      seriesIndex: 0,\n   *      dataIndex or dataIndexInside or name\n   * });\n   *\n   *  TODO Batch\n   */\n  TooltipView.prototype.manuallyShowTip = function (tooltipModel, ecModel, api, payload) {\n    if (payload.from === this.uid || env.node || !api.getDom()) {\n      return;\n    }\n    var dispatchAction = makeDispatchAction(payload, api);\n    // Reset ticket\n    this._ticket = '';\n    // When triggered from axisPointer.\n    var dataByCoordSys = payload.dataByCoordSys;\n    var cmptRef = findComponentReference(payload, ecModel, api);\n    if (cmptRef) {\n      var rect = cmptRef.el.getBoundingRect().clone();\n      rect.applyTransform(cmptRef.el.transform);\n      this._tryShow({\n        offsetX: rect.x + rect.width / 2,\n        offsetY: rect.y + rect.height / 2,\n        target: cmptRef.el,\n        position: payload.position,\n        // When manully trigger, the mouse is not on the el, so we'd better to\n        // position tooltip on the bottom of the el and display arrow is possible.\n        positionDefault: 'bottom'\n      }, dispatchAction);\n    } else if (payload.tooltip && payload.x != null && payload.y != null) {\n      var el = proxyRect;\n      el.x = payload.x;\n      el.y = payload.y;\n      el.update();\n      getECData(el).tooltipConfig = {\n        name: null,\n        option: payload.tooltip\n      };\n      // Manually show tooltip while view is not using zrender elements.\n      this._tryShow({\n        offsetX: payload.x,\n        offsetY: payload.y,\n        target: el\n      }, dispatchAction);\n    } else if (dataByCoordSys) {\n      this._tryShow({\n        offsetX: payload.x,\n        offsetY: payload.y,\n        position: payload.position,\n        dataByCoordSys: dataByCoordSys,\n        tooltipOption: payload.tooltipOption\n      }, dispatchAction);\n    } else if (payload.seriesIndex != null) {\n      if (this._manuallyAxisShowTip(tooltipModel, ecModel, api, payload)) {\n        return;\n      }\n      var pointInfo = findPointFromSeries(payload, ecModel);\n      var cx = pointInfo.point[0];\n      var cy = pointInfo.point[1];\n      if (cx != null && cy != null) {\n        this._tryShow({\n          offsetX: cx,\n          offsetY: cy,\n          target: pointInfo.el,\n          position: payload.position,\n          // When manully trigger, the mouse is not on the el, so we'd better to\n          // position tooltip on the bottom of the el and display arrow is possible.\n          positionDefault: 'bottom'\n        }, dispatchAction);\n      }\n    } else if (payload.x != null && payload.y != null) {\n      // FIXME\n      // should wrap dispatchAction like `axisPointer/globalListener` ?\n      api.dispatchAction({\n        type: 'updateAxisPointer',\n        x: payload.x,\n        y: payload.y\n      });\n      this._tryShow({\n        offsetX: payload.x,\n        offsetY: payload.y,\n        position: payload.position,\n        target: api.getZr().findHover(payload.x, payload.y).target\n      }, dispatchAction);\n    }\n  };\n  TooltipView.prototype.manuallyHideTip = function (tooltipModel, ecModel, api, payload) {\n    var tooltipContent = this._tooltipContent;\n    if (this._tooltipModel) {\n      tooltipContent.hideLater(this._tooltipModel.get('hideDelay'));\n    }\n    this._lastX = this._lastY = this._lastDataByCoordSys = null;\n    if (payload.from !== this.uid) {\n      this._hide(makeDispatchAction(payload, api));\n    }\n  };\n  // Be compatible with previous design, that is, when tooltip.type is 'axis' and\n  // dispatchAction 'showTip' with seriesIndex and dataIndex will trigger axis pointer\n  // and tooltip.\n  TooltipView.prototype._manuallyAxisShowTip = function (tooltipModel, ecModel, api, payload) {\n    var seriesIndex = payload.seriesIndex;\n    var dataIndex = payload.dataIndex;\n    // @ts-ignore\n    var coordSysAxesInfo = ecModel.getComponent('axisPointer').coordSysAxesInfo;\n    if (seriesIndex == null || dataIndex == null || coordSysAxesInfo == null) {\n      return;\n    }\n    var seriesModel = ecModel.getSeriesByIndex(seriesIndex);\n    if (!seriesModel) {\n      return;\n    }\n    var data = seriesModel.getData();\n    var tooltipCascadedModel = buildTooltipModel([data.getItemModel(dataIndex), seriesModel, (seriesModel.coordinateSystem || {}).model], this._tooltipModel);\n    if (tooltipCascadedModel.get('trigger') !== 'axis') {\n      return;\n    }\n    api.dispatchAction({\n      type: 'updateAxisPointer',\n      seriesIndex: seriesIndex,\n      dataIndex: dataIndex,\n      position: payload.position\n    });\n    return true;\n  };\n  TooltipView.prototype._tryShow = function (e, dispatchAction) {\n    var el = e.target;\n    var tooltipModel = this._tooltipModel;\n    if (!tooltipModel) {\n      return;\n    }\n    // Save mouse x, mouse y. So we can try to keep showing the tip if chart is refreshed\n    this._lastX = e.offsetX;\n    this._lastY = e.offsetY;\n    var dataByCoordSys = e.dataByCoordSys;\n    if (dataByCoordSys && dataByCoordSys.length) {\n      this._showAxisTooltip(dataByCoordSys, e);\n    } else if (el) {\n      var ecData = getECData(el);\n      if (ecData.ssrType === 'legend') {\n        // Don't trigger tooltip for legend tooltip item\n        return;\n      }\n      this._lastDataByCoordSys = null;\n      var seriesDispatcher_1;\n      var cmptDispatcher_1;\n      findEventDispatcher(el, function (target) {\n        if (target.tooltipDisabled) {\n          seriesDispatcher_1 = cmptDispatcher_1 = null;\n          return true;\n        }\n        if (seriesDispatcher_1 || cmptDispatcher_1) {\n          return;\n        }\n        // Always show item tooltip if mouse is on the element with dataIndex\n        if (getECData(target).dataIndex != null) {\n          seriesDispatcher_1 = target;\n        }\n        // Tooltip provided directly. Like legend.\n        else if (getECData(target).tooltipConfig != null) {\n          cmptDispatcher_1 = target;\n        }\n      }, true);\n      if (seriesDispatcher_1) {\n        this._showSeriesItemTooltip(e, seriesDispatcher_1, dispatchAction);\n      } else if (cmptDispatcher_1) {\n        this._showComponentItemTooltip(e, cmptDispatcher_1, dispatchAction);\n      } else {\n        this._hide(dispatchAction);\n      }\n    } else {\n      this._lastDataByCoordSys = null;\n      this._hide(dispatchAction);\n    }\n  };\n  TooltipView.prototype._showOrMove = function (tooltipModel, cb) {\n    // showDelay is used in this case: tooltip.enterable is set\n    // as true. User intent to move mouse into tooltip and click\n    // something. `showDelay` makes it easier to enter the content\n    // but tooltip do not move immediately.\n    var delay = tooltipModel.get('showDelay');\n    cb = bind(cb, this);\n    clearTimeout(this._showTimout);\n    delay > 0 ? this._showTimout = setTimeout(cb, delay) : cb();\n  };\n  TooltipView.prototype._showAxisTooltip = function (dataByCoordSys, e) {\n    var ecModel = this._ecModel;\n    var globalTooltipModel = this._tooltipModel;\n    var point = [e.offsetX, e.offsetY];\n    var singleTooltipModel = buildTooltipModel([e.tooltipOption], globalTooltipModel);\n    var renderMode = this._renderMode;\n    var cbParamsList = [];\n    var articleMarkup = createTooltipMarkup('section', {\n      blocks: [],\n      noHeader: true\n    });\n    // Only for legacy: `Serise['formatTooltip']` returns a string.\n    var markupTextArrLegacy = [];\n    var markupStyleCreator = new TooltipMarkupStyleCreator();\n    each(dataByCoordSys, function (itemCoordSys) {\n      each(itemCoordSys.dataByAxis, function (axisItem) {\n        var axisModel = ecModel.getComponent(axisItem.axisDim + 'Axis', axisItem.axisIndex);\n        var axisValue = axisItem.value;\n        if (!axisModel || axisValue == null) {\n          return;\n        }\n        // FIXME: when using `tooltip.trigger: 'axis'`, the precision of the axis value displayed in tooltip\n        //  should match the original series values rather than using the default stretegy in Interval.ts\n        //  (getPrecision(interval) + 2); otherwise it may cuase confusion.\n        var axisValueLabel = axisPointerViewHelper.getValueLabel(axisValue, axisModel.axis, ecModel, axisItem.seriesDataIndices, axisItem.valueLabelOpt);\n        var axisSectionMarkup = createTooltipMarkup('section', {\n          header: axisValueLabel,\n          noHeader: !trim(axisValueLabel),\n          sortBlocks: true,\n          blocks: []\n        });\n        articleMarkup.blocks.push(axisSectionMarkup);\n        each(axisItem.seriesDataIndices, function (idxItem) {\n          var series = ecModel.getSeriesByIndex(idxItem.seriesIndex);\n          var dataIndex = idxItem.dataIndexInside;\n          var cbParams = series.getDataParams(dataIndex);\n          // Can't find data.\n          if (cbParams.dataIndex < 0) {\n            return;\n          }\n          cbParams.axisDim = axisItem.axisDim;\n          cbParams.axisIndex = axisItem.axisIndex;\n          cbParams.axisType = axisItem.axisType;\n          cbParams.axisId = axisItem.axisId;\n          cbParams.axisValue = axisHelper.getAxisRawValue(axisModel.axis, {\n            value: axisValue\n          });\n          cbParams.axisValueLabel = axisValueLabel;\n          // Pre-create marker style for makers. Users can assemble richText\n          // text in `formatter` callback and use those markers style.\n          cbParams.marker = markupStyleCreator.makeTooltipMarker('item', convertToColorString(cbParams.color), renderMode);\n          var seriesTooltipResult = normalizeTooltipFormatResult(series.formatTooltip(dataIndex, true, null));\n          var frag = seriesTooltipResult.frag;\n          if (frag) {\n            var valueFormatter = buildTooltipModel([series], globalTooltipModel).get('valueFormatter');\n            axisSectionMarkup.blocks.push(valueFormatter ? extend({\n              valueFormatter: valueFormatter\n            }, frag) : frag);\n          }\n          if (seriesTooltipResult.text) {\n            markupTextArrLegacy.push(seriesTooltipResult.text);\n          }\n          cbParamsList.push(cbParams);\n        });\n      });\n    });\n    // In most cases, the second axis is displays upper on the first one.\n    // So we reverse it to look better.\n    articleMarkup.blocks.reverse();\n    markupTextArrLegacy.reverse();\n    var positionExpr = e.position;\n    var orderMode = singleTooltipModel.get('order');\n    var builtMarkupText = buildTooltipMarkup(articleMarkup, markupStyleCreator, renderMode, orderMode, ecModel.get('useUTC'), singleTooltipModel.get('textStyle'));\n    builtMarkupText && markupTextArrLegacy.unshift(builtMarkupText);\n    var blockBreak = renderMode === 'richText' ? '\\n\\n' : '<br/>';\n    var allMarkupText = markupTextArrLegacy.join(blockBreak);\n    this._showOrMove(singleTooltipModel, function () {\n      if (this._updateContentNotChangedOnAxis(dataByCoordSys, cbParamsList)) {\n        this._updatePosition(singleTooltipModel, positionExpr, point[0], point[1], this._tooltipContent, cbParamsList);\n      } else {\n        this._showTooltipContent(singleTooltipModel, allMarkupText, cbParamsList, Math.random() + '', point[0], point[1], positionExpr, null, markupStyleCreator);\n      }\n    });\n    // Do not trigger events here, because this branch only be entered\n    // from dispatchAction.\n  };\n  TooltipView.prototype._showSeriesItemTooltip = function (e, dispatcher, dispatchAction) {\n    var ecModel = this._ecModel;\n    var ecData = getECData(dispatcher);\n    // Use dataModel in element if possible\n    // Used when mouseover on a element like markPoint or edge\n    // In which case, the data is not main data in series.\n    var seriesIndex = ecData.seriesIndex;\n    var seriesModel = ecModel.getSeriesByIndex(seriesIndex);\n    // For example, graph link.\n    var dataModel = ecData.dataModel || seriesModel;\n    var dataIndex = ecData.dataIndex;\n    var dataType = ecData.dataType;\n    var data = dataModel.getData(dataType);\n    var renderMode = this._renderMode;\n    var positionDefault = e.positionDefault;\n    var tooltipModel = buildTooltipModel([data.getItemModel(dataIndex), dataModel, seriesModel && (seriesModel.coordinateSystem || {}).model], this._tooltipModel, positionDefault ? {\n      position: positionDefault\n    } : null);\n    var tooltipTrigger = tooltipModel.get('trigger');\n    if (tooltipTrigger != null && tooltipTrigger !== 'item') {\n      return;\n    }\n    var params = dataModel.getDataParams(dataIndex, dataType);\n    var markupStyleCreator = new TooltipMarkupStyleCreator();\n    // Pre-create marker style for makers. Users can assemble richText\n    // text in `formatter` callback and use those markers style.\n    params.marker = markupStyleCreator.makeTooltipMarker('item', convertToColorString(params.color), renderMode);\n    var seriesTooltipResult = normalizeTooltipFormatResult(dataModel.formatTooltip(dataIndex, false, dataType));\n    var orderMode = tooltipModel.get('order');\n    var valueFormatter = tooltipModel.get('valueFormatter');\n    var frag = seriesTooltipResult.frag;\n    var markupText = frag ? buildTooltipMarkup(valueFormatter ? extend({\n      valueFormatter: valueFormatter\n    }, frag) : frag, markupStyleCreator, renderMode, orderMode, ecModel.get('useUTC'), tooltipModel.get('textStyle')) : seriesTooltipResult.text;\n    var asyncTicket = 'item_' + dataModel.name + '_' + dataIndex;\n    this._showOrMove(tooltipModel, function () {\n      this._showTooltipContent(tooltipModel, markupText, params, asyncTicket, e.offsetX, e.offsetY, e.position, e.target, markupStyleCreator);\n    });\n    // FIXME\n    // duplicated showtip if manuallyShowTip is called from dispatchAction.\n    dispatchAction({\n      type: 'showTip',\n      dataIndexInside: dataIndex,\n      dataIndex: data.getRawIndex(dataIndex),\n      seriesIndex: seriesIndex,\n      from: this.uid\n    });\n  };\n  TooltipView.prototype._showComponentItemTooltip = function (e, el, dispatchAction) {\n    var isHTMLRenderMode = this._renderMode === 'html';\n    var ecData = getECData(el);\n    var tooltipConfig = ecData.tooltipConfig;\n    var tooltipOpt = tooltipConfig.option || {};\n    var encodeHTMLContent = tooltipOpt.encodeHTMLContent;\n    if (isString(tooltipOpt)) {\n      var content = tooltipOpt;\n      tooltipOpt = {\n        content: content,\n        // Fixed formatter\n        formatter: content\n      };\n      // when `tooltipConfig.option` is a string rather than an object,\n      // we can't know if the content needs to be encoded\n      // for the sake of security, encode it by default.\n      encodeHTMLContent = true;\n    }\n    if (encodeHTMLContent && isHTMLRenderMode && tooltipOpt.content) {\n      // clone might be unnecessary?\n      tooltipOpt = clone(tooltipOpt);\n      tooltipOpt.content = encodeHTML(tooltipOpt.content);\n    }\n    var tooltipModelCascade = [tooltipOpt];\n    var cmpt = this._ecModel.getComponent(ecData.componentMainType, ecData.componentIndex);\n    if (cmpt) {\n      tooltipModelCascade.push(cmpt);\n    }\n    // In most cases, component tooltip formatter has different params with series tooltip formatter,\n    // so that they cannot share the same formatter. Since the global tooltip formatter is used for series\n    // by convention, we do not use it as the default formatter for component.\n    tooltipModelCascade.push({\n      formatter: tooltipOpt.content\n    });\n    var positionDefault = e.positionDefault;\n    var subTooltipModel = buildTooltipModel(tooltipModelCascade, this._tooltipModel, positionDefault ? {\n      position: positionDefault\n    } : null);\n    var defaultHtml = subTooltipModel.get('content');\n    var asyncTicket = Math.random() + '';\n    // PENDING: this case do not support richText style yet.\n    var markupStyleCreator = new TooltipMarkupStyleCreator();\n    // Do not check whether `trigger` is 'none' here, because `trigger`\n    // only works on coordinate system. In fact, we have not found case\n    // that requires setting `trigger` nothing on component yet.\n    this._showOrMove(subTooltipModel, function () {\n      // Use formatterParams from element defined in component\n      // Avoid users modify it.\n      var formatterParams = clone(subTooltipModel.get('formatterParams') || {});\n      this._showTooltipContent(subTooltipModel, defaultHtml, formatterParams, asyncTicket, e.offsetX, e.offsetY, e.position, el, markupStyleCreator);\n    });\n    // If not dispatch showTip, tip may be hide triggered by axis.\n    dispatchAction({\n      type: 'showTip',\n      from: this.uid\n    });\n  };\n  TooltipView.prototype._showTooltipContent = function (\n  // Use Model<TooltipOption> insteadof TooltipModel because this model may be from series or other options.\n  // Instead of top level tooltip.\n  tooltipModel, defaultHtml, params, asyncTicket, x, y, positionExpr, el, markupStyleCreator) {\n    // Reset ticket\n    this._ticket = '';\n    if (!tooltipModel.get('showContent') || !tooltipModel.get('show')) {\n      return;\n    }\n    var tooltipContent = this._tooltipContent;\n    tooltipContent.setEnterable(tooltipModel.get('enterable'));\n    var formatter = tooltipModel.get('formatter');\n    positionExpr = positionExpr || tooltipModel.get('position');\n    var html = defaultHtml;\n    var nearPoint = this._getNearestPoint([x, y], params, tooltipModel.get('trigger'), tooltipModel.get('borderColor'), tooltipModel.get('defaultBorderColor', true));\n    var nearPointColor = nearPoint.color;\n    if (formatter) {\n      if (isString(formatter)) {\n        var useUTC = tooltipModel.ecModel.get('useUTC');\n        var params0 = isArray(params) ? params[0] : params;\n        var isTimeAxis = params0 && params0.axisType && params0.axisType.indexOf('time') >= 0;\n        html = formatter;\n        if (isTimeAxis) {\n          html = timeFormat(params0.axisValue, html, useUTC);\n        }\n        html = formatTpl(html, params, true);\n      } else if (isFunction(formatter)) {\n        var callback = bind(function (cbTicket, html) {\n          if (cbTicket === this._ticket) {\n            tooltipContent.setContent(html, markupStyleCreator, tooltipModel, nearPointColor, positionExpr);\n            this._updatePosition(tooltipModel, positionExpr, x, y, tooltipContent, params, el);\n          }\n        }, this);\n        this._ticket = asyncTicket;\n        html = formatter(params, asyncTicket, callback);\n      } else {\n        html = formatter;\n      }\n    }\n    tooltipContent.setContent(html, markupStyleCreator, tooltipModel, nearPointColor, positionExpr);\n    tooltipContent.show(tooltipModel, nearPointColor);\n    this._updatePosition(tooltipModel, positionExpr, x, y, tooltipContent, params, el);\n  };\n  TooltipView.prototype._getNearestPoint = function (point, tooltipDataParams, trigger, borderColor, defaultBorderColor) {\n    if (trigger === 'axis' || isArray(tooltipDataParams)) {\n      return {\n        color: borderColor || defaultBorderColor\n      };\n    }\n    if (!isArray(tooltipDataParams)) {\n      return {\n        color: borderColor || tooltipDataParams.color || tooltipDataParams.borderColor\n      };\n    }\n  };\n  TooltipView.prototype._updatePosition = function (tooltipModel, positionExpr, x,\n  // Mouse x\n  y,\n  // Mouse y\n  content, params, el) {\n    var viewWidth = this._api.getWidth();\n    var viewHeight = this._api.getHeight();\n    positionExpr = positionExpr || tooltipModel.get('position');\n    var contentSize = content.getSize();\n    var align = tooltipModel.get('align');\n    var vAlign = tooltipModel.get('verticalAlign');\n    var rect = el && el.getBoundingRect().clone();\n    el && rect.applyTransform(el.transform);\n    if (isFunction(positionExpr)) {\n      // Callback of position can be an array or a string specify the position\n      positionExpr = positionExpr([x, y], params, content.el, rect, {\n        viewSize: [viewWidth, viewHeight],\n        contentSize: contentSize.slice()\n      });\n    }\n    if (isArray(positionExpr)) {\n      x = parsePercent(positionExpr[0], viewWidth);\n      y = parsePercent(positionExpr[1], viewHeight);\n    } else if (isObject(positionExpr)) {\n      var boxLayoutPosition = positionExpr;\n      boxLayoutPosition.width = contentSize[0];\n      boxLayoutPosition.height = contentSize[1];\n      var layoutRect = getLayoutRect(boxLayoutPosition, {\n        width: viewWidth,\n        height: viewHeight\n      });\n      x = layoutRect.x;\n      y = layoutRect.y;\n      align = null;\n      // When positionExpr is left/top/right/bottom,\n      // align and verticalAlign will not work.\n      vAlign = null;\n    }\n    // Specify tooltip position by string 'top' 'bottom' 'left' 'right' around graphic element\n    else if (isString(positionExpr) && el) {\n      var pos = calcTooltipPosition(positionExpr, rect, contentSize, tooltipModel.get('borderWidth'));\n      x = pos[0];\n      y = pos[1];\n    } else {\n      var pos = refixTooltipPosition(x, y, content, viewWidth, viewHeight, align ? null : 20, vAlign ? null : 20);\n      x = pos[0];\n      y = pos[1];\n    }\n    align && (x -= isCenterAlign(align) ? contentSize[0] / 2 : align === 'right' ? contentSize[0] : 0);\n    vAlign && (y -= isCenterAlign(vAlign) ? contentSize[1] / 2 : vAlign === 'bottom' ? contentSize[1] : 0);\n    if (shouldTooltipConfine(tooltipModel)) {\n      var pos = confineTooltipPosition(x, y, content, viewWidth, viewHeight);\n      x = pos[0];\n      y = pos[1];\n    }\n    content.moveTo(x, y);\n  };\n  // FIXME\n  // Should we remove this but leave this to user?\n  TooltipView.prototype._updateContentNotChangedOnAxis = function (dataByCoordSys, cbParamsList) {\n    var lastCoordSys = this._lastDataByCoordSys;\n    var lastCbParamsList = this._cbParamsList;\n    var contentNotChanged = !!lastCoordSys && lastCoordSys.length === dataByCoordSys.length;\n    contentNotChanged && each(lastCoordSys, function (lastItemCoordSys, indexCoordSys) {\n      var lastDataByAxis = lastItemCoordSys.dataByAxis || [];\n      var thisItemCoordSys = dataByCoordSys[indexCoordSys] || {};\n      var thisDataByAxis = thisItemCoordSys.dataByAxis || [];\n      contentNotChanged = contentNotChanged && lastDataByAxis.length === thisDataByAxis.length;\n      contentNotChanged && each(lastDataByAxis, function (lastItem, indexAxis) {\n        var thisItem = thisDataByAxis[indexAxis] || {};\n        var lastIndices = lastItem.seriesDataIndices || [];\n        var newIndices = thisItem.seriesDataIndices || [];\n        contentNotChanged = contentNotChanged && lastItem.value === thisItem.value && lastItem.axisType === thisItem.axisType && lastItem.axisId === thisItem.axisId && lastIndices.length === newIndices.length;\n        contentNotChanged && each(lastIndices, function (lastIdxItem, j) {\n          var newIdxItem = newIndices[j];\n          contentNotChanged = contentNotChanged && lastIdxItem.seriesIndex === newIdxItem.seriesIndex && lastIdxItem.dataIndex === newIdxItem.dataIndex;\n        });\n        // check is cbParams data value changed\n        lastCbParamsList && each(lastItem.seriesDataIndices, function (idxItem) {\n          var seriesIdx = idxItem.seriesIndex;\n          var cbParams = cbParamsList[seriesIdx];\n          var lastCbParams = lastCbParamsList[seriesIdx];\n          if (cbParams && lastCbParams && lastCbParams.data !== cbParams.data) {\n            contentNotChanged = false;\n          }\n        });\n      });\n    });\n    this._lastDataByCoordSys = dataByCoordSys;\n    this._cbParamsList = cbParamsList;\n    return !!contentNotChanged;\n  };\n  TooltipView.prototype._hide = function (dispatchAction) {\n    // Do not directly hideLater here, because this behavior may be prevented\n    // in dispatchAction when showTip is dispatched.\n    // FIXME\n    // duplicated hideTip if manuallyHideTip is called from dispatchAction.\n    this._lastDataByCoordSys = null;\n    dispatchAction({\n      type: 'hideTip',\n      from: this.uid\n    });\n  };\n  TooltipView.prototype.dispose = function (ecModel, api) {\n    if (env.node || !api.getDom()) {\n      return;\n    }\n    clear(this, '_updatePosition');\n    this._tooltipContent.dispose();\n    globalListener.unregister('itemTooltip', api);\n  };\n  TooltipView.type = 'tooltip';\n  return TooltipView;\n}(ComponentView);\n/**\n * From top to bottom. (the last one should be globalTooltipModel);\n */\nfunction buildTooltipModel(modelCascade, globalTooltipModel, defaultTooltipOption) {\n  // Last is always tooltip model.\n  var ecModel = globalTooltipModel.ecModel;\n  var resultModel;\n  if (defaultTooltipOption) {\n    resultModel = new Model(defaultTooltipOption, ecModel, ecModel);\n    resultModel = new Model(globalTooltipModel.option, resultModel, ecModel);\n  } else {\n    resultModel = globalTooltipModel;\n  }\n  for (var i = modelCascade.length - 1; i >= 0; i--) {\n    var tooltipOpt = modelCascade[i];\n    if (tooltipOpt) {\n      if (tooltipOpt instanceof Model) {\n        tooltipOpt = tooltipOpt.get('tooltip', true);\n      }\n      // In each data item tooltip can be simply write:\n      // {\n      //  value: 10,\n      //  tooltip: 'Something you need to know'\n      // }\n      if (isString(tooltipOpt)) {\n        tooltipOpt = {\n          formatter: tooltipOpt\n        };\n      }\n      if (tooltipOpt) {\n        resultModel = new Model(tooltipOpt, resultModel, ecModel);\n      }\n    }\n  }\n  return resultModel;\n}\nfunction makeDispatchAction(payload, api) {\n  return payload.dispatchAction || bind(api.dispatchAction, api);\n}\nfunction refixTooltipPosition(x, y, content, viewWidth, viewHeight, gapH, gapV) {\n  var size = content.getSize();\n  var width = size[0];\n  var height = size[1];\n  if (gapH != null) {\n    // Add extra 2 pixels for this case:\n    // At present the \"values\" in default tooltip are using CSS `float: right`.\n    // When the right edge of the tooltip box is on the right side of the\n    // viewport, the `float` layout might push the \"values\" to the second line.\n    if (x + width + gapH + 2 > viewWidth) {\n      x -= width + gapH;\n    } else {\n      x += gapH;\n    }\n  }\n  if (gapV != null) {\n    if (y + height + gapV > viewHeight) {\n      y -= height + gapV;\n    } else {\n      y += gapV;\n    }\n  }\n  return [x, y];\n}\nfunction confineTooltipPosition(x, y, content, viewWidth, viewHeight) {\n  var size = content.getSize();\n  var width = size[0];\n  var height = size[1];\n  x = Math.min(x + width, viewWidth) - width;\n  y = Math.min(y + height, viewHeight) - height;\n  x = Math.max(x, 0);\n  y = Math.max(y, 0);\n  return [x, y];\n}\nfunction calcTooltipPosition(position, rect, contentSize, borderWidth) {\n  var domWidth = contentSize[0];\n  var domHeight = contentSize[1];\n  var offset = Math.ceil(Math.SQRT2 * borderWidth) + 8;\n  var x = 0;\n  var y = 0;\n  var rectWidth = rect.width;\n  var rectHeight = rect.height;\n  switch (position) {\n    case 'inside':\n      x = rect.x + rectWidth / 2 - domWidth / 2;\n      y = rect.y + rectHeight / 2 - domHeight / 2;\n      break;\n    case 'top':\n      x = rect.x + rectWidth / 2 - domWidth / 2;\n      y = rect.y - domHeight - offset;\n      break;\n    case 'bottom':\n      x = rect.x + rectWidth / 2 - domWidth / 2;\n      y = rect.y + rectHeight + offset;\n      break;\n    case 'left':\n      x = rect.x - domWidth - offset;\n      y = rect.y + rectHeight / 2 - domHeight / 2;\n      break;\n    case 'right':\n      x = rect.x + rectWidth + offset;\n      y = rect.y + rectHeight / 2 - domHeight / 2;\n  }\n  return [x, y];\n}\nfunction isCenterAlign(align) {\n  return align === 'center' || align === 'middle';\n}\n/**\n * Find target component by payload like:\n * ```js\n * { legendId: 'some_id', name: 'xxx' }\n * { toolboxIndex: 1, name: 'xxx' }\n * { geoName: 'some_name', name: 'xxx' }\n * ```\n * PENDING: at present only\n *\n * If not found, return null/undefined.\n */\nfunction findComponentReference(payload, ecModel, api) {\n  var queryOptionMap = preParseFinder(payload).queryOptionMap;\n  var componentMainType = queryOptionMap.keys()[0];\n  if (!componentMainType || componentMainType === 'series') {\n    return;\n  }\n  var queryResult = queryReferringComponents(ecModel, componentMainType, queryOptionMap.get(componentMainType), {\n    useDefault: false,\n    enableAll: false,\n    enableNone: false\n  });\n  var model = queryResult.models[0];\n  if (!model) {\n    return;\n  }\n  var view = api.getViewOfComponentModel(model);\n  var el;\n  view.group.traverse(function (subEl) {\n    var tooltipConfig = getECData(subEl).tooltipConfig;\n    if (tooltipConfig && tooltipConfig.name === payload.name) {\n      el = subEl;\n      return true; // stop\n    }\n  });\n  if (el) {\n    return {\n      componentMainType: componentMainType,\n      componentIndex: model.componentIndex,\n      el: el\n    };\n  }\n}\nexport default TooltipView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { install as installAxisPointer } from '../axisPointer/install.js';\nimport { use } from '../../extension.js';\nimport TooltipModel from './TooltipModel.js';\nimport TooltipView from './TooltipView.js';\nimport { noop } from 'zrender/lib/core/util.js';\nexport function install(registers) {\n  use(installAxisPointer);\n  registers.registerComponentModel(TooltipModel);\n  registers.registerComponentView(TooltipView);\n  /**\n   * @action\n   * @property {string} type\n   * @property {number} seriesIndex\n   * @property {number} dataIndex\n   * @property {number} [x]\n   * @property {number} [y]\n   */\n  registers.registerAction({\n    type: 'showTip',\n    event: 'showTip',\n    update: 'tooltip:manuallyShowTip'\n  }, noop);\n  registers.registerAction({\n    type: 'hideTip',\n    event: 'hideTip',\n    update: 'tooltip:manuallyHideTip'\n  }, noop);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as graphic from '../../util/graphic.js';\nimport { getECData } from '../../util/innerStore.js';\nimport { createTextStyle } from '../../label/labelStyle.js';\nimport { createBoxLayoutReference, getLayoutRect } from '../../util/layout.js';\nimport ComponentModel from '../../model/Component.js';\nimport ComponentView from '../../view/Component.js';\nimport { windowOpen } from '../../util/format.js';\nimport tokens from '../../visual/tokens.js';\nvar TitleModel = /** @class */function (_super) {\n  __extends(TitleModel, _super);\n  function TitleModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = TitleModel.type;\n    _this.layoutMode = {\n      type: 'box',\n      ignoreSize: true\n    };\n    return _this;\n  }\n  TitleModel.type = 'title';\n  TitleModel.defaultOption = {\n    // zlevel: 0,\n    z: 6,\n    show: true,\n    text: '',\n    target: 'blank',\n    subtext: '',\n    subtarget: 'blank',\n    left: 'center',\n    top: tokens.size.m,\n    backgroundColor: tokens.color.transparent,\n    borderColor: tokens.color.primary,\n    borderWidth: 0,\n    padding: 5,\n    itemGap: 10,\n    textStyle: {\n      fontSize: 18,\n      fontWeight: 'bold',\n      color: tokens.color.primary\n    },\n    subtextStyle: {\n      fontSize: 12,\n      color: tokens.color.quaternary\n    }\n  };\n  return TitleModel;\n}(ComponentModel);\n// View\nvar TitleView = /** @class */function (_super) {\n  __extends(TitleView, _super);\n  function TitleView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = TitleView.type;\n    return _this;\n  }\n  TitleView.prototype.render = function (titleModel, ecModel, api) {\n    this.group.removeAll();\n    if (!titleModel.get('show')) {\n      return;\n    }\n    var group = this.group;\n    var textStyleModel = titleModel.getModel('textStyle');\n    var subtextStyleModel = titleModel.getModel('subtextStyle');\n    var textAlign = titleModel.get('textAlign');\n    var textVerticalAlign = zrUtil.retrieve2(titleModel.get('textBaseline'), titleModel.get('textVerticalAlign'));\n    var textEl = new graphic.Text({\n      style: createTextStyle(textStyleModel, {\n        text: titleModel.get('text'),\n        fill: textStyleModel.getTextColor()\n      }, {\n        disableBox: true\n      }),\n      z2: 10\n    });\n    var textRect = textEl.getBoundingRect();\n    var subText = titleModel.get('subtext');\n    var subTextEl = new graphic.Text({\n      style: createTextStyle(subtextStyleModel, {\n        text: subText,\n        fill: subtextStyleModel.getTextColor(),\n        y: textRect.height + titleModel.get('itemGap'),\n        verticalAlign: 'top'\n      }, {\n        disableBox: true\n      }),\n      z2: 10\n    });\n    var link = titleModel.get('link');\n    var sublink = titleModel.get('sublink');\n    var triggerEvent = titleModel.get('triggerEvent', true);\n    textEl.silent = !link && !triggerEvent;\n    subTextEl.silent = !sublink && !triggerEvent;\n    if (link) {\n      textEl.on('click', function () {\n        windowOpen(link, '_' + titleModel.get('target'));\n      });\n    }\n    if (sublink) {\n      subTextEl.on('click', function () {\n        windowOpen(sublink, '_' + titleModel.get('subtarget'));\n      });\n    }\n    getECData(textEl).eventData = getECData(subTextEl).eventData = triggerEvent ? {\n      componentType: 'title',\n      componentIndex: titleModel.componentIndex\n    } : null;\n    group.add(textEl);\n    subText && group.add(subTextEl);\n    // If no subText, but add subTextEl, there will be an empty line.\n    var groupRect = group.getBoundingRect();\n    var layoutOption = titleModel.getBoxLayoutParams();\n    layoutOption.width = groupRect.width;\n    layoutOption.height = groupRect.height;\n    var layoutRef = createBoxLayoutReference(titleModel, api);\n    var layoutRect = getLayoutRect(layoutOption, layoutRef.refContainer, titleModel.get('padding'));\n    // Adjust text align based on position\n    if (!textAlign) {\n      // Align left if title is on the left. center and right is same\n      textAlign = titleModel.get('left') || titleModel.get('right');\n      // @ts-ignore\n      if (textAlign === 'middle') {\n        textAlign = 'center';\n      }\n      // Adjust layout by text align\n      if (textAlign === 'right') {\n        layoutRect.x += layoutRect.width;\n      } else if (textAlign === 'center') {\n        layoutRect.x += layoutRect.width / 2;\n      }\n    }\n    if (!textVerticalAlign) {\n      textVerticalAlign = titleModel.get('top') || titleModel.get('bottom');\n      // @ts-ignore\n      if (textVerticalAlign === 'center') {\n        textVerticalAlign = 'middle';\n      }\n      if (textVerticalAlign === 'bottom') {\n        layoutRect.y += layoutRect.height;\n      } else if (textVerticalAlign === 'middle') {\n        layoutRect.y += layoutRect.height / 2;\n      }\n      textVerticalAlign = textVerticalAlign || 'top';\n    }\n    group.x = layoutRect.x;\n    group.y = layoutRect.y;\n    group.markRedraw();\n    var alignStyle = {\n      align: textAlign,\n      verticalAlign: textVerticalAlign\n    };\n    textEl.setStyle(alignStyle);\n    subTextEl.setStyle(alignStyle);\n    // Render background\n    // Get groupRect again because textAlign has been changed\n    groupRect = group.getBoundingRect();\n    var padding = layoutRect.margin;\n    var style = titleModel.getItemStyle(['color', 'opacity']);\n    style.fill = titleModel.get('backgroundColor');\n    var rect = new graphic.Rect({\n      shape: {\n        x: groupRect.x - padding[3],\n        y: groupRect.y - padding[0],\n        width: groupRect.width + padding[1] + padding[3],\n        height: groupRect.height + padding[0] + padding[2],\n        r: titleModel.get('borderRadius')\n      },\n      style: style,\n      subPixelOptimize: true,\n      silent: true\n    });\n    group.add(rect);\n  };\n  TitleView.type = 'title';\n  return TitleView;\n}(ComponentView);\nexport function install(registers) {\n  registers.registerComponentModel(TitleModel);\n  registers.registerComponentView(TitleView);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport Model from '../../model/Model.js';\nimport { isNameSpecified } from '../../util/model.js';\nimport ComponentModel from '../../model/Component.js';\nimport tokens from '../../visual/tokens.js';\nvar getDefaultSelectorOptions = function (ecModel, type) {\n  if (type === 'all') {\n    return {\n      type: 'all',\n      title: ecModel.getLocaleModel().get(['legend', 'selector', 'all'])\n    };\n  } else if (type === 'inverse') {\n    return {\n      type: 'inverse',\n      title: ecModel.getLocaleModel().get(['legend', 'selector', 'inverse'])\n    };\n  }\n};\nvar LegendModel = /** @class */function (_super) {\n  __extends(LegendModel, _super);\n  function LegendModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = LegendModel.type;\n    _this.layoutMode = {\n      type: 'box',\n      // legend.width/height are maxWidth/maxHeight actually,\n      // whereas real width/height is calculated by its content.\n      // (Setting {left: 10, right: 10} does not make sense).\n      // So consider the case:\n      // `setOption({legend: {left: 10});`\n      // then `setOption({legend: {right: 10});`\n      // The previous `left` should be cleared by setting `ignoreSize`.\n      ignoreSize: true\n    };\n    return _this;\n  }\n  LegendModel.prototype.init = function (option, parentModel, ecModel) {\n    this.mergeDefaultAndTheme(option, ecModel);\n    option.selected = option.selected || {};\n    this._updateSelector(option);\n  };\n  LegendModel.prototype.mergeOption = function (option, ecModel) {\n    _super.prototype.mergeOption.call(this, option, ecModel);\n    this._updateSelector(option);\n  };\n  LegendModel.prototype._updateSelector = function (option) {\n    var selector = option.selector;\n    var ecModel = this.ecModel;\n    if (selector === true) {\n      selector = option.selector = ['all', 'inverse'];\n    }\n    if (zrUtil.isArray(selector)) {\n      zrUtil.each(selector, function (item, index) {\n        zrUtil.isString(item) && (item = {\n          type: item\n        });\n        selector[index] = zrUtil.merge(item, getDefaultSelectorOptions(ecModel, item.type));\n      });\n    }\n  };\n  LegendModel.prototype.optionUpdated = function () {\n    this._updateData(this.ecModel);\n    var legendData = this._data;\n    // If selectedMode is single, try to select one\n    if (legendData[0] && this.get('selectedMode') === 'single') {\n      var hasSelected = false;\n      // If has any selected in option.selected\n      for (var i = 0; i < legendData.length; i++) {\n        var name_1 = legendData[i].get('name');\n        if (this.isSelected(name_1)) {\n          // Force to unselect others\n          this.select(name_1);\n          hasSelected = true;\n          break;\n        }\n      }\n      // Try select the first if selectedMode is single\n      !hasSelected && this.select(legendData[0].get('name'));\n    }\n  };\n  LegendModel.prototype._updateData = function (ecModel) {\n    var potentialData = [];\n    var availableNames = [];\n    ecModel.eachRawSeries(function (seriesModel) {\n      var seriesName = seriesModel.name;\n      availableNames.push(seriesName);\n      var isPotential;\n      if (seriesModel.legendVisualProvider) {\n        var provider = seriesModel.legendVisualProvider;\n        var names = provider.getAllNames();\n        if (!ecModel.isSeriesFiltered(seriesModel)) {\n          availableNames = availableNames.concat(names);\n        }\n        if (names.length) {\n          potentialData = potentialData.concat(names);\n        } else {\n          isPotential = true;\n        }\n      } else {\n        isPotential = true;\n      }\n      if (isPotential && isNameSpecified(seriesModel)) {\n        potentialData.push(seriesModel.name);\n      }\n    });\n    /**\n     * @type {Array.<string>}\n     * @private\n     */\n    this._availableNames = availableNames;\n    // If legend.data is not specified in option, use availableNames as data,\n    // which is convenient for user preparing option.\n    var rawData = this.get('data') || potentialData;\n    var legendNameMap = zrUtil.createHashMap();\n    var legendData = zrUtil.map(rawData, function (dataItem) {\n      // Can be string or number\n      if (zrUtil.isString(dataItem) || zrUtil.isNumber(dataItem)) {\n        dataItem = {\n          name: dataItem\n        };\n      }\n      if (legendNameMap.get(dataItem.name)) {\n        // remove legend name duplicate\n        return null;\n      }\n      legendNameMap.set(dataItem.name, true);\n      return new Model(dataItem, this, this.ecModel);\n    }, this);\n    /**\n     * @type {Array.<module:echarts/model/Model>}\n     * @private\n     */\n    this._data = zrUtil.filter(legendData, function (item) {\n      return !!item;\n    });\n  };\n  LegendModel.prototype.getData = function () {\n    return this._data;\n  };\n  LegendModel.prototype.select = function (name) {\n    var selected = this.option.selected;\n    var selectedMode = this.get('selectedMode');\n    if (selectedMode === 'single') {\n      var data = this._data;\n      zrUtil.each(data, function (dataItem) {\n        selected[dataItem.get('name')] = false;\n      });\n    }\n    selected[name] = true;\n  };\n  LegendModel.prototype.unSelect = function (name) {\n    if (this.get('selectedMode') !== 'single') {\n      this.option.selected[name] = false;\n    }\n  };\n  LegendModel.prototype.toggleSelected = function (name) {\n    var selected = this.option.selected;\n    // Default is true\n    if (!selected.hasOwnProperty(name)) {\n      selected[name] = true;\n    }\n    this[selected[name] ? 'unSelect' : 'select'](name);\n  };\n  LegendModel.prototype.allSelect = function () {\n    var data = this._data;\n    var selected = this.option.selected;\n    zrUtil.each(data, function (dataItem) {\n      selected[dataItem.get('name', true)] = true;\n    });\n  };\n  LegendModel.prototype.inverseSelect = function () {\n    var data = this._data;\n    var selected = this.option.selected;\n    zrUtil.each(data, function (dataItem) {\n      var name = dataItem.get('name', true);\n      // Initially, default value is true\n      if (!selected.hasOwnProperty(name)) {\n        selected[name] = true;\n      }\n      selected[name] = !selected[name];\n    });\n  };\n  LegendModel.prototype.isSelected = function (name) {\n    var selected = this.option.selected;\n    return !(selected.hasOwnProperty(name) && !selected[name]) && zrUtil.indexOf(this._availableNames, name) >= 0;\n  };\n  LegendModel.prototype.getOrient = function () {\n    return this.get('orient') === 'vertical' ? {\n      index: 1,\n      name: 'vertical'\n    } : {\n      index: 0,\n      name: 'horizontal'\n    };\n  };\n  LegendModel.type = 'legend.plain';\n  LegendModel.dependencies = ['series'];\n  LegendModel.defaultOption = {\n    // zlevel: 0,\n    z: 4,\n    show: true,\n    orient: 'horizontal',\n    left: 'center',\n    // right: 'center',\n    // top: 0,\n    bottom: tokens.size.m,\n    align: 'auto',\n    backgroundColor: tokens.color.transparent,\n    borderColor: tokens.color.border,\n    borderRadius: 0,\n    borderWidth: 0,\n    padding: 5,\n    itemGap: 8,\n    itemWidth: 25,\n    itemHeight: 14,\n    symbolRotate: 'inherit',\n    symbolKeepAspect: true,\n    inactiveColor: tokens.color.disabled,\n    inactiveBorderColor: tokens.color.disabled,\n    inactiveBorderWidth: 'auto',\n    itemStyle: {\n      color: 'inherit',\n      opacity: 'inherit',\n      borderColor: 'inherit',\n      borderWidth: 'auto',\n      borderCap: 'inherit',\n      borderJoin: 'inherit',\n      borderDashOffset: 'inherit',\n      borderMiterLimit: 'inherit'\n    },\n    lineStyle: {\n      width: 'auto',\n      color: 'inherit',\n      inactiveColor: tokens.color.disabled,\n      inactiveWidth: 2,\n      opacity: 'inherit',\n      type: 'inherit',\n      cap: 'inherit',\n      join: 'inherit',\n      dashOffset: 'inherit',\n      miterLimit: 'inherit'\n    },\n    textStyle: {\n      color: tokens.color.secondary\n    },\n    selectedMode: true,\n    selector: false,\n    selectorLabel: {\n      show: true,\n      borderRadius: 10,\n      padding: [3, 5, 3, 5],\n      fontSize: 12,\n      fontFamily: 'sans-serif',\n      color: tokens.color.tertiary,\n      borderWidth: 1,\n      borderColor: tokens.color.border\n    },\n    emphasis: {\n      selectorLabel: {\n        show: true,\n        color: tokens.color.quaternary\n      }\n    },\n    selectorPosition: 'auto',\n    selectorItemGap: 7,\n    selectorButtonGap: 10,\n    tooltip: {\n      show: false\n    },\n    triggerEvent: false\n  };\n  return LegendModel;\n}(ComponentModel);\nexport default LegendModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { parse, stringify } from 'zrender/lib/tool/color.js';\nimport * as graphic from '../../util/graphic.js';\nimport { enableHoverEmphasis } from '../../util/states.js';\nimport { setLabelStyle, createTextStyle } from '../../label/labelStyle.js';\nimport { makeBackground } from '../helper/listComponent.js';\nimport * as layoutUtil from '../../util/layout.js';\nimport ComponentView from '../../view/Component.js';\nimport { createSymbol } from '../../util/symbol.js';\nimport { createOrUpdatePatternFromDecal } from '../../util/decal.js';\nimport { getECData } from '../../util/innerStore.js';\nimport tokens from '../../visual/tokens.js';\nvar curry = zrUtil.curry;\nvar each = zrUtil.each;\nvar Group = graphic.Group;\nvar LegendView = /** @class */function (_super) {\n  __extends(LegendView, _super);\n  function LegendView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = LegendView.type;\n    _this.newlineDisabled = false;\n    return _this;\n  }\n  LegendView.prototype.init = function () {\n    this.group.add(this._contentGroup = new Group());\n    this.group.add(this._selectorGroup = new Group());\n    this._isFirstRender = true;\n  };\n  /**\n   * @protected\n   */\n  LegendView.prototype.getContentGroup = function () {\n    return this._contentGroup;\n  };\n  /**\n   * @protected\n   */\n  LegendView.prototype.getSelectorGroup = function () {\n    return this._selectorGroup;\n  };\n  /**\n   * @override\n   */\n  LegendView.prototype.render = function (legendModel, ecModel, api) {\n    var isFirstRender = this._isFirstRender;\n    this._isFirstRender = false;\n    this.resetInner();\n    if (!legendModel.get('show', true)) {\n      return;\n    }\n    var itemAlign = legendModel.get('align');\n    var orient = legendModel.get('orient');\n    if (!itemAlign || itemAlign === 'auto') {\n      itemAlign = legendModel.get('left') === 'right' && orient === 'vertical' ? 'right' : 'left';\n    }\n    // selector has been normalized to an array in model\n    var selector = legendModel.get('selector', true);\n    var selectorPosition = legendModel.get('selectorPosition', true);\n    if (selector && (!selectorPosition || selectorPosition === 'auto')) {\n      selectorPosition = orient === 'horizontal' ? 'end' : 'start';\n    }\n    this.renderInner(itemAlign, legendModel, ecModel, api, selector, orient, selectorPosition);\n    // Perform layout.\n    var refContainer = layoutUtil.createBoxLayoutReference(legendModel, api).refContainer;\n    var positionInfo = legendModel.getBoxLayoutParams();\n    var padding = legendModel.get('padding');\n    var maxSize = layoutUtil.getLayoutRect(positionInfo, refContainer, padding);\n    var mainRect = this.layoutInner(legendModel, itemAlign, maxSize, isFirstRender, selector, selectorPosition);\n    // Place mainGroup, based on the calculated `mainRect`.\n    var layoutRect = layoutUtil.getLayoutRect(zrUtil.defaults({\n      width: mainRect.width,\n      height: mainRect.height\n    }, positionInfo), refContainer, padding);\n    this.group.x = layoutRect.x - mainRect.x;\n    this.group.y = layoutRect.y - mainRect.y;\n    this.group.markRedraw();\n    // Render background after group is layout.\n    this.group.add(this._backgroundEl = makeBackground(mainRect,\n    // FXIME: most itemStyle options does not work in background because inherit is not handled yet.\n    legendModel));\n  };\n  LegendView.prototype.resetInner = function () {\n    this.getContentGroup().removeAll();\n    this._backgroundEl && this.group.remove(this._backgroundEl);\n    this.getSelectorGroup().removeAll();\n  };\n  LegendView.prototype.renderInner = function (itemAlign, legendModel, ecModel, api, selector, orient, selectorPosition) {\n    var contentGroup = this.getContentGroup();\n    var legendDrawnMap = zrUtil.createHashMap();\n    var selectMode = legendModel.get('selectedMode');\n    var triggerEvent = legendModel.get('triggerEvent');\n    var excludeSeriesId = [];\n    ecModel.eachRawSeries(function (seriesModel) {\n      !seriesModel.get('legendHoverLink') && excludeSeriesId.push(seriesModel.id);\n    });\n    each(legendModel.getData(), function (legendItemModel, dataIndex) {\n      var _this = this;\n      var name = legendItemModel.get('name');\n      // Use empty string or \\n as a newline string\n      if (!this.newlineDisabled && (name === '' || name === '\\n')) {\n        var g = new Group();\n        // @ts-ignore\n        g.newline = true;\n        contentGroup.add(g);\n        return;\n      }\n      // Representitive series.\n      var seriesModel = ecModel.getSeriesByName(name)[0];\n      if (legendDrawnMap.get(name)) {\n        // Have been drawn\n        return;\n      }\n      // Legend to control series.\n      if (seriesModel) {\n        var data = seriesModel.getData();\n        var lineVisualStyle = data.getVisual('legendLineStyle') || {};\n        var legendIcon = data.getVisual('legendIcon');\n        /**\n         * `data.getVisual('style')` may be the color from the register\n         * in series. For example, for line series,\n         */\n        var style = data.getVisual('style');\n        var itemGroup = this._createItem(seriesModel, name, dataIndex, legendItemModel, legendModel, itemAlign, lineVisualStyle, style, legendIcon, selectMode, api);\n        itemGroup.on('click', curry(dispatchSelectAction, name, null, api, excludeSeriesId)).on('mouseover', curry(dispatchHighlightAction, seriesModel.name, null, api, excludeSeriesId)).on('mouseout', curry(dispatchDownplayAction, seriesModel.name, null, api, excludeSeriesId));\n        if (ecModel.ssr) {\n          itemGroup.eachChild(function (child) {\n            var ecData = getECData(child);\n            ecData.seriesIndex = seriesModel.seriesIndex;\n            ecData.dataIndex = dataIndex;\n            ecData.ssrType = 'legend';\n          });\n        }\n        if (triggerEvent) {\n          itemGroup.eachChild(function (child) {\n            _this.packEventData(child, legendModel, seriesModel, dataIndex, name);\n          });\n        }\n        legendDrawnMap.set(name, true);\n      } else {\n        // Legend to control data. In pie and funnel.\n        ecModel.eachRawSeries(function (seriesModel) {\n          var _this = this;\n          // In case multiple series has same data name\n          if (legendDrawnMap.get(name)) {\n            return;\n          }\n          if (seriesModel.legendVisualProvider) {\n            var provider = seriesModel.legendVisualProvider;\n            if (!provider.containName(name)) {\n              return;\n            }\n            var idx = provider.indexOfName(name);\n            var style = provider.getItemVisual(idx, 'style');\n            var legendIcon = provider.getItemVisual(idx, 'legendIcon');\n            var colorArr = parse(style.fill);\n            // Color may be set to transparent in visualMap when data is out of range.\n            // Do not show nothing.\n            if (colorArr && colorArr[3] === 0) {\n              colorArr[3] = 0.2;\n              // TODO color is set to 0, 0, 0, 0. Should show correct RGBA\n              style = zrUtil.extend(zrUtil.extend({}, style), {\n                fill: stringify(colorArr, 'rgba')\n              });\n            }\n            var itemGroup = this._createItem(seriesModel, name, dataIndex, legendItemModel, legendModel, itemAlign, {}, style, legendIcon, selectMode, api);\n            // FIXME: consider different series has items with the same name.\n            itemGroup.on('click', curry(dispatchSelectAction, null, name, api, excludeSeriesId))\n            // Should not specify the series name, consider legend controls\n            // more than one pie series.\n            .on('mouseover', curry(dispatchHighlightAction, null, name, api, excludeSeriesId)).on('mouseout', curry(dispatchDownplayAction, null, name, api, excludeSeriesId));\n            if (ecModel.ssr) {\n              itemGroup.eachChild(function (child) {\n                var ecData = getECData(child);\n                ecData.seriesIndex = seriesModel.seriesIndex;\n                ecData.dataIndex = dataIndex;\n                ecData.ssrType = 'legend';\n              });\n            }\n            if (triggerEvent) {\n              itemGroup.eachChild(function (child) {\n                _this.packEventData(child, legendModel, seriesModel, dataIndex, name);\n              });\n            }\n            legendDrawnMap.set(name, true);\n          }\n        }, this);\n      }\n      if (process.env.NODE_ENV !== 'production') {\n        if (!legendDrawnMap.get(name)) {\n          console.warn(name + ' series not exists. Legend data should be same with series name or data name.');\n        }\n      }\n    }, this);\n    if (selector) {\n      this._createSelector(selector, legendModel, api, orient, selectorPosition);\n    }\n  };\n  LegendView.prototype.packEventData = function (el, legendModel, seriesModel, dataIndex, name) {\n    var eventData = {\n      componentType: 'legend',\n      componentIndex: legendModel.componentIndex,\n      dataIndex: dataIndex,\n      value: name,\n      seriesIndex: seriesModel.seriesIndex\n    };\n    getECData(el).eventData = eventData;\n  };\n  ;\n  LegendView.prototype._createSelector = function (selector, legendModel, api, orient, selectorPosition) {\n    var selectorGroup = this.getSelectorGroup();\n    each(selector, function createSelectorButton(selectorItem) {\n      var type = selectorItem.type;\n      var labelText = new graphic.Text({\n        style: {\n          x: 0,\n          y: 0,\n          align: 'center',\n          verticalAlign: 'middle'\n        },\n        onclick: function () {\n          api.dispatchAction({\n            type: type === 'all' ? 'legendAllSelect' : 'legendInverseSelect',\n            legendId: legendModel.id\n          });\n        }\n      });\n      selectorGroup.add(labelText);\n      var labelModel = legendModel.getModel('selectorLabel');\n      var emphasisLabelModel = legendModel.getModel(['emphasis', 'selectorLabel']);\n      setLabelStyle(labelText, {\n        normal: labelModel,\n        emphasis: emphasisLabelModel\n      }, {\n        defaultText: selectorItem.title\n      });\n      enableHoverEmphasis(labelText);\n    });\n  };\n  LegendView.prototype._createItem = function (seriesModel, name, dataIndex, legendItemModel, legendModel, itemAlign, lineVisualStyle, itemVisualStyle, legendIcon, selectMode, api) {\n    var drawType = seriesModel.visualDrawType;\n    var itemWidth = legendModel.get('itemWidth');\n    var itemHeight = legendModel.get('itemHeight');\n    var isSelected = legendModel.isSelected(name);\n    var iconRotate = legendItemModel.get('symbolRotate');\n    var symbolKeepAspect = legendItemModel.get('symbolKeepAspect');\n    var legendIconType = legendItemModel.get('icon');\n    legendIcon = legendIconType || legendIcon || 'roundRect';\n    var style = getLegendStyle(legendIcon, legendItemModel, lineVisualStyle, itemVisualStyle, drawType, isSelected, api);\n    var itemGroup = new Group();\n    var textStyleModel = legendItemModel.getModel('textStyle');\n    if (zrUtil.isFunction(seriesModel.getLegendIcon) && (!legendIconType || legendIconType === 'inherit')) {\n      // Series has specific way to define legend icon\n      itemGroup.add(seriesModel.getLegendIcon({\n        itemWidth: itemWidth,\n        itemHeight: itemHeight,\n        icon: legendIcon,\n        iconRotate: iconRotate,\n        itemStyle: style.itemStyle,\n        lineStyle: style.lineStyle,\n        symbolKeepAspect: symbolKeepAspect\n      }));\n    } else {\n      // Use default legend icon policy for most series\n      var rotate = legendIconType === 'inherit' && seriesModel.getData().getVisual('symbol') ? iconRotate === 'inherit' ? seriesModel.getData().getVisual('symbolRotate') : iconRotate : 0; // No rotation for no icon\n      itemGroup.add(getDefaultLegendIcon({\n        itemWidth: itemWidth,\n        itemHeight: itemHeight,\n        icon: legendIcon,\n        iconRotate: rotate,\n        itemStyle: style.itemStyle,\n        lineStyle: style.lineStyle,\n        symbolKeepAspect: symbolKeepAspect\n      }));\n    }\n    var textX = itemAlign === 'left' ? itemWidth + 5 : -5;\n    var textAlign = itemAlign;\n    var formatter = legendModel.get('formatter');\n    var content = name;\n    if (zrUtil.isString(formatter) && formatter) {\n      content = formatter.replace('{name}', name != null ? name : '');\n    } else if (zrUtil.isFunction(formatter)) {\n      content = formatter(name);\n    }\n    var textColor = isSelected ? textStyleModel.getTextColor() : legendItemModel.get('inactiveColor');\n    itemGroup.add(new graphic.Text({\n      style: createTextStyle(textStyleModel, {\n        text: content,\n        x: textX,\n        y: itemHeight / 2,\n        fill: textColor,\n        align: textAlign,\n        verticalAlign: 'middle'\n      }, {\n        inheritColor: textColor\n      })\n    }));\n    // Add a invisible rect to increase the area of mouse hover\n    var hitRect = new graphic.Rect({\n      shape: itemGroup.getBoundingRect(),\n      style: {\n        // Cannot use 'invisible' because SVG SSR will miss the node\n        fill: 'transparent'\n      }\n    });\n    var tooltipModel = legendItemModel.getModel('tooltip');\n    if (tooltipModel.get('show')) {\n      graphic.setTooltipConfig({\n        el: hitRect,\n        componentModel: legendModel,\n        itemName: name,\n        itemTooltipOption: tooltipModel.option\n      });\n    }\n    itemGroup.add(hitRect);\n    itemGroup.eachChild(function (child) {\n      child.silent = true;\n    });\n    hitRect.silent = !selectMode;\n    this.getContentGroup().add(itemGroup);\n    enableHoverEmphasis(itemGroup);\n    // @ts-ignore\n    itemGroup.__legendDataIndex = dataIndex;\n    return itemGroup;\n  };\n  LegendView.prototype.layoutInner = function (legendModel, itemAlign, maxSize, isFirstRender, selector, selectorPosition) {\n    var contentGroup = this.getContentGroup();\n    var selectorGroup = this.getSelectorGroup();\n    // Place items in contentGroup.\n    layoutUtil.box(legendModel.get('orient'), contentGroup, legendModel.get('itemGap'), maxSize.width, maxSize.height);\n    var contentRect = contentGroup.getBoundingRect();\n    var contentPos = [-contentRect.x, -contentRect.y];\n    selectorGroup.markRedraw();\n    contentGroup.markRedraw();\n    if (selector) {\n      // Place buttons in selectorGroup\n      layoutUtil.box(\n      // Buttons in selectorGroup always layout horizontally\n      'horizontal', selectorGroup, legendModel.get('selectorItemGap', true));\n      var selectorRect = selectorGroup.getBoundingRect();\n      var selectorPos = [-selectorRect.x, -selectorRect.y];\n      var selectorButtonGap = legendModel.get('selectorButtonGap', true);\n      var orientIdx = legendModel.getOrient().index;\n      var wh = orientIdx === 0 ? 'width' : 'height';\n      var hw = orientIdx === 0 ? 'height' : 'width';\n      var yx = orientIdx === 0 ? 'y' : 'x';\n      if (selectorPosition === 'end') {\n        selectorPos[orientIdx] += contentRect[wh] + selectorButtonGap;\n      } else {\n        contentPos[orientIdx] += selectorRect[wh] + selectorButtonGap;\n      }\n      // Always align selector to content as 'middle'\n      selectorPos[1 - orientIdx] += contentRect[hw] / 2 - selectorRect[hw] / 2;\n      selectorGroup.x = selectorPos[0];\n      selectorGroup.y = selectorPos[1];\n      contentGroup.x = contentPos[0];\n      contentGroup.y = contentPos[1];\n      var mainRect = {\n        x: 0,\n        y: 0\n      };\n      mainRect[wh] = contentRect[wh] + selectorButtonGap + selectorRect[wh];\n      mainRect[hw] = Math.max(contentRect[hw], selectorRect[hw]);\n      mainRect[yx] = Math.min(0, selectorRect[yx] + selectorPos[1 - orientIdx]);\n      return mainRect;\n    } else {\n      contentGroup.x = contentPos[0];\n      contentGroup.y = contentPos[1];\n      return this.group.getBoundingRect();\n    }\n  };\n  /**\n   * @protected\n   */\n  LegendView.prototype.remove = function () {\n    this.getContentGroup().removeAll();\n    this._isFirstRender = true;\n  };\n  LegendView.type = 'legend.plain';\n  return LegendView;\n}(ComponentView);\nfunction getLegendStyle(iconType, legendItemModel, lineVisualStyle, itemVisualStyle, drawType, isSelected, api) {\n  /**\n   * Use series style if is inherit;\n   * elsewise, use legend style\n   */\n  function handleCommonProps(style, visualStyle) {\n    // If lineStyle.width is 'auto', it is set to be 2 if series has border\n    if (style.lineWidth === 'auto') {\n      style.lineWidth = visualStyle.lineWidth > 0 ? 2 : 0;\n    }\n    each(style, function (propVal, propName) {\n      style[propName] === 'inherit' && (style[propName] = visualStyle[propName]);\n    });\n  }\n  // itemStyle\n  var itemStyleModel = legendItemModel.getModel('itemStyle');\n  var itemStyle = itemStyleModel.getItemStyle();\n  var iconBrushType = iconType.lastIndexOf('empty', 0) === 0 ? 'fill' : 'stroke';\n  var decalStyle = itemStyleModel.getShallow('decal');\n  itemStyle.decal = !decalStyle || decalStyle === 'inherit' ? itemVisualStyle.decal : createOrUpdatePatternFromDecal(decalStyle, api);\n  if (itemStyle.fill === 'inherit') {\n    /**\n     * Series with visualDrawType as 'stroke' should have\n     * series stroke as legend fill\n     */\n    itemStyle.fill = itemVisualStyle[drawType];\n  }\n  if (itemStyle.stroke === 'inherit') {\n    /**\n     * icon type with \"emptyXXX\" should use fill color\n     * in visual style\n     */\n    itemStyle.stroke = itemVisualStyle[iconBrushType];\n  }\n  if (itemStyle.opacity === 'inherit') {\n    /**\n     * Use lineStyle.opacity if drawType is stroke\n     */\n    itemStyle.opacity = (drawType === 'fill' ? itemVisualStyle : lineVisualStyle).opacity;\n  }\n  handleCommonProps(itemStyle, itemVisualStyle);\n  // lineStyle\n  var legendLineModel = legendItemModel.getModel('lineStyle');\n  var lineStyle = legendLineModel.getLineStyle();\n  handleCommonProps(lineStyle, lineVisualStyle);\n  // Fix auto color to real color\n  itemStyle.fill === 'auto' && (itemStyle.fill = itemVisualStyle.fill);\n  itemStyle.stroke === 'auto' && (itemStyle.stroke = itemVisualStyle.fill);\n  lineStyle.stroke === 'auto' && (lineStyle.stroke = itemVisualStyle.fill);\n  if (!isSelected) {\n    var borderWidth = legendItemModel.get('inactiveBorderWidth');\n    /**\n     * Since stroke is set to be inactiveBorderColor, it may occur that\n     * there is no border in series but border in legend, so we need to\n     * use border only when series has border if is set to be auto\n     */\n    var visualHasBorder = itemStyle[iconBrushType];\n    itemStyle.lineWidth = borderWidth === 'auto' ? itemVisualStyle.lineWidth > 0 && visualHasBorder ? 2 : 0 : itemStyle.lineWidth;\n    itemStyle.fill = legendItemModel.get('inactiveColor');\n    itemStyle.stroke = legendItemModel.get('inactiveBorderColor');\n    lineStyle.stroke = legendLineModel.get('inactiveColor');\n    lineStyle.lineWidth = legendLineModel.get('inactiveWidth');\n  }\n  return {\n    itemStyle: itemStyle,\n    lineStyle: lineStyle\n  };\n}\nfunction getDefaultLegendIcon(opt) {\n  var symboType = opt.icon || 'roundRect';\n  var icon = createSymbol(symboType, 0, 0, opt.itemWidth, opt.itemHeight, opt.itemStyle.fill, opt.symbolKeepAspect);\n  icon.setStyle(opt.itemStyle);\n  icon.rotation = (opt.iconRotate || 0) * Math.PI / 180;\n  icon.setOrigin([opt.itemWidth / 2, opt.itemHeight / 2]);\n  if (symboType.indexOf('empty') > -1) {\n    icon.style.stroke = icon.style.fill;\n    icon.style.fill = tokens.color.neutral00;\n    icon.style.lineWidth = 2;\n  }\n  return icon;\n}\nfunction dispatchSelectAction(seriesName, dataName, api, excludeSeriesId) {\n  // downplay before unselect\n  dispatchDownplayAction(seriesName, dataName, api, excludeSeriesId);\n  api.dispatchAction({\n    type: 'legendToggleSelect',\n    name: seriesName != null ? seriesName : dataName\n  });\n  // highlight after select\n  // TODO highlight immediately may cause animation loss.\n  dispatchHighlightAction(seriesName, dataName, api, excludeSeriesId);\n}\nfunction isUseHoverLayer(api) {\n  var list = api.getZr().storage.getDisplayList();\n  var emphasisState;\n  var i = 0;\n  var len = list.length;\n  while (i < len && !(emphasisState = list[i].states.emphasis)) {\n    i++;\n  }\n  return emphasisState && emphasisState.hoverLayer;\n}\nfunction dispatchHighlightAction(seriesName, dataName, api, excludeSeriesId) {\n  // If element hover will move to a hoverLayer.\n  if (!isUseHoverLayer(api)) {\n    api.dispatchAction({\n      type: 'highlight',\n      seriesName: seriesName,\n      name: dataName,\n      excludeSeriesId: excludeSeriesId\n    });\n  }\n}\nfunction dispatchDownplayAction(seriesName, dataName, api, excludeSeriesId) {\n  // If element hover will move to a hoverLayer.\n  if (!isUseHoverLayer(api)) {\n    api.dispatchAction({\n      type: 'downplay',\n      seriesName: seriesName,\n      name: dataName,\n      excludeSeriesId: excludeSeriesId\n    });\n  }\n}\nexport default LegendView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nexport default function legendFilter(ecModel) {\n  var legendModels = ecModel.findComponents({\n    mainType: 'legend'\n  });\n  if (legendModels && legendModels.length) {\n    ecModel.filterSeries(function (series) {\n      // If in any legend component the status is not selected.\n      // Because in legend series is assumed selected when it is not in the legend data.\n      for (var i = 0; i < legendModels.length; i++) {\n        if (!legendModels[i].isSelected(series.name)) {\n          return false;\n        }\n      }\n      return true;\n    });\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { curry, each, hasOwn } from 'zrender/lib/core/util.js';\nfunction legendSelectActionHandler(methodName, payload, ecModel) {\n  var isAllSelect = methodName === 'allSelect' || methodName === 'inverseSelect';\n  var selectedMap = {};\n  var actionLegendIndices = [];\n  ecModel.eachComponent({\n    mainType: 'legend',\n    query: payload\n  }, function (legendModel) {\n    if (isAllSelect) {\n      legendModel[methodName]();\n    } else {\n      legendModel[methodName](payload.name);\n    }\n    makeSelectedMap(legendModel, selectedMap);\n    actionLegendIndices.push(legendModel.componentIndex);\n  });\n  var allSelectedMap = {};\n  // make selectedMap from all legend components\n  ecModel.eachComponent('legend', function (legendModel) {\n    each(selectedMap, function (isSelected, name) {\n      // Force other legend has same selected status\n      // Or the first is toggled to true and other are toggled to false\n      // In the case one legend has some item unSelected in option. And if other legend\n      // doesn't has the item, they will assume it is selected.\n      legendModel[isSelected ? 'select' : 'unSelect'](name);\n    });\n    makeSelectedMap(legendModel, allSelectedMap);\n  });\n  // Return the event explicitly\n  return isAllSelect ? {\n    selected: allSelectedMap,\n    // return legendIndex array to tell the developers which legends are allSelect / inverseSelect\n    legendIndex: actionLegendIndices\n  } : {\n    name: payload.name,\n    selected: allSelectedMap\n  };\n}\nfunction makeSelectedMap(legendModel, out) {\n  var selectedMap = out || {};\n  each(legendModel.getData(), function (model) {\n    var name = model.get('name');\n    // Wrap element\n    if (name === '\\n' || name === '') {\n      return;\n    }\n    var isItemSelected = legendModel.isSelected(name);\n    if (hasOwn(selectedMap, name)) {\n      // Unselected if any legend is unselected\n      selectedMap[name] = selectedMap[name] && isItemSelected;\n    } else {\n      selectedMap[name] = isItemSelected;\n    }\n  });\n  return selectedMap;\n}\nexport function installLegendAction(registers) {\n  /**\n   * @event legendToggleSelect\n   * @type {Object}\n   * @property {string} type 'legendToggleSelect'\n   * @property {string} [from]\n   * @property {string} name Series name or data item name\n   */\n  registers.registerAction('legendToggleSelect', 'legendselectchanged', curry(legendSelectActionHandler, 'toggleSelected'));\n  registers.registerAction('legendAllSelect', 'legendselectall', curry(legendSelectActionHandler, 'allSelect'));\n  registers.registerAction('legendInverseSelect', 'legendinverseselect', curry(legendSelectActionHandler, 'inverseSelect'));\n  /**\n   * @event legendSelect\n   * @type {Object}\n   * @property {string} type 'legendSelect'\n   * @property {string} name Series name or data item name\n   */\n  registers.registerAction('legendSelect', 'legendselected', curry(legendSelectActionHandler, 'select'));\n  /**\n   * @event legendUnSelect\n   * @type {Object}\n   * @property {string} type 'legendUnSelect'\n   * @property {string} name Series name or data item name\n   */\n  registers.registerAction('legendUnSelect', 'legendunselected', curry(legendSelectActionHandler, 'unSelect'));\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport LegendModel from './LegendModel.js';\nimport LegendView from './LegendView.js';\nimport legendFilter from './legendFilter.js';\nimport { installLegendAction } from './legendAction.js';\nexport function install(registers) {\n  registers.registerComponentModel(LegendModel);\n  registers.registerComponentView(LegendView);\n  registers.registerProcessor(registers.PRIORITY.PROCESSOR.SERIES_FILTER, legendFilter);\n  registers.registerSubTypeDefaulter('legend', function () {\n    return 'plain';\n  });\n  installLegendAction(registers);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport LegendModel from './LegendModel.js';\nimport { mergeLayoutParam, getLayoutParams } from '../../util/layout.js';\nimport { inheritDefaultOption } from '../../util/component.js';\nimport tokens from '../../visual/tokens.js';\nvar ScrollableLegendModel = /** @class */function (_super) {\n  __extends(ScrollableLegendModel, _super);\n  function ScrollableLegendModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = ScrollableLegendModel.type;\n    return _this;\n  }\n  /**\n   * @param {number} scrollDataIndex\n   */\n  ScrollableLegendModel.prototype.setScrollDataIndex = function (scrollDataIndex) {\n    this.option.scrollDataIndex = scrollDataIndex;\n  };\n  ScrollableLegendModel.prototype.init = function (option, parentModel, ecModel) {\n    var inputPositionParams = getLayoutParams(option);\n    _super.prototype.init.call(this, option, parentModel, ecModel);\n    mergeAndNormalizeLayoutParams(this, option, inputPositionParams);\n  };\n  /**\n   * @override\n   */\n  ScrollableLegendModel.prototype.mergeOption = function (option, ecModel) {\n    _super.prototype.mergeOption.call(this, option, ecModel);\n    mergeAndNormalizeLayoutParams(this, this.option, option);\n  };\n  ScrollableLegendModel.type = 'legend.scroll';\n  ScrollableLegendModel.defaultOption = inheritDefaultOption(LegendModel.defaultOption, {\n    scrollDataIndex: 0,\n    pageButtonItemGap: 5,\n    pageButtonGap: null,\n    pageButtonPosition: 'end',\n    pageFormatter: '{current}/{total}',\n    pageIcons: {\n      horizontal: ['M0,0L12,-10L12,10z', 'M0,0L-12,-10L-12,10z'],\n      vertical: ['M0,0L20,0L10,-20z', 'M0,0L20,0L10,20z']\n    },\n    pageIconColor: tokens.color.accent50,\n    pageIconInactiveColor: tokens.color.accent10,\n    pageIconSize: 15,\n    pageTextStyle: {\n      color: tokens.color.tertiary\n    },\n    animationDurationUpdate: 800\n  });\n  return ScrollableLegendModel;\n}(LegendModel);\n;\n// Do not `ignoreSize` to enable setting {left: 10, right: 10}.\nfunction mergeAndNormalizeLayoutParams(legendModel, target, raw) {\n  var orient = legendModel.getOrient();\n  var ignoreSize = [1, 1];\n  ignoreSize[orient.index] = 0;\n  mergeLayoutParam(target, raw, {\n    type: 'box',\n    ignoreSize: !!ignoreSize\n  });\n}\nexport default ScrollableLegendModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n/**\n * Separate legend and scrollable legend to reduce package size.\n */\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as graphic from '../../util/graphic.js';\nimport * as layoutUtil from '../../util/layout.js';\nimport LegendView from './LegendView.js';\nvar Group = graphic.Group;\nvar WH = ['width', 'height'];\nvar XY = ['x', 'y'];\nvar ScrollableLegendView = /** @class */function (_super) {\n  __extends(ScrollableLegendView, _super);\n  function ScrollableLegendView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = ScrollableLegendView.type;\n    _this.newlineDisabled = true;\n    _this._currentIndex = 0;\n    return _this;\n  }\n  ScrollableLegendView.prototype.init = function () {\n    _super.prototype.init.call(this);\n    this.group.add(this._containerGroup = new Group());\n    this._containerGroup.add(this.getContentGroup());\n    this.group.add(this._controllerGroup = new Group());\n  };\n  /**\n   * @override\n   */\n  ScrollableLegendView.prototype.resetInner = function () {\n    _super.prototype.resetInner.call(this);\n    this._controllerGroup.removeAll();\n    this._containerGroup.removeClipPath();\n    this._containerGroup.__rectSize = null;\n  };\n  /**\n   * @override\n   */\n  ScrollableLegendView.prototype.renderInner = function (itemAlign, legendModel, ecModel, api, selector, orient, selectorPosition) {\n    var self = this;\n    // Render content items.\n    _super.prototype.renderInner.call(this, itemAlign, legendModel, ecModel, api, selector, orient, selectorPosition);\n    var controllerGroup = this._controllerGroup;\n    // FIXME: support be 'auto' adapt to size number text length,\n    // e.g., '3/12345' should not overlap with the control arrow button.\n    var pageIconSize = legendModel.get('pageIconSize', true);\n    var pageIconSizeArr = zrUtil.isArray(pageIconSize) ? pageIconSize : [pageIconSize, pageIconSize];\n    createPageButton('pagePrev', 0);\n    var pageTextStyleModel = legendModel.getModel('pageTextStyle');\n    controllerGroup.add(new graphic.Text({\n      name: 'pageText',\n      style: {\n        // Placeholder to calculate a proper layout.\n        text: 'xx/xx',\n        fill: pageTextStyleModel.getTextColor(),\n        font: pageTextStyleModel.getFont(),\n        verticalAlign: 'middle',\n        align: 'center'\n      },\n      silent: true\n    }));\n    createPageButton('pageNext', 1);\n    function createPageButton(name, iconIdx) {\n      var pageDataIndexName = name + 'DataIndex';\n      var icon = graphic.createIcon(legendModel.get('pageIcons', true)[legendModel.getOrient().name][iconIdx], {\n        // Buttons will be created in each render, so we do not need\n        // to worry about avoiding using legendModel kept in scope.\n        onclick: zrUtil.bind(self._pageGo, self, pageDataIndexName, legendModel, api)\n      }, {\n        x: -pageIconSizeArr[0] / 2,\n        y: -pageIconSizeArr[1] / 2,\n        width: pageIconSizeArr[0],\n        height: pageIconSizeArr[1]\n      });\n      icon.name = name;\n      controllerGroup.add(icon);\n    }\n  };\n  /**\n   * @override\n   */\n  ScrollableLegendView.prototype.layoutInner = function (legendModel, itemAlign, maxSize, isFirstRender, selector, selectorPosition) {\n    var selectorGroup = this.getSelectorGroup();\n    var orientIdx = legendModel.getOrient().index;\n    var wh = WH[orientIdx];\n    var xy = XY[orientIdx];\n    var hw = WH[1 - orientIdx];\n    var yx = XY[1 - orientIdx];\n    selector && layoutUtil.box(\n    // Buttons in selectorGroup always layout horizontally\n    'horizontal', selectorGroup, legendModel.get('selectorItemGap', true));\n    var selectorButtonGap = legendModel.get('selectorButtonGap', true);\n    var selectorRect = selectorGroup.getBoundingRect();\n    var selectorPos = [-selectorRect.x, -selectorRect.y];\n    var processMaxSize = zrUtil.clone(maxSize);\n    selector && (processMaxSize[wh] = maxSize[wh] - selectorRect[wh] - selectorButtonGap);\n    var mainRect = this._layoutContentAndController(legendModel, isFirstRender, processMaxSize, orientIdx, wh, hw, yx, xy);\n    if (selector) {\n      if (selectorPosition === 'end') {\n        selectorPos[orientIdx] += mainRect[wh] + selectorButtonGap;\n      } else {\n        var offset = selectorRect[wh] + selectorButtonGap;\n        selectorPos[orientIdx] -= offset;\n        mainRect[xy] -= offset;\n      }\n      mainRect[wh] += selectorRect[wh] + selectorButtonGap;\n      selectorPos[1 - orientIdx] += mainRect[yx] + mainRect[hw] / 2 - selectorRect[hw] / 2;\n      mainRect[hw] = Math.max(mainRect[hw], selectorRect[hw]);\n      mainRect[yx] = Math.min(mainRect[yx], selectorRect[yx] + selectorPos[1 - orientIdx]);\n      selectorGroup.x = selectorPos[0];\n      selectorGroup.y = selectorPos[1];\n      selectorGroup.markRedraw();\n    }\n    return mainRect;\n  };\n  ScrollableLegendView.prototype._layoutContentAndController = function (legendModel, isFirstRender, maxSize, orientIdx, wh, hw, yx, xy) {\n    var contentGroup = this.getContentGroup();\n    var containerGroup = this._containerGroup;\n    var controllerGroup = this._controllerGroup;\n    // Place items in contentGroup.\n    layoutUtil.box(legendModel.get('orient'), contentGroup, legendModel.get('itemGap'), !orientIdx ? null : maxSize.width, orientIdx ? null : maxSize.height);\n    layoutUtil.box(\n    // Buttons in controller are layout always horizontally.\n    'horizontal', controllerGroup, legendModel.get('pageButtonItemGap', true));\n    var contentRect = contentGroup.getBoundingRect();\n    var controllerRect = controllerGroup.getBoundingRect();\n    var showController = this._showController = contentRect[wh] > maxSize[wh];\n    // In case that the inner elements of contentGroup layout do not based on [0, 0]\n    var contentPos = [-contentRect.x, -contentRect.y];\n    // Remain contentPos when scroll animation perfroming.\n    // If first rendering, `contentGroup.position` is [0, 0], which\n    // does not make sense and may cause unexepcted animation if adopted.\n    if (!isFirstRender) {\n      contentPos[orientIdx] = contentGroup[xy];\n    }\n    // Layout container group based on 0.\n    var containerPos = [0, 0];\n    var controllerPos = [-controllerRect.x, -controllerRect.y];\n    var pageButtonGap = zrUtil.retrieve2(legendModel.get('pageButtonGap', true), legendModel.get('itemGap', true));\n    // Place containerGroup and controllerGroup and contentGroup.\n    if (showController) {\n      var pageButtonPosition = legendModel.get('pageButtonPosition', true);\n      // controller is on the right / bottom.\n      if (pageButtonPosition === 'end') {\n        controllerPos[orientIdx] += maxSize[wh] - controllerRect[wh];\n      }\n      // controller is on the left / top.\n      else {\n        containerPos[orientIdx] += controllerRect[wh] + pageButtonGap;\n      }\n    }\n    // Always align controller to content as 'middle'.\n    controllerPos[1 - orientIdx] += contentRect[hw] / 2 - controllerRect[hw] / 2;\n    contentGroup.setPosition(contentPos);\n    containerGroup.setPosition(containerPos);\n    controllerGroup.setPosition(controllerPos);\n    // Calculate `mainRect` and set `clipPath`.\n    // mainRect should not be calculated by `this.group.getBoundingRect()`\n    // for sake of the overflow.\n    var mainRect = {\n      x: 0,\n      y: 0\n    };\n    // Consider content may be overflow (should be clipped).\n    mainRect[wh] = showController ? maxSize[wh] : contentRect[wh];\n    mainRect[hw] = Math.max(contentRect[hw], controllerRect[hw]);\n    // `containerRect[yx] + containerPos[1 - orientIdx]` is 0.\n    mainRect[yx] = Math.min(0, controllerRect[yx] + controllerPos[1 - orientIdx]);\n    containerGroup.__rectSize = maxSize[wh];\n    if (showController) {\n      var clipShape = {\n        x: 0,\n        y: 0\n      };\n      clipShape[wh] = Math.max(maxSize[wh] - controllerRect[wh] - pageButtonGap, 0);\n      clipShape[hw] = mainRect[hw];\n      containerGroup.setClipPath(new graphic.Rect({\n        shape: clipShape\n      }));\n      // Consider content may be larger than container, container rect\n      // can not be obtained from `containerGroup.getBoundingRect()`.\n      containerGroup.__rectSize = clipShape[wh];\n    } else {\n      // Do not remove or ignore controller. Keep them set as placeholders.\n      controllerGroup.eachChild(function (child) {\n        child.attr({\n          invisible: true,\n          silent: true\n        });\n      });\n    }\n    // Content translate animation.\n    var pageInfo = this._getPageInfo(legendModel);\n    pageInfo.pageIndex != null && graphic.updateProps(contentGroup, {\n      x: pageInfo.contentPosition[0],\n      y: pageInfo.contentPosition[1]\n    },\n    // When switch from \"show controller\" to \"not show controller\", view should be\n    // updated immediately without animation, otherwise causes weird effect.\n    showController ? legendModel : null);\n    this._updatePageInfoView(legendModel, pageInfo);\n    return mainRect;\n  };\n  ScrollableLegendView.prototype._pageGo = function (to, legendModel, api) {\n    var scrollDataIndex = this._getPageInfo(legendModel)[to];\n    scrollDataIndex != null && api.dispatchAction({\n      type: 'legendScroll',\n      scrollDataIndex: scrollDataIndex,\n      legendId: legendModel.id\n    });\n  };\n  ScrollableLegendView.prototype._updatePageInfoView = function (legendModel, pageInfo) {\n    var controllerGroup = this._controllerGroup;\n    zrUtil.each(['pagePrev', 'pageNext'], function (name) {\n      var key = name + 'DataIndex';\n      var canJump = pageInfo[key] != null;\n      var icon = controllerGroup.childOfName(name);\n      if (icon) {\n        icon.setStyle('fill', canJump ? legendModel.get('pageIconColor', true) : legendModel.get('pageIconInactiveColor', true));\n        icon.cursor = canJump ? 'pointer' : 'default';\n      }\n    });\n    var pageText = controllerGroup.childOfName('pageText');\n    var pageFormatter = legendModel.get('pageFormatter');\n    var pageIndex = pageInfo.pageIndex;\n    var current = pageIndex != null ? pageIndex + 1 : 0;\n    var total = pageInfo.pageCount;\n    pageText && pageFormatter && pageText.setStyle('text', zrUtil.isString(pageFormatter) ? pageFormatter.replace('{current}', current == null ? '' : current + '').replace('{total}', total == null ? '' : total + '') : pageFormatter({\n      current: current,\n      total: total\n    }));\n  };\n  /**\n   *  contentPosition: Array.<number>, null when data item not found.\n   *  pageIndex: number, null when data item not found.\n   *  pageCount: number, always be a number, can be 0.\n   *  pagePrevDataIndex: number, null when no previous page.\n   *  pageNextDataIndex: number, null when no next page.\n   * }\n   */\n  ScrollableLegendView.prototype._getPageInfo = function (legendModel) {\n    var scrollDataIndex = legendModel.get('scrollDataIndex', true);\n    var contentGroup = this.getContentGroup();\n    var containerRectSize = this._containerGroup.__rectSize;\n    var orientIdx = legendModel.getOrient().index;\n    var wh = WH[orientIdx];\n    var xy = XY[orientIdx];\n    var targetItemIndex = this._findTargetItemIndex(scrollDataIndex);\n    var children = contentGroup.children();\n    var targetItem = children[targetItemIndex];\n    var itemCount = children.length;\n    var pCount = !itemCount ? 0 : 1;\n    var result = {\n      contentPosition: [contentGroup.x, contentGroup.y],\n      pageCount: pCount,\n      pageIndex: pCount - 1,\n      pagePrevDataIndex: null,\n      pageNextDataIndex: null\n    };\n    if (!targetItem) {\n      return result;\n    }\n    var targetItemInfo = getItemInfo(targetItem);\n    result.contentPosition[orientIdx] = -targetItemInfo.s;\n    // Strategy:\n    // (1) Always align based on the left/top most item.\n    // (2) It is user-friendly that the last item shown in the\n    // current window is shown at the begining of next window.\n    // Otherwise if half of the last item is cut by the window,\n    // it will have no chance to display entirely.\n    // (3) Consider that item size probably be different, we\n    // have calculate pageIndex by size rather than item index,\n    // and we can not get page index directly by division.\n    // (4) The window is to narrow to contain more than\n    // one item, we should make sure that the page can be fliped.\n    for (var i = targetItemIndex + 1, winStartItemInfo = targetItemInfo, winEndItemInfo = targetItemInfo, currItemInfo = null; i <= itemCount; ++i) {\n      currItemInfo = getItemInfo(children[i]);\n      if (\n      // Half of the last item is out of the window.\n      !currItemInfo && winEndItemInfo.e > winStartItemInfo.s + containerRectSize\n      // If the current item does not intersect with the window, the new page\n      // can be started at the current item or the last item.\n      || currItemInfo && !intersect(currItemInfo, winStartItemInfo.s)) {\n        if (winEndItemInfo.i > winStartItemInfo.i) {\n          winStartItemInfo = winEndItemInfo;\n        } else {\n          // e.g., when page size is smaller than item size.\n          winStartItemInfo = currItemInfo;\n        }\n        if (winStartItemInfo) {\n          if (result.pageNextDataIndex == null) {\n            result.pageNextDataIndex = winStartItemInfo.i;\n          }\n          ++result.pageCount;\n        }\n      }\n      winEndItemInfo = currItemInfo;\n    }\n    for (var i = targetItemIndex - 1, winStartItemInfo = targetItemInfo, winEndItemInfo = targetItemInfo, currItemInfo = null; i >= -1; --i) {\n      currItemInfo = getItemInfo(children[i]);\n      if (\n      // If the the end item does not intersect with the window started\n      // from the current item, a page can be settled.\n      (!currItemInfo || !intersect(winEndItemInfo, currItemInfo.s)\n      // e.g., when page size is smaller than item size.\n      ) && winStartItemInfo.i < winEndItemInfo.i) {\n        winEndItemInfo = winStartItemInfo;\n        if (result.pagePrevDataIndex == null) {\n          result.pagePrevDataIndex = winStartItemInfo.i;\n        }\n        ++result.pageCount;\n        ++result.pageIndex;\n      }\n      winStartItemInfo = currItemInfo;\n    }\n    return result;\n    function getItemInfo(el) {\n      if (el) {\n        var itemRect = el.getBoundingRect();\n        var start = itemRect[xy] + el[xy];\n        return {\n          s: start,\n          e: start + itemRect[wh],\n          i: el.__legendDataIndex\n        };\n      }\n    }\n    function intersect(itemInfo, winStart) {\n      return itemInfo.e >= winStart && itemInfo.s <= winStart + containerRectSize;\n    }\n  };\n  ScrollableLegendView.prototype._findTargetItemIndex = function (targetDataIndex) {\n    if (!this._showController) {\n      return 0;\n    }\n    var index;\n    var contentGroup = this.getContentGroup();\n    var defaultIndex;\n    contentGroup.eachChild(function (child, idx) {\n      var legendDataIdx = child.__legendDataIndex;\n      // FIXME\n      // If the given targetDataIndex (from model) is illegal,\n      // we use defaultIndex. But the index on the legend model and\n      // action payload is still illegal. That case will not be\n      // changed until some scenario requires.\n      if (defaultIndex == null && legendDataIdx != null) {\n        defaultIndex = idx;\n      }\n      if (legendDataIdx === targetDataIndex) {\n        index = idx;\n      }\n    });\n    return index != null ? index : defaultIndex;\n  };\n  ScrollableLegendView.type = 'legend.scroll';\n  return ScrollableLegendView;\n}(LegendView);\nexport default ScrollableLegendView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nexport default function installScrollableLegendAction(registers) {\n  /**\n   * @event legendScroll\n   * @type {Object}\n   * @property {string} type 'legendScroll'\n   * @property {string} scrollDataIndex\n   */\n  registers.registerAction('legendScroll', 'legendscroll', function (payload, ecModel) {\n    var scrollDataIndex = payload.scrollDataIndex;\n    scrollDataIndex != null && ecModel.eachComponent({\n      mainType: 'legend',\n      subType: 'scroll',\n      query: payload\n    }, function (legendModel) {\n      legendModel.setScrollDataIndex(scrollDataIndex);\n    });\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { use } from '../../extension.js';\nimport { install as installLegendPlain } from './installLegendPlain.js';\nimport ScrollableLegendModel from './ScrollableLegendModel.js';\nimport ScrollableLegendView from './ScrollableLegendView.js';\nimport installScrollableLegendAction from './scrollableLegendAction.js';\nexport function install(registers) {\n  use(installLegendPlain);\n  registers.registerComponentModel(ScrollableLegendModel);\n  registers.registerComponentView(ScrollableLegendView);\n  installScrollableLegendAction(registers);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { use } from '../../extension.js';\nimport { install as installLegendPlain } from './installLegendPlain.js';\nimport { install as installLegendScroll } from './installLegendScroll.js';\nexport function install(registers) {\n  use(installLegendPlain);\n  use(installLegendScroll);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport CanvasPainter from 'zrender/lib/canvas/Painter.js';\nexport function install(registers) {\n  registers.registerPainter('canvas', CanvasPainter);\n}"],"names":["mathAbs","clamp","zrUtil.isString","round","len","isObject","each","map","_a","zrUtil.assert","zrUtil.inherits","zrUtil.extend","zrUtil.isFunction","zrUtil.each","i","zrUtil.indexOf","AreaStyleMixin","isSeries","dispatcher","updateProps","XY","WH","pathTool.extendFromString","layout","pathTool.createFromString","pathTool.mergePath","subPixelOptimizeUtil.subPixelOptimizeLine","subPixelOptimizeUtil.subPixelOptimizeRect","subPixelOptimizeUtil.subPixelOptimize","matrix.identity","matrix.mul","invert","matrix.invert","vector.applyTransform","clone","matrix.copy","matrix.create","el","Line","labelStatesTexts","normalizeCssArray","TextStyleMixin","LineStyleMixin","ItemStyleMixin","Model","zrUtil.merge","_impl","zrUtil.isObject","zrUtil.isArray","numberUtil.parseDate","zrUtil.normalizeCssArray","zrUtil.trim","timeFormat","zrUtil.isStringSafe","zrUtil.isNumber","color","CoordinateSystemManager","zrUtil.createHashMap","zrUtil.curry","formatUtil.normalizeCssArray","merge","copy","zrUtil.hasOwn","inner","ComponentModel","componentUtil.getUID","layout.fetchLayoutMode","layout.getLayoutParams","layout.mergeLayoutParam","defaultOption","layout.getBoxLayoutParams","componentUtil.enableSubTypeDefaulter","componentUtil.enableTopologicalTravel","zrUtil.map","val","PaletteMixin","GlobalModel","theme","optionPreprocessorFuncs","modelUtil.normalizeToArray","modelUtil.mappingToExists","modelUtil.setComponentTypeToKeyInfo","modelUtil.isComponentIdInternal","cmpts","cmpt","modelUtil.convertOptionIdName","ExtensionAPI","zrUtil.bind","OptionManager","zrUtil.defaults","modelUtil.TEXT_STYLE_OPTIONS","zrUtil.isTypedArray","compatStyle","seriesType","option","v1","SourceImpl","DefaultDataProvider","bind","DataFormatMixin","Task","SortOrderComparator","ExternalSource","errMsg","CtorInt32Array","DataStore","dim","SourceManager","datasetModel","subMarkupText","TooltipMarkupStyleCreator","isValueMultipleLine","modelUtil.makeInner","SeriesModel","modelUtil.defaultEmphasis","zrUtil.keys","_b","zrUtil.mixin","modelUtil.isNameSpecified","zrUtil.concatArray","ComponentView","Group","clazzUtil.enableClassExtend","clazzUtil.enableClassManagement","ChartView","modelUtil.queryDataIndex","data","PI","graphic.Group","graphic.Rect","graphic.Text","graphic.Arc","Scheduler","opt","create","ECEventProcessor","query","symbolPropName","graphic.Path","graphic.Line","graphic.Circle","innerColor","createSymbol","graphic.makeImage","graphic.makePath","pattern","keys","x","y","width","height","scale","decal","MessageCenter","ECharts","zrender.init","timsort","backwardCompat","mathMin","mathMax","graphic.Image","modelUtil.parseFinder","modelUtil.setAttribute","chart","view","backgroundColor","modelUtil.preParseFinder","graphic.isElementRemoved","graphic.retrieveZInfo","graphic.traverseUpdateZ","_super","modelUtil.getAttribute","registerMap","loadingDefault","darkTheme","DataDiffer","DimensionUserOuput","SeriesDimensionDefine","SeriesDataSchema","SeriesData","zrUtil.isArrayLike","zrUtil.slice","zrUtil.clone","resultItem","coordDim","resultDimIdx","CoordSysInfo","CoordinateSystem","ScaleCalculator","normalize","base","Scale","OrdinalMeta","OrdinalScale","scaleHelper.contain","numberUtil.round","IntervalScale","helper.contain","helper.getIntervalPrecision","numberUtil.getPrecision","formatUtil.addCommas","helper.intervalScaleNiceTicks","key","TimeScale","scaleHelper.getIntervalPrecision","numberUtil.nice","levelTicks","LogScale","numberUtil.quantity","ScaleRawExtentInfo","parsePercent","AxisModelCommonMixin","zrUtil.filter","textContain.getBoundingRect","tickValue","Axis","Symbol","graphic.updateProps","graphic.initProps","idx","graphic.removeElement","makeSeriesScope","SymbolDraw","SymbolClz","graphic.traverseElements","LegendVisualProvider","getRawData","GridModel","CartesianAxisModel","AxisModel","Cartesian","Cartesian2D","applyTransform","Axis2D","AxisBuilderSharedContext","matrixUtil.invert","matrixUtil.identity","matrixUtil.mul","matrixUtil.create","AxisBuilder","v2ApplyTransform","graphic.subPixelOptimizeLine","matrixUtil.rotate","graphic.setTooltipConfig","labelInner","zrUtil.retrieve","Grid","axis","isCategory","curry","AxisView","axisPointerModelHelper.fixValue","axisPointerModelHelper.getAxisPointerModel","CartesianAxisView","graphic.groupTransition","CartesianXAxisView","CartesianYAxisView","GridView","install","echarts.registerAction","RoamController","eventTool.isMiddleOrRightButtonOnMouseUpDown","interactionMutex.isTaken","eventTool.stop","View","vector.copy","symbolType","symbolSize","zrUtil.retrieve3","vec2.clone","vec2.normalize","vec2.scale","vec2.scaleAndAdd","vec2.create","vec2.sub","vec2.len","n","vec2.set","vec2.copy","edges","createViewCoordSys","bbox.fromPoints","graphic.BezierCurve","StraightLineShape","ECLinePath","symbolUtil.normalizeSymbolSize","symbolUtil.normalizeSymbolOffset","symbolUtil.createSymbol","vector.sub","vector.normalize","percent","tangent","LineDraw","LineGroup","curveTool.quadraticAt","vec2.distSquare","quadraticSubdivide","curveTool.quadraticSubdivide","GraphView","forceLayout","sub","Graph","GraphNode","GraphEdge","GraphSeriesModel","edgeVisual","simpleLayout","circularLayout","createView","BaseAxisPointer","axisPointerModelHelper.getAxisInfo","graphic.createIcon","throttleUtil.createOrUpdate","throttleUtil.clear","axisHelper.getAxisRawValue","matrix.rotate","matrix.translate","graphic.applyTransform","CartesianAxisPointer","viewHelper.buildElStyle","cartesianAxisHelper.layout","viewHelper.buildCartesianSingleLabelElOption","viewHelper.getTransformedPosition","viewHelper.makeLineShape","viewHelper.makeRectShape","AxisPointerModel","makeDispatchAction","AxisPointerView","globalListener.register","globalListener.unregister","valueAxis","modelHelper.makeKey","installSimple","installAxisPointer","TooltipModel","translate","makeStyleCoord","TooltipHTMLContent","TooltipRichContent","TooltipView","axisPointerViewHelper.getValueLabel","html","trigger","TitleModel","TitleView","zrUtil.retrieve2","LegendModel","LegendView","layoutUtil.createBoxLayoutReference","layoutUtil.getLayoutRect","seriesModel","_this","style","legendIcon","itemGroup","rotate","layoutUtil.box","ScrollableLegendModel","ScrollableLegendView","installLegendPlain","installLegendScroll"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170]}